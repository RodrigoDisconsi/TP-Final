"use strict";var y3=Object.defineProperty,v3=Object.defineProperties,w3=Object.getOwnPropertyDescriptors,xO=Object.getOwnPropertySymbols,b3=Object.prototype.hasOwnProperty,E3=Object.prototype.propertyIsEnumerable,MO=(nt,Ie,O)=>Ie in nt?y3(nt,Ie,{enumerable:!0,configurable:!0,writable:!0,value:O}):nt[Ie]=O,PO=(nt,Ie)=>{for(var O in Ie||(Ie={}))b3.call(Ie,O)&&MO(nt,O,Ie[O]);if(xO)for(var O of xO(Ie))E3.call(Ie,O)&&MO(nt,O,Ie[O]);return nt},kO=(nt,Ie)=>v3(nt,w3(Ie));(self.webpackChunkTP_Final=self.webpackChunkTP_Final||[]).push([[179],{2011:(nt,Ie,O)=>{O.d(Ie,{Dh:()=>ae,GT:()=>_e,cc:()=>Pe,hO:()=>ze,on:()=>G,pX:()=>se,xv:()=>fe});var u=O(5e3),ee=O(127),R=O(5813);nt=O.hmd(nt);const ue=["ngOnDestroy"],se=(De,We,Qe,Ae={})=>new Proxy(De,{get:(Ce,Te)=>Qe.runOutsideAngular(()=>{var He;if(De[Te])return(null===(He=null==Ae?void 0:Ae.spy)||void 0===He?void 0:He.get)&&Ae.spy.get(Te,De[Te]),De[Te];if(ue.indexOf(Te)>-1)return()=>{};const Be=We.toPromise().then(q=>{const Ee=q&&q[Te];return"function"==typeof Ee?Ee.bind(q):Ee&&Ee.then?Ee.then(Y=>Qe.run(()=>Y)):Qe.run(()=>Ee)});return new Proxy(()=>{},{get:(q,Ee)=>Be[Ee],apply:(q,Ee,Y)=>Be.then(oe=>{var te;const ye=oe&&oe(...Y);return(null===(te=null==Ae?void 0:Ae.spy)||void 0===te?void 0:te.apply)&&Ae.spy.apply(Te,Y,ye),ye})})})}),_e=(De,We)=>{We.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(Ae=>{Object.defineProperty(De.prototype,Ae,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,Ae))})})};class ce{constructor(We){return We}}const ae=new u.OlP("angularfire2.app.options"),fe=new u.OlP("angularfire2.app.name");function G(De,We,Qe){const Ce="object"==typeof Qe&&Qe||{};Ce.name=Ce.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const He=ee.Z.apps.filter(Be=>Be&&Be.name===Ce.name)[0]||We.runOutsideAngular(()=>ee.Z.initializeApp(De,Ce));try{JSON.stringify(De)!==JSON.stringify(He.options)&&H("error",`${He.name} Firebase App already initialized with different options${nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Be){}return new ce(He)}const H=(De,...We)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[De](...We)},ne={provide:ce,useFactory:G,deps:[ae,u.R0b,[new u.FiY,fe]]};let ze=(()=>{class De{constructor(Qe){ee.Z.registerVersion("angularfire",R.q4.full,"core"),ee.Z.registerVersion("angularfire",R.q4.full,"app-compat"),ee.Z.registerVersion("angular",u.q4F.full,Qe.toString())}static initializeApp(Qe,Ae){return{ngModule:De,providers:[{provide:ae,useValue:Qe},{provide:fe,useValue:Ae}]}}}return De.\u0275fac=function(Qe){return new(Qe||De)(u.LFG(u.Lbi))},De.\u0275mod=u.oAB({type:De}),De.\u0275inj=u.cJS({providers:[ne]}),De})();function Pe(De,We,Qe,Ae,Ce){const[,Te,He]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===De)||[];if(Te)return function Re(De,We){try{return De.toString()===We.toString()}catch(Qe){return De===We}}(Ce,He)||(ge("error",`${We} was already initialized on the ${Qe} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Ce,was:He})),Te;{const Be=Ae();return globalThis.\u0275AngularfireInstanceCache.push([De,Be,Ce]),Be}}const Ue=!!nt.hot,ge=(De,...We)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[De](...We)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(nt,Ie,O)=>{O.d(Ie,{q4:()=>qa,iC:()=>Jh,fc:()=>fr,HU:()=>Pd,vb:()=>Tg,JM:()=>ha});var u=O(5e3),ee=O(5867),R=O(5861),ue=O(9681),se=O(2090),_e=O(4859),ce=O(1877),ae=O(8766);const fe="@firebase/installations",G="0.5.9",ne=`w:${G}`,ze="FIS_v2",We=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Qe(I){return I instanceof se.ZR&&I.code.includes("request-failed")}function Ae({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Ce(I){return{token:I.token,requestStatus:2,expiresIn:oe(I.expiresIn),creationTime:Date.now()}}function Te(I,T){return He.apply(this,arguments)}function He(){return(He=(0,R.Z)(function*(I,T){const L=(yield T.json()).error;return We.create("request-failed",{requestName:I,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Be({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function q(I,{refreshToken:T}){const P=Be(I);return P.append("Authorization",function te(I){return`${ze} ${I}`}(T)),P}function Ee(I){return Y.apply(this,arguments)}function Y(){return(Y=(0,R.Z)(function*(I){const T=yield I();return T.status>=500&&T.status<600?I():T})).apply(this,arguments)}function oe(I){return Number(I.replace("s","000"))}function ye(I,T){return le.apply(this,arguments)}function le(){return(le=(0,R.Z)(function*({appConfig:I,heartbeatServiceProvider:T},{fid:P}){const L=Ae(I),Q=Be(I),ie=T.getImmediate({optional:!0});if(ie){const pt=yield ie.getHeartbeatsHeader();pt&&Q.append("x-firebase-client",pt)}const Xe={method:"POST",headers:Q,body:JSON.stringify({fid:P,authVersion:ze,appId:I.appId,sdkVersion:ne})},at=yield Ee(()=>fetch(L,Xe));if(at.ok){const pt=yield at.json();return{fid:pt.fid||P,registrationStatus:2,refreshToken:pt.refreshToken,authToken:Ce(pt.authToken)}}throw yield Te("Create Installation",at)})).apply(this,arguments)}function Ne(I){return new Promise(T=>{setTimeout(T,I)})}const Gt=/^[cdef][\w-]{21}$/;function Ye(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const P=function nn(I){return function ft(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Gt.test(P)?P:""}catch(I){return""}}function In(I){return`${I.appName}!${I.appId}`}const on=new Map;function Jt(I,T){const P=In(I);Ut(P,T),function us(I,T){const P=function yr(){return!li&&"BroadcastChannel"in self&&(li=new BroadcastChannel("[Firebase] FID Change"),li.onmessage=I=>{Ut(I.data.key,I.data.fid)}),li}();P&&P.postMessage({key:I,fid:T}),function Rr(){0===on.size&&li&&(li.close(),li=null)}()}(P,T)}function Ut(I,T){const P=on.get(I);if(P)for(const L of P)L(T)}let li=null;const ui="firebase-installations-store";let Si=null;function wt(){return Si||(Si=(0,ae.X3)("firebase-installations-database",1,{upgrade:(I,T)=>{0===T&&I.createObjectStore(ui)}})),Si}function ci(I,T){return vn.apply(this,arguments)}function vn(){return(vn=(0,R.Z)(function*(I,T){const P=In(I),Q=(yield wt()).transaction(ui,"readwrite"),ie=Q.objectStore(ui),me=yield ie.get(P);return yield ie.put(T,P),yield Q.done,(!me||me.fid!==T.fid)&&Jt(I,T.fid),T})).apply(this,arguments)}function Tn(I){return lo.apply(this,arguments)}function lo(){return(lo=(0,R.Z)(function*(I){const T=In(I),L=(yield wt()).transaction(ui,"readwrite");yield L.objectStore(ui).delete(T),yield L.done})).apply(this,arguments)}function di(I,T){return er.apply(this,arguments)}function er(){return(er=(0,R.Z)(function*(I,T){const P=In(I),Q=(yield wt()).transaction(ui,"readwrite"),ie=Q.objectStore(ui),me=yield ie.get(P),Xe=T(me);return void 0===Xe?yield ie.delete(P):yield ie.put(Xe,P),yield Q.done,Xe&&(!me||me.fid!==Xe.fid)&&Jt(I,Xe.fid),Xe})).apply(this,arguments)}function On(I){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,R.Z)(function*(I){let T;const P=yield di(I.appConfig,L=>{const Q=qo(L),ie=Zt(I,Q);return T=ie.registrationPromise,ie.installationEntry});return""===P.fid?{installationEntry:yield T}:{installationEntry:P,registrationPromise:T}})).apply(this,arguments)}function qo(I){return uo(I||{fid:Ye(),registrationStatus:0})}function Zt(I,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(We.create("app-offline"))};const P={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},L=function ct(I,T){return It.apply(this,arguments)}(I,P);return{installationEntry:P,registrationPromise:L}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:vr(I)}:{installationEntry:T}}function It(){return(It=(0,R.Z)(function*(I,T){try{const P=yield ye(I,T);return ci(I.appConfig,P)}catch(P){throw Qe(P)&&409===P.customData.serverCode?yield Tn(I.appConfig):yield ci(I.appConfig,{fid:T.fid,registrationStatus:0}),P}})).apply(this,arguments)}function vr(I){return hi.apply(this,arguments)}function hi(){return(hi=(0,R.Z)(function*(I){let T=yield Ht(I.appConfig);for(;1===T.registrationStatus;)yield Ne(100),T=yield Ht(I.appConfig);if(0===T.registrationStatus){const{installationEntry:P,registrationPromise:L}=yield On(I);return L||P}return T})).apply(this,arguments)}function Ht(I){return di(I,T=>{if(!T)throw We.create("installation-not-found");return uo(T)})}function uo(I){return function wr(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function br(I,T){return U.apply(this,arguments)}function U(){return(U=(0,R.Z)(function*({appConfig:I,heartbeatServiceProvider:T},P){const L=z(I,P),Q=q(I,P),ie=T.getImmediate({optional:!0});if(ie){const pt=yield ie.getHeartbeatsHeader();pt&&Q.append("x-firebase-client",pt)}const Xe={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:ne,appId:I.appId}})},at=yield Ee(()=>fetch(L,Xe));if(at.ok)return Ce(yield at.json());throw yield Te("Generate Auth Token",at)})).apply(this,arguments)}function z(I,{fid:T}){return`${Ae(I)}/${T}/authTokens:generate`}function W(I){return Se.apply(this,arguments)}function Se(){return(Se=(0,R.Z)(function*(I,T=!1){let P;const L=yield di(I.appConfig,ie=>{if(!St(ie))throw We.create("not-registered");const me=ie.authToken;if(!T&&fn(me))return ie;if(1===me.requestStatus)return P=Z(I,T),ie;{if(!navigator.onLine)throw We.create("app-offline");const Xe=qn(ie);return P=et(I,Xe),Xe}});return P?yield P:L.authToken})).apply(this,arguments)}function Z(I,T){return X.apply(this,arguments)}function X(){return(X=(0,R.Z)(function*(I,T){let P=yield ke(I.appConfig);for(;1===P.authToken.requestStatus;)yield Ne(100),P=yield ke(I.appConfig);const L=P.authToken;return 0===L.requestStatus?W(I,T):L})).apply(this,arguments)}function ke(I){return di(I,T=>{if(!St(T))throw We.create("not-registered");return function Nr(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function et(I,T){return _t.apply(this,arguments)}function _t(){return(_t=(0,R.Z)(function*(I,T){try{const P=yield br(I,T),L=Object.assign(Object.assign({},T),{authToken:P});return yield ci(I.appConfig,L),P}catch(P){if(!Qe(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const L=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield ci(I.appConfig,L)}else yield Tn(I.appConfig);throw P}})).apply(this,arguments)}function St(I){return void 0!==I&&2===I.registrationStatus}function fn(I){return 2===I.requestStatus&&!function Tt(I){const T=Date.now();return T<I.creationTime||I.creationTime+I.expiresIn<T+36e5}(I)}function qn(I){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:T})}function Aa(){return(Aa=(0,R.Z)(function*(I){const T=I,{installationEntry:P,registrationPromise:L}=yield On(T);return L?L.catch(console.error):W(T).catch(console.error),P.fid})).apply(this,arguments)}function xa(){return(xa=(0,R.Z)(function*(I,T=!1){const P=I;return yield Gn(P),(yield W(P,T)).token})).apply(this,arguments)}function Gn(I){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,R.Z)(function*(I){const{registrationPromise:T}=yield On(I);T&&(yield T)})).apply(this,arguments)}function Go(I){return We.create("missing-app-config-values",{valueName:I})}const zr="installations",ht=I=>{const T=I.getProvider("app").getImmediate(),P=function lr(I){if(!I||!I.options)throw Go("App Configuration");if(!I.name)throw Go("App Name");const T=["projectId","apiKey","appId"];for(const P of T)if(!I.options[P])throw Go(P);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(T);return{app:T,appConfig:P,heartbeatServiceProvider:(0,ue._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},rn=I=>{const T=I.getProvider("app").getImmediate(),P=(0,ue._getProvider)(T,zr).getImmediate();return{getId:()=>function bl(I){return Aa.apply(this,arguments)}(P),getToken:Q=>function El(I){return xa.apply(this,arguments)}(P,Q)}};(function Wr(){(0,ue._registerComponent)(new _e.wA(zr,ht,"PUBLIC")),(0,ue._registerComponent)(new _e.wA("installations-internal",rn,"PRIVATE"))})(),(0,ue.registerVersion)(fe,G),(0,ue.registerVersion)(fe,G,"esm2017");const ji="@firebase/remote-config",Dn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Gh{constructor(T,P,L,Q){this.client=T,this.storage=P,this.storageCache=L,this.logger=Q}isCachedDataFresh(T,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-P,Q=L<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${Q}.`),Q}fetch(T){var P=this;return(0,R.Z)(function*(){const[L,Q]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(Q&&P.isCachedDataFresh(T.cacheMaxAgeMillis,L))return Q;T.eTag=Q&&Q.eTag;const ie=yield P.client.fetch(T),me=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&me.push(P.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(me),ie})()}}function od(I=navigator){return I.languages&&I.languages[0]||I.language}class Er{constructor(T,P,L,Q,ie,me){this.firebaseInstallations=T,this.sdkVersion=P,this.namespace=L,this.projectId=Q,this.apiKey=ie,this.appId=me}fetch(T){var P=this;return(0,R.Z)(function*(){const[L,Q]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,Xe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},at={sdk_version:P.sdkVersion,app_instance_id:L,app_instance_id_token:Q,app_id:P.appId,language_code:od()},pt={method:"POST",headers:Xe,body:JSON.stringify(at)},zt=fetch(me,pt),xt=new Promise((Sr,Cs)=>{T.signal.addEventListener(()=>{const no=new Error("The operation was aborted.");no.name="AbortError",Cs(no)})});let Un;try{yield Promise.race([zt,xt]),Un=yield zt}catch(Sr){let Cs="fetch-client-network";throw"AbortError"===Sr.name&&(Cs="fetch-timeout"),Dn.create(Cs,{originalErrorMessage:Sr.message})}let ir=Un.status;const Es=Un.headers.get("ETag")||void 0;let es,Ri;if(200===Un.status){let Sr;try{Sr=yield Un.json()}catch(Cs){throw Dn.create("fetch-client-parse",{originalErrorMessage:Cs.message})}es=Sr.entries,Ri=Sr.state}if("INSTANCE_STATE_UNSPECIFIED"===Ri?ir=500:"NO_CHANGE"===Ri?ir=304:("NO_TEMPLATE"===Ri||"EMPTY_CONFIG"===Ri)&&(es={}),304!==ir&&200!==ir)throw Dn.create("fetch-status",{httpStatus:ir});return{status:ir,eTag:Es,config:es}})()}}class gg{constructor(T,P){this.client=T,this.storage=P}fetch(T){var P=this;return(0,R.Z)(function*(){const L=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(T,L)})()}attemptFetch(T,{throttleEndTimeMillis:P,backoffCount:L}){var Q=this;return(0,R.Z)(function*(){yield function Hs(I,T){return new Promise((P,L)=>{const Q=Math.max(T-Date.now(),0),ie=setTimeout(P,Q);I.addEventListener(()=>{clearTimeout(ie),L(Dn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,P);try{const ie=yield Q.client.fetch(T);return yield Q.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function ad(I){if(!(I instanceof se.ZR&&I.customData))return!1;const T=Number(I.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ie))throw ie;const me={throttleEndTimeMillis:Date.now()+(0,se.$s)(L),backoffCount:L+1};return yield Q.storage.setThrottleMetadata(me),Q.attemptFetch(T,me)}})()}}class ld{constructor(T,P,L,Q,ie){this.app=T,this._client=P,this._storageCache=L,this._storage=Q,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xu(I,T){const P=I.target.error||void 0;return Dn.create(T,{originalErrorMessage:P&&P.message})}const $s="app_namespace_store";class yg{constructor(T,P,L,Q=function _g(){return new Promise((I,T)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=L=>{T(xu(L,"storage-open"))},P.onsuccess=L=>{I(L.target.result)},P.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore($s,{keyPath:"compositeKey"})}}catch(P){T(Dn.create("storage-open",{originalErrorMessage:P}))}})}()){this.appId=T,this.appName=P,this.namespace=L,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var P=this;return(0,R.Z)(function*(){const L=yield P.openDbPromise;return new Promise((Q,ie)=>{const Xe=L.transaction([$s],"readonly").objectStore($s),at=P.createCompositeKey(T);try{const pt=Xe.get(at);pt.onerror=zt=>{ie(xu(zt,"storage-get"))},pt.onsuccess=zt=>{const xt=zt.target.result;Q(xt?xt.value:void 0)}}catch(pt){ie(Dn.create("storage-get",{originalErrorMessage:pt&&pt.message}))}})})()}set(T,P){var L=this;return(0,R.Z)(function*(){const Q=yield L.openDbPromise;return new Promise((ie,me)=>{const at=Q.transaction([$s],"readwrite").objectStore($s),pt=L.createCompositeKey(T);try{const zt=at.put({compositeKey:pt,value:P});zt.onerror=xt=>{me(xu(xt,"storage-set"))},zt.onsuccess=()=>{ie()}}catch(zt){me(Dn.create("storage-set",{originalErrorMessage:zt&&zt.message}))}})})()}delete(T){var P=this;return(0,R.Z)(function*(){const L=yield P.openDbPromise;return new Promise((Q,ie)=>{const Xe=L.transaction([$s],"readwrite").objectStore($s),at=P.createCompositeKey(T);try{const pt=Xe.delete(at);pt.onerror=zt=>{ie(xu(zt,"storage-delete"))},pt.onsuccess=()=>{Q()}}catch(pt){ie(Dn.create("storage-delete",{originalErrorMessage:pt&&pt.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class cd{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,R.Z)(function*(){const P=T.storage.getLastFetchStatus(),L=T.storage.getLastSuccessfulFetchTimestampMillis(),Q=T.storage.getActiveConfig(),ie=yield P;ie&&(T.lastFetchStatus=ie);const me=yield L;me&&(T.lastSuccessfulFetchTimestampMillis=me);const Xe=yield Q;Xe&&(T.activeConfig=Xe)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Sl(){return dd.apply(this,arguments)}function dd(){return(dd=(0,R.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(I){return!1}})).apply(this,arguments)}!function Zo(){(0,ue._registerComponent)(new _e.wA("remote-config",function I(T,{instanceIdentifier:P}){const L=T.getProvider("app").getImmediate(),Q=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Dn.create("registration-window");if(!(0,se.hl)())throw Dn.create("indexed-db-unavailable");const{projectId:ie,apiKey:me,appId:Xe}=L.options;if(!ie)throw Dn.create("registration-project-id");if(!me)throw Dn.create("registration-api-key");if(!Xe)throw Dn.create("registration-app-id");const at=new yg(Xe,L.name,P=P||"firebase"),pt=new cd(at),zt=new ce.Yd(ji);zt.logLevel=ce.in.ERROR;const xt=new Er(Q,ue.SDK_VERSION,P,ie,me,Xe),Un=new gg(xt,at),ir=new Gh(Un,at,pt,zt),Es=new ld(L,ir,pt,at,zt);return function an(I){const T=(0,se.m9)(I);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Es),Es},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(ji,"0.3.8"),(0,ue.registerVersion)(ji,"0.3.8","esm2017")}();const hd="/firebase-messaging-sw.js",Cr="/firebase-cloud-messaging-push-scope",fo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zo="google.c.a.c_id",fd="google.c.a.c_l",zh="google.c.a.ts",Wo="google.c.a.e";var Ko=(()=>{return(I=Ko||(Ko={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Ko;var I})();function Vr(I){const T=new Uint8Array(I);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pd(I){const P=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(P),Q=new Uint8Array(L.length);for(let ie=0;ie<L.length;++ie)Q[ie]=L.charCodeAt(ie);return Q}const Ur="fcm_token_details_db",fi="fcm_token_object_Store";function Mu(I){return gd.apply(this,arguments)}function gd(){return gd=(0,R.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(Ur))return null;let T=null;return(yield(0,ae.X3)(Ur,5,{upgrade:(L=(0,R.Z)(function*(Q,ie,me,Xe){var at;if(ie<2||!Q.objectStoreNames.contains(fi))return;const pt=Xe.objectStore(fi),zt=yield pt.index("fcmSenderId").get(I);if(yield pt.clear(),zt)if(2===ie){const xt=zt;if(!xt.auth||!xt.p256dh||!xt.endpoint)return;T={token:xt.fcmToken,createTime:null!==(at=xt.createTime)&&void 0!==at?at:Date.now(),subscriptionOptions:{auth:xt.auth,p256dh:xt.p256dh,endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:"string"==typeof xt.vapidKey?xt.vapidKey:Vr(xt.vapidKey)}}}else if(3===ie){const xt=zt;T={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:Vr(xt.auth),p256dh:Vr(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:Vr(xt.vapidKey)}}}else if(4===ie){const xt=zt;T={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:Vr(xt.auth),p256dh:Vr(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:Vr(xt.vapidKey)}}}}),function(ie,me,Xe,at){return L.apply(this,arguments)})})).close(),yield(0,ae.Lj)(Ur),yield(0,ae.Lj)("fcm_vapid_details_db"),yield(0,ae.Lj)("undefined"),Pu(T)?T:null;var L}),gd.apply(this,arguments)}function Pu(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:T}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const zi="firebase-messaging-store";let Wh=null;function ln(){return Wh||(Wh=(0,ae.X3)("firebase-messaging-database",1,{upgrade:(I,T)=>{0===T&&I.createObjectStore(zi)}})),Wh}function Na(I){return go.apply(this,arguments)}function go(){return(go=(0,R.Z)(function*(I){const T=ur(I),L=yield(yield ln()).transaction(zi).objectStore(zi).get(T);if(L)return L;{const Q=yield Mu(I.appConfig.senderId);if(Q)return yield Xt(I,Q),Q}})).apply(this,arguments)}function Xt(I,T){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,R.Z)(function*(I,T){const P=ur(I),Q=(yield ln()).transaction(zi,"readwrite");return yield Q.objectStore(zi).put(T,P),yield Q.done,T})).apply(this,arguments)}function Al(I){return qs.apply(this,arguments)}function qs(){return(qs=(0,R.Z)(function*(I){const T=ur(I),L=(yield ln()).transaction(zi,"readwrite");yield L.objectStore(zi).delete(T),yield L.done})).apply(this,arguments)}function ur({appConfig:I}){return I.appId}const yn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Wi(I,T){return cr.apply(this,arguments)}function cr(){return(cr=(0,R.Z)(function*(I,T){const P=yield Jo(I),L=Gs(T),Q={method:"POST",headers:P,body:JSON.stringify(L)};let ie;try{ie=yield(yield fetch(Ki(I.appConfig),Q)).json()}catch(me){throw yn.create("token-subscribe-failed",{errorInfo:me})}if(ie.error)throw yn.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw yn.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function mo(I,T){return hs.apply(this,arguments)}function hs(){return(hs=(0,R.Z)(function*(I,T){const P=yield Jo(I),L=Gs(T.subscriptionOptions),Q={method:"PATCH",headers:P,body:JSON.stringify(L)};let ie;try{ie=yield(yield fetch(`${Ki(I.appConfig)}/${T.token}`,Q)).json()}catch(me){throw yn.create("token-update-failed",{errorInfo:me})}if(ie.error)throw yn.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw yn.create("token-update-no-token");return ie.token})).apply(this,arguments)}function La(I,T){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,R.Z)(function*(I,T){const L={method:"DELETE",headers:yield Jo(I)};try{const ie=yield(yield fetch(`${Ki(I.appConfig)}/${T}`,L)).json();if(ie.error)throw yn.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(Q){throw yn.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function Ki({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Jo(I){return bt.apply(this,arguments)}function bt(){return(bt=(0,R.Z)(function*({appConfig:I,installations:T}){const P=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function Gs({p256dh:I,auth:T,endpoint:P,vapidKey:L}){const Q={web:{endpoint:P,auth:T,p256dh:I}};return L!==fo&&(Q.web.applicationPubKey=L),Q}const Ru=6048e5;function Va(I){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,R.Z)(function*(I){const T=yield _o(I.swRegistration,I.vapidKey),P={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:T.endpoint,auth:Vr(T.getKey("auth")),p256dh:Vr(T.getKey("p256dh"))},L=yield Na(I.firebaseDependencies);if(L){if(Pl(L.subscriptionOptions,P))return Date.now()>=L.createTime+Ru?Fu(I,{token:L.token,createTime:Date.now(),subscriptionOptions:P}):L.token;try{yield La(I.firebaseDependencies,L.token)}catch(Q){console.warn(Q)}return xe(I.firebaseDependencies,P)}return xe(I.firebaseDependencies,P)})).apply(this,arguments)}function xl(I){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,R.Z)(function*(I){const T=yield Na(I.firebaseDependencies);T&&(yield La(I.firebaseDependencies,T.token),yield Al(I.firebaseDependencies));const P=yield I.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()})).apply(this,arguments)}function Fu(I,T){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,R.Z)(function*(I,T){try{const P=yield mo(I.firebaseDependencies,T),L=Object.assign(Object.assign({},T),{token:P,createTime:Date.now()});return yield Xt(I.firebaseDependencies,L),P}catch(P){throw yield xl(I),P}})).apply(this,arguments)}function xe(I,T){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,R.Z)(function*(I,T){const L={token:yield Wi(I,T),createTime:Date.now(),subscriptionOptions:T};return yield Xt(I,L),L.token})).apply(this,arguments)}function _o(I,T){return _n.apply(this,arguments)}function _n(){return(_n=(0,R.Z)(function*(I,T){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pd(T)})})).apply(this,arguments)}function Pl(I,T){return T.vapidKey===I.vapidKey&&T.endpoint===I.endpoint&&T.auth===I.auth&&T.p256dh===I.p256dh}function yo(I){const T={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function pi(I,T){if(!T.notification)return;I.notification={};const P=T.notification.title;P&&(I.notification.title=P);const L=T.notification.body;L&&(I.notification.body=L);const Q=T.notification.image;Q&&(I.notification.image=Q)}(T,I),function Lu(I,T){!T.data||(I.data=T.data)}(T,I),function Vu(I,T){if(!T.fcmOptions)return;I.fcmOptions={};const P=T.fcmOptions.link;P&&(I.fcmOptions.link=P);const L=T.fcmOptions.analytics_label;L&&(I.fcmOptions.analyticsLabel=L)}(T,I),T}function Uu(I){return"object"==typeof I&&!!I&&zo in I}function md(I,T){const P=[];for(let L=0;L<I.length;L++)P.push(I.charAt(L)),L<T.length&&P.push(T.charAt(L));return P.join("")}function fs(I){return yn.create("missing-app-config-values",{valueName:I})}md("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),md("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ir{constructor(T,P,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function vg(I){if(!I||!I.options)throw fs("App Configuration Object");if(!I.name)throw fs("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:P}=I;for(const L of T)if(!P[L])throw fs(L);return{appName:I.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:Q,installations:P,analyticsProvider:L}}_delete(){return Promise.resolve()}}function gi(I){return kl.apply(this,arguments)}function kl(){return(kl=(0,R.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(hd,{scope:Cr}),I.swRegistration.update().catch(()=>{})}catch(T){throw yn.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function Zs(I,T){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,R.Z)(function*(I,T){if(!T&&!I.swRegistration&&(yield gi(I)),T||!I.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw yn.create("invalid-sw-registration");I.swRegistration=T}})).apply(this,arguments)}function Bu(I,T){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,R.Z)(function*(I,T){T?I.vapidKey=T:I.vapidKey||(I.vapidKey=fo)})).apply(this,arguments)}function ju(){return(ju=(0,R.Z)(function*(I,T){if(!navigator)throw yn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yn.create("permission-blocked");return yield Bu(I,null==T?void 0:T.vapidKey),yield Zs(I,null==T?void 0:T.serviceWorkerRegistration),Va(I)})).apply(this,arguments)}function ea(I,T,P){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,R.Z)(function*(I,T,P){const L=Fl(T);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:P[zo],message_name:P[fd],message_time:P[zh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Fl(I){switch(I){case Ko.NOTIFICATION_CLICKED:return"notification_open";case Ko.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function yd(){return(yd=(0,R.Z)(function*(I,T){const P=T.data;if(!P.isFirebaseMessaging)return;I.onMessageHandler&&P.messageType===Ko.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(yo(P)):I.onMessageHandler.next(yo(P)));const L=P.data;Uu(L)&&"1"===L[Wo]&&(yield ea(I,P.messageType,L))})).apply(this,arguments)}const Ll="@firebase/messaging",vd=I=>{const T=new Ir(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function _d(I,T){return yd.apply(this,arguments)}(T,P)),T},ta=I=>{const T=I.getProvider("messaging").getImmediate();return{getToken:L=>function Rl(I,T){return ju.apply(this,arguments)}(T,L)}};function Vl(){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,R.Z)(function*(){try{yield(0,se.eu)()}catch(I){return!1}return"undefined"!=typeof window&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wd(){(0,ue._registerComponent)(new _e.wA("messaging",vd,"PUBLIC")),(0,ue._registerComponent)(new _e.wA("messaging-internal",ta,"PRIVATE")),(0,ue.registerVersion)(Ll,"0.9.13"),(0,ue.registerVersion)(Ll,"0.9.13","esm2017")}();const Ed="analytics",bg="firebase_id",ps="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bo="https://www.googletagmanager.com/gtag/js",zn=new ce.Yd("@firebase/analytics");function Cd(I){return Promise.all(I.map(T=>T.catch(P=>P)))}function Eg(I,T){const P=document.createElement("script");P.src=`${bo}?l=${I}&id=${T}`,P.async=!0,document.head.appendChild(P)}function na(I,T,P,L,Q,ie){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,R.Z)(function*(I,T,P,L,Q,ie){const me=L[Q];try{if(me)yield T[me];else{const at=(yield Cd(P)).find(pt=>pt.measurementId===Q);at&&(yield T[at.appId])}}catch(Xe){zn.error(Xe)}I("config",Q,ie)})).apply(this,arguments)}function Cg(I,T,P,L,Q){return gs.apply(this,arguments)}function gs(){return(gs=(0,R.Z)(function*(I,T,P,L,Q){try{let ie=[];if(Q&&Q.send_to){let me=Q.send_to;Array.isArray(me)||(me=[me]);const Xe=yield Cd(P);for(const at of me){const pt=Xe.find(xt=>xt.measurementId===at),zt=pt&&T[pt.appId];if(!zt){ie=[];break}ie.push(zt)}}0===ie.length&&(ie=Object.values(T)),yield Promise.all(ie),I("event",L,Q||{})}catch(ie){zn.error(ie)}})).apply(this,arguments)}function un(){const I=window.document.getElementsByTagName("script");for(const T of Object.values(I))if(T.src&&T.src.includes(bo))return T;return null}const ut=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ja=new class Ln{constructor(T={},P=1e3){this.throttleMetadata=T,this.intervalMillis=P}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,P){this.throttleMetadata[T]=P}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Id(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function ra(I){return zs.apply(this,arguments)}function zs(){return(zs=(0,R.Z)(function*(I){var T;const{appId:P,apiKey:L}=I,Q={method:"GET",headers:Id(L)},ie=ps.replace("{app-id}",P),me=yield fetch(ie,Q);if(200!==me.status&&304!==me.status){let Xe="";try{const at=yield me.json();(null===(T=at.error)||void 0===T?void 0:T.message)&&(Xe=at.error.message)}catch(at){}throw ut.create("config-fetch-failed",{httpStatus:me.status,responseMessage:Xe})}return me.json()})).apply(this,arguments)}function An(I){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,R.Z)(function*(I,T=ja,P){const{appId:L,apiKey:Q,measurementId:ie}=I.options;if(!L)throw ut.create("no-app-id");if(!Q){if(ie)return{measurementId:ie,appId:L};throw ut.create("no-api-key")}const me=T.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new $u;return setTimeout((0,R.Z)(function*(){Xe.abort()}),void 0!==P?P:6e4),Yi({appId:L,apiKey:Q,measurementId:ie},me,Xe,T)})).apply(this,arguments)}function Yi(I,T,P){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,R.Z)(function*(I,{throttleEndTimeMillis:T,backoffCount:P},L,Q=ja){const{appId:ie,measurementId:me}=I;try{yield Td(L,T)}catch(Xe){if(me)return zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${me} provided in the "measurementId" field in the local Firebase config. [${Xe.message}]`),{appId:ie,measurementId:me};throw Xe}try{const Xe=yield ra(I);return Q.deleteThrottleMetadata(ie),Xe}catch(Xe){if(!Dd(Xe)){if(Q.deleteThrottleMetadata(ie),me)return zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${me} provided in the "measurementId" field in the local Firebase config. [${Xe.message}]`),{appId:ie,measurementId:me};throw Xe}const at=503===Number(Xe.customData.httpStatus)?(0,se.$s)(P,Q.intervalMillis,30):(0,se.$s)(P,Q.intervalMillis),pt={throttleEndTimeMillis:Date.now()+at,backoffCount:P+1};return Q.setThrottleMetadata(ie,pt),zn.debug(`Calling attemptFetch again in ${at} millis`),Yi(I,pt,L,Q)}})).apply(this,arguments)}function Td(I,T){return new Promise((P,L)=>{const Q=Math.max(T-Date.now(),0),ie=setTimeout(P,Q);I.addEventListener(()=>{clearTimeout(ie),L(ut.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Dd(I){if(!(I instanceof se.ZR&&I.customData))return!1;const T=Number(I.customData.httpStatus);return 429===T||500===T||503===T||504===T}class $u{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function qu(){return nr.apply(this,arguments)}function nr(){return(nr=(0,R.Z)(function*(){if(!(0,se.hl)())return zn.warn(ut.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(I){return zn.warn(ut.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function ia(){return(ia=(0,R.Z)(function*(I,T,P,L,Q,ie,me){var Xe;const at=An(I);at.then(ir=>{P[ir.measurementId]=ir.appId,I.options.measurementId&&ir.measurementId!==I.options.measurementId&&zn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${ir.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ir=>zn.error(ir)),T.push(at);const pt=qu().then(ir=>{if(ir)return L.getId()}),[zt,xt]=yield Promise.all([at,pt]);un()||Eg(ie,zt.measurementId),Q("js",new Date);const Un=null!==(Xe=null==me?void 0:me.config)&&void 0!==Xe?Xe:{};return Un.origin="firebase",Un.update=!0,null!=xt&&(Un[bg]=xt),Q("config",zt.measurementId,Un),zt.measurementId})).apply(this,arguments)}class Co{constructor(T){this.app=T}_delete(){return delete dr[this.app.options.appId],Promise.resolve()}}let dr={},Io=[];const To={};let oa,Qs,sa="dataLayer",aa=!1;function ms(I,T,P){!function Ha(){const I=[];if((0,se.ru)()&&I.push("This is a browser extension environment."),(0,se.zI)()||I.push("Cookies are not available."),I.length>0){const T=I.map((L,Q)=>`(${Q+1}) ${L}`).join(" "),P=ut.create("invalid-analytics-context",{errorInfo:T});zn.warn(P.message)}}();const L=I.options.appId;if(!L)throw ut.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw ut.create("no-api-key");zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=dr[L])throw ut.create("already-exists",{id:L});if(!aa){!function Eo(I){let T=[];Array.isArray(window[I])?T=window[I]:window[I]=T}(sa);const{wrappedGtag:ie,gtagCore:me}=function Ig(I,T,P,L,Q){let ie=function(...me){window[L].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(ie=window[Q]),window[Q]=function Bl(I,T,P,L){function ie(){return(ie=(0,R.Z)(function*(me,Xe,at){try{"event"===me?yield Cg(I,T,P,Xe,at):"config"===me?yield na(I,T,P,L,Xe,at):I("set",Xe)}catch(pt){zn.error(pt)}})).apply(this,arguments)}return function Q(me,Xe,at){return ie.apply(this,arguments)}}(ie,I,T,P),{gtagCore:ie,wrappedGtag:window[Q]}}(dr,Io,To,sa,"gtag");Qs=ie,oa=me,aa=!0}return dr[L]=function Ks(I,T,P,L,Q,ie,me){return ia.apply(this,arguments)}(I,Io,To,T,oa,sa,P),new Co(I)}function rr(){return(rr=(0,R.Z)(function*(I,T,P,L,Q){if(Q&&Q.global)I("event",P,L);else{const ie=yield T;I("event",P,Object.assign(Object.assign({},L),{send_to:ie}))}})).apply(this,arguments)}function Ji(){return jl.apply(this,arguments)}function jl(){return(jl=(0,R.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(I){return!1}})).apply(this,arguments)}const Qr="@firebase/analytics";!function Xs(){(0,ue._registerComponent)(new _e.wA(Ed,(T,{options:P})=>ms(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,ue._registerComponent)(new _e.wA("analytics-internal",function I(T){try{const P=T.getProvider(Ed).getImmediate();return{logEvent:(L,Q,ie)=>function la(I,T,P,L){I=(0,se.m9)(I),function Do(I,T,P,L,Q){return rr.apply(this,arguments)}(Qs,dr[I.app.options.appId],T,P,L).catch(Q=>zn.error(Q))}(P,L,Q,ie)}}catch(P){throw ut.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,ue.registerVersion)(Qr,"0.7.9"),(0,ue.registerVersion)(Qr,"0.7.9","esm2017")}();var Ad=O(4408),Wu=O(7565);const $a=new class Vn extends Wu.v{}(class ys extends Ad.o{constructor(T,P){super(T,P),this.scheduler=T,this.work=P}schedule(T,P=0){return P>0?super.schedule(T,P):(this.delay=P,this.state=T,this.scheduler.flush(this),this)}execute(T,P){return P>0||this.closed?super.execute(T,P):this._execute(T,P)}requestAsyncId(T,P,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(T,P,L):T.flush(this)}});var xd=O(4986),Qh=O(8505),Tr=O(5363),Br=O(9468);const qa=new u.GfV("7.3.0"),ua="__angularfire_symbol__analyticsIsSupportedValue",vs="__angularfire_symbol__analyticsIsSupported",eo="__angularfire_symbol__remoteConfigIsSupportedValue",ws="__angularfire_symbol__remoteConfigIsSupported",ca="__angularfire_symbol__messagingIsSupportedValue",Lt="__angularfire_symbol__messagingIsSupported";function ha(I,T,P){if(T){if(1===T.length)return T[0];const ie=T.filter(me=>me.app===P);if(1===ie.length)return ie[0]}return P.container.getProvider(I).getImmediate({optional:!0})}globalThis[vs]||(globalThis[vs]=Ji().then(I=>globalThis[ua]=I).catch(()=>globalThis[ua]=!1)),globalThis[Lt]||(globalThis[Lt]=Vl().then(I=>globalThis[ca]=I).catch(()=>globalThis[ca]=!1)),globalThis[ws]||(globalThis[ws]=Sl().then(I=>globalThis[eo]=I).catch(()=>globalThis[eo]=!1));const Tg=(I,T)=>{const P=T?[T]:(0,ee.C6)(),L=[];return P.forEach(Q=>{Q.container.getProvider(I).instances.forEach(me=>{L.includes(me)||L.push(me)})}),L};function bs(){}class Oi{constructor(T,P=$a){this.zone=T,this.delegate=P}now(){return this.delegate.now()}schedule(T,P,L){const Q=this.zone;return this.delegate.schedule(function(me){Q.runGuarded(()=>{T.apply(this,[me])})},P,L)}}class $l{constructor(T){this.zone=T,this.task=null}call(T,P){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bs,{},bs,bs)),P.pipe((0,Qh.b)({next:L,complete:L,error:L})).subscribe(T).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pd=(()=>{class I{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new Oi(Zone.current)),this.insideAngular=P.run(()=>new Oi(Zone.current,xd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(P){return new(P||I)(u.LFG(u.R0b))},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Xi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function fr(I){return I.pipe((0,Tr.Q)(Xi().outsideAngular))}function Jh(I){return Xi(),function to(I){return function(P){return(P=P.lift(new $l(I.ngZone))).pipe((0,Br.R)(I.outsideAngular),(0,Tr.Q)(I.insideAngular))}}(Xi())(I)}},2090:(nt,Ie,O)=>{O.d(Ie,{$s:()=>Ht,BH:()=>ze,G6:()=>Be,L:()=>ae,LL:()=>le,Mn:()=>Te,Sg:()=>Pe,UG:()=>ge,US:()=>_e,ZB:()=>H,ZR:()=>ye,b$:()=>Qe,d:()=>Ae,eu:()=>Ee,hl:()=>q,jU:()=>De,m9:()=>br,ne:()=>Si,pd:()=>Vs,r3:()=>Or,ru:()=>We,tV:()=>fe,uI:()=>Ue,vZ:()=>li,w1:()=>Ce,xO:()=>Rr,xb:()=>Ut,z$:()=>Re,zI:()=>Y,zd:()=>Bi});const ue=function(U){const z=[];let W=0;for(let Se=0;Se<U.length;Se++){let Z=U.charCodeAt(Se);Z<128?z[W++]=Z:Z<2048?(z[W++]=Z>>6|192,z[W++]=63&Z|128):55296==(64512&Z)&&Se+1<U.length&&56320==(64512&U.charCodeAt(Se+1))?(Z=65536+((1023&Z)<<10)+(1023&U.charCodeAt(++Se)),z[W++]=Z>>18|240,z[W++]=Z>>12&63|128,z[W++]=Z>>6&63|128,z[W++]=63&Z|128):(z[W++]=Z>>12|224,z[W++]=Z>>6&63|128,z[W++]=63&Z|128)}return z},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,z){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Se=[];for(let Z=0;Z<U.length;Z+=3){const X=U[Z],ke=Z+1<U.length,et=ke?U[Z+1]:0,_t=Z+2<U.length,St=_t?U[Z+2]:0;let qn=(15&et)<<2|St>>6,Nr=63&St;_t||(Nr=64,ke||(qn=64)),Se.push(W[X>>2],W[(3&X)<<4|et>>4],W[qn],W[Nr])}return Se.join("")},encodeString(U,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(U):this.encodeByteArray(ue(U),z)},decodeString(U,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(U):function(U){const z=[];let W=0,Se=0;for(;W<U.length;){const Z=U[W++];if(Z<128)z[Se++]=String.fromCharCode(Z);else if(Z>191&&Z<224){const X=U[W++];z[Se++]=String.fromCharCode((31&Z)<<6|63&X)}else if(Z>239&&Z<365){const _t=((7&Z)<<18|(63&U[W++])<<12|(63&U[W++])<<6|63&U[W++])-65536;z[Se++]=String.fromCharCode(55296+(_t>>10)),z[Se++]=String.fromCharCode(56320+(1023&_t))}else{const X=U[W++],ke=U[W++];z[Se++]=String.fromCharCode((15&Z)<<12|(63&X)<<6|63&ke)}}return z.join("")}(this.decodeStringToByteArray(U,z))},decodeStringToByteArray(U,z){this.init_();const W=z?this.charToByteMapWebSafe_:this.charToByteMap_,Se=[];for(let Z=0;Z<U.length;){const X=W[U.charAt(Z++)],et=Z<U.length?W[U.charAt(Z)]:0;++Z;const St=Z<U.length?W[U.charAt(Z)]:64;++Z;const Tt=Z<U.length?W[U.charAt(Z)]:64;if(++Z,null==X||null==et||null==St||null==Tt)throw Error();Se.push(X<<2|et>>4),64!==St&&(Se.push(et<<4&240|St>>2),64!==Tt&&Se.push(St<<6&192|Tt))}return Se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},ae=function(U){return function(U){const z=ue(U);return _e.encodeByteArray(z,!0)}(U).replace(/\./g,"")},fe=function(U){try{return _e.decodeString(U,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function H(U,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return z}for(const W in z)!z.hasOwnProperty(W)||!ne(W)||(U[W]=H(U[W],z[W]));return U}function ne(U){return"__proto__"!==U}class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,W)=>{this.resolve=z,this.reject=W})}wrapCallback(z){return(W,Se)=>{W?this.reject(W):this.resolve(Se),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(W):z(W,Se))}}}function Pe(U,z){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Se=z||"demo-project",Z=U.iat||0,X=U.sub||U.user_id;if(!X)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ke=Object.assign({iss:`https://securetoken.google.com/${Se}`,aud:Se,iat:Z,exp:Z+3600,auth_time:Z,sub:X,user_id:X,firebase:{sign_in_provider:"custom",identities:{}}},U);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(ke)),""].join(".")}function Re(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(U){return!1}}function De(){return"object"==typeof self&&self.self===self}function We(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return Re().indexOf("Electron/")>=0}function Ce(){const U=Re();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Te(){return Re().indexOf("MSAppHost/")>=0}function Be(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q(){return"object"==typeof indexedDB}function Ee(){return new Promise((U,z)=>{try{let W=!0;const Se="validate-browser-context-for-indexeddb-analytics-module",Z=self.indexedDB.open(Se);Z.onsuccess=()=>{Z.result.close(),W||self.indexedDB.deleteDatabase(Se),U(!0)},Z.onupgradeneeded=()=>{W=!1},Z.onerror=()=>{var X;z((null===(X=Z.error)||void 0===X?void 0:X.message)||"")}}catch(W){z(W)}})}function Y(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ye extends Error{constructor(z,W,Se){super(W),this.code=z,this.customData=Se,this.name="FirebaseError",Object.setPrototypeOf(this,ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,le.prototype.create)}}class le{constructor(z,W,Se){this.service=z,this.serviceName=W,this.errors=Se}create(z,...W){const Se=W[0]||{},Z=`${this.service}/${z}`,X=this.errors[z],ke=X?function Ne(U,z){return U.replace(ft,(W,Se)=>{const Z=z[Se];return null!=Z?String(Z):`<${Se}?>`})}(X,Se):"Error";return new ye(Z,`${this.serviceName}: ${ke} (${Z}).`,Se)}}const ft=/\{\$([^}]+)}/g;function Or(U,z){return Object.prototype.hasOwnProperty.call(U,z)}function Ut(U){for(const z in U)if(Object.prototype.hasOwnProperty.call(U,z))return!1;return!0}function li(U,z){if(U===z)return!0;const W=Object.keys(U),Se=Object.keys(z);for(const Z of W){if(!Se.includes(Z))return!1;const X=U[Z],ke=z[Z];if(yr(X)&&yr(ke)){if(!li(X,ke))return!1}else if(X!==ke)return!1}for(const Z of Se)if(!W.includes(Z))return!1;return!0}function yr(U){return null!==U&&"object"==typeof U}function Rr(U){const z=[];for(const[W,Se]of Object.entries(U))Array.isArray(Se)?Se.forEach(Z=>{z.push(encodeURIComponent(W)+"="+encodeURIComponent(Z))}):z.push(encodeURIComponent(W)+"="+encodeURIComponent(Se));return z.length?"&"+z.join("&"):""}function Bi(U){const z={};return U.replace(/^\?/,"").split("&").forEach(Se=>{if(Se){const[Z,X]=Se.split("=");z[decodeURIComponent(Z)]=decodeURIComponent(X)}}),z}function Vs(U){const z=U.indexOf("?");if(!z)return"";const W=U.indexOf("#",z);return U.substring(z,W>0?W:void 0)}function Si(U,z){const W=new wt(U,z);return W.subscribe.bind(W)}class wt{constructor(z,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{z(this)}).catch(Se=>{this.error(Se)})}next(z){this.forEachObserver(W=>{W.next(z)})}error(z){this.forEachObserver(W=>{W.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,W,Se){let Z;if(void 0===z&&void 0===W&&void 0===Se)throw new Error("Missing Observer.");Z=function vn(U,z){if("object"!=typeof U||null===U)return!1;for(const W of z)if(W in U&&"function"==typeof U[W])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:W,complete:Se},void 0===Z.next&&(Z.next=Tn),void 0===Z.error&&(Z.error=Tn),void 0===Z.complete&&(Z.complete=Tn);const X=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch(ke){}}),this.observers.push(Z),X}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,z)}sendOne(z,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{W(this.observers[z])}catch(Se){"undefined"!=typeof console&&console.error&&console.error(Se)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tn(){}function Ht(U,z=1e3,W=2){const Se=z*Math.pow(W,U),Z=Math.round(.5*Se*(Math.random()-.5)*2);return Math.min(144e5,Se+Z)}function br(U){return U&&U._delegate?U._delegate:U}},988:(nt,Ie,O)=>{var u=O(5e3);let ee=null;function R(){return ee}const ce=new u.OlP("DocumentToken");let ae=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function fe(){return(0,u.LFG)(H)}()},providedIn:"platform"}),n})();const G=new u.OlP("Location Initialized");let H=(()=>{class n extends ae{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){ne()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){ne()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ze(){return new H((0,u.LFG)(ce))}()},providedIn:"platform"}),n})();function ne(){return!!window.history.pushState}function Pe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Re(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ue(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function De(n){const e=(0,u.LFG)(ce).location;return new Qe((0,u.LFG)(ae),e&&e.origin||"")}()},providedIn:"root"}),n})();const We=new u.OlP("appBaseHref");let Qe=(()=>{class n extends ge{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Pe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ue(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const d=this.prepareExternalUrl(i+Ue(a));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,a){const d=this.prepareExternalUrl(i+Ue(a));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae),u.LFG(We,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n extends ge{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Pe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let d=this.prepareExternalUrl(i+Ue(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,a){let d=this.prepareExternalUrl(i+Ue(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ae),u.LFG(We,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ce=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Re(Be(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ue(r))}normalize(t){return n.stripTrailingSlash(function He(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ue,n.joinWithSlash=Pe,n.stripTrailingSlash=Re,n.\u0275fac=function(t){return new(t||n)(u.LFG(ge),u.LFG(ae))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Te(){return new Ce((0,u.LFG)(ge),(0,u.LFG)(ae))}()},providedIn:"root"}),n})();function Be(n){return n.replace(/\/index.html$/,"")}let Lr=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Bs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Bs(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,d),ho(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{ho(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ho(n,e){n.context.$implicit=e.item}let gn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new an,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Il("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Il("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class an{constructor(){this.$implicit=null,this.ngIf=null}}function Il(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let Dl=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,a]=t.split(".");null!=(r=null!=r&&a?`${r}${a}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),Gh=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[u.TTD]}),n})();class Hs{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class ad{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const gg=new ad,ds=new Hs;let Oa=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,u.QGY)(t))return gg;if((0,u.F4k)(t))return ds;throw function Er(n,e){return new u.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO,16))},n.\u0275pipe=u.Yjl({name:"async",type:n,pure:!1}),n})(),Wo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function Yo(n){return"server"===n}let Pu=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Qo((0,u.LFG)(ce),window)}),n})();class Qo{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function zi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const d=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ku(this.window.history)||ku(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ku(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class go extends class Na extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){ee||(ee=n)}(new go)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Fa(){return Xt=Xt||document.querySelector("base"),Xt?Xt.getAttribute("href"):null}();return null==t?null:function qs(n){Al=Al||document.createElement("a"),Al.setAttribute("href",n);const e=Al.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Xt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Pa(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Al,Xt=null;const ur=new u.OlP("TRANSITION_ID"),yn=[{provide:u.ip1,useFactory:function Ou(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[ur,ce,u.zs3],multi:!0}];class Wi{static init(){(0,u.VLi)(new Wi)}addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,d=!1;const f=function(_){d=d||_,a--,0==a&&r(d)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let cr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const mo=new u.OlP("EventManagerPlugins");let hs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const d=i[a];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class La{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Mi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ki=(()=>{class n extends Mi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const d=this._doc.createElement("style");d.textContent=a,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Jo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Jo))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Jo(n){R().remove(n)}const bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Gs=/%COMP%/g;function Xo(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Xo(n,i,t):(i=i.replace(Gs,n),t.push(i))}return t}function xe(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let _o=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new _n(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new pi(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new Lu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Xo(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(hs),u.LFG(Ki),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class _n{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(bt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=bt[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=bt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,xe(r)):this.eventManager.addEventListener(e,t,xe(r))}}class pi extends _n{constructor(e,t,r,i){super(e),this.component=r;const a=Xo(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Ml(n){return"_ngcontent-%COMP%".replace(Gs,n)}(i+"-"+r.id),this.hostAttr=function Fu(n){return"_nghost-%COMP%".replace(Gs,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Lu extends _n{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Xo(i.id,i.styles,[]);for(let d=0;d<a.length;d++){const f=document.createElement("style");f.textContent=a[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Vu=(()=>{class n extends La{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Uu=["alt","control","meta","shift"],vg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fs={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ir={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let gi=(()=>{class n extends La{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),d=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,a.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let d="";if(Uu.forEach(_=>{const E=r.indexOf(_);E>-1&&(r.splice(E,1),d+=_+".")}),d+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=d,f}static getEventFullKey(t){let r="",i=function kl(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&fs.hasOwnProperty(e)&&(e=fs[e]))}return vg[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Uu.forEach(a=>{a!=i&&Ir[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Rl=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function Zs(){go.makeCurrent(),Wi.init()},multi:!0},{provide:ce,useFactory:function Bu(){return(0,u.RDi)(document),document},deps:[]}]),ju=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Pi(){return new u.qLn},deps:[]},{provide:mo,useClass:Vu,multi:!0,deps:[ce,u.R0b,u.Lbi]},{provide:mo,useClass:gi,multi:!0,deps:[ce]},{provide:_o,useClass:_o,deps:[hs,Ki,u.AFp]},{provide:u.FYo,useExisting:_o},{provide:Mi,useExisting:Ki},{provide:Ki,useClass:Ki,deps:[ce]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:hs,useClass:hs,deps:[mo,u.R0b]},{provide:class ln{},useClass:cr,deps:[]}];let ea=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:ur,useExisting:u.AFp},yn]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:ju,imports:[Wo,u.hGG]}),n})();"undefined"!=typeof window&&window;var un=O(8996),Ba=O(7669);function ut(...n){const e=(0,Ba.yG)(n);return(0,un.D)(n,e)}var Sn=O(7579);class mi extends Sn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Ln=O(8306);const{isArray:ja}=Array,{getPrototypeOf:Id,prototype:ra,keys:zs}=Object;function An(n){if(1===n.length){const e=n[0];if(ja(e))return{args:e,keys:null};if(function Ws(n){return n&&"object"==typeof n&&Id(n)===ra}(e)){const t=zs(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Yi=O(4671),Pt=O(4004);const{isArray:Td}=Array;function $u(n){return(0,Pt.U)(e=>function Dd(n,e){return Td(e)?n(...e):n(e)}(n,e))}function qu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var nr=O(5403),Ks=O(9672);function dr(n,e,t){n?(0,Ks.f)(t,n,e):e()}var Io=O(576);function To(n,e){const t=(0,Io.m)(n)?n:()=>n,r=i=>i.error(t());return new Ln.y(e?i=>e.schedule(r,0,i):r)}const Ys=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var oa=O(8189);function aa(...n){return function Qs(){return(0,oa.J)(1)}()((0,un.D)(n,(0,Ba.yG)(n)))}var Gu=O(8421);function Ha(n){return new Ln.y(e=>{(0,Gu.Xf)(n()).subscribe(e)})}var ms=O(515),Do=O(727),rr=O(4482);function Zu(){return(0,rr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,nr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Js extends Ln.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,rr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Do.w0;const t=this.getSubject();e.add(this.source.subscribe((0,nr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Do.w0.EMPTY)}return e}refCount(){return Zu()(this)}}function xn(n,e){return(0,rr.e)((t,r)=>{let i=null,a=0,d=!1;const f=()=>d&&!i&&r.complete();t.subscribe((0,nr.x)(r,_=>{null==i||i.unsubscribe();let E=0;const D=a++;(0,Gu.Xf)(n(_,D)).subscribe(i=(0,nr.x)(r,x=>r.next(e?e(_,x,D,E++):x),()=>{i=null,f()}))},()=>{d=!0,f()}))})}var So=O(5698);function Ao(...n){const e=(0,Ba.yG)(n);return(0,rr.e)((t,r)=>{(e?aa(n,t,e):aa(n,t)).subscribe(r)})}function _s(n,e,t,r,i){return(a,d)=>{let f=t,_=e,E=0;a.subscribe((0,nr.x)(d,D=>{const x=E++;_=f?n(_,D,x):(f=!0,D),r&&d.next(_)},i&&(()=>{f&&d.next(_),d.complete()})))}}function Qi(n,e){return(0,rr.e)(_s(n,e,arguments.length>=2,!0))}function hr(n,e){return(0,rr.e)((t,r)=>{let i=0;t.subscribe((0,nr.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}function ki(n){return(0,rr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,nr.x)(t,void 0,void 0,d=>{a=(0,Gu.Xf)(n(d,ki(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}var Wn=O(5577);function Ji(n,e){return(0,Io.m)(e)?(0,Wn.z)(n,e,1):(0,Wn.z)(n,1)}function jl(n){return n<=0?()=>ms.E:(0,rr.e)((e,t)=>{let r=[];e.subscribe((0,nr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function zu(n=wn){return(0,rr.e)((e,t)=>{let r=!1;e.subscribe((0,nr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function wn(){return new Ys}function Yh(n){return(0,rr.e)((e,t)=>{let r=!1;e.subscribe((0,nr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function la(n,e){const t=arguments.length>=2;return r=>r.pipe(n?hr((i,a)=>n(i,a,r)):Yi.y,(0,So.q)(1),t?Yh(e):zu(()=>new Ys))}var Qr=O(8505);class Xs{constructor(e,t){this.id=e,this.url=t}}class Ad extends Xs{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ys extends Xs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wu extends Xs{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vn extends Xs{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $a extends Xs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hl extends Xs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xd extends Xs{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qh extends Xs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tr extends Xs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Br{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qa{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ua{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vs{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eo{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ws{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ca{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Lt="primary";class Md{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function da(n){return new Md(n)}const Dr="ngNavigationCancelingError";function Ga(n){const e=Error("NavigationCancelingError: "+n);return e[Dr]=!0,e}function Tg(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const d=r[a],f=n[a];if(d.startsWith(":"))i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Oi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!$l(n[i],e[i]))return!1;return!0}function $l(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Pd(n){return Array.prototype.concat.apply([],n)}function Xi(n){return n.length>0?n[n.length-1]:null}function mn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function fr(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,un.D)(Promise.resolve(n)):ut(n)}const Jh={exact:function I(n,e,t){if(!pt(n.segments,e.segments)||!Q(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!I(n.children[r],e.children[r],t))return!1;return!0},subset:P},to={exact:function Za(n,e){return Oi(n,e)},subset:function T(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>$l(n[t],e[t]))},ignored:()=>!0};function fa(n,e,t){return Jh[t.paths](n.root,e.root,t.matrixParams)&&to[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function P(n,e,t){return L(n,e,e.segments,t)}function L(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!pt(i,t)||e.hasChildren()||!Q(i,t,r))}if(n.segments.length===t.length){if(!pt(n.segments,t)||!Q(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!P(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(pt(n.segments,i)&&Q(n.segments,i,r)&&n.children[Lt])&&L(n.children[Lt],e,a,r)}}function Q(n,e,t){return e.every((r,i)=>to[t](n[i].parameters,r.parameters))}class ie{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=da(this.queryParams)),this._queryParamMap}toString(){return ir.serialize(this)}}class me{constructor(e,t){this.segments=e,this.children=t,this.parent=null,mn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Es(this)}}class Xe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=da(this.parameters)),this._parameterMap}toString(){return Qu(this)}}function pt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class xt{}class Un{parse(e){const t=new Dg(e);return new ie(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${es(e.root,!0)}`,r=function Xh(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Sr(t)}=${Sr(i)}`).join("&"):`${Sr(t)}=${Sr(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Cs(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ir=new Un;function Es(n){return n.segments.map(e=>Qu(e)).join("/")}function es(n,e){if(!n.hasChildren())return Es(n);if(e){const t=n.children[Lt]?es(n.children[Lt],!1):"",r=[];return mn(n.children,(i,a)=>{a!==Lt&&r.push(`${a}:${es(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function zt(n,e){let t=[];return mn(n.children,(r,i)=>{i===Lt&&(t=t.concat(e(r,i)))}),mn(n.children,(r,i)=>{i!==Lt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Lt?[es(n.children[Lt],!1)]:[`${i}:${es(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Lt]?`${Es(n)}/${t[0]}`:`${Es(n)}/(${t.join("//")})`}}function Ri(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sr(n){return Ri(n).replace(/%3B/gi,";")}function no(n){return Ri(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yu(n){return decodeURIComponent(n)}function Od(n){return Yu(n.replace(/\+/g,"%20"))}function Qu(n){return`${no(n.path)}${function Rd(n){return Object.keys(n).map(e=>`;${no(e)}=${no(n[e])}`).join("")}(n.parameters)}`}const ef=/^[^\/()?;=#]+/;function Nd(n){const e=n.match(ef);return e?e[0]:""}const ql=/^[^=?&#]+/,tf=/^[^&#]+/;class Dg{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Lt]=new me(e,t)),r}parseSegment(){const e=Nd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Xe(Yu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Nd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Nd(this.remaining);i&&(r=i,this.capture(r))}e[Yu(t)]=Yu(r)}parseQueryParam(e){const t=function Ju(n){const e=n.match(ql);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function Ww(n){const e=n.match(tf);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=Od(t),a=Od(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Nd(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Lt);const d=this.parseChildren();t[a]=1===Object.keys(d).length?d[Lt]:new me([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class nf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Sg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Sg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Gl(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Gl(e,this._root).map(t=>t.value)}}function Sg(n,e){if(n===e.value)return e;for(const t of e.children){const r=Sg(n,t);if(r)return r}return null}function Gl(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Gl(n,t);if(r.length)return r.unshift(e),r}return[]}class xo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Zl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Xu extends nf{constructor(e,t){super(e),this.snapshot=t,Vd(this,e)}toString(){return this.snapshot.toString()}}function Fd(n,e){const t=function zl(n,e){const d=new Mo([],{},{},"",{},Lt,e,null,n.root,-1,{});return new Ld("",new xo(d,[]))}(n,e),r=new mi([new Xe("",{})]),i=new mi({}),a=new mi({}),d=new mi({}),f=new mi(""),_=new Wl(r,i,d,f,a,Lt,e,t.root);return _.snapshot=t.root,new Xu(new xo(_,[]),t)}class Wl{constructor(e,t,r,i,a,d,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.U)(e=>da(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.U)(e=>da(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ag(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Kw(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Mo{constructor(e,t,r,i,a,d,f,_,E,D,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=f,this.routeConfig=_,this._urlSegment=E,this._lastPathIndex=D,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=da(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=da(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ld extends nf{constructor(e,t){super(t),this.url=e,Vd(this,t)}toString(){return rf(this._root)}}function Vd(n,e){e.value._routerState=n,e.children.forEach(t=>Vd(n,t))}function rf(n){const e=n.children.length>0?` { ${n.children.map(rf).join(", ")} } `:"";return`${n.value}${e}`}function Ud(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Oi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Oi(e.params,t.params)||n.params.next(t.params),function bs(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Oi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Oi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Bd(n,e){const t=Oi(n.params,e.params)&&function at(n,e){return pt(n,e)&&n.every((t,r)=>Oi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Bd(n.parent,e.parent))}function ec(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function _y(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ec(n,r,i);return ec(n,r)})}(n,e,t);return new xo(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const d=a.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(f=>ec(n,f)),d}}const r=function yy(n){return new Wl(new mi(n.url),new mi(n.params),new mi(n.queryParams),new mi(n.fragment),new mi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>ec(n,a));return new xo(r,i)}}function Ni(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Po(n){return"object"==typeof n&&null!=n&&n.outlets}function tc(n,e,t,r,i){let a={};if(r&&mn(r,(f,_)=>{a[_]=Array.isArray(f)?f.map(E=>`${E}`):`${f}`}),n===e)return new ie(t,a,i);const d=wy(n,e,t);return new ie(d,a,i)}function wy(n,e,t){const r={};return mn(n.children,(i,a)=>{r[a]=i===e?t:wy(i,e,t)}),new me(n.segments,r)}class Mg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ni(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Po);if(i&&i!==Xi(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jd{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function kg(n,e,t){if(n||(n=new me([],{})),0===n.segments.length&&n.hasChildren())return Hd(n,e,t);const r=function by(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const d=n.segments[i],f=t[r];if(Po(f))break;const _=`${f}`,E=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&E&&"object"==typeof E&&void 0===E.outlets){if(!af(_,E,d))return a;r+=2}else{if(!af(_,{},d))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new me(n.segments.slice(0,r.pathIndex),{});return a.children[Lt]=new me(n.segments.slice(r.pathIndex),n.children),Hd(a,0,i)}return r.match&&0===i.length?new me(n.segments,{}):r.match&&!n.hasChildren()?Ey(n,e,t):r.match?Hd(n,0,i):Ey(n,e,t)}function Hd(n,e,t){if(0===t.length)return new me(n.segments,{});{const r=function Pg(n){return Po(n[0])?n[0].outlets:{[Lt]:n}}(t),i={};return mn(r,(a,d)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[d]=kg(n.children[d],e,a))}),mn(n.children,(a,d)=>{void 0===r[d]&&(i[d]=a)}),new me(n.segments,i)}}function Ey(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Po(a)){const _=za(a.outlets);return new me(r,_)}if(0===i&&Ni(t[0])){r.push(new Xe(n.segments[e].path,nc(t[0]))),i++;continue}const d=Po(a)?a.outlets[Lt]:`${a}`,f=i<t.length-1?t[i+1]:null;d&&f&&Ni(f)?(r.push(new Xe(d,nc(f))),i+=2):(r.push(new Xe(d,{})),i++)}return new me(r,{})}function za(n){const e={};return mn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Ey(new me([],{}),0,t))}),e}function nc(n){const e={};return mn(n,(t,r)=>e[r]=`${t}`),e}function af(n,e,t){return n==t.path&&Oi(e,t.parameters)}class rc{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ud(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Zl(t);e.children.forEach(a=>{const d=a.value.outlet;this.deactivateRoutes(a,i[d],r),delete i[d]}),mn(i,(a,d)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Zl(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Zl(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Zl(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new ws(a.value.snapshot))}),e.children.length&&this.forwardEvent(new vs(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Ud(i),i===a)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),Ud(f.route.value),this.activateChildRoutes(e,null,d.children)}else{const f=function $d(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=f?f.module.componentFactoryResolver:null;d.attachRef=null,d.route=i,d.resolver=_,d.outlet&&d.outlet.activateWith(i,_),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class qd{constructor(e,t){this.routes=e,this.module=t}}function ko(n){return"function"==typeof n}function Kl(n){return n instanceof ie}const Gd=Symbol("INITIAL_VALUE");function Zd(){return xn(n=>function ia(...n){const e=(0,Ba.yG)(n),t=(0,Ba.jO)(n),{args:r,keys:i}=An(n);if(0===r.length)return(0,un.D)([],e);const a=new Ln.y(function Co(n,e,t=Yi.y){return r=>{dr(e,()=>{const{length:i}=n,a=new Array(i);let d=i,f=i;for(let _=0;_<i;_++)dr(e,()=>{const E=(0,un.D)(n[_],e);let D=!1;E.subscribe((0,nr.x)(r,x=>{a[_]=x,D||(D=!0,f--),f||r.next(t(a.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>qu(i,d):Yi.y));return t?a.pipe($u(t)):a}(n.map(e=>e.pipe((0,So.q)(1),Ao(Gd)))).pipe(Qi((e,t)=>{let r=!1;return t.reduce((i,a,d)=>i!==Gd?i:(a===Gd&&(r=!0),r||!1!==a&&d!==t.length-1&&!Kl(a)?i:a),e)},Gd),hr(e=>e!==Gd),(0,Pt.U)(e=>Kl(e)?e:!0===e),(0,So.q)(1)))}class Rg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Yl,this.attachRef=null}}class Yl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Rg,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let sc=(()=>{class n{constructor(t,r,i,a,d){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=a||Lt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new Cy(t,f,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Yl),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Cy{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Wl?this.route:e===Yl?this.childContexts:this.parent.get(e,t)}}let Ng=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[sc],encapsulation:2}),n})();function oc(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Ql(r,Iy(e,r))}}function Ql(n,e){n.children&&oc(n.children,e)}function Iy(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function ac(n){const e=n.children&&n.children.map(ac),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Lt&&(t.component=Ng),t}function Jr(n){return n.outlet||Lt}function Bn(n,e){const t=n.filter(r=>Jr(r)===e);return t.push(...n.filter(r=>Jr(r)!==e)),t}const Fg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zd(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Fg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||Tg)(t,n,e);if(!a)return Object.assign({},Fg);const d={};mn(a.posParams,(_,E)=>{d[E]=_.path});const f=a.consumed.length>0?Object.assign(Object.assign({},d),a.consumed[a.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function Wa(n,e,t,r,i="corrected"){if(t.length>0&&function Dy(n,e,t){return t.some(r=>pa(n,e,r)&&Jr(r)!==Lt)}(n,t,r)){const d=new me(e,function Ty(n,e,t,r){const i={};i[Lt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Jr(a)!==Lt){const d=new me([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[Jr(a)]=d}return i}(n,e,r,new me(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function Sy(n,e,t){return t.some(r=>pa(n,e,r))}(n,t,r)){const d=new me(n.segments,function Lg(n,e,t,r,i,a){const d={};for(const f of r)if(pa(n,t,f)&&!i[Jr(f)]){const _=new me([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,d[Jr(f)]=_}return Object.assign(Object.assign({},i),d)}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const a=new me(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function pa(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Vg(n,e,t,r){return!!(Jr(n)===r||r!==Lt&&pa(e,t,n))&&("**"===n.path||zd(e,n,t).matched)}function Ug(n,e,t){return 0===e.length&&!n.children[t]}class cf{constructor(e){this.segmentGroup=e||null}}class Jl{constructor(e){this.urlTree=e}}function sr(n){return To(new cf(n))}function Wd(n){return To(new Jl(n))}class Xl{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=Wa(this.urlTree.root,[],[],this.config).segmentGroup,t=new me(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Lt).pipe((0,Pt.U)(a=>this.createUrlTree(lc(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ki(a=>{if(a instanceof Jl)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof cf?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Lt).pipe((0,Pt.U)(i=>this.createUrlTree(lc(i),e.queryParams,e.fragment))).pipe(ki(i=>{throw i instanceof cf?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new me([],{[Lt]:e}):e;return new ie(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Pt.U)(a=>new me([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,un.D)(i).pipe(Ji(a=>{const d=r.children[a],f=Bn(t,a);return this.expandSegmentGroup(e,f,d,a).pipe((0,Pt.U)(_=>({segment:_,outlet:a})))}),Qi((a,d)=>(a[d.outlet]=d.segment,a),{}),function my(n,e){const t=arguments.length>=2;return r=>r.pipe(n?hr((i,a)=>n(i,a,r)):Yi.y,jl(1),t?Yh(e):zu(()=>new Ys))}())}expandSegment(e,t,r,i,a,d){return(0,un.D)(r).pipe(Ji(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,d).pipe(ki(E=>{if(E instanceof cf)return ut(null);throw E}))),la(f=>!!f),ki((f,_)=>{if(f instanceof Ys||"EmptyError"===f.name)return Ug(t,i,a)?ut(new me([],{})):sr(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,d,f){return Vg(i,t,a,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d):sr(t):sr(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Wd(a):this.lineralizeSegments(r,a).pipe((0,Wn.z)(d=>{const f=new me(d,{});return this.expandSegment(e,f,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d){const{matched:f,consumedSegments:_,remainingSegments:E,positionalParamSegments:D}=zd(t,i,a);if(!f)return sr(t);const x=this.applyRedirectCommands(_,i.redirectTo,D);return i.redirectTo.startsWith("/")?Wd(x):this.lineralizeSegments(i,x).pipe((0,Wn.z)(N=>this.expandSegment(e,t,r,N.concat(E),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ut(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Pt.U)(x=>(r._loadedConfig=x,new me(i,{})))):ut(new me(i,{}));const{matched:d,consumedSegments:f,remainingSegments:_}=zd(t,r,i);return d?this.getChildConfig(e,r,i).pipe((0,Wn.z)(D=>{const x=D.module,N=D.routes,{segmentGroup:V,slicedSegments:B}=Wa(t,f,_,N),re=new me(V.segments,V.children);if(0===B.length&&re.hasChildren())return this.expandChildren(x,N,re).pipe((0,Pt.U)(Ze=>new me(f,Ze)));if(0===N.length&&0===B.length)return ut(new me(f,{}));const we=Jr(r)===a;return this.expandSegment(x,re,N,B,we?Lt:a,!0).pipe((0,Pt.U)(it=>new me(f.concat(it.segments),it.children)))})):sr(t)}getChildConfig(e,t,r){return t.children?ut(new qd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ut(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Wn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Pt.U)(a=>(t._loadedConfig=a,a))):function Kd(n){return To(Ga(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ut(new qd([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?ut(i.map(d=>{const f=e.get(d);let _;if(function Jw(n){return n&&ko(n.canLoad)}(f))_=f.canLoad(t,r);else{if(!ko(f))throw new Error("Invalid CanLoad guard");_=f(t,r)}return fr(_)})).pipe(Zd(),(0,Qr.b)(d=>{if(!Kl(d))return;const f=Ga(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw f.url=d,f}),(0,Pt.U)(d=>!0===d)):ut(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ut(r);if(i.numberOfChildren>1||!i.children[Lt])return To(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Lt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new ie(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return mn(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let d={};return mn(t.children,(f,_)=>{d[_]=this.createSegmentGroup(e,f,r,i)}),new me(a,d)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function lc(n){const e={};for(const r of Object.keys(n.children)){const a=lc(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function hf(n){if(1===n.numberOfChildren&&n.children[Lt]){const e=n.children[Lt];return new me(n.segments.concat(e.segments),e.children)}return n}(new me(n.segments,e))}class Xr{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ga{constructor(e,t){this.component=e,this.route=t}}function ff(n,e,t){const r=n._root;return uc(r,e?e._root:null,t,[r.value])}function Ka(n,e,t){const r=function pf(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function uc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Zl(e);return n.children.forEach(d=>{(function Yd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,d=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(d&&a.routeConfig===d.routeConfig){const _=function My(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!pt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!pt(n.url,e.url)||!Oi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bd(n,e)||!Oi(n.queryParams,e.queryParams);default:return!Bd(n,e)}}(d,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new Xr(r)):(a.data=d.data,a._resolvedData=d._resolvedData),uc(n,e,a.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new ga(f.outlet.component,d))}else d&&ns(e,f,i),i.canActivateChecks.push(new Xr(r)),uc(n,null,a.component?f?f.children:null:t,r,i)})(d,a[d.value.outlet],t,r.concat([d.value]),i),delete a[d.value.outlet]}),mn(a,(d,f)=>ns(d,t.getContext(f),i)),i}function ns(n,e,t){const r=Zl(n),i=n.value;mn(r,(a,d)=>{ns(a,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new ga(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Oy{}function Is(n){return new Ln.y(e=>e.error(n))}class jg{constructor(e,t,r,i,a,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=d}recognize(){const e=Wa(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Lt);if(null===t)return null;const r=new Mo([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new xo(r,t),a=new Ld(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=Ag(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const d=t.children[a],f=Bn(e,a),_=this.processSegmentGroup(f,d,a);if(null===_)return null;r.push(..._)}const i=$g(r);return function Hg(n){n.sort((e,t)=>e.value.outlet===Lt?-1:t.value.outlet===Lt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const d=this.processSegmentAgainstRoute(a,t,r,i);if(null!==d)return d}return Ug(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!Vg(e,t,r,i))return null;let a,d=[],f=[];if("**"===e.path){const V=r.length>0?Xi(r).parameters:{};a=new Mo(r,V,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),Jr(e),e.component,e,qg(t),Ya(t)+r.length,p(e))}else{const V=zd(t,e,r);if(!V.matched)return null;d=V.consumedSegments,f=V.remainingSegments,a=new Mo(d,V.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),Jr(e),e.component,e,qg(t),Ya(t)+d.length,p(e))}const _=function Ry(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:E,slicedSegments:D}=Wa(t,d,f,_.filter(V=>void 0===V.redirectTo),this.relativeLinkResolution);if(0===D.length&&E.hasChildren()){const V=this.processChildren(_,E);return null===V?null:[new xo(a,V)]}if(0===_.length&&0===D.length)return[new xo(a,[])];const x=Jr(e)===i,N=this.processSegment(_,E,D,x?Lt:i);return null===N?null:[new xo(a,N)]}}function _f(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function $g(n){const e=[],t=new Set;for(const r of n){if(!_f(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=$g(r.children);e.push(new xo(r.value,i))}return e.filter(r=>!t.has(r))}function qg(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ya(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function y(n){return n.data||{}}function p(n){return n.resolve||{}}function K(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ve(n){return xn(e=>{const t=n(e);return t?(0,un.D)(t).pipe((0,Pt.U)(()=>e)):ut(e)})}class gt extends class mt{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Mn=new u.OlP("ROUTES");class yi{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Pt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=a.create(e);return new qd(Pd(d.injector.get(Mn,void 0,u.XFs.Self|u.XFs.Optional)).map(ac),d)}),ki(a=>{throw t._loader$=void 0,a}));return t._loader$=new Js(i,()=>new Sn.x).pipe(Zu()),t._loader$}loadModuleFactory(e){return fr(e()).pipe((0,Wn.z)(t=>t instanceof u.YKP?ut(t):(0,un.D)(this.compiler.compileModuleAsync(t))))}}class yf{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Gg(n){throw n}function Qa(n,e,t){return e.parse("/")}function dc(n,e){return ut(null)}const Xd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kn=(()=>{class n{constructor(t,r,i,a,d,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Sn.x,this.errorHandler=Gg,this.malformedUriErrorHandler=Qa,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:dc,afterPreactivation:dc},this.urlHandlingStrategy=new yf,this.routeReuseStrategy=new gt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(u.h0i),this.console=d.get(u.c2e);const x=d.get(u.R0b);this.isNgZoneEnabled=x instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Ku(){return new ie(new me([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new yi(d,f,N=>this.triggerEvent(new Br(N)),N=>this.triggerEvent(new qa(N))),this.routerState=Fd(this.currentUrlTree,this.rootComponentType),this.transitions=new mi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(hr(i=>0!==i.id),(0,Pt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),xn(i=>{let a=!1,d=!1;return ut(i).pipe((0,Qr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),xn(f=>{const _=this.browserUrlTree.toString(),E=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return wf(f.source)&&(this.browserUrlTree=f.extractedUrl),ut(f).pipe(xn(x=>{const N=this.transitions.getValue();return r.next(new Ad(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),N!==this.transitions.getValue()?ms.E:Promise.resolve(x)}),function Ay(n,e,t,r){return xn(i=>function pr(n,e,t,r,i){return new Xl(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Pt.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Qr.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function m(n,e,t,r,i){return(0,Wn.z)(a=>function cc(n,e,t,r,i="emptyOnly",a="legacy"){try{const d=new jg(n,e,t,r,i,a).recognize();return null===d?Is(new Oy):ut(d)}catch(d){return Is(d)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,Pt.U)(d=>Object.assign(Object.assign({},a),{targetSnapshot:d}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Qr.b)(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(V,x)}this.browserUrlTree=x.urlAfterRedirects}const N=new $a(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(N)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:N,extractedUrl:V,source:B,restoredState:re,extras:we}=f,rt=new Ad(N,this.serializeUrl(V),B,re);r.next(rt);const it=Fd(V,this.rootComponentType).snapshot;return ut(Object.assign(Object.assign({},f),{targetSnapshot:it,urlAfterRedirects:V,extras:Object.assign(Object.assign({},we),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),ms.E}),Ve(f=>{const{targetSnapshot:_,id:E,extractedUrl:D,rawUrl:x,extras:{skipLocationChange:N,replaceUrl:V}}=f;return this.hooks.beforePreactivation(_,{navigationId:E,appliedUrlTree:D,rawUrlTree:x,skipLocationChange:!!N,replaceUrl:!!V})}),(0,Qr.b)(f=>{const _=new Hl(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,Pt.U)(f=>Object.assign(Object.assign({},f),{guards:ff(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function Qd(n,e){return(0,Wn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:d}}=t;return 0===d.length&&0===a.length?ut(Object.assign(Object.assign({},t),{guardsResult:!0})):function Py(n,e,t,r){return(0,un.D)(n).pipe((0,Wn.z)(i=>function mf(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?ut(a.map(f=>{const _=Ka(f,e,i);let E;if(function uf(n){return n&&ko(n.canDeactivate)}(_))E=fr(_.canDeactivate(n,e,t,r));else{if(!ko(_))throw new Error("Invalid CanDeactivate guard");E=fr(_(n,e,t,r))}return E.pipe(la())})).pipe(Zd()):ut(!0)}(i.component,i.route,t,e,r)),la(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Wn.z)(f=>f&&function Og(n){return"boolean"==typeof n}(f)?function ky(n,e,t,r){return(0,un.D)(e).pipe(Ji(i=>aa(function Bg(n,e){return null!==n&&e&&e(new ua(n)),ut(!0)}(i.route.parent,r),function Jd(n,e){return null!==n&&e&&e(new eo(n)),ut(!0)}(i.route,r),function gf(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(d=>function xy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Ha(()=>ut(d.guards.map(_=>{const E=Ka(_,d.node,t);let D;if(function lf(n){return n&&ko(n.canActivateChild)}(E))D=fr(E.canActivateChild(r,n));else{if(!ko(E))throw new Error("Invalid CanActivateChild guard");D=fr(E(r,n))}return D.pipe(la())})).pipe(Zd())));return ut(a).pipe(Zd())}(n,i.path,t),function _i(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ut(!0);const i=r.map(a=>Ha(()=>{const d=Ka(a,e,t);let f;if(function ic(n){return n&&ko(n.canActivate)}(d))f=fr(d.canActivate(e,n));else{if(!ko(d))throw new Error("Invalid CanActivate guard");f=fr(d(e,n))}return f.pipe(la())}));return ut(i).pipe(Zd())}(n,i.route,t))),la(i=>!0!==i,!0))}(r,a,n,e):ut(f)),(0,Pt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Qr.b)(f=>{if(Kl(f.guardsResult)){const E=Ga(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw E.url=f.guardsResult,E}const _=new xd(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),hr(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Ve(f=>{if(f.guards.canActivateChecks.length)return ut(f).pipe((0,Qr.b)(_=>{const E=new Qh(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}),xn(_=>{let E=!1;return ut(_).pipe(function w(n,e){return(0,Wn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ut(t);let a=0;return(0,un.D)(i).pipe(Ji(d=>function S(n,e,t,r){return function k(n,e,t,r){const i=K(n);if(0===i.length)return ut({});const a={};return(0,un.D)(i).pipe((0,Wn.z)(d=>function pe(n,e,t,r){const i=Ka(n,e,r);return fr(i.resolve?i.resolve(e,t):i(e,t))}(n[d],e,t,r).pipe((0,Qr.b)(f=>{a[d]=f}))),jl(1),(0,Wn.z)(()=>K(a).length===i.length?ut(a):ms.E))}(n._resolve,n,e,r).pipe((0,Pt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),Ag(n,t).resolve),null)))}(d.route,r,n,e)),(0,Qr.b)(()=>a++),jl(1),(0,Wn.z)(d=>a===i.length?ut(t):ms.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Qr.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,Qr.b)(_=>{const E=new Tr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}))}),Ve(f=>{const{targetSnapshot:_,id:E,extractedUrl:D,rawUrl:x,extras:{skipLocationChange:N,replaceUrl:V}}=f;return this.hooks.afterPreactivation(_,{navigationId:E,appliedUrlTree:D,rawUrlTree:x,skipLocationChange:!!N,replaceUrl:!!V})}),(0,Pt.U)(f=>{const _=function xg(n,e,t){const r=ec(n,e._root,t?t._root:void 0);return new Xu(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,Qr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Pt.U)(r=>(new rc(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Qr.b)({next(){a=!0},complete(){a=!0}}),function Sd(n){return(0,rr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;a||d||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),ki(f=>{if(d=!0,function ha(n){return n&&n[Dr]}(f)){const _=Kl(f.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const E=new Wu(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(E),_?setTimeout(()=>{const D=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),x={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||wf(i.source)};this.scheduleNavigation(D,"imperative",null,x,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new Vn(i.id,this.serializeUrl(i.extractedUrl),f);r.next(_);try{i.resolve(this.errorHandler(f))}catch(E){i.reject(E)}}return ms.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},d=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(d){const _=Object.assign({},d);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,d,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){oc(t),this.config=t.map(ac),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:d,queryParamsHandling:f,preserveFragment:_}=r,E=i||this.routerState.root,D=_?this.currentUrlTree.fragment:d;let x=null;switch(f){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=a||null}return null!==x&&(x=this.removeEmptyProps(x)),function vy(n,e,t,r,i){if(0===t.length)return tc(e.root,e.root,e.root,r,i);const a=function Yw(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Mg(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,d)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return mn(a.outlets,(_,E)=>{f[E]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===d?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Mg(t,e,r)}(t);if(a.toRoot())return tc(e.root,e.root,new me([],{}),r,i);const d=function Qw(n,e,t){if(n.isAbsolute)return new jd(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new jd(a,a===e.root,0)}const r=Ni(n.commands[0])?0:1;return function sf(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new jd(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),f=d.processChildren?Hd(d.segmentGroup,d.index,a.commands):kg(d.segmentGroup,d.index,a.commands);return tc(e.root,d.segmentGroup,f,r,i)}(E,this.currentUrlTree,t,x,null!=D?D:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Kl(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function vf(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Xd):!1===r?Object.assign({},Zg):r,Kl(t))return fa(this.currentUrlTree,t,i);const a=this.parseUrl(t);return fa(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ys(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,d){var f,_;if(this.disposed)return Promise.resolve(!1);let E,D,x;d?(E=d.resolve,D=d.reject,x=d.promise):x=new Promise((B,re)=>{E=B,D=re});const N=++this.navigationId;let V;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),V=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):V=0,this.setTransition({id:N,targetPageId:V,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:E,reject:D,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(B=>Promise.reject(B))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Wu(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function wf(n){return"imperative"!==n}let bf=(()=>{class n{constructor(t,r,i,a,d){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=d,this.commands=null,this.onChanges=new Sn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:tu(this.skipLocationChange),replaceUrl:tu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:tu(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Kn),u.Y36(Wl),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})(),Ja=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Sn.x,this.subscription=t.events.subscribe(a=>{a instanceof ys&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,d){if(0!==t||r||i||a||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:tu(this.skipLocationChange),replaceUrl:tu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:tu(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Kn),u.Y36(Wl),u.Y36(ge))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})();function tu(n){return""===n||!!n}let eb=(()=>{class n{constructor(t,r,i,a,d,f){this.router=t,this.element=r,this.renderer=i,this.cdr=a,this.link=d,this.linkWithHref=f,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=t.events.subscribe(_=>{_ instanceof ys&&this.update()})}ngAfterContentInit(){ut(this.links.changes,this.linksWithHrefs.changes,ut(null)).pipe((0,oa.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,un.D)(r).pipe((0,oa.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function tb(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Kn),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(bf,8),u.Y36(Ja,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,bf,5),u.Suo(i,Ja,5)),2&t){let a;u.iGM(a=u.CRH())&&(r.links=a),u.iGM(a=u.CRH())&&(r.linksWithHrefs=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[u.TTD]}),n})();class zg{}class Wg{preload(e,t){return ut(null)}}let rb=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new yi(i,r,_=>t.triggerEvent(new Br(_)),_=>t.triggerEvent(new qa(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(hr(t=>t instanceof ys),Ji(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const d=a._loadedConfig;i.push(this.processRoutes(d.module,d.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,un.D)(i).pipe((0,oa.J)(),(0,Pt.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ut(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Wn.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Kn),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(zg))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ny=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ad?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ys&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ca&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new ca(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const nu=new u.OlP("ROUTER_CONFIGURATION"),ru=new u.OlP("ROUTER_FORROOT_GUARD"),ib=[Ce,{provide:xt,useClass:Un},{provide:Kn,useFactory:function lb(n,e,t,r,i,a,d={},f,_){const E=new Kn(null,n,e,t,r,i,Pd(a));return f&&(E.urlHandlingStrategy=f),_&&(E.routeReuseStrategy=_),function Ly(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,E),d.enableTracing&&E.events.subscribe(D=>{var x,N;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${D.constructor.name}`),console.log(D.toString()),console.log(D),null===(N=console.groupEnd)||void 0===N||N.call(console)}),E},deps:[xt,Yl,Ce,u.zs3,u.Sil,Mn,nu,[class eu{},new u.FiY],[class tt{},new u.FiY]]},Yl,{provide:Wl,useFactory:function ub(n){return n.routerState.root},deps:[Kn]},rb,Wg,class nb{preload(e,t){return t().pipe(ki(()=>ut(null)))}},{provide:nu,useValue:{enableTracing:!1}}];function sb(){return new u.PXZ("Router",Kn)}let ob=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[ib,Fy(t),{provide:ru,useFactory:ab,deps:[[Kn,new u.FiY,new u.tp0]]},{provide:nu,useValue:r||{}},{provide:ge,useFactory:JI,deps:[ae,[new u.tBr(We),new u.FiY],nu]},{provide:Ny,useFactory:Kg,deps:[Kn,Pu,nu]},{provide:zg,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Wg},{provide:u.PXZ,multi:!0,useFactory:sb},[eh,{provide:u.ip1,multi:!0,useFactory:Yg,deps:[eh]},{provide:Qg,useFactory:cb,deps:[eh]},{provide:u.tb,multi:!0,useExisting:Qg}]]}}static forChild(t){return{ngModule:n,providers:[Fy(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ru,8),u.LFG(Kn,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function Kg(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Ny(n,e,t)}function JI(n,e,t={}){return t.useHash?new Ae(n,e):new Qe(n,e)}function ab(n){return"guarded"}function Fy(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:Mn,multi:!0,useValue:n}]}let eh=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Sn.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(Kn),d=this.injector.get(nu);return"disabled"===d.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?ut(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(nu),i=this.injector.get(rb),a=this.injector.get(Ny),d=this.injector.get(Kn),f=this.injector.get(u.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),i.setUpPreloading(),a.init(),d.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Yg(n){return n.appInitializer.bind(n)}function cb(n){return n.bootstrapListener.bind(n)}const Qg=new u.OlP("Router Initializer");var Ef=O(6451),Jg=O(5363),fb=O(6063);class XI extends Sn.x{constructor(e=1/0,t=1/0,r=fb.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:d}=this;t||(r.push(e),!i&&r.push(a.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let d=0;d<a.length&&!e.closed;d+=r?1:2)e.next(a[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const d=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=d;_+=2)f=_;f&&r.splice(0,f+1)}}}var eT=O(3099);function Vy(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,eT.B)({connector:()=>new XI(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Xg(n,e){return(0,Io.m)(e)?xn(()=>n,e):xn(()=>n)}var em=O(9468),Yn=O(5813),vi=O(2011);O(5867);var ve=O(5861),rs=O(9681),wi=O(4859),Mt=O(2090),iu=O(1877);const tm=new Map,Xa={activated:!1,tokenObservers:[]},By={initialized:!1,enabled:!1};function Ar(n){return tm.get(n)||Xa}function Ts(n,e){tm.set(n,e)}function jy(){return By}class $y{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new Mt.BH,yield function jx(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Mt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Fi=new Mt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function gb(n){if(!Ar(n).activated)throw Fi.create("use-before-activation",{appName:n.name})}function yb(n,e){return lm.apply(this,arguments)}function lm(){return(lm=(0,ve.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const x=yield i.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const a={method:"POST",body:JSON.stringify(e),headers:r};let d,f;try{d=yield fetch(n,a)}catch(x){throw Fi.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==d.status)throw Fi.create("fetch-status-error",{httpStatus:d.status});try{f=yield d.json()}catch(x){throw Fi.create("fetch-parse-error",{originalErrorMessage:x.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Fi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const E=1e3*Number(_[1]),D=Date.now();return{token:f.token,expireTimeMillis:D+E,issuedAtTimeMillis:D}})).apply(this,arguments)}function qy(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const um="firebase-app-check-store";let Gy=null;function dT(){return Gy||(Gy=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Fi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(um,{keyPath:"compositeKey"})}}catch(t){e(Fi.create("storage-open",{originalErrorMessage:t.message}))}}),Gy)}function If(){return(If=(0,ve.Z)(function*(n,e){const r=(yield dT()).transaction(um,"readwrite"),a=r.objectStore(um).put({compositeKey:n,value:e});return new Promise((d,f)=>{a.onsuccess=_=>{d()},r.onerror=_=>{var E;f(Fi.create("storage-set",{originalErrorMessage:null===(E=_.target.error)||void 0===E?void 0:E.message}))}})})).apply(this,arguments)}const th=new iu.Yd("@firebase/app-check");function tl(n,e){return(0,Mt.hl)()?function Gx(n,e){return function el(n,e){return If.apply(this,arguments)}(function dm(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{th.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function hm(){return jy().enabled}function Eb(){return fm.apply(this,arguments)}function fm(){return(fm=(0,ve.Z)(function*(){const n=jy();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const fT={error:"UNKNOWN_ERROR"};function Tf(n){return Mt.US.encodeString(JSON.stringify(n),!1)}function nl(n){return Df.apply(this,arguments)}function Df(){return(Df=(0,ve.Z)(function*(n,e=!1){const t=n.app;gb(t);const r=Ar(t);let a,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&Sf(_)&&(i=_)}if(!e&&i&&Sf(i))return{token:i.token};let f,d=!1;if(hm()){r.exchangeTokenPromise||(r.exchangeTokenPromise=yb(qy(t,yield Eb()),n.heartbeatServiceProvider).then(E=>(r.exchangeTokenPromise=void 0,E)),d=!0);const _=yield r.exchangeTokenPromise;return yield tl(t,_),Ts(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),d=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?th.warn(_.message):th.error(_),a=_}return i?(f={token:i.token},Ts(t,Object.assign(Object.assign({},r),{token:i})),yield tl(t,i)):f=Yy(a),d&&Ky(t,f),f})).apply(this,arguments)}function hc(n,e){const t=Ar(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ts(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function fc(n){const{app:e}=n,t=Ar(e);let r=t.tokenRefresher;r||(r=function pT(n){const{app:e}=n;return new $y((0,ve.Z)(function*(){let r;if(r=Ar(e).token?yield nl(n,!0):yield nl(n),r.error)throw r.error}),()=>!0,()=>{const t=Ar(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Ts(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Ky(n,e){const t=Ar(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Sf(n){return n.expireTimeMillis-Date.now()>0}function Yy(n){return{token:Tf(fT),error:n}}class Qy{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ar(this.app);for(const t of e)hc(this.app,t.next);return Promise.resolve()}}const Pb="app-check-internal";!function CT(){(0,rs._registerComponent)(new wi.wA("app-check",n=>function Cb(n,e){return new Qy(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Pb).initialize()})),(0,rs._registerComponent)(new wi.wA(Pb,n=>function pm(n){return{getToken:e=>nl(n,e),addTokenListener:e=>function su(n,e,t,r){const{app:i}=n,a=Ar(i),d={next:t,error:r,type:e};if(Ts(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,d]})),a.token&&Sf(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),fc(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>fc(n))}(n,"INTERNAL",e),removeTokenListener:e=>hc(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,rs.registerVersion)("@firebase/app-check","0.5.8")}();class ym{constructor(){return(0,Yn.vb)("app-check")}}"undefined"!=typeof window&&window;var vm=O(127);const rv=new u.OlP("angularfire2.auth.use-emulator"),DT=new u.OlP("angularfire2.auth.settings"),ST=new u.OlP("angularfire2.auth.tenant-id"),wm=new u.OlP("angularfire2.auth.langugage-code"),AT=new u.OlP("angularfire2.auth.use-device-language"),Rb=new u.OlP("angularfire.auth.persistence"),iv=(n,e,t,r,i,a,d,f)=>(0,vi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),d)for(const[E,D]of Object.entries(d))_.settings[E]=D;return f&&_.setPersistence(f),_},[t,r,i,a,d,f]);let Mf=(()=>{class n{constructor(t,r,i,a,d,f,_,E,D,x,N,V){const B=new Sn.x,re=ut(void 0).pipe((0,Jg.Q)(d.outsideAngular),xn(()=>a.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,8775)))),(0,Pt.U)(()=>(0,vi.on)(t,a,r)),(0,Pt.U)(we=>iv(we,a,f,E,D,x,_,N)),Vy({bufferSize:1,refCount:!1}));if(Yo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ut(null);else{re.pipe(la()).subscribe();const rt=re.pipe(xn(je=>je.getRedirectResult().then(vt=>vt,()=>null)),Yn.iC,Vy({bufferSize:1,refCount:!1})),it=re.pipe(xn(je=>new Ln.y(vt=>({unsubscribe:a.runOutsideAngular(()=>je.onAuthStateChanged(Ct=>vt.next(Ct),Ct=>vt.error(Ct),()=>vt.complete()))})))),Ze=re.pipe(xn(je=>new Ln.y(vt=>({unsubscribe:a.runOutsideAngular(()=>je.onIdTokenChanged(Ct=>vt.next(Ct),Ct=>vt.error(Ct),()=>vt.complete()))}))));this.authState=rt.pipe(Xg(it),(0,em.R)(d.outsideAngular),(0,Jg.Q)(d.insideAngular)),this.user=rt.pipe(Xg(Ze),(0,em.R)(d.outsideAngular),(0,Jg.Q)(d.insideAngular)),this.idToken=this.user.pipe(xn(je=>je?(0,un.D)(je.getIdToken()):ut(null))),this.idTokenResult=this.user.pipe(xn(je=>je?(0,un.D)(je.getIdTokenResult()):ut(null))),this.credential=(0,Ef.T)(rt,B,this.authState.pipe(hr(je=>!je))).pipe((0,Pt.U)(je=>(null==je?void 0:je.user)?je:null),(0,em.R)(d.outsideAngular),(0,Jg.Q)(d.insideAngular))}return(0,vi.pX)(this,re,a,{spy:{apply:(we,rt,it)=>{(we.startsWith("signIn")||we.startsWith("createUser"))&&it.then(Ze=>B.next(Ze))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(vi.Dh),u.LFG(vi.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Yn.HU),u.LFG(rv,8),u.LFG(DT,8),u.LFG(ST,8),u.LFG(wm,8),u.LFG(AT,8),u.LFG(Rb,8),u.LFG(ym,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Nb=(()=>{class n{constructor(){vm.Z.registerVersion("angularfire",Yn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Mf]}),n})(),pc=(()=>{class n{constructor(t){this.fauth=t,this.userObs=new mi(null)}logout(){return this.fauth.signOut()}register(t,r){return this.fauth.createUserWithEmailAndPassword(t,r)}login(t,r){return this.fauth.signInWithEmailAndPassword(t,r)}refreshData(t){this.userObs.next(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Mf))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fb=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return this.authService.userObs.subscribe(i=>{null==i?this.router.navigateByUrl("Login"):"administrador"!=i.rol&&this.router.navigateByUrl("")}),!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pc),u.LFG(Kn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pf=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),gc=(()=>{class n extends Pf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Ro=new u.OlP("NgValueAccessor"),sM={provide:Ro,useExisting:(0,u.Gpc)(()=>kf),multi:!0};let kf=(()=>{class n extends gc{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(a){return r.onChange(a.target.checked)})("blur",function(){return r.onTouched()})},features:[u._Bn([sM]),u.qOj]}),n})();const Lb={provide:Ro,useExisting:(0,u.Gpc)(()=>nh),multi:!0},Of=new u.OlP("CompositionEventMode");let nh=(()=>{class n extends Pf{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sv(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Of,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[u._Bn([Lb]),u.qOj]}),n})();function ma(n){return null==n||0===n.length}function ov(n){return null!=n&&"number"==typeof n.length}const ei=new u.OlP("NgValidators"),sl=new u.OlP("NgAsyncValidators"),xT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class en{static min(e){return function Vb(n){return e=>{if(ma(e.value)||ma(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Ub(n){return e=>{if(ma(e.value)||ma(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return av(e)}static requiredTrue(e){return function mc(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function lv(n){return ma(n.value)||xT.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Bb(n){return e=>ma(e.value)||!ov(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function jb(n){return e=>ov(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function _c(n){if(!n)return bm;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ma(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return dv(e)}static composeAsync(e){return hv(e)}}function av(n){return ma(n.value)?{required:!0}:null}function bm(n){return null}function Hb(n){return null!=n}function $b(n){const e=(0,u.QGY)(n)?(0,un.D)(n):n;return(0,u.CqO)(e),e}function qb(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function No(n,e){return e.map(t=>t(n))}function cv(n){return n.map(e=>function uv(n){return!n.validate}(e)?e:t=>e.validate(t))}function dv(n){if(!n)return null;const e=n.filter(Hb);return 0==e.length?null:function(t){return qb(No(t,e))}}function Em(n){return null!=n?dv(cv(n)):null}function hv(n){if(!n)return null;const e=n.filter(Hb);return 0==e.length?null:function(t){return function il(...n){const e=(0,Ba.jO)(n),{args:t,keys:r}=An(n),i=new Ln.y(a=>{const{length:d}=t;if(!d)return void a.complete();const f=new Array(d);let _=d,E=d;for(let D=0;D<d;D++){let x=!1;(0,Gu.Xf)(t[D]).subscribe((0,nr.x)(a,N=>{x||(x=!0,E--),f[D]=N},()=>_--,void 0,()=>{(!_||!x)&&(E||a.next(r?qu(r,f):f),a.complete())}))}});return e?i.pipe($u(e)):i}(No(t,e).map($b)).pipe((0,Pt.U)(qb))}}function fv(n){return null!=n?hv(cv(n)):null}function Gb(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Zb(n){return n._rawValidators}function zb(n){return n._rawAsyncValidators}function Cm(n){return n?Array.isArray(n)?n:[n]:[]}function pv(n,e){return Array.isArray(n)?n.includes(e):n===e}function gv(n,e){const t=Cm(e);return Cm(n).forEach(i=>{pv(t,i)||t.push(i)}),t}function Wb(n,e){return Cm(e).filter(t=>!pv(n,t))}class Kb{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Em(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class yc extends Kb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class is extends Kb{get formDirective(){return null}get path(){return null}}class Im{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let vc=(()=>{class n extends Im{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yc,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})(),mv=(()=>{class n extends Im{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(is,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[u.qOj]}),n})();function Dm(n,e){return[...e.path,n]}function Rf(n,e){bc(n,e),e.valueAccessor.writeValue(n.value),function LT(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Fo(n,e)})}(n,e),function Nf(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function vv(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Fo(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function FT(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function wc(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Sm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ol(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function bc(n,e){const t=Zb(n);null!==e.validator?n.setValidators(Gb(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=zb(n);null!==e.asyncValidator?n.setAsyncValidators(Gb(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();ol(e._rawValidators,i),ol(e._rawAsyncValidators,i)}function Sm(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Zb(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=zb(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return ol(e._rawValidators,r),ol(e._rawAsyncValidators,r),t}function Fo(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ou(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function au(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===nh?t=a:function rh(n){return Object.getPrototypeOf(n.constructor)===gc}(a)?r=a:i=a}),i||r||t||null}function lu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const _a="VALID",Vf="INVALID",Ic="PENDING",ih="DISABLED";function xm(n){return(Uf(n)?n.validators:n)||null}function bv(n){return Array.isArray(n)?Em(n):n||null}function Mm(n,e){return(Uf(e)?e.asyncValidators:n)||null}function Ev(n){return Array.isArray(n)?fv(n):n||null}function Uf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Cv=n=>n instanceof sh,Bf=n=>n instanceof Pm,eE=n=>n instanceof Sv;function Iv(n){return Cv(n)?n.value:n.getRawValue()}function Tv(n,e){const t=Bf(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[e])throw new u.vHH(1001,"")}function tE(n,e){Bf(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new u.vHH(1002,"")})}class Dv{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=bv(this._rawValidators),this._composedAsyncValidatorFn=Ev(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===_a}get invalid(){return this.status===Vf}get pending(){return this.status==Ic}get disabled(){return this.status===ih}get enabled(){return this.status!==ih}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=bv(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ev(e)}addValidators(e){this.setValidators(gv(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gv(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Wb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Wb(e,this._rawAsyncValidators))}hasValidator(e){return pv(this._rawValidators,e)}hasAsyncValidator(e){return pv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ic,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ih,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_a,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_a||this.status===Ic)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ih:_a}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ic,this._hasOwnPendingAsyncValidator=!0;const t=$b(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Xb(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Bf(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:eE(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?ih:this.errors?Vf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ic)?Ic:this._anyControlsHaveStatus(Vf)?Vf:_a}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Uf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class sh extends Dv{constructor(e=null,t,r){super(xm(t),Mm(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Uf(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){lu(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){lu(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Pm extends Dv{constructor(e,t,r){super(xm(t),Mm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){tE(this,e),Object.keys(e).forEach(r=>{Tv(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Iv(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Sv extends Dv{constructor(e,t,r){super(xm(t),Mm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){tE(this,e),e.forEach((r,i)=>{Tv(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Iv(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const BT={provide:yc,useExisting:(0,u.Gpc)(()=>xv)},Av=(()=>Promise.resolve(null))();let xv=(()=>{class n extends yc{constructor(t,r,i,a,d){super(),this._changeDetectorRef=d,this.control=new sh,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=au(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),ou(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rf(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Av.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;Av.then(()=>{var a;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(t){return this._parent?Dm(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(is,9),u.Y36(ei,10),u.Y36(sl,10),u.Y36(Ro,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([BT]),u.qOj,u.TTD]}),n})(),km=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const oh={provide:Ro,useExisting:(0,u.Gpc)(()=>Om),multi:!0};let Om=(()=>{class n extends gc{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[u._Bn([oh]),u.qOj]}),n})(),Mv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Pv=new u.OlP("NgModelWithFormControlWarning"),HT={provide:is,useExisting:(0,u.Gpc)(()=>Tc)};let Tc=(()=>{class n extends is{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Sm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Rf(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){wc(t.control||null,t,!1),lu(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Cc(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(wc(r||null,t),Cv(i)&&(Rf(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function ti(n,e){bc(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Ec(n,e){return Sm(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bc(this.form,this),this._oldForm&&Sm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ei,10),u.Y36(sl,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([HT]),u.qOj,u.TTD]}),n})();const kv={provide:yc,useExisting:(0,u.Gpc)(()=>$f)};let $f=(()=>{class n extends yc{constructor(t,r,i,a,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=au(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),ou(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Dm(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(is,13),u.Y36(ei,10),u.Y36(sl,10),u.Y36(Ro,10),u.Y36(Pv,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([kv]),u.qOj,u.TTD]}),n})();const fM={provide:Ro,useExisting:(0,u.Gpc)(()=>lh),multi:!0};function ah(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let lh=(()=>{class n extends gc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=ah(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function hE(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([fM]),u.qOj]}),n})(),qf=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ah(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(lh,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const GT={provide:Ro,useExisting:(0,u.Gpc)(()=>pE),multi:!0};function Gf(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let pE=(()=>{class n extends gc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(a=>this._getOptionId(a));r=(a,d)=>{a._setSelected(i.indexOf(d.toString())>-1)}}else r=(i,a)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],a=r.selectedOptions;if(void 0!==a){const d=a;for(let f=0;f<d.length;f++){const E=this._getOptionValue(d[f].value);i.push(E)}}else{const d=r.options;for(let f=0;f<d.length;f++){const _=d[f];if(_.selected){const E=this._getOptionValue(_.value);i.push(E)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Fm(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([GT]),u.qOj]}),n})(),Ov=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Gf(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Gf(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(pE,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),cu=(()=>{class n{constructor(){this._validator=bm}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):bm,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const mE={provide:ei,useExisting:(0,u.Gpc)(()=>Dc),multi:!0};let Dc=(()=>{class n extends cu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function Lm(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>av}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([mE]),u.qOj]}),n})(),$v=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Mv]]}),n})(),yE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[$v]}),n})(),qv=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Pv,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[$v]}),n})(),wE=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let f,a=null,d=null;return null!=r&&(function vE(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(a=null!=r.validators?r.validators:null,d=null!=r.asyncValidators?r.asyncValidators:null,f=null!=r.updateOn?r.updateOn:void 0):(a=null!=r.validator?r.validator:null,d=null!=r.asyncValidator?r.asyncValidator:null)),new Pm(i,{asyncValidators:d,updateOn:f,validators:a})}control(t,r,i){return new sh(t,r,i)}array(t,r,i){const a=t.map(d=>this._createControl(d));return new Sv(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return Cv(t)||Bf(t)||eE(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:qv}),n})();var bE=O(4986);function Bm(){return(0,rr.e)((n,e)=>{let t,r=!1;n.subscribe((0,nr.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function xr(n,e){return n===e}O(8775);var st,EE=O(3942),XT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ya={},jm=jm||{},Rt=XT||self;function al(){}function Gv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function zf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Zv="closure_uid_"+(1e9*Math.random()>>>0),IE=0;function gM(n,e,t){return n.call.apply(n.bind,arguments)}function zv(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Mr(n,e,t){return(Mr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gM:zv).apply(null,arguments)}function Ss(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ni(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[i].apply(r,d)}}function ll(){this.s=this.s,this.o=this.o}var Lo={};ll.prototype.s=!1,ll.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function CE(n){return Object.prototype.hasOwnProperty.call(n,Zv)&&n[Zv]||(n[Zv]=++IE)}(this);delete Lo[n]}},ll.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const io=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Wv=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function DE(n){return Array.prototype.concat.apply([],arguments)}function Kv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Hm(n){return/^[\s\xa0]*$/.test(n)}var Vi,SE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ri(n,e){return-1!=n.indexOf(e)}function Sc(n,e){return n<e?-1:n>e?1:0}e:{var Yv=Rt.navigator;if(Yv){var AE=Yv.userAgent;if(AE){Vi=AE;break e}}Vi=""}function $m(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Qv(n){const e={};for(const t in n)e[t]=n[t];return e}var Wf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xE(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<Wf.length;a++)t=Wf[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function qm(n){return qm[" "](n),n}qm[" "]=al;var Kf,n,Jv=ri(Vi,"Opera"),ul=ri(Vi,"Trident")||ri(Vi,"MSIE"),Gm=ri(Vi,"Edge"),Zm=Gm||ul,Xv=ri(Vi,"Gecko")&&!(ri(Vi.toLowerCase(),"webkit")&&!ri(Vi,"Edge"))&&!(ri(Vi,"Trident")||ri(Vi,"MSIE"))&&!ri(Vi,"Edge"),PE=ri(Vi.toLowerCase(),"webkit")&&!ri(Vi,"Edge");function e0(){var n=Rt.document;return n?n.documentMode:void 0}e:{var zm="",Wm=(n=Vi,Xv?/rv:([^\);]+)(\)|;)/.exec(n):Gm?/Edge\/([\d\.]+)/.exec(n):ul?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):PE?/WebKit\/(\S+)/.exec(n):Jv?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Wm&&(zm=Wm?Wm[1]:""),ul){var t0=e0();if(null!=t0&&t0>parseFloat(zm)){Kf=String(t0);break e}}Kf=zm}var eD={};var nD=Rt.document&&ul&&(e0()||parseInt(Kf,10))||void 0,rD=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",al,e),Rt.removeEventListener("test",al,e)}catch(t){}return n}();function bi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Yf(n,e){if(bi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Xv){e:{try{qm(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:iD[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Yf.Z.h.call(this)}}bi.prototype.h=function(){this.defaultPrevented=!0},ni(Yf,bi);var iD={2:"touch",3:"pen",4:"mouse"};Yf.prototype.h=function(){Yf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Qf="closure_listenable_"+(1e6*Math.random()|0),sD=0;function oD(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++sD,this.ca=this.fa=!1}function Km(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Ym(n){this.src=n,this.g={},this.h=0}function r0(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=io(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Km(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function s0(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}Ym.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var d=s0(n,e,r,i);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new oD(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var o0="closure_lm_"+(1e6*Math.random()|0),Qm={};function a0(n,e,t,r,i){if(r&&r.once)return u0(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)a0(n,e[a],t,r,i);return null}return t=cl(t),n&&n[Qf]?n.N(e,t,zf(r)?!!r.capture:!!r,i):l0(n,e,t,!1,r,i)}function l0(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var d=zf(i)?!!i.capture:!!i,f=Xm(n);if(f||(n[o0]=f=new Ym(n)),(t=f.add(e,t,r,d,a)).proxy)return t;if(r=function OE(){var e=RE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)rD||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(d0(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function u0(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)u0(n,e[a],t,r,i);return null}return t=cl(t),n&&n[Qf]?n.O(e,t,zf(r)?!!r.capture:!!r,i):l0(n,e,t,!0,r,i)}function c0(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)c0(n,e[a],t,r,i);else r=zf(r)?!!r.capture:!!r,t=cl(t),n&&n[Qf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=s0(a=n.g[e],t,r,i))&&(Km(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Xm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=s0(e,t,r,i)),(t=-1<n?e[n]:null)&&Jm(t))}function Jm(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Qf])r0(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(d0(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Xm(e))?(r0(t,n),0==t.h&&(t.src=null,e[o0]=null)):Km(n)}}}function d0(n){return n in Qm?Qm[n]:Qm[n]="on"+n}function RE(n,e){if(n.ca)n=!0;else{e=new Yf(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Jm(n),n=t.call(r,e)}return n}function Xm(n){return(n=n[o0])instanceof Ym?n:null}var e_="__closure_events_fn_"+(1e9*Math.random()>>>0);function cl(n){return"function"==typeof n?n:(n[e_]||(n[e_]=function(e){return n.handleEvent(e)}),n[e_])}function jr(){ll.call(this),this.i=new Ym(this),this.P=this,this.I=null}function ii(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new bi(e,n);else if(e instanceof bi)e.target=e.target||n;else{var i=e;xE(e=new bi(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var d=e.g=t[a];i=dl(d,r,!0,e)&&i}if(i=dl(d=e.g=n,r,!0,e)&&i,i=dl(d,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=dl(d=e.g=t[a],r,!1,e)&&i}function dl(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var d=e[a];if(d&&!d.ca&&d.capture==t){var f=d.listener,_=d.ia||d.src;d.fa&&r0(n.i,d),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}ni(jr,ll),jr.prototype[Qf]=!0,jr.prototype.removeEventListener=function(n,e,t,r){c0(this,n,e,t,r)},jr.prototype.M=function(){if(jr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Km(t[r]);delete n.g[e],n.h--}}this.I=null},jr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},jr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var NE=Rt.JSON.stringify;function h0(){var n=Jf;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var p0,f0=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new FE,n=>n.reset());class FE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _M(n){Rt.setTimeout(()=>{throw n},0)}function Et(n,e){p0||function aD(){var n=Rt.Promise.resolve(void 0);p0=function(){n.then(lD)}}(),g0||(p0(),g0=!0),Jf.add(n,e)}var g0=!1,Jf=new class mM{constructor(){this.h=this.g=null}add(e,t){const r=f0.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function lD(){for(var n;n=h0();){try{n.h.call(n.g)}catch(t){_M(t)}var e=f0;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}g0=!1}function Ac(n,e){jr.call(this),this.h=n||1,this.g=e||Rt,this.j=Mr(this.kb,this),this.l=Date.now()}function uh(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Pn(n,e,t){if("function"==typeof n)t&&(n=Mr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Mr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Rt.setTimeout(n,e||0)}function uD(n){n.g=Pn(()=>{n.g=null,n.i&&(n.i=!1,uD(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ni(Ac,jr),(st=Ac.prototype).da=!1,st.S=null,st.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ii(this,"tick"),this.da&&(uh(this),this.start()))}},st.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},st.M=function(){Ac.Z.M.call(this),uh(this),delete this.g};class LE extends ll{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:uD(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xf(n){ll.call(this),this.h=n,this.g={}}ni(Xf,ll);var VE=[];function m0(n,e,t,r){Array.isArray(t)||(t&&(VE[0]=t.toString()),t=VE);for(var i=0;i<t.length;i++){var a=a0(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function _0(n){$m(n.g,function(e,t){this.g.hasOwnProperty(t)&&Jm(e)},n),n.g={}}function ep(){this.g=!0}function ch(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function tp(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var d=1;d<i.length;d++)i[d]=""}}}return NE(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}Xf.prototype.M=function(){Xf.Z.M.call(this),_0(this)},Xf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ep.prototype.Aa=function(){this.g=!1},ep.prototype.info=function(){};var xc={},BE=null;function t_(){return BE=BE||new jr}function np(n){bi.call(this,xc.Ma,n)}function dh(n){const e=t_();ii(e,new np(e,n))}function y0(n,e){bi.call(this,xc.STAT_EVENT,n),this.stat=e}function Ei(n){const e=t_();ii(e,new y0(e,n))}function jE(n,e){bi.call(this,xc.Na,n),this.size=e}function hl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},e)}xc.Ma="serverreachability",ni(np,bi),xc.STAT_EVENT="statevent",ni(y0,bi),xc.Na="timingevent",ni(jE,bi);var du={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},HE={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function v0(){}function w0(){}v0.prototype.h=null;var r_,hh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function n_(){bi.call(this,"d")}function b0(){bi.call(this,"c")}function i_(){}function rp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Xf(this),this.P=yM,this.W=new Ac(n=Zm?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new hD}function hD(){this.i=null,this.g="",this.h=!1}ni(n_,bi),ni(b0,bi),ni(i_,v0),i_.prototype.g=function(){return new XMLHttpRequest},i_.prototype.i=function(){return{}},r_=new i_;var yM=45e3,qE={},E0={};function s_(n,e,t){n.K=1,n.v=ap(pl(e)),n.s=t,n.U=!0,ip(n,null)}function ip(n,e){n.F=Date.now(),fl(n),n.A=pl(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),S0(t.h,"t",r),n.C=0,t=n.l.H,n.h=new hD,n.g=B0(n.l,t?e:null,!n.s),0<n.O&&(n.L=new LE(Mr(n.Ia,n,n.g),n.O)),m0(n.V,n.g,"readystatechange",n.gb),e=n.H?Qv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),dh(1),function UE(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var d="",f=a.split("&"),_=0;_<f.length;_++){var E=f[_].split("=");if(1<E.length){var D=E[0];E=E[1];var x=D.split("_");d=2<=x.length&&"type"==x[1]?d+(D+"=")+E+"&":d+(D+"=redacted&")}}else d=null;else d=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function GE(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function ZE(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=zE(n,t),i==E0){4==e&&(n.o=4,Ei(14),r=!1),ch(n.j,n.m,null,"[Incomplete Response]");break}if(i==qE){n.o=4,Ei(15),ch(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ch(n.j,n.m,i,null),C0(n,i)}GE(n)&&i!=E0&&i!=qE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ei(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),aC(e),e.L=!0,Ei(11))):(ch(n.j,n.m,t,"[Invalid Chunked Response]"),Mc(n),sp(n))}function zE(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?E0:(t=Number(e.substring(t,r)),isNaN(t)?qE:(r+=1)+t>e.length?E0:(e=e.substr(r,t),n.C=r+t,e))}function fl(n){n.Y=Date.now()+n.P,WE(n,n.P)}function WE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=hl(Mr(n.eb,n),e)}function o_(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function sp(n){0==n.l.G||n.I||SD(n.l,n)}function Mc(n){o_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,uh(n.W),_0(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function C0(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||cp(t.i,n)))if(t.I=n.N,!n.J&&cp(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(E){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=hl(Mr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;__(t),g_(t)}gu(t),Ei(18)}if(1>=eC(t.i)&&t.ka){try{t.ka()}catch(E){}t.ka=void 0}}else gh(t,11)}else if((n.J||t.g==n)&&__(t),!Hm(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.U=E[0],E=E[1],2==t.G)if("c"==E[0]){t.J=E[1],t.la=E[2];const D=E[3];null!=D&&(t.ma=D,t.h.info("VER="+t.ma));const x=E[4];null!=x&&(t.za=x,t.h.info("SVER="+t.za));const N=E[5];null!=N&&"number"==typeof N&&0<N&&(t.K=r=1.5*N,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const V=n.g;if(V){const B=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var a=r.i;!a.g&&(ri(B,"spdy")||ri(B,"quic")||ri(B,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(dp(a,a.h),a.h=null))}if(r.D){const re=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;re&&(r.sa=re,bn(r.F,r.D,re))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=y_(r,r.H?r.la:null,r.W),d.J){x0(r.i,d);var f=d,_=r.K;_&&f.setTimeout(_),f.B&&(o_(f),fl(f)),r.g=d}else F0(r);0<t.l.length&&m_(t)}else"stop"!=E[0]&&"close"!=E[0]||gh(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?gh(t,7):p_(t):"noop"!=E[0]&&t.j&&t.j.wa(E),t.A=0)}dh(4)}catch(E){}}function I0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Gv(n)||"string"==typeof n)Wv(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Gv(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function KE(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Gv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function fh(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof fh)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function hu(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Pc(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Pc(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Pc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(st=rp.prototype).setTimeout=function(n){this.P=n},st.gb=function(n){n=n.target;const e=this.L;e&&3==wa(n)?e.l():this.Ia(n)},st.Ia=function(n){try{if(n==this.g)e:{const D=wa(this.g);var e=this.g.Da();const x=this.g.ba();if(!(3>D)&&(3!=D||Zm||this.g&&(this.h.h||this.g.ga()||h_(this.g)))){this.I||4!=D||7==e||dh(8==e||0>=x?3:2),o_(this);var t=this.g.ba();this.N=t;t:if(GE(this)){var r=h_(this.g);n="";var i=r.length,a=4==wa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Mc(this),sp(this);var d="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function cD(n,e,t,r,i,a,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+d})}(this.j,this.u,this.A,this.m,this.X,D,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hm(f)){var E=f;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,Ei(12),Mc(this),sp(this);break e}ch(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,C0(this,t)}this.U?(ZE(this,D,d),Zm&&this.i&&3==D&&(m0(this.V,this.W,"tick",this.fb),this.W.start())):(ch(this.j,this.m,d,null),C0(this,d)),4==D&&Mc(this),this.i&&!this.I&&(4==D?SD(this.l,this):(this.i=!1,fl(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Ei(12)):(this.o=0,Ei(13)),Mc(this),sp(this)}}}catch(D){}},st.fb=function(){if(this.g){var n=wa(this.g),e=this.g.ga();this.C<e.length&&(o_(this),ZE(this,n,e),this.i&&4!=n&&fl(this))}},st.cancel=function(){this.I=!0,Mc(this)},st.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function dD(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(dh(3),Ei(17)),Mc(this),this.o=2,sp(this)):WE(this,this.Y-n)},(st=fh.prototype).R=function(){hu(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},st.T=function(){return hu(this),this.g.concat()},st.get=function(n,e){return Pc(this.h,n)?this.h[n]:e},st.set=function(n,e){Pc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},st.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var T0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function fu(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof fu){this.g=void 0!==e?e:n.g,op(this,n.j),this.s=n.s,a_(this,n.i),ph(this,n.m),this.l=n.l,e=n.h;var t=new up;t.i=e.i,e.g&&(t.g=new fh(e.g),t.h=e.h),YE(this,t),this.o=n.o}else n&&(t=String(n).match(T0))?(this.g=!!e,op(this,t[1]||"",!0),this.s=lp(t[2]||""),a_(this,t[3]||"",!0),ph(this,t[4]),this.l=lp(t[5]||"",!0),YE(this,t[6]||"",!0),this.o=lp(t[7]||"")):(this.g=!!e,this.h=new up(null,this.g))}function pl(n){return new fu(n)}function op(n,e,t){n.j=t?lp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function a_(n,e,t){n.i=t?lp(e,!0):e}function ph(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function YE(n,e,t){e instanceof up?(n.h=e,function bD(n,e){e&&!n.j&&(pu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(QE(this,r),S0(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=kc(e,vD)),n.h=new up(e,n.g))}function bn(n,e,t){n.h.set(e,t)}function ap(n){return bn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function lp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function kc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,mD),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function mD(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}fu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(kc(e,D0,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(kc(e,D0,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(kc(t,"/"==t.charAt(0)?yD:_D,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",kc(t,wD)),n.join("")};var D0=/[#\/\?@]/g,_D=/[#\?:]/g,yD=/[#\?]/g,vD=/[#\?@]/g,wD=/#/g;function up(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function pu(n){n.g||(n.g=new fh,n.h=0,n.i&&function fD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function QE(n,e){pu(n),e=Oc(n,e),Pc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Pc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&hu(n)))}function JE(n,e){return pu(n),e=Oc(n,e),Pc(n.g.h,e)}function S0(n,e,t){QE(n,e),0<t.length&&(n.i=null,n.g.set(Oc(n,e),Kv(t)),n.h+=t.length)}function Oc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function A0(n){this.l=n||CD,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ea&&Rt.g.Ea()&&Rt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(st=up.prototype).add=function(n,e){pu(this),this.i=null,n=Oc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},st.forEach=function(n,e){pu(this),this.g.forEach(function(t,r){Wv(t,function(i){n.call(e,i,r,this)},this)},this)},st.T=function(){pu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},st.R=function(n){pu(this);var e=[];if("string"==typeof n)JE(this,n)&&(e=DE(e,this.g.get(Oc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=DE(e,n[t])}return e},st.set=function(n,e){return pu(this),this.i=null,JE(this,n=Oc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},st.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},st.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var d=i;""!==r[a]&&(d+="="+encodeURIComponent(String(r[a]))),n.push(d)}}return this.i=n.join("&")};var CD=10;function XE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function eC(n){return n.h?1:n.g?n.g.size:0}function cp(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function dp(n,e){n.g?n.g.add(e):n.h=e}function x0(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function l_(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Kv(n.i)}function M0(){}function ID(){this.g=new M0}function P0(n,e,t){const r=t||"";try{I0(n,function(i,a){let d=i;zf(i)&&(d=NE(i)),e.push(r+a+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function hp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function fp(n){this.l=n.$b||null,this.j=n.ib||!1}function pp(n,e){jr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=k0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}A0.prototype.cancel=function(){if(this.i=l_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},M0.prototype.stringify=function(n){return Rt.JSON.stringify(n,void 0)},M0.prototype.parse=function(n){return Rt.JSON.parse(n,void 0)},ni(fp,v0),fp.prototype.g=function(){return new pp(this.l,this.j)},fp.prototype.i=function(n){return function(){return n}}({}),ni(pp,jr);var k0=0;function O0(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function u_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,gp(n)}function gp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(st=pp.prototype).open=function(n,e){if(this.readyState!=k0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,gp(this)},st.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Rt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},st.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,u_(this)),this.readyState=k0},st.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,gp(this)),this.g&&(this.readyState=3,gp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Rt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;O0(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},st.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?u_(this):gp(this),3==this.readyState&&O0(this)}},st.Ua=function(n){this.g&&(this.response=this.responseText=n,u_(this))},st.Ta=function(n){this.g&&(this.response=n,u_(this))},st.ha=function(){this.g&&u_(this)},st.setRequestHeader=function(n,e){this.v.append(n,e)},st.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},st.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(pp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var c_=Rt.JSON.parse;function gr(n){jr.call(this),this.headers=new fh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Rc,this.K=this.L=!1}ni(gr,jr);var Rc="",mp=/^https?$/i,DD=["POST","PUT"];function tC(n){return"content-type"==n.toLowerCase()}function nC(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,rC(n),d_(n)}function rC(n){n.D||(n.D=!0,ii(n,"complete"),ii(n,"error"))}function iC(n){if(n.h&&void 0!==jm&&(!n.C[1]||4!=wa(n)||2!=n.ba()))if(n.v&&4==wa(n))Pn(n.Fa,0,n);else if(ii(n,"readystatechange"),4==wa(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(T0)[1]||null;if(!i&&Rt.self&&Rt.self.location){var a=Rt.self.location.protocol;i=a.substr(0,a.length-1)}r=!mp.test(i?i.toLowerCase():"")}t=r}if(t)ii(n,"complete"),ii(n,"success");else{n.m=6;try{var d=2<wa(n)?n.g.statusText:""}catch(_){d=""}n.j=d+" ["+n.ba()+"]",rC(n)}}finally{d_(n)}}}function d_(n,e){if(n.g){R0(n);const t=n.g,r=n.C[0]?al:null;n.g=null,n.C=null,e||ii(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function R0(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function wa(n){return n.g?n.g.readyState:0}function h_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Rc:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Nc(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function f_(n){let e="";return $m(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):bn(n,e,t))}function _p(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function N0(n){this.za=0,this.l=[],this.h=new ep,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=_p("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=_p("baseRetryDelayMs",5e3,n),this.$a=_p("retryDelaySeedMs",1e4,n),this.Ya=_p("forwardChannelMaxRetries",2,n),this.ra=_p("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new A0(n&&n.concurrentRequestLimit),this.Ca=new ID,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function p_(n){if(sC(n),3==n.G){var e=n.V++,t=pl(n.F);bn(t,"SID",n.J),bn(t,"RID",e),bn(t,"TYPE","terminate"),vp(n,t),(e=new rp(n,n.h,e,void 0)).K=2,e.v=ap(pl(t)),t=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(t=Rt.navigator.sendBeacon(e.v.toString(),"")),!t&&Rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=B0(e.l,null),e.g.ea(e.v)),e.F=Date.now(),fl(e)}U0(n)}function g_(n){n.g&&(aC(n),n.g.cancel(),n.g=null)}function sC(n){g_(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),__(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function yp(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&m_(n)}function m_(n){XE(n.i)||n.m||(n.m=!0,Et(n.Ha,n),n.C=0)}function oC(n,e){var t;t=e?e.m:n.V++;const r=pl(n.F);bn(r,"SID",n.J),bn(r,"RID",t),bn(r,"AID",n.U),vp(n,r),n.o&&n.s&&Nc(r,n.o,n.s),t=new rp(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Fc(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),dp(n.i,t),s_(t,r,e)}function vp(n,e){n.j&&I0({},function(t,r){bn(e,r,t)})}function Fc(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Mr(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const d=["count="+t];-1==a?0<t?(a=i[0].h,d.push("ofs="+a)):a=0:d.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let E=i[_].h;const D=i[_].g;if(E-=a,0>E)a=Math.max(0,i[_].h-100),f=!1;else try{P0(D,d,"req"+E+"_")}catch(x){r&&r(D)}}if(f){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function F0(n){n.g||n.u||(n.Y=1,Et(n.Ga,n),n.A=0)}function gu(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=hl(Mr(n.Ga,n),V0(n,n.A)),n.A++,0))}function aC(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function L0(n){n.g=new rp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=pl(n.oa);bn(e,"RID","rpc"),bn(e,"SID",n.J),bn(e,"CI",n.N?"0":"1"),bn(e,"AID",n.U),vp(n,e),bn(e,"TYPE","xmlhttp"),n.o&&n.s&&Nc(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=ap(pl(e)),t.s=null,t.U=!0,ip(t,n)}function __(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function SD(n,e){var t=null;if(n.g==e){__(n),aC(n),n.g=null;var r=2}else{if(!cp(n.i,e))return;t=e.D,x0(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ii(r=t_(),new jE(r,t,e,i)),m_(n)}else F0(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function wM(n,e){return!(eC(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=hl(Mr(n.Ha,n,e),V0(n,n.C)),n.C++,0)))}(n,e)||2==r&&gu(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:gh(n,5);break;case 4:gh(n,10);break;case 3:gh(n,6);break;default:gh(n,2)}}function V0(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function gh(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Mr(n.jb,n);t||(t=new fu("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||op(t,"https"),ap(t)),function TD(n,e){const t=new ep;if(Rt.Image){const r=new Image;r.onload=Ss(hp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ss(hp,t,r,"TestLoadImage: error",!1,e),r.onabort=Ss(hp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ss(hp,t,r,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ei(2);n.G=0,n.j&&n.j.va(e),U0(n),sC(n)}function U0(n){n.G=0,n.I=-1,n.j&&((0!=l_(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Kv(n.l),n.l.length=0),n.j.ua())}function y_(n,e,t){let r=function pD(n){return n instanceof fu?pl(n):new fu(n,void 0)}(t);if(""!=r.i)e&&a_(r,e+"."+r.i),ph(r,r.m);else{const i=Rt.location;r=function gD(n,e,t,r){var i=new fu(null,void 0);return n&&op(i,n),e&&a_(i,e),t&&ph(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&$m(n.aa,function(i,a){bn(r,a,i)}),t=n.sa,(e=n.D)&&t&&bn(r,e,t),bn(r,"VER",n.ma),vp(n,r),r}function B0(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gr(t&&n.Ba&&!n.qa?new fp({ib:!0}):n.qa)).L=n.H,e}function j0(){}function wp(){if(ul&&!(10<=Number(nD)))throw Error("Environmental error: no available transport.")}function As(n,e){jr.call(this),this.g=new N0(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Hm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Lc(this)}function H0(n){n_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function lC(){b0.call(this),this.status=1}function Lc(n){this.g=n}(st=gr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():r_.g(),this.C=function $E(n){return n.h||(n.h=n.i())}(this.u?this.u:r_),this.g.onreadystatechange=Mr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void nC(this,a)}n=t||"";const i=new fh(this.headers);r&&I0(r,function(a,d){i.set(d,a)}),r=function TE(n){e:{var e=tC;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Rt.FormData&&n instanceof Rt.FormData,!(0<=io(DD,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,d){this.g.setRequestHeader(d,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{R0(this),0<this.B&&((this.K=function vM(n){return ul&&function tD(){return function ME(n){var e=eD;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=SE(String(Kf)).split("."),t=SE("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",a=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=Sc(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||Sc(0==i[2].length,0==a[2].length)||Sc(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mr(this.pa,this)):this.A=Pn(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){nC(this,a)}},st.pa=function(){void 0!==jm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ii(this,"timeout"),this.abort(8))},st.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ii(this,"complete"),ii(this,"abort"),d_(this))},st.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),d_(this,!0)),gr.Z.M.call(this)},st.Fa=function(){this.s||(this.F||this.v||this.l?iC(this):this.cb())},st.cb=function(){iC(this)},st.ba=function(){try{return 2<wa(this)?this.g.status:-1}catch(n){return-1}},st.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},st.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),c_(e)}},st.Da=function(){return this.m},st.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(st=N0.prototype).ma=8,st.G=1,st.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},st.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new rp(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=Qv(a),xE(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Fc(this,i,e),bn(t=pl(this.F),"RID",n),bn(t,"CVER",22),this.D&&bn(t,"X-HTTP-Session-Id",this.D),vp(this,t),this.o&&a&&Nc(t,this.o,a),dp(this.i,i),this.Ra&&bn(t,"TYPE","init"),this.ja?(bn(t,"$req",e),bn(t,"SID","null"),i.$=!0,s_(i,t,null)):s_(i,t,e),this.G=2}}else 3==this.G&&(n?oC(this,n):0==this.l.length||XE(this.i)||oC(this))},st.Ga=function(){if(this.u=null,L0(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=hl(Mr(this.bb,this),n)}},st.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ei(10),g_(this),L0(this))},st.ab=function(){null!=this.v&&(this.v=null,g_(this),gu(this),Ei(19))},st.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ei(2)):(this.h.info("Failed to ping google.com"),Ei(1))},(st=j0.prototype).xa=function(){},st.wa=function(){},st.va=function(){},st.ua=function(){},st.Oa=function(){},wp.prototype.g=function(n,e){return new As(n,e)},ni(As,jr),As.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Et(Mr(n.hb,n,e))),Ei(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=y_(n,null,n.W),m_(n)},As.prototype.close=function(){p_(this.g)},As.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,yp(this.g,e)}else this.v?((e={}).__data__=NE(n),yp(this.g,e)):yp(this.g,n)},As.prototype.M=function(){this.g.j=null,delete this.j,p_(this.g),delete this.g,As.Z.M.call(this)},ni(H0,n_),ni(lC,b0),ni(Lc,j0),Lc.prototype.xa=function(){ii(this.g,"a")},Lc.prototype.wa=function(n){ii(this.g,new H0(n))},Lc.prototype.va=function(n){ii(this.g,new lC(n))},Lc.prototype.ua=function(){ii(this.g,"b")},wp.prototype.createWebChannel=wp.prototype.g,As.prototype.send=As.prototype.u,As.prototype.open=As.prototype.m,As.prototype.close=As.prototype.close,du.NO_ERROR=0,du.TIMEOUT=8,du.HTTP_ERROR=6,HE.COMPLETE="complete",w0.EventType=hh,hh.OPEN="a",hh.CLOSE="b",hh.ERROR="c",hh.MESSAGE="d",jr.prototype.listen=jr.prototype.N,gr.prototype.listenOnce=gr.prototype.O,gr.prototype.getLastError=gr.prototype.La,gr.prototype.getLastErrorCode=gr.prototype.Da,gr.prototype.getStatus=gr.prototype.ba,gr.prototype.getResponseJson=gr.prototype.Qa,gr.prototype.getResponseText=gr.prototype.ga,gr.prototype.send=gr.prototype.ea;var AD=ya.createWebChannelTransport=function(){return new wp},xD=ya.getStatEventTarget=function(){return t_()},$0=ya.ErrorCode=du,bp=ya.EventType=HE,uC=ya.Event=xc,q0=ya.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},cC=ya.FetchXmlHttpFactory=fp,Ep=ya.WebChannel=w0,dC=ya.XhrIo=gr;const G0="@firebase/firestore";class si{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}si.UNAUTHENTICATED=new si(null),si.GOOGLE_CREDENTIALS=new si("google-credentials-uid"),si.FIRST_PARTY=new si("first-party-uid"),si.MOCK_USER=new si("mock-user");let Vc="9.8.0";const mu=new iu.Yd("@firebase/firestore");function Z0(){return mu.logLevel}function Fe(n,...e){if(mu.logLevel<=iu.in.DEBUG){const t=e.map(Ip);mu.debug(`Firestore (${Vc}): ${n}`,...t)}}function kn(n,...e){if(mu.logLevel<=iu.in.ERROR){const t=e.map(Ip);mu.error(`Firestore (${Vc}): ${n}`,...t)}}function Cp(n,...e){if(mu.logLevel<=iu.in.WARN){const t=e.map(Ip);mu.warn(`Firestore (${Vc}): ${n}`,...t)}}function Ip(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Je(n="Unexpected state"){const e=`FIRESTORE (${Vc}) INTERNAL ASSERTION FAILED: `+n;throw kn(e),new Error(e)}function kt(n,e){n||Je()}function Ge(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Mt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Tp{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class v_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(si.UNAUTHENTICATED))}shutdown(){}}class PD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kD{constructor(e){this.t=e,this.currentUser=si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let d=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Hr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const E=d;e.enqueueRetryable((0,ve.Z)(function*(){yield E.promise,yield a(r.currentUser)}))},_=E=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(E=>_(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?_(E):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Hr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt("string"==typeof r.accessToken),new Tp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kt(null===e||"string"==typeof e),new si(e)}}class hC{constructor(e,t,r){this.type="FirstParty",this.user=si.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class fC{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new hC(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(si.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class w_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pC{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const d=a.token!==this.p;return this.p=a.token,Fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(kt("string"==typeof t.token),this.p=t.token,new w_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class xs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function EM(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}xs.A=-1;class b_{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=EM(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Ft(n,e){return n<e?-1:n>e?1:0}function Uc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function E_(n){return n+"\0"}class jn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jn.fromMillis(Date.now())}static fromDate(e){return jn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new jn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new jn(0,0))}static max(){return new At(new jn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function gC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Bc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class mh{constructor(e,t,r){void 0===t?t=0:t>e.length&&Je(),void 0===r?r=e.length-t:r>e.length-t&&Je(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===mh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),d=t.get(i);if(a<d)return-1;if(a>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Wt extends mh{construct(e,t,r){return new Wt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Wt(t)}static emptyPath(){return new Wt([])}}const _C=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mr extends mh{construct(e,t,r){return new mr(e,t,r)}static isValidIdentifier(e){return _C.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Oe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Oe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Oe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(a(),i++)}if(a(),d)throw new Oe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mr(t)}static emptyPath(){return new mr([])}}class jc{constructor(e){this.fields=e,e.sort(mr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Pr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Pr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Pr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const vC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gl(n){if(kt(!!n),"string"==typeof n){let e=0;const t=vC.exec(n);if(kt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qn(n.seconds),nanos:Qn(n.nanos)}}function Qn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function _u(n){return"string"==typeof n?Pr.fromBase64String(n):Pr.fromUint8Array(n)}function C_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ci(n){const e=n.mapValue.fields.__previous_value__;return C_(e)?Ci(e):e}function ba(n){const e=gl(n.mapValue.fields.__local_write_time__.timestampValue);return new jn(e.seconds,e.nanos)}class OD{constructor(e,t,r,i,a,d,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class ml{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ml("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ml&&e.projectId===this.projectId&&e.database===this.database}}function I_(n){return null==n}function _l(n){return 0===n&&1/n==-1/0}function wC(n){return"number"==typeof n&&Number.isInteger(n)&&!_l(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Wt.fromString(e))}static fromName(e){return new $e(Wt.fromString(e).popFirst(5))}static empty(){return new $e(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Wt(e.slice()))}}const yu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Dp={nullValue:"NULL_VALUE"};function Hc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?C_(n)?4:D_(n)?9007199254740991:10:Je()}function Ea(n,e){if(n===e)return!0;const t=Hc(n);if(t!==Hc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ba(n).isEqual(ba(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=gl(r.timestampValue),d=gl(i.timestampValue);return a.seconds===d.seconds&&a.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,_u(n.bytesValue).isEqual(_u(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Qn(r.geoPointValue.latitude)===Qn(i.geoPointValue.latitude)&&Qn(r.geoPointValue.longitude)===Qn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Qn(r.integerValue)===Qn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Qn(r.doubleValue),d=Qn(i.doubleValue);return a===d?_l(a)===_l(d):isNaN(a)&&isNaN(d)}return!1}(n,e);case 9:return Uc(n.arrayValue.values||[],e.arrayValue.values||[],Ea);case 10:return function(r,i){const a=r.mapValue.fields||{},d=i.mapValue.fields||{};if(gC(a)!==gC(d))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===d[f]||!Ea(a[f],d[f])))return!1;return!0}(n,e);default:return Je()}var i}function $c(n,e){return void 0!==(n.values||[]).find(t=>Ea(t,e))}function yl(n,e){if(n===e)return 0;const t=Hc(n),r=Hc(e);if(t!==r)return Ft(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ft(n.booleanValue,e.booleanValue);case 2:return function(i,a){const d=Qn(i.integerValue||i.doubleValue),f=Qn(a.integerValue||a.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return W0(n.timestampValue,e.timestampValue);case 4:return W0(ba(n),ba(e));case 5:return Ft(n.stringValue,e.stringValue);case 6:return function(i,a){const d=_u(i),f=_u(a);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const d=i.split("/"),f=a.split("/");for(let _=0;_<d.length&&_<f.length;_++){const E=Ft(d[_],f[_]);if(0!==E)return E}return Ft(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const d=Ft(Qn(i.latitude),Qn(a.latitude));return 0!==d?d:Ft(Qn(i.longitude),Qn(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const d=i.values||[],f=a.values||[];for(let _=0;_<d.length&&_<f.length;++_){const E=yl(d[_],f[_]);if(E)return E}return Ft(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===yu.mapValue&&a===yu.mapValue)return 0;if(i===yu.mapValue)return 1;if(a===yu.mapValue)return-1;const d=i.fields||{},f=Object.keys(d),_=a.fields||{},E=Object.keys(_);f.sort(),E.sort();for(let D=0;D<f.length&&D<E.length;++D){const x=Ft(f[D],E[D]);if(0!==x)return x;const N=yl(d[f[D]],_[E[D]]);if(0!==N)return N}return Ft(f.length,E.length)}(n.mapValue,e.mapValue);default:throw Je()}}function W0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ft(n,e);const t=gl(n),r=gl(e),i=Ft(t.seconds,r.seconds);return 0!==i?i:Ft(t.nanos,r.nanos)}function vl(n){return Sp(n)}function Sp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=gl(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?_u(n.bytesValue).toBase64():"referenceValue"in n?$e.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const d of r.values||[])a?a=!1:i+=",",i+=Sp(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",d=!0;for(const f of i)d?d=!1:a+=",",a+=`${f}:${Sp(r.fields[f])}`;return a+"}"}(n.mapValue):Je();var e}function _h(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function T_(n){return!!n&&"integerValue"in n}function Ap(n){return!!n&&"arrayValue"in n}function K0(n){return!!n&&"nullValue"in n}function xp(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mp(n){return!!n&&"mapValue"in n}function Pp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Bc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Pp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function D_(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Y0(n){return"nullValue"in n?Dp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?_h(ml.empty(),$e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Je()}function CM(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?_h(ml.empty(),$e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?yu:Je()}function bC(n,e){const t=yl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function EC(n,e){const t=yl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class oi{constructor(e){this.value=e}static empty(){return new oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Mp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pp(t)}setAll(e){let t=mr.emptyPath(),r={},i=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}d?r[f.lastSegment()]=Pp(d):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Mp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ea(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Mp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Bc(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new oi(Pp(this.value))}}function Q0(n){const e=[];return Bc(n.fields,(t,r)=>{const i=new mr([t]);if(Mp(r)){const a=Q0(r.mapValue).fields;if(0===a.length)e.push(i);else for(const d of a)e.push(i.child(d))}else e.push(i)}),new jc(e)}class En{constructor(e,t,r,i,a,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=d}static newInvalidDocument(e){return new En(e,0,At.min(),At.min(),oi.empty(),0)}static newFoundDocument(e,t,r){return new En(e,1,t,At.min(),r,0)}static newNoDocument(e,t){return new En(e,2,t,At.min(),oi.empty(),0)}static newUnknownDocument(e,t){return new En(e,3,t,At.min(),oi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kp{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function S_(n){return n.fields.find(e=>2===e.kind)}function qc(n){return n.fields.filter(e=>2!==e.kind)}kp.UNKNOWN_ID=-1;class A_{constructor(e,t){this.fieldPath=e,this.kind=t}}class yh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new yh(0,so.min())}}function CC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=At.fromTimestamp(1e9===r?new jn(t+1,0):new jn(t,r));return new so(i,$e.empty(),e)}function IC(n){return new so(n.readTime,n.key,-1)}class so{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new so(At.min(),$e.empty(),-1)}static max(){return new so(At.max(),$e.empty(),-1)}}function J0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=$e.comparator(n.documentKey,e.documentKey),0!==t?t:Ft(n.largestBatchId,e.largestBatchId))}class Jn{constructor(e,t){this.comparator=e,this.root=t||ai.EMPTY}insert(e,t){return new Jn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ai.BLACK,null,null))}remove(e){return new Jn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ai.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new x_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new x_(this.root,e,this.comparator,!1)}getReverseIterator(){return new x_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new x_(this.root,e,this.comparator,!0)}}class x_{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ai{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:ai.RED,this.left=null!=i?i:ai.EMPTY,this.right=null!=a?a:ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new ai(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ai.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}ai.EMPTY=null,ai.RED=!0,ai.BLACK=!1,ai.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ai(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cn{constructor(e){this.comparator=e,this.data=new Jn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new X0(this.data.getIterator())}getIteratorFrom(e){return new X0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Cn(this.comparator);return t.data=e,t}}class X0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Op(n){return n.hasNext()?n.getNext():void 0}class IM{constructor(e,t=null,r=[],i=[],a=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=d,this.endAt=f,this.P=null}}function RD(n,e=null,t=[],r=[],i=null,a=null,d=null){return new IM(n,e,t,r,i,a,d)}function vh(n){const e=Ge(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+vl(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),I_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>vl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>vl(r)).join(",")),e.P=t}return e.P}function M_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!VD(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Ea(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!xC(n.startAt,e.startAt)&&xC(n.endAt,e.endAt)}function ew(n){return $e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function tw(n,e){return n.filters.filter(t=>t instanceof $r&&t.field.isEqual(e))}function Rp(n,e,t){let r=Dp,i=!0;for(const a of tw(n,e)){let d=Dp,f=!0;switch(a.op){case"<":case"<=":d=Y0(a.value);break;case"==":case"in":case">=":d=a.value;break;case">":d=a.value,f=!1;break;case"!=":case"not-in":d=Dp}bC({value:r,inclusive:i},{value:d,inclusive:f})<0&&(r=d,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];bC({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function ND(n,e,t){let r=yu,i=!0;for(const a of tw(n,e)){let d=yu,f=!0;switch(a.op){case">=":case">":d=CM(a.value),f=!1;break;case"==":case"in":case"<=":d=a.value;break;case"<":d=a.value,f=!1;break;case"!=":case"not-in":d=yu}EC({value:r,inclusive:i},{value:d,inclusive:f})>0&&(r=d,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];EC({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class $r extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new nw(e,t,r):"array-contains"===t?new rw(e,r):"in"===t?new SC(e,r):"not-in"===t?new LD(e,r):"array-contains-any"===t?new AC(e,r):new $r(e,t,r)}static V(e,t,r){return"in"===t?new TC(e,r):new DC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(yl(t,this.value)):null!==t&&Hc(this.value)===Hc(t)&&this.v(yl(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Je()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class nw extends $r{constructor(e,t,r){super(e,t,r),this.key=$e.fromName(r.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.v(t)}}class TC extends $r{constructor(e,t){super(e,"in",t),this.keys=FD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class DC extends $r{constructor(e,t){super(e,"not-in",t),this.keys=FD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function FD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>$e.fromName(r.referenceValue))}class rw extends $r{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ap(t)&&$c(t.arrayValue,this.value)}}class SC extends $r{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&$c(this.value.arrayValue,t)}}class LD extends $r{constructor(e,t){super(e,"not-in",t)}matches(e){if($c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!$c(this.value.arrayValue,t)}}class AC extends $r{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ap(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>$c(this.value.arrayValue,r))}}class Gc{constructor(e,t){this.position=e,this.inclusive=t}}class wh{constructor(e,t="asc"){this.field=e,this.dir=t}}function VD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function P_(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],d=n.position[i];if(r=a.field.isKeyField()?$e.comparator($e.fromName(d.referenceValue),t.key):yl(d,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function xC(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ea(n.position[t],e.position[t]))return!1;return!0}class vu{constructor(e,t=null,r=[],i=[],a=null,d="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=d,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function UD(n,e,t,r,i,a,d,f){return new vu(n,e,t,r,i,a,d,f)}function Np(n){return new vu(n)}function iw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function sw(n){for(const e of n.filters)if(e.S())return e.field;return null}function MC(n){return null!==n.collectionGroup}function bh(n){const e=Ge(n);if(null===e.D){e.D=[];const t=sw(e),r=iw(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new wh(t)),e.D.push(new wh(mr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new wh(mr.keyField(),a))}}}return e.D}function ss(n){const e=Ge(n);if(!e.C)if("F"===e.limitType)e.C=RD(e.path,e.collectionGroup,bh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of bh(e))t.push(new wh(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Gc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Gc(e.startAt.position,e.startAt.inclusive):null;e.C=RD(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function PC(n,e,t){return new vu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ui(n,e){return M_(ss(n),ss(e))&&n.limitType===e.limitType}function kC(n){return`${vh(ss(n))}|lt:${n.limitType}`}function Fp(n){return`Query(target=${function TM(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${vl(r.value)}`;var r}).join(", ")}]`),I_(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>vl(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>vl(t)).join(",")),`Target(${e})`}(ss(n))}; limitType=${n.limitType})`}function ow(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):$e.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,d){const f=P_(i,a,d);return i.inclusive?f<=0:f<0}(t.startAt,bh(t),r)||t.endAt&&!function(i,a,d){const f=P_(i,a,d);return i.inclusive?f>=0:f>0}(t.endAt,bh(t),r)));var t,r}function OC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function k_(n){return(e,t)=>{let r=!1;for(const i of bh(n)){const a=RC(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function RC(n,e,t){const r=n.field.isKeyField()?$e.comparator(e.key,t.key):function(i,a,d){const f=a.data.field(i),_=d.data.field(i);return null!==f&&null!==_?yl(f,_):Je()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Je()}}function aw(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_l(e)?"-0":e}}function NC(n){return{integerValue:""+n}}function lw(n,e){return wC(e)?NC(e):aw(n,e)}class O_{constructor(){this._=void 0}}function jD(n,e,t){return n instanceof oo?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof wu?uw(n,e):n instanceof Zc?$D(n,e):function(r,i){const a=R_(r,i),d=FC(a)+FC(r.k);return T_(a)&&T_(r.k)?NC(d):aw(r.M,d)}(n,e)}function HD(n,e,t){return n instanceof wu?uw(n,e):n instanceof Zc?$D(n,e):t}function R_(n,e){return n instanceof Eh?T_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class oo extends O_{}class wu extends O_{constructor(e){super(),this.elements=e}}function uw(n,e){const t=LC(e);for(const r of n.elements)t.some(i=>Ea(i,r))||t.push(r);return{arrayValue:{values:t}}}class Zc extends O_{constructor(e){super(),this.elements=e}}function $D(n,e){let t=LC(e);for(const r of n.elements)t=t.filter(i=>!Ea(i,r));return{arrayValue:{values:t}}}class Eh extends O_{constructor(e,t){super(),this.M=e,this.k=t}}function FC(n){return Qn(n.integerValue||n.doubleValue)}function LC(n){return Ap(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ch{constructor(e,t){this.field=e,this.transform=t}}class GD{constructor(e,t){this.version=e,this.transformResults=t}}class kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Lp{}function ZD(n,e,t){n instanceof Th?function(r,i,a){const d=r.value.clone(),f=hw(r.fieldTransforms,i,a.transformResults);d.setAll(f),i.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,e,t):n instanceof zc?function(r,i,a){if(!Ih(r.precondition,i))return void i.convertToUnknownDocument(a.version);const d=hw(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(dw(r)),f.setAll(d),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function cw(n,e,t){var i;n instanceof Th?function(r,i,a){if(!Ih(r.precondition,i))return;const d=r.value.clone(),f=UC(r.fieldTransforms,a,i);d.setAll(f),i.convertToFoundDocument(F_(i),d).setHasLocalMutations()}(n,e,t):n instanceof zc?function(r,i,a){if(!Ih(r.precondition,i))return;const d=UC(r.fieldTransforms,a,i),f=i.data;f.setAll(dw(r)),f.setAll(d),i.convertToFoundDocument(F_(i),f).setHasLocalMutations()}(n,e,t):Ih(n.precondition,i=e)&&i.convertToNoDocument(At.min())}function VC(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=R_(r.transform,i||null);null!=a&&(null==t&&(t=oi.empty()),t.set(r.field,a))}return t||null}function N_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Uc(t,r,(i,a)=>function qD(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof wu&&r instanceof wu||t instanceof Zc&&r instanceof Zc?Uc(t.elements,r.elements,Ea):t instanceof Eh&&r instanceof Eh?Ea(t.k,r.k):t instanceof oo&&r instanceof oo);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function F_(n){return n.isFoundDocument()?n.version:At.min()}class Th extends Lp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class zc extends Lp{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function dw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function hw(n,e,t){const r=new Map;kt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],d=a.transform,f=e.data.field(a.field);r.set(a.field,HD(d,f,t[i]))}return r}function UC(n,e,t){const r=new Map;for(const i of n){const a=i.transform,d=t.data.field(i.field);r.set(i.field,jD(a,d,e))}return r}class Vp extends Lp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class BC extends Lp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class DM{constructor(e){this.count=e}}var or,Yt;function jC(n){switch(n){default:return Je();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function HC(n){if(void 0===n)return kn("GRPC error has no .code"),de.UNKNOWN;switch(n){case or.OK:return de.OK;case or.CANCELLED:return de.CANCELLED;case or.UNKNOWN:return de.UNKNOWN;case or.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case or.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case or.INTERNAL:return de.INTERNAL;case or.UNAVAILABLE:return de.UNAVAILABLE;case or.UNAUTHENTICATED:return de.UNAUTHENTICATED;case or.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case or.NOT_FOUND:return de.NOT_FOUND;case or.ALREADY_EXISTS:return de.ALREADY_EXISTS;case or.PERMISSION_DENIED:return de.PERMISSION_DENIED;case or.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case or.ABORTED:return de.ABORTED;case or.OUT_OF_RANGE:return de.OUT_OF_RANGE;case or.UNIMPLEMENTED:return de.UNIMPLEMENTED;case or.DATA_LOSS:return de.DATA_LOSS;default:return Je()}}(Yt=or||(or={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";class Wc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bc(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return mC(this.inner)}size(){return this.innerSize}}const SM=new Jn($e.comparator);function Vo(){return SM}const AM=new Jn($e.comparator);function $C(...n){let e=AM;for(const t of n)e=e.insert(t.key,t);return e}function Up(){return new Wc(n=>n.toString(),(n,e)=>n.isEqual(e))}const L_=new Jn($e.comparator),zD=new Cn($e.comparator);function cn(...n){let e=zD;for(const t of n)e=e.add(t);return e}const qC=new Cn(Ft);function Ca(){return qC}class Dh{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Kc.createSynthesizedTargetChangeForCurrentChange(e,t)),new Dh(At.min(),r,Ca(),Vo(),cn())}}class Kc{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Kc(Pr.EMPTY_BYTE_STRING,t,cn(),cn(),cn())}}class Sh{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class GC{constructor(e,t){this.targetId=e,this.$=t}}class V_{constructor(e,t,r=Pr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class U_{constructor(){this.B=0,this.L=KD(),this.U=Pr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=cn(),t=cn(),r=cn();return this.L.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Je()}}),new Kc(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=KD()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class B_{constructor(e){this.nt=e,this.st=new Map,this.it=Vo(),this.rt=WD(),this.ot=new Cn(Ft)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:Je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const a=i.target;if(ew(a))if(0===r){const d=new $e(a.path);this.ct(t,d,En.newNoDocument(d,At.min()))}else kt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,d)=>{const f=this.wt(d);if(f){if(a.current&&ew(f.target)){const _=new $e(f.target.path);null!==this.it.get(_)||this.It(d,_)||this.ct(d,_,En.newNoDocument(_,e))}a.j&&(t.set(d,a.H()),a.J())}});let r=cn();this.rt.forEach((a,d)=>{let f=!0;d.forEachWhile(_=>{const E=this.wt(_);return!E||2===E.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.it.forEach((a,d)=>d.setReadTime(e));const i=new Dh(e,t,this.ot,this.it,r);return this.it=Vo(),this.rt=WD(),this.ot=new Cn(Ft),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new U_,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Cn(Ft),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new U_),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function WD(){return new Jn($e.comparator)}function KD(){return new Jn($e.comparator)}const xM={asc:"ASCENDING",desc:"DESCENDING"},MM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ZC{constructor(e,t){this.databaseId=e,this.N=t}}function Bp(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zC(n,e){return n.N?e.toBase64():e.toUint8Array()}function YD(n,e){return Bp(n,e.toTimestamp())}function qr(n){return kt(!!n),At.fromTimestamp(function(e){const t=gl(e);return new jn(t.seconds,t.nanos)}(n))}function j_(n,e){return(t=n,new Wt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function fw(n){const e=Wt.fromString(n);return kt(o(e)),e}function Ah(n,e){return j_(n.databaseId,e.path)}function Ia(n,e){const t=fw(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $e(QD(t))}function pw(n,e){return j_(n.databaseId,e)}function gw(n){const e=fw(n);return 4===e.length?Wt.emptyPath():QD(e)}function Yc(n){return new Wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function QD(n){return kt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function mw(n,e,t){return{name:Ah(n,e),fields:t.value.mapValue.fields}}function H_(n,e,t){const r=Ia(n,e.name),i=qr(e.updateTime),a=new oi({mapValue:{fields:e.fields}}),d=En.newFoundDocument(r,i,a);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function $_(n,e){let t;if(e instanceof Th)t={update:mw(n,e.key,e.value)};else if(e instanceof Vp)t={delete:Ah(n,e.key)};else if(e instanceof zc)t={update:mw(n,e.key,e.data),updateMask:s(e.fieldMask)};else{if(!(e instanceof BC))return Je();t={verify:Ah(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const d=a.transform;if(d instanceof oo)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof wu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Zc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Eh)return{fieldPath:a.field.canonicalString(),increment:d.k};throw Je()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:YD(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Je()),t;var i}function WC(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?kr.updateTime(qr(i.updateTime)):void 0!==i.exists?kr.exists(i.exists):kr.none():kr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,d){let f=null;"setToServerValue"in d?(kt("REQUEST_TIME"===d.setToServerValue),f=new oo):"appendMissingElements"in d?f=new wu(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new Zc(d.removeAllFromArray.values||[]):"increment"in d?f=new Eh(a,d.increment):Je();const _=mr.fromServerFormat(d.fieldPath);return new Ch(_,f)}(n,i)):[];var i;if(e.update){const i=Ia(n,e.update.name),a=new oi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new jc((e.updateMask.fieldPaths||[]).map(E=>mr.fromServerFormat(E)));return new zc(i,a,d,t,r)}return new Th(i,a,t,r)}if(e.delete){const i=Ia(n,e.delete);return new Vp(i,t)}if(e.verify){const i=Ia(n,e.verify);return new BC(i,t)}return Je()}function KC(n,e){return{documents:[pw(n,e.path)]}}function tS(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=pw(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=pw(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const E=_.map(D=>function(x){if("=="===x.op){if(xp(x.value))return{unaryFilter:{field:jp(x.field),op:"IS_NAN"}};if(K0(x.value))return{unaryFilter:{field:jp(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(xp(x.value))return{unaryFilter:{field:jp(x.field),op:"IS_NOT_NAN"}};if(K0(x.value))return{unaryFilter:{field:jp(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jp(x.field),op:iS(x.op),value:x.value}}}(D));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(E=>{return{field:jp((D=E).field),direction:kM(D.dir)};var D})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const d=(E=e.limit,n.N||I_(E)?E:{value:E});var E,f,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function nS(n){let e=gw(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){kt(1===r);const D=t.from[0];D.allDescendants?i=D.collectionId:e=e.child(D.collectionId)}let a=[];t.where&&(a=rS(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(D=>{return new wh(Hp((x=D).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;t.limit&&(f=function(D){let x;return x="object"==typeof D?D.value:D,I_(x)?null:x}(t.limit));let _=null;var D;t.startAt&&(_=new Gc((D=t.startAt).values||[],!!D.before));let E=null;return t.endAt&&(E=function(D){return new Gc(D.values||[],!D.before)}(t.endAt)),UD(e,i,d,a,f,"F",_,E)}function rS(n){return n?void 0!==n.unaryFilter?[RM(n)]:void 0!==n.fieldFilter?[OM(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>rS(e)).reduce((e,t)=>e.concat(t)):Je():[]}function kM(n){return xM[n]}function iS(n){return MM[n]}function jp(n){return{fieldPath:n.canonicalString()}}function Hp(n){return mr.fromServerFormat(n.fieldPath)}function OM(n){return $r.create(Hp(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(n.fieldFilter.op),n.fieldFilter.value)}function RM(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Hp(n.unaryFilter.field);return $r.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Hp(n.unaryFilter.field);return $r.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Hp(n.unaryFilter.field);return $r.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Hp(n.unaryFilter.field);return $r.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}function s(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function o(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function l(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=h(e)),e=c(n.get(t),e);return h(e)}function c(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function h(n){return n+"\x01\x01"}function g(n){const e=n.length;if(kt(e>=2),2===e)return kt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Wt.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const d=n.indexOf("\x01",a);switch((d<0||d>t)&&Je(),n.charAt(d+1)){case"\x01":const f=n.substring(a,d);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,d),i+="\0";break;case"\x11":i+=n.substring(a,d+1);break;default:Je()}a=d+2}return new Wt(r)}const v=["userId","batchId"];function b(n,e){return[n,l(e)]}function C(n,e,t){return[n,l(e),t]}const A={},M=["prefixPath","collectionGroup","readTime","documentId"],F=["prefixPath","collectionGroup","documentId"],j=["collectionGroup","readTime","prefixPath","documentId"],J=["canonicalId","targetId"],be=["targetId","path"],Le=["path","targetId"],qe=["collectionId","parent"],ot=["indexId","uid"],Me=["uid","sequenceNumber"],yt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qt=["indexId","uid","orderedDocumentKey"],dn=["userId","collectionPath","documentId"],Ms=["userId","collectionPath","largestBatchId"],Qc=["userId","collectionGroup","largestBatchId"],q_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_w=[...q_,"documentOverlays"],G_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yw=[...G_,"indexConfiguration","indexState","indexEntries"],Z_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,r)=>{t(e)})}static reject(e){return new he((t,r)=>{r(e)})}static waitFor(e){return new he((t,r)=>{let i=0,a=0,d=!1;e.forEach(f=>{++i,f.next(()=>{++a,d&&a===i&&t()},_=>r(_))}),d=!0,a===i&&t()})}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next(i=>i?he.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}class xh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Hr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new vw(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=sS(r.target.error);this.At.reject(new vw(e,i))}}static open(e,t,r,i){try{return new xh(t,e.transaction(i,r))}catch(a){throw new vw(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new LO(t)}}class Ps{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===Ps.Vt((0,Mt.z$)())&&kn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),qp(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Mt.hl)())return!1;if(Ps.St())return!0;const e=(0,Mt.z$)(),t=Ps.Vt(e),r=0<t&&t<10,i=Ps.Dt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,ve.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=d=>{r(d.target.result)},a.onblocked=()=>{i(new vw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=d=>{const f=d.target.error;i("VersionError"===f.name?new Oe(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Oe(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new vw(e,f))},a.onupgradeneeded=d=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,a.transaction,d.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,ve.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Nt(e);const _=xh.open(a.db,e,d?"readonly":"readwrite",r),E=i(_).next(D=>(_.bt(),D)).catch(D=>(_.abort(D),he.reject(D))).toPromise();return E.catch(()=>{}),yield _.Rt,E}catch(_){const E="FirebaseError"!==_.name&&f<3;if(Fe("SimpleDb","Transaction failed with error:",_.message,"Retrying:",E),a.close(),!E)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class FO{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return qp(this.Ft.delete())}}class vw extends Oe{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function $p(n){return"IndexedDbTransactionError"===n.name}class LO{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),qp(r)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),qp(this.store.add(e))}get(e){return qp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),qp(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),qp(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.Kt(i,(d,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new he((a,d)=>{i.onerror=f=>{d(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new he((i,a)=>{r.onerror=d=>{a(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Qt(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(a,d,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new he((r,i)=>{t.onerror=a=>{const d=sS(a.target.error);i(d)},t.onsuccess=a=>{const d=a.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():r()}):r()}})}Kt(e,t){const r=[];return new he((i,a)=>{e.onerror=d=>{a(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void i();const _=new FO(f),E=t(f.primaryKey,f.value,_);if(E instanceof he){const D=E.catch(x=>(_.done(),he.reject(x)));r.push(D)}_.isDone?i():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>he.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function qp(n){return new he((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=sS(r.target.error);t(i)}})}let NM=!1;function sS(n){const e=Ps.Vt((0,Mt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return NM||(NM=!0,setTimeout(()=>{throw r},0)),r}}return n}class FM extends z_{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Ii(n,e){const t=Ge(n);return Ps.xt(t.Ht,e)}class oS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&ZD(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&cw(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&cw(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(At.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),cn())}isEqual(e){return this.batchId===e.batchId&&Uc(this.mutations,e.mutations,(t,r)=>N_(t,r))&&Uc(this.baseMutations,e.baseMutations,(t,r)=>N_(t,r))}}class aS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){kt(e.mutations.length===r.length);let i=L_;const a=e.mutations;for(let d=0;d<a.length;d++)i=i.insert(a[d].key,r[d].version);return new aS(e,t,r,i)}}class lS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Mh{constructor(e,t,r,i,a=At.min(),d=At.min(),f=Pr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new Mh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Mh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Mh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class LM{constructor(e){this.Jt=e}}function VM(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:YC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Ah(i=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Bp(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Gp(e.version)};else{if(!e.isUnknownDocument())return Je();r.unknownDocument={path:t.path.toArray(),version:Gp(e.version)}}var i,a;return r}function YC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Gp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Zp(n){const e=new jn(n.seconds,n.nanoseconds);return At.fromTimestamp(e)}function W_(n,e){const t=(e.baseMutations||[]).map(a=>WC(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const d=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(d.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>WC(n.Jt,a)),i=jn.fromMillis(e.localWriteTimeMs);return new oS(e.batchId,i,t,r)}function ww(n){const e=Zp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Zp(n.lastLimboFreeSnapshotVersion):At.min();let r;var i;return void 0!==n.query.documents?(kt(1===(i=n.query).documents.length),r=ss(Np(gw(i.documents[0])))):r=ss(nS(n.query)),new Mh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Pr.fromBase64String(n.resumeToken))}function UM(n,e){const t=Gp(e.snapshotVersion),r=Gp(e.lastLimboFreeSnapshotVersion);let i;i=ew(e.target)?KC(n.Jt,e.target):tS(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:vh(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function uS(n){const e=nS({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?PC(e,e.limit,"L"):e}function cS(n,e){return new lS(e.largestBatchId,WC(n.Jt,e.overlayMutation))}function BM(n,e){const t=e.path.lastSegment();return[n,l(e.path.popLast()),t]}class UO{getBundleMetadata(e,t){return jM(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Zp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return jM(e).put({bundleId:(r=t).id,createTime:Gp(qr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return HM(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:uS(i.bundledQuery),readTime:Zp(i.readTime)};var i})}saveNamedQuery(e,t){return HM(e).put({name:(r=t).name,readTime:Gp(qr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function jM(n){return Ii(n,"bundles")}function HM(n){return Ii(n,"namedQueries")}class dS{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new dS(e,t.uid||"")}getOverlay(e,t){return bw(e).get(BM(this.userId,t)).next(r=>r?cS(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((a,d)=>{const f=new lS(t,d);i.push(this.Xt(e,f))}),he.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(l(d.getCollectionPath())));const a=[];return i.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);a.push(bw(e).Qt("collectionPathOverlayIndex",f))}),he.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Up(),a=l(t),d=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return bw(e).qt("collectionPathOverlayIndex",d).next(f=>{for(const _ of f){const E=cS(this.M,_);i.set(E.getKey(),E)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Up();let d;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bw(e).Wt({index:"collectionGroupOverlayIndex",range:f},(_,E,D)=>{const x=cS(this.M,E);a.size()<i||x.largestBatchId===d?(a.set(x.getKey(),x),d=x.largestBatchId):D.done()}).next(()=>a)}Xt(e,t){return bw(e).put(function(r,i,a){const[d,f,_]=BM(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:$_(r.Jt,a.mutation)}}(this.M,this.userId,t))}}function bw(n){return Ii(n,"documentOverlays")}class zp{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Qn(e.integerValue));else if("doubleValue"in e){const r=Qn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),_l(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(_u(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?D_(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Je()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),$e.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function BO(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function $M(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=BO(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}zp.fe=new zp;class jO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=$M(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=$M(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class HO{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class $O{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Ew{constructor(){this.De=new jO,this.Ce=new HO(this.De),this.xe=new $O(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Wp{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Wp(this.indexId,this.documentKey,this.arrayValue,r)}}function Kp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=qM(n.arrayValue,e.arrayValue),0!==t?t:(t=qM(n.directionalValue,e.directionalValue),0!==t?t:$e.comparator(n.documentKey,e.documentKey)))}function qM(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class qO{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=S_(e);if(void 0!==t&&!this.Be(t))return!1;const r=qc(e);let i=0,a=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const d=r[i];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[a++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(a>=this.Me.length||!this.Ue(this.Me[a++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class GO{constructor(){this.qe=new hS}addToCollectionParentIndex(e,t){return this.qe.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(so.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class hS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Cn(Wt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Cn(Wt.comparator)).toArray()}}const QC=new Uint8Array(0);class ZO{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new hS,this.Ge=new Wc(r=>vh(r),(r,i)=>M_(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const a={collectionId:r,parent:l(i)};return GM(e).put(a)}return he.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[E_(t),""],!1,!0);return GM(e).qt(i).next(a=>{for(const d of a){if(d.collectionId!==t)break;r.push(g(d.parent))}return r})}addFieldIndex(e,t){const r=JC(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var a;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=JC(e),i=XC(e),a=Cw(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Cw(e);let i=!0;const a=new Map;return he.forEach(this.Qe(t),d=>this.je(e,d).next(f=>{i&&(i=!!f),a.set(d,f)})).next(()=>{if(i){let d=cn();const f=[];return he.forEach(a,(_,E)=>{var D;Fe("IndexedDbIndexManager",`Using index ${D=_,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(Ze=>`${Ze.fieldPath}:${Ze.kind}`).join(",")}`} to execute ${vh(t)}`);const x=function(Ze,je){const vt=S_(je);if(void 0===vt)return null;for(const Ct of tw(Ze,vt.fieldPath))switch(Ct.op){case"array-contains-any":return Ct.value.arrayValue.values||[];case"array-contains":return[Ct.value]}return null}(E,_),N=function(Ze,je){const vt=new Map;for(const Ct of qc(je))for(const $t of tw(Ze,Ct.fieldPath))switch($t.op){case"==":case"in":vt.set(Ct.fieldPath.canonicalString(),$t.value);break;case"not-in":case"!=":return vt.set(Ct.fieldPath.canonicalString(),$t.value),Array.from(vt.values())}return null}(E,_),V=function(Ze,je){const vt=[];let Ct=!0;for(const $t of qc(je)){const hn=0===$t.kind?Rp(Ze,$t.fieldPath,Ze.startAt):ND(Ze,$t.fieldPath,Ze.startAt);vt.push(hn.value),Ct&&(Ct=hn.inclusive)}return new Gc(vt,Ct)}(E,_),B=function(Ze,je){const vt=[];let Ct=!0;for(const $t of qc(je)){const hn=0===$t.kind?ND(Ze,$t.fieldPath,Ze.endAt):Rp(Ze,$t.fieldPath,Ze.endAt);vt.push(hn.value),Ct&&(Ct=hn.inclusive)}return new Gc(vt,Ct)}(E,_),re=this.We(_,E,V),we=this.We(_,E,B),rt=this.ze(_,E,N),it=this.He(_.indexId,x,re,V.inclusive,we,B.inclusive,rt);return he.forEach(it,Ze=>r.Gt(Ze,t.limit).next(je=>{je.forEach(vt=>{const Ct=$e.fromSegments(vt.documentKey);d.has(Ct)||(d=d.add(Ct),f.push(Ct))})}))}).next(()=>f)}return he.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,i,a,d,f){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),E=_/(null!=t?t.length:1),D=[];for(let x=0;x<_;++x){const N=t?this.Je(t[x/E]):QC,V=this.Ye(e,N,r[x%E],i),B=this.Xe(e,N,a[x%E],d),re=f.map(we=>this.Ye(e,N,we,!0));D.push(...this.createRange(V,B,re))}return D}Ye(e,t,r,i){const a=new Wp(e,$e.empty(),t,r);return i?a:a.ke()}Xe(e,t,r,i){const a=new Wp(e,$e.empty(),t,r);return i?a.ke():a}je(e,t){const r=new qO(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let d=null;for(const f of a)r.$e(f)&&(!d||f.fields.length>d.fields.length)&&(d=f);return d})}getIndexType(e,t){let r=2;return he.forEach(this.Qe(t),i=>this.je(e,i).next(a=>{a?0!==r&&a.fields.length<function(d){let f=new Cn(mr.comparator),_=!1;for(const E of d.filters){const D=E;D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?_=!0:f=f.add(D.field))}for(const E of d.orderBy)E.field.isKeyField()||(f=f.add(E.field));return f.size+(_?1:0)}(i)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new Ew;for(const i of qc(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const d=r.Ne(i.kind);zp.fe.Zt(a,d)}return r.Se()}Je(e){const t=new Ew;return zp.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new Ew;return zp.fe.Zt(_h(this.databaseId,t),r.Ne(function(i){const a=qc(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let i=[];i.push(new Ew);let a=0;for(const d of qc(e)){const f=r[a++];for(const _ of i)if(this.en(t,d.fieldPath)&&Ap(f))i=this.nn(i,d,f);else{const E=_.Ne(d.kind);zp.fe.Zt(f,E)}}return this.sn(i)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],a=[];for(const d of r.arrayValue.values||[])for(const f of i){const _=new Ew;_.seed(f.Se()),zp.fe.Zt(d,_.Ne(t.kind)),a.push(_)}return a}en(e,t){return!!e.filters.find(r=>r instanceof $r&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=JC(e),i=XC(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(a=>{const d=[];return he.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{d.push(function(E,D){const x=D?new yh(D.sequenceNumber,new so(Zp(D.readTime),new $e(g(D.documentKey)),D.largestBatchId)):yh.empty(),N=E.fields.map(([V,B])=>new A_(mr.fromServerFormat(V),B));return new kp(E.indexId,E.collectionGroup,N,x)}(f,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Ft(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=JC(e),a=XC(e);return this.rn(e).next(d=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>he.forEach(f,_=>{return a.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:Gp((N=r).readTime),documentKey:l(N.documentKey.path),largestBatchId:N.largestBatchId});var N})))}updateIndexEntries(e,t){const r=new Map;return he.forEach(t,(i,a)=>{const d=r.get(i.collectionGroup);return(d?he.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),he.forEach(f,_=>this.on(e,i,_).next(E=>{const D=this.un(a,_);return E.isEqual(D)?he.resolve():this.an(e,a,_,E,D)}))))})}cn(e,t,r,i){return Cw(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return Cw(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=Cw(e);let a=new Cn(Kp);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(d,f)=>{a=a.add(new Wp(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}un(e,t){let r=new Cn(Kp);const i=this.Ze(t,e);if(null==i)return r;const a=S_(t);if(null!=a){const d=e.data.field(a.fieldPath);if(Ap(d))for(const f of d.arrayValue.values||[])r=r.add(new Wp(t.indexId,e.key,this.Je(f),i))}else r=r.add(new Wp(t.indexId,e.key,QC,i));return r}an(e,t,r,i,a){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(f,_,E,D,x){const N=f.getIterator(),V=_.getIterator();let B=Op(N),re=Op(V);for(;B||re;){let we=!1,rt=!1;if(B&&re){const it=E(B,re);it<0?rt=!0:it>0&&(we=!0)}else null!=B?rt=!0:we=!0;we?(D(re),re=Op(V)):rt?(x(B),B=Op(N)):(B=Op(N),re=Op(V))}}(i,a,Kp,f=>{d.push(this.cn(e,t,r,f))},f=>{d.push(this.hn(e,t,r,f))}),he.waitFor(d)}rn(e){let t=1;return XC(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,f)=>Kp(d,f)).filter((d,f,_)=>!f||0!==Kp(d,_[f-1]));const i=[];i.push(e);for(const d of r){const f=Kp(d,e),_=Kp(d,t);if(0===f)i[0]=e.ke();else if(f>0&&_<0)i.push(d),i.push(d.ke());else if(_>0)break}i.push(t);const a=[];for(let d=0;d<i.length;d+=2)a.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,QC,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,QC,[]]));return a}getMinOffset(e,t){let r;return he.forEach(this.Qe(t),i=>this.je(e,i).next(a=>{a?(!r||J0(a.indexState.offset,r)<0)&&(r=a.indexState.offset):r=so.min()})).next(()=>r)}}function GM(n){return Ii(n,"collectionParents")}function Cw(n){return Ii(n,"indexEntries")}function JC(n){return Ii(n,"indexConfiguration")}function XC(n){return Ii(n,"indexState")}const ZM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ao{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ao(e,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zM(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],d=IDBKeyRange.only(t.batchId);let f=0;const _=r.Wt({range:d},(D,x,N)=>(f++,N.delete()));a.push(_.next(()=>{kt(1===f)}));const E=[];for(const D of t.mutations){const x=C(e,D.key.path,t.batchId);a.push(i.delete(x)),E.push(D.key)}return he.waitFor(a).next(()=>E)}function eI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Je();e=n.noDocument}return JSON.stringify(e).length}ao.DEFAULT_COLLECTION_PERCENTILE=10,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ao.DEFAULT=new ao(41943040,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ao.DISABLED=new ao(-1,0,0);class fS{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){kt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new fS(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ph(e).Wt({index:"userMutationsIndex",range:r},(i,a,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=K_(e),d=Ph(e);return d.add({}).next(f=>{kt("number"==typeof f);const _=new oS(f,t,r,i),E=function(N,V,B){const re=B.baseMutations.map(rt=>$_(N.Jt,rt)),we=B.mutations.map(rt=>$_(N.Jt,rt));return{userId:V,batchId:B.batchId,localWriteTimeMs:B.localWriteTime.toMillis(),baseMutations:re,mutations:we}}(this.M,this.userId,_),D=[];let x=new Cn((N,V)=>Ft(N.canonicalString(),V.canonicalString()));for(const N of i){const V=C(this.userId,N.key.path,f);x=x.add(N.key.path.popLast()),D.push(d.put(E)),D.push(a.put(V,A))}return x.forEach(N=>{D.push(this.indexManager.addToCollectionParentIndex(e,N))}),e.addOnCommittedListener(()=>{this.ln[f]=_.keys()}),he.waitFor(D).next(()=>_)})}lookupMutationBatch(e,t){return Ph(e).get(t).next(r=>r?(kt(r.userId===this.userId),W_(this.M,r)):null)}fn(e,t){return this.ln[t]?he.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Ph(e).Wt({index:"userMutationsIndex",range:i},(d,f,_)=>{f.userId===this.userId&&(kt(f.batchId>=r),a=W_(this.M,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ph(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,a,d)=>{r=a.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ph(e).qt("userMutationsIndex",t).next(r=>r.map(i=>W_(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=b(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return K_(e).Wt({range:i},(d,f,_)=>{const[E,D,x]=d,N=g(D);if(E===this.userId&&t.path.isEqual(N))return Ph(e).get(x).next(V=>{if(!V)throw Je();kt(V.userId===this.userId),a.push(W_(this.M,V))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cn(Ft);const i=[];return t.forEach(a=>{const d=b(this.userId,a.path),f=IDBKeyRange.lowerBound(d),_=K_(e).Wt({range:f},(E,D,x)=>{const[N,V,B]=E,re=g(V);N===this.userId&&a.path.isEqual(re)?r=r.add(B):x.done()});i.push(_)}),he.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=b(this.userId,r),d=IDBKeyRange.lowerBound(a);let f=new Cn(Ft);return K_(e).Wt({range:d},(_,E,D)=>{const[x,N,V]=_,B=g(N);x===this.userId&&r.isPrefixOf(B)?B.length===i&&(f=f.add(V)):D.done()}).next(()=>this.dn(e,f))}dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Ph(e).get(a).next(d=>{if(null===d)throw Je();kt(d.userId===this.userId),r.push(W_(this.M,d))}))}),he.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return zM(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),he.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return he.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return K_(e).Wt({range:r},(a,d,f)=>{if(a[0]===this.userId){const _=g(a[1]);i.push(_)}else f.done()}).next(()=>{kt(0===i.length)})})}containsKey(e,t){return WM(e,this.userId,t)}wn(e){return KM(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function WM(n,e,t){const r=b(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let d=!1;return K_(n).Wt({range:a,jt:!0},(f,_,E)=>{const[D,x,N]=f;D===e&&x===i&&(d=!0),E.done()}).next(()=>d)}function Ph(n){return Ii(n,"mutations")}function K_(n){return Ii(n,"documentMutations")}function KM(n){return Ii(n,"mutationQueues")}class Yp{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Yp(0)}static yn(){return new Yp(-1)}}class zO{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Yp(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>At.fromTimestamp(new jn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Y_(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(kt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Y_(e).Wt((d,f)=>{const _=ww(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>he.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Y_(e).Wt((r,i)=>{const a=ww(i);t(a)})}pn(e){return YM(e).get("targetGlobalKey").next(t=>(kt(null!==t),t))}In(e,t){return YM(e).put("targetGlobalKey",t)}Tn(e,t){return Y_(e).put(UM(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=vh(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Y_(e).Wt({range:i,index:"queryTargetsIndex"},(d,f,_)=>{const E=ww(f);M_(t,E.target)&&(a=E,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=kh(e);return t.forEach(d=>{const f=l(d.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,d))}),he.waitFor(i)}removeMatchingKeys(e,t,r){const i=kh(e);return he.forEach(t,a=>{const d=l(a.path);return he.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=kh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=kh(e);let a=cn();return i.Wt({range:r,jt:!0},(d,f,_)=>{const E=g(d[1]),D=new $e(E);a=a.add(D)}).next(()=>a)}containsKey(e,t){const r=l(t.path),i=IDBKeyRange.bound([r],[E_(r)],!1,!0);let a=0;return kh(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([d,f],_,E)=>{0!==d&&(a++,E.done())}).next(()=>a>0)}Et(e,t){return Y_(e).get(t).next(r=>r?ww(r):null)}}function Y_(n){return Ii(n,"targets")}function YM(n){return Ii(n,"targetGlobal")}function kh(n){return Ii(n,"targetDocuments")}function Qp(n){return pS.apply(this,arguments)}function pS(){return pS=(0,ve.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==Z_)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),pS.apply(this,arguments)}function QM([n,e],[t,r]){const i=Ft(n,t);return 0===i?Ft(e,r):i}class WO{constructor(e){this.An=e,this.buffer=new Cn(QM),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();QM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class KO{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Fe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ve.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){$p(i)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Qp(i)}yield t.Sn(e)}))}}class YO{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return he.resolve(xs.A);const r=new WO(t);return this.Dn.forEachTarget(e,i=>r.Pn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.Pn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(ZM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZM):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,a,d,f,_,E;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,d=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,f=Date.now(),this.removeTargets(e,r,t))).next(x=>(a=x,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(E=Date.now(),Z0()<=iu.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-D}ms\n\tDetermined least recently used ${i} in `+(f-d)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${x} documents in `+(E-_)+`ms\nTotal Duration: ${E-D}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:x})))}}class QO{constructor(e,t){this.db=e,this.garbageCollector=new YO(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return tI(e,r)}removeReference(e,t,r){return tI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return tI(e,t)}On(e,t){return function(r,i){let a=!1;return KM(r).zt(d=>WM(r,d,i).next(f=>(f&&(a=!0),he.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Mn(e,(d,f)=>{if(f<=t){const _=this.On(e,d).next(E=>{if(!E)return a++,r.getEntry(e,d).next(()=>(r.removeEntry(d,At.min()),kh(e).delete([0,l(d.path)])))});i.push(_)}}).next(()=>he.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return tI(e,t)}Mn(e,t){const r=kh(e);let i,a=xs.A;return r.Wt({index:"documentTargetsIndex"},([d,f],{path:_,sequenceNumber:E})=>{0===d?(a!==xs.A&&t(new $e(g(i)),a),a=E,i=_):a=xs.A}).next(()=>{a!==xs.A&&t(new $e(g(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function tI(n,e){return kh(n).put((r=n.currentSequenceNumber,{targetId:0,path:l(e.path),sequenceNumber:r}));var r}class JM{constructor(){this.changes=new Wc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class JO{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Jp(e).put(r)}removeEntry(e,t,r){return Jp(e).delete(function(i,a){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],YC(a),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=En.newInvalidDocument(t);return Jp(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Iw(t))},(i,a)=>{r=this.$n(t,a)}).next(()=>r)}Bn(e,t){let r={size:0,document:En.newInvalidDocument(t)};return Jp(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Iw(t))},(i,a)=>{r={document:this.$n(t,a),size:eI(a)}}).next(()=>r)}getEntries(e,t){let r=Vo();return this.Ln(e,t,(i,a)=>{const d=this.$n(i,a);r=r.insert(i,d)}).next(()=>r)}Un(e,t){let r=Vo(),i=new Jn($e.comparator);return this.Ln(e,t,(a,d)=>{const f=this.$n(a,d);r=r.insert(a,f),i=i.insert(a,eI(d))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return he.resolve();let i=new Cn(t1);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(Iw(i.first()),Iw(i.last())),d=i.getIterator();let f=d.getNext();return Jp(e).Wt({index:"documentKeyIndex",range:a},(_,E,D)=>{const x=$e.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;f&&t1(f,x)<0;)r(f,null),f=d.getNext();f&&f.isEqual(x)&&(r(f,E),f=d.hasNext()?d.getNext():null),f?D.Ut(Iw(f)):D.done()}).next(()=>{for(;f;)r(f,null),f=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),YC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jp(e).qt(IDBKeyRange.bound(i,a,!0)).next(d=>{let f=Vo();for(const _ of d){const E=this.$n($e.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(E.key,E)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=Vo();const d=e1(t,r),f=e1(t,so.max());return Jp(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(_,E,D)=>{const x=this.$n($e.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);a=a.insert(x.key,x),a.size===i&&D.done()}).next(()=>a)}newChangeBuffer(e){return new XO(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return XM(e).get("remoteDocumentGlobalKey").next(t=>(kt(!!t),t))}Fn(e,t){return XM(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function VO(n,e){let t;if(e.document)t=H_(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=$e.fromSegments(e.noDocument.path),i=Zp(e.noDocument.readTime);t=En.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Je();{const r=$e.fromSegments(e.unknownDocument.path),i=Zp(e.unknownDocument.version);t=En.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new jn(r[0],r[1]);return At.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(At.min()))return r}return En.newInvalidDocument(e)}}class XO extends JM{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Wc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Cn((a,d)=>Ft(a.canonicalString(),d.canonicalString()));return this.changes.forEach((a,d)=>{const f=this.Gn.get(a);if(t.push(this.Kn.removeEntry(e,a,f.readTime)),d.isValidDocument()){const _=VM(this.Kn.M,d);i=i.add(a.path.popLast()),r+=eI(_)-f.size,t.push(this.Kn.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=VM(this.Kn.M,d.convertToNoDocument(At.min()));t.push(this.Kn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Kn.updateMetadata(e,r)),he.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((a,d)=>{this.Gn.set(a,{size:d,readTime:r.get(a).readTime})}),r))}}function XM(n){return Ii(n,"remoteDocumentGlobal")}function Jp(n){return Ii(n,"remoteDocumentsV14")}function Iw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function e1(n,e){const t=e.documentKey.path.toArray();return[n,YC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function t1(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Ft(t[a],r[a]),i)return i;return i=Ft(t.length,r.length),i||(i=Ft(t[t.length-2],r[r.length-2]),i||Ft(t[t.length-1],r[r.length-1]))}class eR{constructor(e){this.M=e}kt(e,t,r,i){const a=new xh("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",v,{unique:!0}),f.createObjectStore("documentMutations"),n1(e),function(f){f.createObjectStore("remoteDocuments")}(e));let d=he.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),n1(e)),d=d.next(()=>function(f){const _=f.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:At.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",E)}(a))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(f,_){return _.store("mutations").qt().next(E=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",v,{unique:!0});const D=_.store("mutations"),x=E.map(N=>D.put(N));return he.waitFor(x)})}(e,a))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Qn(a))),r<6&&i>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.jn(a)))),r<7&&i>=7&&(d=d.next(()=>this.Wn(a))),r<8&&i>=8&&(d=d.next(()=>this.zn(e,a))),r<9&&i>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.Hn(a))),r<11&&i>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:dn});_.createIndex("collectionPathOverlayIndex",Ms,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Qc,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:M});_.createIndex("documentKeyIndex",F),_.createIndex("collectionGroupIndex",j)}(e)).next(()=>this.Jn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:ot}).createIndex("sequenceNumberIndex",Me,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:yt}).createIndex("documentKeyIndex",qt,{unique:!1})}(e)})),d}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=eI(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>he.forEach(i,a=>{const d=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(f=>he.forEach(f,_=>{kt(_.userId===a.userId);const E=W_(this.M,_);return zM(e,a.userId,E).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Wt((d,f)=>{const _=new Wt(d),E=[0,l(_)];a.push(t.get(E).next(D=>D?he.resolve():t.put({targetId:0,path:l(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>he.waitFor(a))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:qe});const r=t.store("collectionParents"),i=new hS,a=d=>{if(i.add(d)){const f=d.lastSegment(),_=d.popLast();return r.put({collectionId:f,parent:l(_)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,f)=>{const _=new Wt(d);return a(_.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,f,_],E)=>{const D=g(f);return a(D.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const a=ww(i),d=UM(this.M,a);return t.put(d)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((a,d)=>{const f=t.store("remoteDocumentsV14"),_=(E=d,E.document?new $e(Wt.fromString(E.document.name).popFirst(5)):E.noDocument?$e.fromSegments(E.noDocument.path):E.unknownDocument?$e.fromSegments(E.unknownDocument.path):Je()).path.toArray();var E;const D={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(f.put(D))}).next(()=>he.waitFor(i))}}function n1(n){n.createObjectStore("targetDocuments",{keyPath:be}).createIndex("documentTargetsIndex",Le,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",J,{unique:!0}),n.createObjectStore("targetGlobal")}const gS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class mS{constructor(e,t,r,i,a,d,f,_,E,D,x=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=a,this.window=d,this.document=f,this.Xn=E,this.Zn=D,this.ts=x,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=N=>Promise.resolve(),!mS.vt())throw new Oe(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QO(this,i),this.hs=t+"main",this.M=new LM(_),this.ls=new Ps(this.hs,this.ts,new eR(this.M)),this.fs=new zO(this.referenceDelegate,this.M),this.ds=new JO(this.M),this._s=new UO,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===D&&kn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(de.FAILED_PRECONDITION,gS);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new xs(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,ve.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,ve.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>nI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if($p(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Tw(e).get("owner").next(t=>he.resolve(this.Ps(t)))}Vs(e){return nI(e).delete(this.clientId)}vs(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ii(r,"clientMetadata");return i.qt().next(a=>{const d=e.Ds(a,18e5),f=a.filter(_=>-1===d.indexOf(_));return he.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?he.resolve(!0):Tw(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new Oe(de.FAILED_PRECONDITION,gS);return!1}}return!(!this.networkEnabled||!this.inForeground)||nI(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new FM(t,xs.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>nI(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return fS.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new ZO(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return dS.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Fe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=14===(d=this.ts)?yw:13===d?G_:12===d?_w:11===d?q_:void Je();var d;let f;return this.ls.runTransaction(e,i,a,_=>(f=new FM(_,this.es?this.es.next():xs.A),"readwrite-primary"===t?this.Es(f).next(E=>!!E||this.As(f)).next(E=>{if(!E)throw kn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Oe(de.FAILED_PRECONDITION,Z_);return r(f)}).next(E=>this.bs(f).next(()=>E)):this.$s(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}$s(e){return Tw(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(de.FAILED_PRECONDITION,gS)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tw(e).put("owner",t)}static vt(){return Ps.vt()}Rs(e){const t=Tw(e);return t.get("owner").next(r=>this.Ps(r)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):he.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(kn(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Mt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return kn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){kn("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Tw(n){return Ii(n,"owner")}function nI(n){return Ii(n,"clientMetadata")}function _S(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class tR{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return $e.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):MC(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new $e(t)).next(r=>{let i=$C();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let a=$C();return this.indexManager.getCollectionParents(e,i).next(d=>he.forEach(d,f=>{const _=(E=t,D=f.child(i),new vu(D,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,D;return this.zs(e,_,r).next(E=>{E.forEach((D,x)=>{a=a.insert(D,x)})})}).next(()=>a))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const d of a)for(const f of d.mutations){const _=f.key;let E=i.get(_);null==E&&(E=En.newInvalidDocument(_),i=i.insert(_,E)),cw(f,E,d.localWriteTime),E.isFoundDocument()||(i=i.remove(_))}}).next(()=>(i.forEach((a,d)=>{ow(t,d)||(i=i.remove(a))}),i))}}class yS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=cn(),i=cn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new yS(e,t.fromCache,r,i)}}class r1{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,i){return this.ti(e,t).next(a=>a||this.ei(e,t,i,r)).next(a=>a||this.ni(e,t))}ti(e,t){return he.resolve(null)}ei(e,t,r,i){return function BD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(At.min())?this.ni(e,t):this.Zs.Ks(e,r).next(a=>{const d=this.si(t,a);return this.ii(t,d,r,i)?this.ni(e,t):(Z0()<=iu.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fp(t)),this.ri(e,d,t,CC(i,-1)))})}si(e,t){let r=new Cn(k_(e));return t.forEach((i,a)=>{ow(e,a)&&(r=r.add(a))}),r}ii(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ni(e,t){return Z0()<=iu.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Fp(t)),this.Zs.Qs(e,t,so.min())}ri(e,t,r,i){return this.Zs.Qs(e,r,i).next(a=>(t.forEach(d=>{a=a.insert(d.key,d)}),a))}}class nR{constructor(e,t,r,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new Jn(Ft),this.ai=new Wc(a=>vh(a),M_),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new tR(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function s1(n,e,t,r){return new nR(n,e,t,r)}function o1(n,e){return vS.apply(this,arguments)}function vS(){return vS=(0,ve.Z)(function*(n,e){const t=Ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(a=>(i=a,t.li(e),t.Bs.getAllMutationBatches(r))).next(a=>{const d=[],f=[];let _=cn();for(const E of i){d.push(E.batchId);for(const D of E.mutations)_=_.add(D.key)}for(const E of a){f.push(E.batchId);for(const D of E.mutations)_=_.add(D.key)}return t.fi.Ks(r,_).next(E=>({di:E,removedBatchIds:d,addedBatchIds:f}))})})}),vS.apply(this,arguments)}function rR(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.hi.newChangeBuffer({trackRemovals:!0});return function(d,f,_,E){const D=_.batch,x=D.keys();let N=he.resolve();return x.forEach(V=>{N=N.next(()=>E.getEntry(f,V)).next(B=>{const re=_.docVersions.get(V);kt(null!==re),B.version.compareTo(re)<0&&(D.applyToRemoteDocument(B,_),B.isValidDocument()&&(B.setReadTime(_.commitVersion),E.addEntry(B)))})}),N.next(()=>d.Bs.removeMutationBatch(f,D))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,i))})}function a1(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function iR(n,e){const t=Ge(n),r=e.snapshotVersion;let i=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const d=t.hi.newChangeBuffer({trackRemovals:!0});i=t.ui;const f=[];e.targetChanges.forEach((E,D)=>{const x=i.get(D);if(!x)return;f.push(t.fs.removeMatchingKeys(a,E.removedDocuments,D).next(()=>t.fs.addMatchingKeys(a,E.addedDocuments,D)));let N=x.withSequenceNumber(a.currentSequenceNumber);var V,B,re;e.targetMismatches.has(D)?N=N.withResumeToken(Pr.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,r)),i=i.insert(D,N),B=N,re=E,(0===(V=x).resumeToken.approximateByteSize()||B.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0)&&f.push(t.fs.updateTargetData(a,N))});let _=Vo();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,E))}),f.push(l1(a,d,e.documentUpdates).next(E=>{_=E})),!r.isEqual(At.min())){const E=t.fs.getLastRemoteSnapshotVersion(a).next(D=>t.fs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(E)}return he.waitFor(f).next(()=>d.apply(a)).next(()=>t.fi.Gs(a,_)).next(()=>_)}).then(a=>(t.ui=i,a))}function l1(n,e,t){let r=cn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=Vo();return t.forEach((d,f)=>{const _=i.get(d);f.isNoDocument()&&f.version.isEqual(At.min())?(e.removeEntry(d,f.readTime),a=a.insert(d,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),a=a.insert(d,f)):Fe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",f.version)}),a})}function sR(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Q_(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(a=>a?(i=a,he.resolve(i)):t.fs.allocateTargetId(r).next(d=>(i=new Mh(e,d,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function J_(n,e,t){return wS.apply(this,arguments)}function wS(){return wS=(0,ve.Z)(function*(n,e,t){const r=Ge(n),i=r.ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!$p(d))throw d;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),wS.apply(this,arguments)}function rI(n,e,t){const r=Ge(n);let i=At.min(),a=cn();return r.persistence.runTransaction("Execute query","readonly",d=>function(f,_,E){const D=Ge(f),x=D.ai.get(E);return void 0!==x?he.resolve(D.ui.get(x)):D.fs.getTargetData(_,E)}(r,d,ss(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(d,f.targetId).next(_=>{a=_})}).next(()=>r.oi.Qs(d,e,t?i:At.min(),t?a:cn())).next(f=>(d1(r,OC(e),f),{documents:f,_i:a})))}function u1(n,e){const t=Ge(n),r=Ge(t.fs),i=t.ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(d=>d?d.target:null))}function c1(n,e){const t=Ge(n),r=t.ci.get(e)||At.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.hi.getAllFromCollectionGroup(i,e,CC(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(d1(t,e,i),i))}function d1(n,e,t){let r=At.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ci.set(e,r)}function bS(){return bS=(0,ve.Z)(function*(n,e,t,r){const i=Ge(n);let a=cn(),d=Vo();for(const E of t){const D=e.wi(E.metadata.name);E.document&&(a=a.add(D));const x=e.mi(E);x.setReadTime(e.gi(E.metadata.readTime)),d=d.insert(D,x)}const f=i.hi.newChangeBuffer({trackRemovals:!0}),_=yield Q_(i,(E=r,ss(Np(Wt.fromString(`__bundle__/docs/${E}`)))));var E;return i.persistence.runTransaction("Apply bundle documents","readwrite",E=>l1(E,f,d).next(D=>(f.apply(E),D)).next(D=>i.fs.removeMatchingKeysForTargetId(E,_.targetId).next(()=>i.fs.addMatchingKeys(E,a,_.targetId)).next(()=>i.fi.Gs(E,D)).next(()=>D)))}),bS.apply(this,arguments)}function aR(n,e){return ES.apply(this,arguments)}function ES(){return ES=(0,ve.Z)(function*(n,e,t=cn()){const r=yield Q_(n,ss(uS(e.bundledQuery))),i=Ge(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const d=qr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i._s.saveNamedQuery(a,e);const f=r.withResumeToken(Pr.EMPTY_BYTE_STRING,d);return i.ui=i.ui.insert(f.targetId,f),i.fs.updateTargetData(a,f).next(()=>i.fs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.fs.addMatchingKeys(a,t,r.targetId)).next(()=>i._s.saveNamedQuery(a,e))})}),ES.apply(this,arguments)}class lR{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return he.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:qr(r.createTime)}),he.resolve()}getNamedQuery(e,t){return he.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:uS(r.bundledQuery),readTime:qr(r.readTime)}),he.resolve();var r}}class uR{constructor(){this.overlays=new Jn($e.comparator),this.Ii=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Xt(e,t,a)}),he.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ii.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const i=Up(),a=t.length+1,d=new $e(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const _=f.getNext().value,E=_.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return he.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Jn((E,D)=>E-D);const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let D=a.get(E.largestBatchId);null===D&&(D=Up(),a=a.insert(E.largestBatchId,D)),D.set(E.getKey(),E)}}const f=Up(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((E,D)=>f.set(E,D)),!(f.size()>=i)););return he.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const d=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new lS(t,r));let a=this.Ii.get(t);void 0===a&&(a=cn(),this.Ii.set(t,a)),this.Ii.set(t,a.add(r.key))}}class CS{constructor(){this.Ti=new Cn(Ti.Ei),this.Ai=new Cn(Ti.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new Ti(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new Ti(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new $e(new Wt([])),r=new Ti(t,e),i=new Ti(t,e+1),a=[];return this.Ai.forEachInRange([r,i],d=>{this.Pi(d),a.push(d.key)}),a}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new $e(new Wt([])),r=new Ti(t,e),i=new Ti(t,e+1);let a=cn();return this.Ai.forEachInRange([r,i],d=>{a=a.add(d.key)}),a}containsKey(e){const t=new Ti(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ti{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return $e.comparator(e.key,t.key)||Ft(e.Ci,t.Ci)}static Ri(e,t){return Ft(e.Ci,t.Ci)||$e.comparator(e.key,t.key)}}class cR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new Cn(Ti.Ei)}checkEmpty(e){return he.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const a=this.xi;this.xi++;const d=new oS(a,t,r,i);this.Bs.push(d);for(const f of i)this.Ni=this.Ni.add(new Ti(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return he.resolve(d)}lookupMutationBatch(e,t){return he.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Mi(t+1),a=i<0?0:i;return he.resolve(this.Bs.length>a?this.Bs[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return he.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ti(t,0),i=new Ti(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],d=>{const f=this.ki(d.Ci);a.push(f)}),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cn(Ft);return t.forEach(i=>{const a=new Ti(i,0),d=new Ti(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([a,d],f=>{r=r.add(f.Ci)})}),he.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;$e.isDocumentKey(a)||(a=a.child(""));const d=new Ti(new $e(a),0);let f=new Cn(Ft);return this.Ni.forEachWhile(_=>{const E=_.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(f=f.add(_.Ci)),!0)},d),he.resolve(this.Oi(f))}Oi(e){const t=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){kt(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return he.forEach(t.mutations,i=>{const a=new Ti(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new Ti(t,0),i=this.Ni.firstAfterOrEqual(r);return he.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return he.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class dR{constructor(e){this.$i=e,this.docs=new Jn($e.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,d=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():En.newInvalidDocument(t))}getEntries(e,t){let r=Vo();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():En.newInvalidDocument(i))}),he.resolve(r)}getAllFromCollection(e,t,r){let i=Vo();const a=new $e(t.child("")),d=this.docs.getIteratorFrom(a);for(;d.hasNext();){const{key:f,value:{document:_}}=d.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||J0(IC(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return he.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Je()}Bi(e,t){return he.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new hR(this)}getSize(e){return he.resolve(this.size)}}class hR extends JM{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),he.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class fR{constructor(e){this.persistence=e,this.Li=new Wc(t=>vh(t),M_),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.Ui=0,this.qi=new CS,this.targetCount=0,this.Ki=Yp.gn()}forEachTarget(e,t){return this.Li.forEach((r,i)=>t(i)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),he.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new Yp(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Tn(t),he.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Li.forEach((d,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Li.delete(d),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),he.waitFor(a).next(()=>i)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),he.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(d=>{a.push(i.markPotentiallyOrphaned(e,d))}),he.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this.qi.containsKey(t))}}class pR{constructor(e,t){this.Gi={},this.overlays={},this.es=new xs(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new fR(this),this.indexManager=new GO,this.ds=new dR(r=>this.referenceDelegate.Qi(r)),this.M=new LM(t),this._s=new lR(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new cR(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Fe("MemoryPersistence","Starting transaction:",e);const i=new gR(this.es.next());return this.referenceDelegate.ji(),r(i).next(a=>this.referenceDelegate.Wi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}zi(e,t){return he.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class gR extends z_{constructor(e){super(),this.currentSequenceNumber=e}}class IS{constructor(e){this.persistence=e,this.Hi=new CS,this.Ji=null}static Yi(e){return new IS(e)}get Xi(){if(this.Ji)return this.Ji;throw Je()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),he.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Xi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Xi,r=>{const i=$e.fromPath(r);return this.Zi(e,i).next(a=>{a||t.removeEntry(i,At.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return he.or([()=>he.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function h1(n,e){return`firestore_clients_${n}_${e}`}function f1(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function TS(n,e){return`firestore_targets_${n}_${e}`}class iI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static tr(e,t,r){const i=JSON.parse(r);let a,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(a=new Oe(i.error.code,i.error.message))),d?new iI(e,t,i.state,a):(kn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Oe(r.error.code,r.error.message))),a?new Dw(e,r.state,i):(kn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ca();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=wC(r.activeTargetIds[d]),a=a.add(r.activeTargetIds[d]);return i?new sI(e,a):(kn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class DS{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new DS(t.clientId,t.onlineState):(kn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class SS{constructor(){this.activeTargetIds=Ca()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AS{constructor(e,t,r,i,a){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Jn(Ft),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=h1(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new SS),this.dr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.ir)continue;const a=e.getItem(h1(e.persistenceKey,i));if(a){const d=sI.tr(i,a);d&&(e.ar=e.ar.insert(d.clientId,d))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const i=e.pr(r);i&&e.Ir(i)}for(const i of e.cr)e.ur(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(TS(this.persistenceKey,e));if(r){const i=Dw.tr(e,r);i&&(t=i.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(TS(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ar(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void kn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Sr(i,null)}{const i=t.Dr(r.key,r.newValue);if(i)return t.Sr(i.clientId,i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Cr(r.key,r.newValue);if(i)return t.Nr(i)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const i=t.kr(r.key,r.newValue);if(i)return t.Mr(i)}}else if(r.key===t.mr){if(null!==r.newValue){const i=t.pr(r.newValue);if(i)return t.Ir(i)}}else if(r.key===t.lr){const i=function(a){let d=xs.A;if(null!=a)try{const f=JSON.parse(a);kt("number"==typeof f),d=f}catch(f){kn("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(r.newValue);i!==xs.A&&t.sequenceNumberHandler(i)}else if(r.key===t.gr){const i=t.Or(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Fr(a)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const i=new iI(this.currentUser,e,t,r),a=f1(this.persistenceKey,this.currentUser,e);this.setItem(a,i.er())}Ar(e){const t=f1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const i=TS(this.persistenceKey,e),a=new Dw(e,t,r);this.setItem(i,a.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return sI.tr(r,t)}Cr(e,t){const r=this._r.exec(e),i=Number(r[1]);return iI.tr(new si(void 0!==r[2]?r[2]:null),i,t)}kr(e,t){const r=this.wr.exec(e),i=Number(r[1]);return Dw.tr(i,t)}pr(e){return DS.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),d=[],f=[];return a.forEach(_=>{i.has(_)||d.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Lr(d,f).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=Ca();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class p1{constructor(){this.Ur=new SS,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new SS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mR{Kr(e){}shutdown(){}}class g1{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const _R={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class yR{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class vR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,a){const d=this.ho(e,t);Fe("RestConnection","Sending: ",d,r);const f={};return this.lo(f,i,a),this.fo(e,d,f,r).then(_=>(Fe("RestConnection","Received: ",_),_),_=>{throw Cp("RestConnection",`${e} failed with error: `,_,"url: ",d,"request:",r),_})}_o(e,t,r,i,a){return this.co(e,t,r,i,a)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ho(e,t){return`${this.uo}/v1/${t}:${_R[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((a,d)=>{const f=new dC;f.listenOnce(bp.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case $0.NO_ERROR:const E=f.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(E)),a(E);break;case $0.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),d(new Oe(de.DEADLINE_EXCEEDED,"Request time out"));break;case $0.HTTP_ERROR:const D=f.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',D,"response text:",f.getResponseText()),D>0){const x=f.getResponseJson().error;if(x&&x.status&&x.message){const N=function(V){const B=V.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(B)>=0?B:de.UNKNOWN}(x.status);d(new Oe(N,x.message))}else d(new Oe(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Oe(de.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}wo(e,t,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=AD(),d=xD(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new cC({})),this.lo(f.initMessageHeaders,t,r),(0,Mt.uI)()||(0,Mt.b$)()||(0,Mt.d)()||(0,Mt.w1)()||(0,Mt.Mn)()||(0,Mt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");Fe("Connection","Creating WebChannel: "+_,f);const E=a.createWebChannel(_,f);let D=!1,x=!1;const N=new yR({Jr:B=>{x?Fe("Connection","Not sending because WebChannel is closed:",B):(D||(Fe("Connection","Opening WebChannel transport."),E.open(),D=!0),Fe("Connection","WebChannel sending:",B),E.send(B))},Yr:()=>E.close()}),V=(B,re,we)=>{B.listen(re,rt=>{try{we(rt)}catch(it){setTimeout(()=>{throw it},0)}})};return V(E,Ep.EventType.OPEN,()=>{x||Fe("Connection","WebChannel transport opened.")}),V(E,Ep.EventType.CLOSE,()=>{x||(x=!0,Fe("Connection","WebChannel transport closed"),N.ro())}),V(E,Ep.EventType.ERROR,B=>{x||(x=!0,Cp("Connection","WebChannel transport errored:",B),N.ro(new Oe(de.UNAVAILABLE,"The operation could not be completed")))}),V(E,Ep.EventType.MESSAGE,B=>{var re;if(!x){const we=B.data[0];kt(!!we);const rt=we,it=rt.error||(null===(re=rt[0])||void 0===re?void 0:re.error);if(it){Fe("Connection","WebChannel received error:",it);const Ze=it.status;let je=function(Ct){const $t=or[Ct];if(void 0!==$t)return HC($t)}(Ze),vt=it.message;void 0===je&&(je=de.INTERNAL,vt="Unknown error status: "+Ze+" with message "+it.message),x=!0,N.ro(new Oe(je,vt)),E.close()}else Fe("Connection","WebChannel received:",we),N.oo(we)}}),V(d,uC.STAT_EVENT,B=>{B.stat===q0.PROXY?Fe("Connection","Detected buffering proxy"):B.stat===q0.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.io()},0),N}}function m1(){return"undefined"!=typeof window?window:null}function oI(){return"undefined"!=typeof document?document:null}function Sw(n){return new ZC(n,!0)}class xS{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class _1{constructor(e,t,r,i,a,d,f,_){this.Yn=e,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new xS(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ve.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,ve.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,ve.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(kn(t.toString()),kn("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new Oe(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro((0,ve.Z)(function*(){e.state=0,e.start()}))}jo(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wR extends _1{constructor(e,t,r,i,a,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.M=a}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function XD(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:Je(),i=e.targetChange.targetIds||[],a=function(_,E){return _.N?(kt(void 0===E||"string"==typeof E),Pr.fromBase64String(E||"")):(kt(void 0===E||E instanceof Uint8Array),Pr.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(_){const E=void 0===_.code?de.UNKNOWN:HC(_.code);return new Oe(E,_.message||"")}(d);t=new V_(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Ia(n,r.document.name),a=qr(r.document.updateTime),d=new oi({mapValue:{fields:r.document.fields}}),f=En.newFoundDocument(i,a,d);t=new Sh(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Ia(n,r.document),a=r.readTime?qr(r.readTime):At.min(),d=En.newNoDocument(i,a);t=new Sh([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=Ia(n,r.document);t=new Sh([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Je();{const r=e.filter,a=new DM(r.count||0);t=new GC(r.targetId,a)}}var _;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return At.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?At.min():a.readTime?qr(a.readTime):At.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=Yc(this.M),t.addTarget=function(i,a){let d;const f=a.target;return d=ew(f)?{documents:KC(i,f)}:{query:tS(i,f)},d.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?d.resumeToken=zC(i,a.resumeToken):a.snapshotVersion.compareTo(At.min())>0&&(d.readTime=Bp(i,a.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function PM(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Je()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=Yc(this.M),t.removeTarget=e,this.Lo(t)}}class bR extends _1{constructor(e,t,r,i,a,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.M=a,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function eS(n,e){return n&&n.length>0?(kt(void 0!==e),n.map(t=>function(r,i){let a=qr(r.updateTime?r.updateTime:i);return a.isEqual(At.min())&&(a=qr(i)),new GD(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=qr(e.commitTime);return this.listener.tu(r,t)}return kt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Yc(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>$_(this.M,r))};this.Lo(t)}}class ER extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new Oe(de.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.So.co(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(de.UNKNOWN,i.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.So._o(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(de.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class CR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(kn(t),this.uu=!1):Fe("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class IR{constructor(e,t,r,i,a){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr(f=>{r.enqueueAndForget((0,ve.Z)(function*(){var _;Oh(d)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ve.Z)(function*(E){const D=Ge(E);D.wu.add(4),yield X_(D),D.yu.set("Unknown"),D.wu.delete(4),yield Aw(D)}),function(E){return _.apply(this,arguments)})(d))}))}),this.yu=new CR(r,i)}}function Aw(n){return MS.apply(this,arguments)}function MS(){return MS=(0,ve.Z)(function*(n){if(Oh(n))for(const e of n.mu)yield e(!0)}),MS.apply(this,arguments)}function X_(n){return PS.apply(this,arguments)}function PS(){return PS=(0,ve.Z)(function*(n){for(const e of n.mu)yield e(!1)}),PS.apply(this,arguments)}function aI(n,e){const t=Ge(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),RS(t)?OS(t):ty(t).Mo()&&kS(t,e))}function xw(n,e){const t=Ge(n),r=ty(t);t._u.delete(e),r.Mo()&&y1(t,e),0===t._u.size&&(r.Mo()?r.$o():Oh(t)&&t.yu.set("Unknown"))}function kS(n,e){n.pu.Z(e.targetId),ty(n).Ho(e)}function y1(n,e){n.pu.Z(e),ty(n).Jo(e)}function OS(n){n.pu=new B_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),ty(n).start(),n.yu.au()}function RS(n){return Oh(n)&&!ty(n).ko()&&n._u.size>0}function Oh(n){return 0===Ge(n).wu.size}function v1(n){n.pu=void 0}function TR(n){return NS.apply(this,arguments)}function NS(){return NS=(0,ve.Z)(function*(n){n._u.forEach((e,t)=>{kS(n,e)})}),NS.apply(this,arguments)}function DR(n,e){return FS.apply(this,arguments)}function FS(){return FS=(0,ve.Z)(function*(n,e){v1(n),RS(n)?(n.yu.lu(e),OS(n)):n.yu.set("Unknown")}),FS.apply(this,arguments)}function SR(n,e,t){return LS.apply(this,arguments)}function LS(){return LS=(0,ve.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof V_&&2===e.state&&e.cause)try{yield(r=(0,ve.Z)(function*(i,a){const d=a.cause;for(const f of a.targetIds)i._u.has(f)&&(yield i.remoteSyncer.rejectListen(f,d),i._u.delete(f),i.pu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield lI(n,r)}else if(e instanceof Sh?n.pu.ut(e):e instanceof GC?n.pu._t(e):n.pu.ht(e),!t.isEqual(At.min()))try{const r=yield a1(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const d=i.pu.yt(a);return d.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const E=i._u.get(_);E&&i._u.set(_,E.withResumeToken(f.resumeToken,a))}}),d.targetMismatches.forEach(f=>{const _=i._u.get(f);if(!_)return;i._u.set(f,_.withResumeToken(Pr.EMPTY_BYTE_STRING,_.snapshotVersion)),y1(i,f);const E=new Mh(_.target,f,1,_.sequenceNumber);kS(i,E)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),yield lI(n,r)}var r}),LS.apply(this,arguments)}function lI(n,e,t){return VS.apply(this,arguments)}function VS(){return VS=(0,ve.Z)(function*(n,e,t){if(!$p(e))throw e;n.wu.add(1),yield X_(n),n.yu.set("Offline"),t||(t=()=>a1(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Aw(n)}))}),VS.apply(this,arguments)}function w1(n,e){return e().catch(t=>lI(n,t,e))}function ey(n){return US.apply(this,arguments)}function US(){return US=(0,ve.Z)(function*(n){const e=Ge(n),t=Rh(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;AR(e);)try{const i=yield sR(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,xR(e,i)}catch(i){yield lI(e,i)}b1(e)&&E1(e)}),US.apply(this,arguments)}function AR(n){return Oh(n)&&n.du.length<10}function xR(n,e){n.du.push(e);const t=Rh(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function b1(n){return Oh(n)&&!Rh(n).ko()&&n.du.length>0}function E1(n){Rh(n).start()}function MR(n){return BS.apply(this,arguments)}function BS(){return BS=(0,ve.Z)(function*(n){Rh(n).nu()}),BS.apply(this,arguments)}function PR(n){return jS.apply(this,arguments)}function jS(){return jS=(0,ve.Z)(function*(n){const e=Rh(n);for(const t of n.du)e.Zo(t.mutations)}),jS.apply(this,arguments)}function kR(n,e,t){return HS.apply(this,arguments)}function HS(){return HS=(0,ve.Z)(function*(n,e,t){const r=n.du.shift(),i=aS.from(r,e,t);yield w1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield ey(n)}),HS.apply(this,arguments)}function OR(n,e){return $S.apply(this,arguments)}function $S(){return $S=(0,ve.Z)(function*(n,e){var t;e&&Rh(n).Xo&&(yield(t=(0,ve.Z)(function*(r,i){if(jC(a=i.code)&&a!==de.ABORTED){const d=r.du.shift();Rh(r).Fo(),yield w1(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield ey(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),b1(n)&&E1(n)}),$S.apply(this,arguments)}function C1(n,e){return qS.apply(this,arguments)}function qS(){return qS=(0,ve.Z)(function*(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const r=Oh(t);t.wu.add(3),yield X_(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Aw(t)}),qS.apply(this,arguments)}function GS(n,e){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,ve.Z)(function*(n,e){const t=Ge(n);e?(t.wu.delete(2),yield Aw(t)):e||(t.wu.add(2),yield X_(t),t.yu.set("Unknown"))}),ZS.apply(this,arguments)}function ty(n){return n.Iu||(n.Iu=function(e,t,r){const i=Ge(e);return i.iu(),new wR(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:TR.bind(null,n),eo:DR.bind(null,n),zo:SR.bind(null,n)}),n.mu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Iu.Fo(),RS(n)?OS(n):n.yu.set("Unknown")):(yield n.Iu.stop(),v1(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Rh(n){return n.Tu||(n.Tu=function(e,t,r){const i=Ge(e);return i.iu(),new bR(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:MR.bind(null,n),eo:OR.bind(null,n),eu:PR.bind(null,n),tu:kR.bind(null,n)}),n.mu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Tu.Fo(),yield ey(n)):(yield n.Tu.stop(),n.du.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class zS{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,a){const d=Date.now()+r,f=new zS(e,t,d,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ny(n,e){if(kn("AsyncQueue",`${e}: ${n}`),$p(n))return new Oe(de.UNAVAILABLE,`${e}: ${n}`);throw n}class ry{constructor(e){this.comparator=e?(t,r)=>e(t,r)||$e.comparator(t.key,r.key):(t,r)=>$e.comparator(t.key,r.key),this.keyedMap=$C(),this.sortedSet=new Jn(this.comparator)}static emptySet(e){return new ry(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ry)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ry;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class I1{constructor(){this.Eu=new Jn($e.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Je():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class iy{constructor(e,t,r,i,a,d,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(d=>{a.push({type:0,doc:d})}),new iy(e,t,ry.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ui(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class RR{constructor(){this.Ru=void 0,this.listeners=[]}}class NR{constructor(){this.queries=new Wc(e=>kC(e),Ui),this.onlineState="Unknown",this.bu=new Set}}function WS(n,e){return KS.apply(this,arguments)}function KS(){return KS=(0,ve.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new RR),i)try{a.Ru=yield t.onListen(r)}catch(d){const f=ny(d,`Initialization of query '${Fp(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Pu(t.onlineState),a.Ru&&e.Vu(a.Ru)&&JS(t)}),KS.apply(this,arguments)}function YS(n,e){return QS.apply(this,arguments)}function QS(){return QS=(0,ve.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const d=a.listeners.indexOf(e);d>=0&&(a.listeners.splice(d,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),QS.apply(this,arguments)}function FR(n,e){const t=Ge(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const f of d.listeners)f.Vu(i)&&(r=!0);d.Ru=i}}r&&JS(t)}function LR(n,e,t){const r=Ge(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function JS(n){n.bu.forEach(e=>{e.next()})}class XS{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new iy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=iy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class VR{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class T1{constructor(e){this.M=e}wi(e){return Ia(this.M,e)}mi(e){return e.metadata.exists?H_(this.M,e.document,!1):En.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return qr(e)}}class UR{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=D1(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Wt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new T1(this.M);for(const i of e)if(i.metadata.queries){const a=r.wi(i.metadata.name);for(const d of i.metadata.queries){const f=(t.get(d)||cn()).add(a);t.set(d,f)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function oR(n,e,t,r){return bS.apply(this,arguments)}(e.localStore,new T1(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const i of e.queries)yield aR(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function D1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class S1{constructor(e){this.key=e}}class A1{constructor(e){this.key=e}}class x1{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=cn(),this.mutatedKeys=cn(),this.Gu=k_(e),this.Qu=new ry(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new I1,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,d=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,E="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((D,x)=>{const N=i.get(D),V=ow(this.query,x)?x:null,B=!!N&&this.mutatedKeys.has(N.key),re=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let we=!1;N&&V?N.data.isEqual(V.data)?B!==re&&(r.track({type:3,doc:V}),we=!0):this.Hu(N,V)||(r.track({type:2,doc:V}),we=!0,(_&&this.Gu(V,_)>0||E&&this.Gu(V,E)<0)&&(f=!0)):!N&&V?(r.track({type:0,doc:V}),we=!0):N&&!V&&(r.track({type:1,doc:N}),we=!0,(_||E)&&(f=!0)),we&&(V?(d=d.add(V),a=re?a.add(D):a.delete(D)):(d=d.delete(D),a=a.delete(D)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const D="F"===this.query.limitType?d.last():d.first();d=d.delete(D.key),a=a.delete(D.key),r.track({type:1,doc:D})}return{Qu:d,zu:r,ii:f,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Au();a.sort((E,D)=>function(x,N){const V=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return V(x)-V(N)}(E.type,D.type)||this.Gu(E.doc,D.doc)),this.Ju(r);const d=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,_=f!==this.qu;return this.qu=f,0!==a.length||_?{snapshot:new iy(this.query,e.Qu,i,a,e.mutatedKeys,0===f,_,!1),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new I1,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=cn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new A1(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new S1(r))}),t}ta(e){this.Uu=e._i,this.Ku=cn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return iy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class BR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class jR{constructor(e){this.key=e,this.na=!1}}class HR{constructor(e,t,r,i,a,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=d,this.sa={},this.ia=new Wc(f=>kC(f),Ui),this.ra=new Map,this.oa=new Set,this.ua=new Jn($e.comparator),this.aa=new Map,this.ca=new CS,this.ha={},this.la=new Map,this.fa=Yp.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function $R(n,e){return eA.apply(this,arguments)}function eA(){return eA=(0,ve.Z)(function*(n,e){const t=CA(n);let r,i;const a=t.ia.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.ea();else{const d=yield Q_(t.localStore,ss(e));t.isPrimaryClient&&aI(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield tA(t,e,r,"current"===f)}return i}),eA.apply(this,arguments)}function tA(n,e,t,r){return nA.apply(this,arguments)}function nA(){return nA=(0,ve.Z)(function*(n,e,t,r){n._a=(D,x,N)=>{return(V=(0,ve.Z)(function*(B,re,we,rt){let it=re.view.Wu(we);it.ii&&(it=yield rI(B.localStore,re.query,!1).then(({documents:vt})=>re.view.Wu(vt,it)));const Ze=rt&&rt.targetChanges.get(re.targetId),je=re.view.applyChanges(it,B.isPrimaryClient,Ze);return hA(B,re.targetId,je.Xu),je.snapshot}),function(B,re,we,rt){return V.apply(this,arguments)})(n,D,x,N);var V};const i=yield rI(n.localStore,e,!0),a=new x1(e,i._i),d=a.Wu(i.documents),f=Kc.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=a.applyChanges(d,n.isPrimaryClient,f);hA(n,t,_.Xu);const E=new BR(e,t,a);return n.ia.set(e,E),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),_.snapshot}),nA.apply(this,arguments)}function qR(n,e){return rA.apply(this,arguments)}function rA(){return rA=(0,ve.Z)(function*(n,e){const t=Ge(n),r=t.ia.get(e),i=t.ra.get(r.targetId);if(i.length>1)return t.ra.set(r.targetId,i.filter(a=>!Ui(a,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield J_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),xw(t.remoteStore,r.targetId),sy(t,r.targetId)}).catch(Qp))):(sy(t,r.targetId),yield J_(t.localStore,r.targetId,!0))}),rA.apply(this,arguments)}function iA(){return iA=(0,ve.Z)(function*(n,e,t){const r=IA(n);try{const i=yield function(a,d){const f=Ge(a),_=jn.now(),E=d.reduce((x,N)=>x.add(N.key),cn());let D;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>f.fi.Ks(x,E).next(N=>{D=N;const V=[];for(const B of d){const re=VC(B,D.get(B.key));null!=re&&V.push(new zc(B.key,re,Q0(re.value.mapValue),kr.exists(!0)))}return f.Bs.addMutationBatch(x,_,V,d)})).then(x=>(x.applyToLocalDocumentSet(D),{batchId:x.batchId,changes:D}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,d,f){let _=a.ha[a.currentUser.toKey()];_||(_=new Jn(Ft)),_=_.insert(d,f),a.ha[a.currentUser.toKey()]=_}(r,i.batchId,t),yield Jc(r,i.changes),yield ey(r.remoteStore)}catch(i){const a=ny(i,"Failed to persist write");t.reject(a)}}),iA.apply(this,arguments)}function M1(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,ve.Z)(function*(n,e){const t=Ge(n);try{const r=yield iR(t.localStore,e);e.targetChanges.forEach((i,a)=>{const d=t.aa.get(a);d&&(kt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.na=!0:i.modifiedDocuments.size>0?kt(d.na):i.removedDocuments.size>0&&(kt(d.na),d.na=!1))}),yield Jc(t,r,e)}catch(r){yield Qp(r)}}),sA.apply(this,arguments)}function P1(n,e,t){const r=Ge(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ia.forEach((a,d)=>{const f=d.view.Pu(e);f.snapshot&&i.push(f.snapshot)}),function(a,d){const f=Ge(a);f.onlineState=d;let _=!1;f.queries.forEach((E,D)=>{for(const x of D.listeners)x.Pu(d)&&(_=!0)}),_&&JS(f)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ZR(n,e,t){return oA.apply(this,arguments)}function oA(){return oA=(0,ve.Z)(function*(n,e,t){const r=Ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.aa.get(e),a=i&&i.key;if(a){let d=new Jn($e.comparator);d=d.insert(a,En.newNoDocument(a,At.min()));const f=cn().add(a),_=new Dh(At.min(),new Map,new Cn(Ft),d,f);yield M1(r,_),r.ua=r.ua.remove(a),r.aa.delete(e),fA(r)}else yield J_(r.localStore,e,!1).then(()=>sy(r,e,t)).catch(Qp)}),oA.apply(this,arguments)}function zR(n,e){return aA.apply(this,arguments)}function aA(){return aA=(0,ve.Z)(function*(n,e){const t=Ge(n),r=e.batch.batchId;try{const i=yield rR(t.localStore,e);dA(t,r,null),cA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Jc(t,i)}catch(i){yield Qp(i)}}),aA.apply(this,arguments)}function WR(n,e,t){return lA.apply(this,arguments)}function lA(){return lA=(0,ve.Z)(function*(n,e,t){const r=Ge(n);try{const i=yield function(a,d){const f=Ge(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return f.Bs.lookupMutationBatch(_,d).next(D=>(kt(null!==D),E=D.keys(),f.Bs.removeMutationBatch(_,D))).next(()=>f.Bs.performConsistencyCheck(_)).next(()=>f.fi.Ks(_,E))})}(r.localStore,e);dA(r,e,t),cA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Jc(r,i)}catch(i){yield Qp(i)}}),lA.apply(this,arguments)}function uA(){return uA=(0,ve.Z)(function*(n,e){const t=Ge(n);Oh(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const d=Ge(a);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.Bs.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.la.get(r)||[];i.push(e),t.la.set(r,i)}catch(r){const i=ny(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),uA.apply(this,arguments)}function cA(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function dA(n,e,t){const r=Ge(n);let i=r.ha[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function sy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||k1(n,r)})}function k1(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(xw(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),fA(n))}function hA(n,e,t){for(const r of t)r instanceof S1?(n.ca.addReference(r.key,e),YR(n,r)):r instanceof A1?(Fe("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||k1(n,r.key)):Je()}function YR(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(Fe("SyncEngine","New document in limbo: "+t),n.oa.add(r),fA(n))}function fA(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new $e(Wt.fromString(e)),r=n.fa.next();n.aa.set(r,new jR(t)),n.ua=n.ua.insert(t,r),aI(n.remoteStore,new Mh(ss(Np(t.path)),r,2,xs.A))}}function Jc(n,e,t){return pA.apply(this,arguments)}function pA(){return pA=(0,ve.Z)(function*(n,e,t){const r=Ge(n),i=[],a=[],d=[];var f;r.ia.isEmpty()||(r.ia.forEach((f,_)=>{d.push(r._a(_,e,t).then(E=>{if(E){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,E.fromCache?"not-current":"current"),i.push(E);const D=yS.Ys(_.targetId,E);a.push(D)}}))}),yield Promise.all(d),r.sa.zo(i),yield(f=(0,ve.Z)(function*(_,E){const D=Ge(_);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>he.forEach(E,N=>he.forEach(N.Hs,V=>D.persistence.referenceDelegate.addReference(x,N.targetId,V)).next(()=>he.forEach(N.Js,V=>D.persistence.referenceDelegate.removeReference(x,N.targetId,V)))))}catch(x){if(!$p(x))throw x;Fe("LocalStore","Failed to update sequence numbers: "+x)}for(const x of E){const N=x.targetId;if(!x.fromCache){const V=D.ui.get(N),re=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);D.ui=D.ui.insert(N,re)}}}),function(_,E){return f.apply(this,arguments)})(r.localStore,a))}),pA.apply(this,arguments)}function QR(n,e){return gA.apply(this,arguments)}function gA(){return gA=(0,ve.Z)(function*(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=yield o1(t.localStore,e);t.currentUser=e,(i=t).la.forEach(d=>{d.forEach(f=>{f.reject(new Oe(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Jc(t,r.di)}var i}),gA.apply(this,arguments)}function JR(n,e){const t=Ge(n),r=t.aa.get(e);if(r&&r.na)return cn().add(r.key);{let i=cn();const a=t.ra.get(e);if(!a)return i;for(const d of a){const f=t.ia.get(d);i=i.unionWith(f.view.ju)}return i}}function XR(n,e){return mA.apply(this,arguments)}function mA(){return mA=(0,ve.Z)(function*(n,e){const t=Ge(n),r=yield rI(t.localStore,e.query,!0),i=e.view.ta(r);return t.isPrimaryClient&&hA(t,e.targetId,i.Xu),i}),mA.apply(this,arguments)}function eN(n,e){return _A.apply(this,arguments)}function _A(){return _A=(0,ve.Z)(function*(n,e){const t=Ge(n);return c1(t.localStore,e).then(r=>Jc(t,r))}),_A.apply(this,arguments)}function tN(n,e,t,r){return yA.apply(this,arguments)}function yA(){return yA=(0,ve.Z)(function*(n,e,t,r){const i=Ge(n),a=yield function(d,f){const _=Ge(d),E=Ge(_.Bs);return _.persistence.runTransaction("Lookup mutation documents","readonly",D=>E.fn(D,f).next(x=>x?_.fi.Ks(D,x):he.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield ey(i.remoteStore):"acknowledged"===t||"rejected"===t?(dA(i,e,r||null),cA(i,e),f=e,Ge(Ge(i.localStore).Bs)._n(f)):Je(),yield Jc(i,a)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),yA.apply(this,arguments)}function vA(){return vA=(0,ve.Z)(function*(n,e){const t=Ge(n);if(CA(t),IA(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield O1(t,r.toArray());t.da=!0,yield GS(t.remoteStore,!0);for(const a of i)aI(t.remoteStore,a)}else if(!1===e&&!1!==t.da){const r=[];let i=Promise.resolve();t.ra.forEach((a,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(sy(t,d),J_(t.localStore,d,!0))),xw(t.remoteStore,d)}),yield i,yield O1(t,r),function(a){const d=Ge(a);d.aa.forEach((f,_)=>{xw(d.remoteStore,_)}),d.ca.Si(),d.aa=new Map,d.ua=new Jn($e.comparator)}(t),t.da=!1,yield GS(t.remoteStore,!1)}}),vA.apply(this,arguments)}function O1(n,e,t){return wA.apply(this,arguments)}function wA(){return wA=(0,ve.Z)(function*(n,e,t){const r=Ge(n),i=[],a=[];for(const d of e){let f;const _=r.ra.get(d);if(_&&0!==_.length){f=yield Q_(r.localStore,ss(_[0]));for(const E of _){const D=r.ia.get(E),x=yield XR(r,D);x.snapshot&&a.push(x.snapshot)}}else{const E=yield u1(r.localStore,d);f=yield Q_(r.localStore,E),yield tA(r,R1(E),d,!1)}i.push(f)}return r.sa.zo(a),i}),wA.apply(this,arguments)}function R1(n){return UD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function rN(n){const e=Ge(n);return Ge(Ge(e.localStore).persistence).Fs()}function iN(n,e,t,r){return bA.apply(this,arguments)}function bA(){return bA=(0,ve.Z)(function*(n,e,t,r){const i=Ge(n);if(i.da)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const a=i.ra.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const d=yield c1(i.localStore,OC(a[0])),f=Dh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Jc(i,d,f);break}case"rejected":yield J_(i.localStore,e,!0),sy(i,e,r);break;default:Je()}}),bA.apply(this,arguments)}function sN(n,e,t){return EA.apply(this,arguments)}function EA(){return EA=(0,ve.Z)(function*(n,e,t){const r=CA(n);if(r.da){for(const i of e){if(r.ra.has(i)){Fe("SyncEngine","Adding an already active target "+i);continue}const a=yield u1(r.localStore,i),d=yield Q_(r.localStore,a);yield tA(r,R1(a),d.targetId,!1),aI(r.remoteStore,d)}for(const i of t)r.ra.has(i)&&(yield J_(r.localStore,i,!1).then(()=>{xw(r.remoteStore,i),sy(r,i)}).catch(Qp))}}),EA.apply(this,arguments)}function CA(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=M1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZR.bind(null,e),e.sa.zo=FR.bind(null,e.eventManager),e.sa.wa=LR.bind(null,e.eventManager),e}function IA(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WR.bind(null,e),e}class N1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.M=Sw(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return s1(this.persistence,new r1,e.initialUser,this.M)}ya(e){return new pR(IS.Yi,this.M)}ga(e){return new p1}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class F1 extends N1{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield IA(r.Ta.syncEngine),yield ey(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return s1(this.persistence,new r1,e.initialUser,this.M)}pa(e){return new KO(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=_S(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ao.withCacheSize(this.cacheSizeBytes):ao.DEFAULT;return new mS(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,m1(),oI(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new p1}}class aN extends F1{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e);const i=r.Ta.syncEngine;r.sharedClientState instanceof AS&&(r.sharedClientState.syncEngine={$r:tN.bind(null,i),Br:iN.bind(null,i),Lr:sN.bind(null,i),Fs:rN.bind(null,i),Fr:eN.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var a=(0,ve.Z)(function*(d){yield function nN(n,e){return vA.apply(this,arguments)}(r.Ta.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return a.apply(this,arguments)}}())})()}ga(e){const t=m1();if(!AS.vt(t))throw new Oe(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=_S(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new AS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class TA{initialize(e,t){var r=this;return(0,ve.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>P1(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=QR.bind(null,r.syncEngine),yield GS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new NR}createDatastore(e){const t=Sw(e.databaseInfo.databaseId),r=new vR(e.databaseInfo);return new ER(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>P1(this.syncEngine,f,0),d=g1.vt()?new g1:new mR,new IR(t,r,i,a,d);var t,r,i,a,d}createSyncEngine(e,t){return function(r,i,a,d,f,_,E){const D=new HR(r,i,a,d,f,_);return E&&(D.da=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const r=Ge(t);Fe("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield X_(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function L1(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class uI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class lN{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new Hr,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),i=Number(r);isNaN(i)&&e.va(`length string (${r}) is not valid number`);const a=yield e.Sa(i);return new VR(JSON.parse(a),t.length+i)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,ve.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class uN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ve.Z)(function*(a,d){const f=Ge(a),_=Yc(f.M)+"/documents",E={documents:d.map(V=>Ah(f.M,V))},D=yield f._o("BatchGetDocuments",_,E),x=new Map;D.forEach(V=>{const B=function JD(n,e){return"found"in e?function(t,r){kt(!!r.found);const i=Ia(t,r.found.name),a=qr(r.found.updateTime),d=new oi({mapValue:{fields:r.found.fields}});return En.newFoundDocument(i,a,d)}(n,e):"missing"in e?function(t,r){kt(!!r.missing),kt(!!r.readTime);const i=Ia(t,r.missing),a=qr(r.readTime);return En.newNoDocument(i,a)}(n,e):Je()}(f.M,V);x.set(B.key.toString(),B)});const N=[];return d.forEach(V=>{const B=x.get(V.toString());kt(!!B),N.push(B)}),N}),function(a,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=$e.fromPath(i);e.mutations.push(new BC(a,e.precondition(a)))}),yield(r=(0,ve.Z)(function*(i,a){const d=Ge(i),f=Yc(d.M)+"/documents",_={writes:a.map(E=>$_(d.M,E))};yield d.co("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Je();t=At.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Oe(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?kr.updateTime(t):kr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(At.min()))throw new Oe(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kr.updateTime(t)}return kr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class cN{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.xa=r.maxAttempts,this.No=new xS(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,ve.Z)(function*(){const t=new uN(e.datastore),r=e.ka(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Ma(a)}))}).catch(i=>{e.Ma(i)})}))}ka(e){try{const t=this.updateFunction(e);return!I_(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!jC(t)}return!1}}class dN{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=si.UNAUTHENTICATED,this.clientId=b_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ve.Z)(function*(f){Fe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Fe("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=ny(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function V1(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ve.Z)(function*(a){r.isEqual(a)||(yield o1(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),DA.apply(this,arguments)}function U1(n,e){return SA.apply(this,arguments)}function SA(){return SA=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield AA(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>C1(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>C1(e.remoteStore,a)),n.onlineComponents=e}),SA.apply(this,arguments)}function AA(n){return xA.apply(this,arguments)}function xA(){return xA=(0,ve.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield V1(n,new N1)),n.offlineComponents}),xA.apply(this,arguments)}function cI(n){return MA.apply(this,arguments)}function MA(){return MA=(0,ve.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield U1(n,new TA)),n.onlineComponents}),MA.apply(this,arguments)}function B1(n){return AA(n).then(e=>e.persistence)}function PA(n){return AA(n).then(e=>e.localStore)}function j1(n){return cI(n).then(e=>e.remoteStore)}function kA(n){return cI(n).then(e=>e.syncEngine)}function oy(n){return OA.apply(this,arguments)}function OA(){return OA=(0,ve.Z)(function*(n){const e=yield cI(n),t=e.eventManager;return t.onListen=$R.bind(null,e.syncEngine),t.onUnlisten=qR.bind(null,e.syncEngine),t}),OA.apply(this,arguments)}function H1(n,e,t={}){const r=new Hr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,a,d,f,_){const E=new uI({next:x=>{a.enqueueAndForget(()=>YS(i,D));const N=x.docs.has(d);!N&&x.fromCache?_.reject(new Oe(de.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&x.fromCache&&f&&"server"===f.source?_.reject(new Oe(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),D=new XS(Np(d.path),E,{includeMetadataChanges:!0,ku:!0});return WS(i,D)}(yield oy(n),n.asyncQueue,e,t,r)})),r.promise}function $1(n,e,t={}){const r=new Hr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,a,d,f,_){const E=new uI({next:x=>{a.enqueueAndForget(()=>YS(i,D)),x.fromCache&&"server"===f.source?_.reject(new Oe(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),D=new XS(d,E,{includeMetadataChanges:!0,ku:!0});return WS(i,D)}(yield oy(n),n.asyncQueue,e,t,r)})),r.promise}const q1=new Map;function RA(n,e,t){if(!t)throw new Oe(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function G1(n,e,t,r){if(!0===e&&!0===r)throw new Oe(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Z1(n){if(!$e.isDocumentKey(n))throw new Oe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function z1(n){if($e.isDocumentKey(n))throw new Oe(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Je()}function tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dI(n);throw new Oe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function W1(n,e){if(e<=0)throw new Oe(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class K1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,G1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mw{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K1({}),this._settingsFrozen=!1,e instanceof ml?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Oe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ml(i.options.projectId)}(e))}get app(){if(!this._app)throw new Oe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new v_;switch(t.type){case"gapi":const r=t.client;return kt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new fC(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Oe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=q1.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),q1.delete(e),t.terminate())}(this),Promise.resolve()}}class Hn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}}class os{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new os(this.firestore,e,this._query)}}class bu extends os{constructor(e,t,r){super(e,t,Np(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new $e(e))}withConverter(e){return new bu(this.firestore,e,this._path)}}function Y1(n,e,...t){if(n=(0,Mt.m9)(n),RA("collection","path",e),n instanceof Mw){const r=Wt.fromString(e,...t);return z1(r),new bu(n,null,r)}{if(!(n instanceof Hn||n instanceof bu))throw new Oe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return z1(r),new bu(n.firestore,null,r)}}function hI(n,e,...t){if(n=(0,Mt.m9)(n),1===arguments.length&&(e=b_.R()),RA("doc","path",e),n instanceof Mw){const r=Wt.fromString(e,...t);return Z1(r),new Hn(n,null,new $e(r))}{if(!(n instanceof Hn||n instanceof bu))throw new Oe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return Z1(r),new Hn(n.firestore,n instanceof bu?n.converter:null,new $e(r))}}function Q1(n,e){return n=(0,Mt.m9)(n),e=(0,Mt.m9)(e),(n instanceof Hn||n instanceof bu)&&(e instanceof Hn||e instanceof bu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function J1(n,e){return n=(0,Mt.m9)(n),e=(0,Mt.m9)(e),n instanceof os&&e instanceof os&&n.firestore===e.firestore&&Ui(n._query,e._query)&&n.converter===e.converter}class EN{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new xS(this,"async_queue_retry"),this.Qa=()=>{const t=oI();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=oI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=oI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new Hr;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,ve.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!$p(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,kn("INTERNAL UNHANDLED ERROR: ",function(a){let d=a.message||"";return a.stack&&(d=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),d}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=zS.createAndSchedule(this,e,t,r,a=>this.Ha(a));return this.La.push(i),i}ja(){this.Ua&&Je()}verifyOperationInProgress(){}Ja(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function NA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class CN{constructor(){this._progressObserver={},this._taskCompletionResolver=new Hr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xn extends Mw{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new EN,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||X1(this),this._firestoreClient.terminate()}}function Gr(n){return n._firestoreClient||X1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function X1(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new OD(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new dN(n._authCredentials,n._appCheckCredentials,n._queue,r)}function eP(n,e,t){const r=new Hr;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield V1(n,t),yield U1(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function tP(n){if(n._initialized||n._terminated)throw new Oe(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Xc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Eu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eu(Pr.fromBase64String(e))}catch(t){throw new Oe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Eu(Pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xp{constructor(e){this._methodName=e}}class fI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}const ON=/^__.*__$/;class RN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new zc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Th(e,this.data,t,this.fieldTransforms)}}class nP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new zc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class pI{constructor(e,t,r,i,a,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new pI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return _I(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(rP(this.ec)&&ON.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class NN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Sw(e)}lc(e,t,r,i=!1){return new pI({ec:e,methodName:t,hc:r,path:mr.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function eg(n){const e=n._freezeSettings(),t=Sw(n._databaseId);return new NN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gI(n,e,t,r,i,a={}){const d=n.lc(a.merge||a.mergeFields?2:0,e,t,i);UA("Data must be an object, but it was:",d,r);const f=oP(r,d);let _,E;if(a.merge)_=new jc(d.fieldMask),E=d.fieldTransforms;else if(a.mergeFields){const D=[];for(const x of a.mergeFields){const N=BA(e,x,t);if(!d.contains(N))throw new Oe(de.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);lP(D,N)||D.push(N)}_=new jc(D),E=d.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,E=d.fieldTransforms;return new RN(new oi(f),_,E)}class Pw extends Xp{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pw}}function iP(n,e,t){return new pI({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class FA extends Xp{_toFieldTransform(e){return new Ch(e.path,new oo)}isEqual(e){return e instanceof FA}}class FN extends Xp{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=iP(this,e,!0),r=this.fc.map(a=>tg(a,t)),i=new wu(r);return new Ch(e.path,i)}isEqual(e){return this===e}}class LN extends Xp{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=iP(this,e,!0),r=this.fc.map(a=>tg(a,t)),i=new Zc(r);return new Ch(e.path,i)}isEqual(e){return this===e}}class VN extends Xp{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new Eh(e.M,lw(e.M,this.dc));return new Ch(e.path,t)}isEqual(e){return this===e}}function LA(n,e,t,r){const i=n.lc(1,e,t);UA("Data must be an object, but it was:",i,r);const a=[],d=oi.empty();Bc(r,(_,E)=>{const D=mI(e,_,t);E=(0,Mt.m9)(E);const x=i.oc(D);if(E instanceof Pw)a.push(D);else{const N=tg(E,x);null!=N&&(a.push(D),d.set(D,N))}});const f=new jc(a);return new nP(d,f,i.fieldTransforms)}function VA(n,e,t,r,i,a){const d=n.lc(1,e,t),f=[BA(e,r,t)],_=[i];if(a.length%2!=0)throw new Oe(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<a.length;N+=2)f.push(BA(e,a[N])),_.push(a[N+1]);const E=[],D=oi.empty();for(let N=f.length-1;N>=0;--N)if(!lP(E,f[N])){const V=f[N];let B=_[N];B=(0,Mt.m9)(B);const re=d.oc(V);if(B instanceof Pw)E.push(V);else{const we=tg(B,re);null!=we&&(E.push(V),D.set(V,we))}}const x=new jc(E);return new nP(D,x,d.fieldTransforms)}function sP(n,e,t,r=!1){return tg(t,n.lc(r?4:3,e))}function tg(n,e){if(aP(n=(0,Mt.m9)(n)))return UA("Unsupported field value:",e,n),oP(n,e);if(n instanceof Xp)return function(t,r){if(!rP(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const d of t){let f=tg(d,r.uc(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Mt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return lw(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=jn.fromDate(t);return{timestampValue:Bp(r.M,i)}}if(t instanceof jn){const i=new jn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Bp(r.M,i)}}if(t instanceof fI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Eu)return{bytesValue:zC(r.M,t._byteString)};if(t instanceof Hn){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ac(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:j_(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${dI(t)}`)}(n,e)}function oP(n,e){const t={};return mC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bc(n,(r,i)=>{const a=tg(i,e.sc(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function aP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof jn||n instanceof fI||n instanceof Eu||n instanceof Hn||n instanceof Xp)}function UA(n,e,t){if(!aP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=dI(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function BA(n,e,t){if((e=(0,Mt.m9)(e))instanceof Xc)return e._internalPath;if("string"==typeof e)return mI(n,e);throw _I("Field path arguments must be of type string or ",n,!1,void 0,t)}const UN=new RegExp("[~\\*/\\[\\]]");function mI(n,e,t){if(e.search(UN)>=0)throw _I(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xc(...e.split("."))._internalPath}catch(r){throw _I(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _I(n,e,t,r,i){const a=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||d)&&(_+=" (found",a&&(_+=` in field ${r}`),d&&(_+=` in document ${i}`),_+=")"),new Oe(de.INVALID_ARGUMENT,f+n+_)}function lP(n,e){return n.some(t=>t.isEqual(e))}class kw{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new BN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class BN extends kw{data(){return super.data()}}function yI(n,e){return"string"==typeof e?mI(n,e):e instanceof Xc?e._internalPath:e._delegate._internalPath}class ng{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ed extends kw{constructor(e,t,r,i,a,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ow(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(yI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ow extends ed{data(e={}){return super.data(e)}}class Nh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ng(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ow(this._firestore,this._userDataWriter,r.key,r,new ng(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Ow(r._firestore,r._userDataWriter,d.doc.key,d.doc,new ng(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const f=new Ow(r._firestore,r._userDataWriter,d.doc.key,d.doc,new ng(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,E=-1;return 0!==d.type&&(_=a.indexOf(d.doc.key),a=a.delete(d.doc.key)),1!==d.type&&(a=a.add(d.doc),E=a.indexOf(d.doc.key)),{type:jN(d.type),doc:f,oldIndex:_,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function uP(n,e){return n instanceof ed&&e instanceof ed?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Nh&&e instanceof Nh&&n._firestore===e._firestore&&J1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function cP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rw{}function Fh(n,...e){for(const t of e)n=t._apply(n);return n}class HN extends Rw{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=eg(e.firestore),r=function(i,a,d,f,_,E,D){let x;if(_.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new Oe(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){mP(D,E);const V=[];for(const B of D)V.push(gP(f,i,B));x={arrayValue:{values:V}}}else x=gP(f,i,D)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||mP(D,E),x=sP(d,"where",D,"in"===E||"not-in"===E);const N=$r.create(_,E,x);return function(V,B){if(B.S()){const we=sw(V);if(null!==we&&!we.isEqual(B.field))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${we.toString()}' and '${B.field.toString()}'`);const rt=iw(V);null!==rt&&_P(0,B.field,rt)}const re=function(we,rt){for(const it of we.filters)if(rt.indexOf(it.op)>=0)return it.op;return null}(V,function(we){switch(we){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(null!==re)throw new Oe(de.INVALID_ARGUMENT,re===B.op?`Invalid query. You cannot use more than one '${B.op.toString()}' filter.`:`Invalid query. You cannot use '${B.op.toString()}' filters with '${re.toString()}' filters.`)}(i,N),N}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new os(e.firestore,e.converter,function(i,a){const d=i.filters.concat([a]);return new vu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class qN extends Rw{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Oe(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new wh(i,a);return function(f,_){if(null===iw(f)){const E=sw(f);null!==E&&_P(0,E,_.field)}}(r,d),d}(e._query,this._c,this.gc);return new os(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new vu(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class dP extends Rw{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new os(e.firestore,e.converter,PC(e._query,this.yc,this.Ic))}}class hP extends Rw{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=pP(e,this.type,this.Tc,this.Ec);return new os(e.firestore,e.converter,(i=t,new vu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class fP extends Rw{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=pP(e,this.type,this.Tc,this.Ec);return new os(e.firestore,e.converter,(i=t,new vu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function pP(n,e,t,r){if(t[0]=(0,Mt.m9)(t[0]),t[0]instanceof kw)return function(i,a,d,f,_){if(!f)throw new Oe(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const E=[];for(const D of bh(i))if(D.field.isKeyField())E.push(_h(a,f.key));else{const x=f.data.field(D.field);if(C_(x))throw new Oe(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const N=D.field.canonicalString();throw new Oe(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}E.push(x)}return new Gc(E,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=eg(n.firestore);return function(a,d,f,_,E,D){const x=a.explicitOrderBy;if(E.length>x.length)throw new Oe(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let V=0;V<E.length;V++){const B=E[V];if(x[V].field.isKeyField()){if("string"!=typeof B)throw new Oe(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof B}`);if(!MC(a)&&-1!==B.indexOf("/"))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${B}' contains a slash.`);const re=a.path.child(Wt.fromString(B));if(!$e.isDocumentKey(re))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${re}' is not because it contains an odd number of segments.`);const we=new $e(re);N.push(_h(d,we))}else{const re=sP(f,_,B);N.push(re)}}return new Gc(N,D)}(n._query,n.firestore._databaseId,i,e,t,r)}}function gP(n,e,t){if("string"==typeof(t=(0,Mt.m9)(t))){if(""===t)throw new Oe(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MC(e)&&-1!==t.indexOf("/"))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Wt.fromString(t));if(!$e.isDocumentKey(r))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _h(n,new $e(r))}if(t instanceof Hn)return _h(n,t._key);throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dI(t)}.`)}function mP(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function _P(n,e,t){if(!t.isEqual(e))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const JN={maxAttempts:5};class jA{convertValue(e,t="none"){switch(Hc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_u(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Je()}}convertObject(e,t){const r={};return Bc(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new fI(Qn(e.latitude),Qn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ci(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ba(e));default:return null}}convertTimestamp(e){const t=gl(e);return new jn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Wt.fromString(e);kt(o(r));const i=new ml(r.get(1),r.get(3)),a=new $e(r.popFirst(5));return i.isEqual(t)||kn(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function vI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class XN extends jA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,t)}}class yP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=eg(e)}set(e,t,r){this._verifyNotCommitted();const i=Lh(e,this._firestore),a=vI(i.converter,t,r),d=gI(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,kr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Lh(e,this._firestore);let d;return d="string"==typeof(t=(0,Mt.m9)(t))||t instanceof Xc?VA(this._dataReader,"WriteBatch.update",a._key,t,r,i):LA(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(d.toMutation(a._key,kr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lh(e,this._firestore);return this._mutations=this._mutations.concat(new Vp(t._key,kr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lh(n,e){if((n=(0,Mt.m9)(n)).firestore!==e)throw new Oe(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class rg extends jA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,t)}}function vP(n,e,t){n=tn(n,Hn);const r=tn(n.firestore,Xn),i=vI(n.converter,e,t);return ay(r,[gI(eg(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,kr.none())])}function wP(n,e,t,...r){n=tn(n,Hn);const i=tn(n.firestore,Xn),a=eg(i);let d;return d="string"==typeof(e=(0,Mt.m9)(e))||e instanceof Xc?VA(a,"updateDoc",n._key,e,t,r):LA(a,"updateDoc",n._key,e),ay(i,[d.toMutation(n._key,kr.exists(!0))])}function bP(n,...e){var t,r,i;n=(0,Mt.m9)(n);let a={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||NA(e[d])||(a=e[d],d++);const f={includeMetadataChanges:a.includeMetadataChanges};if(NA(e[d])){const x=e[d];e[d]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[d+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[d+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let _,E,D;if(n instanceof Hn)E=tn(n.firestore,Xn),D=Np(n._key.path),_={next:x=>{e[d]&&e[d](HA(E,n,x))},error:e[d+1],complete:e[d+2]};else{const x=tn(n,os);E=tn(x.firestore,Xn),D=x._query;const N=new rg(E);_={next:V=>{e[d]&&e[d](new Nh(E,N,x,V))},error:e[d+1],complete:e[d+2]},cP(n._query)}return function(x,N,V,B){const re=new uI(B),we=new XS(N,re,V);return x.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return WS(yield oy(x),we)})),()=>{re.Aa(),x.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return YS(yield oy(x),we)}))}}(Gr(E),D,f,_)}function ay(n,e){return function(t,r){const i=new Hr;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function GR(n,e,t){return iA.apply(this,arguments)}(yield kA(t),r,i)})),i.promise}(Gr(n),e)}function HA(n,e,t){const r=t.docs.get(e._key),i=new rg(n);return new ed(n,i,e._key,r,new ng(t.hasPendingWrites,t.fromCache),e.converter)}class uF extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=eg(e)}get(e){const t=Lh(e,this._firestore),r=new XN(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Je();const a=i[0];if(a.isFoundDocument())return new kw(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new kw(this._firestore,r,t._key,null,t.converter);throw Je()})}set(e,t,r){const i=Lh(e,this._firestore),a=vI(i.converter,t,r),d=gI(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const a=Lh(e,this._firestore);let d;return d="string"==typeof(t=(0,Mt.m9)(t))||t instanceof Xc?VA(this._dataReader,"Transaction.update",a._key,t,r,i):LA(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,d),this}delete(e){const t=Lh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Lh(e,this._firestore),r=new rg(this._firestore);return super.get(e).then(i=>new ed(this._firestore,r,t._key,i._document,new ng(!1,!1),t.converter))}}function $A(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function CP(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function IP(){if(!function yC(){return"undefined"!=typeof atob}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Vc=rs.SDK_VERSION,(0,rs._registerComponent)(new wi.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new Xn(i,new kD(t.getProvider("auth-internal")),new pC(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,rs.registerVersion)(G0,"3.4.9",n),(0,rs.registerVersion)(G0,"3.4.9","esm2017")}();class Nw{constructor(e){this._delegate=e}static fromBase64String(e){return IP(),new Nw(Eu.fromBase64String(e))}static fromUint8Array(e){return CP(),new Nw(Eu.fromUint8Array(e))}toBase64(){return IP(),this._delegate.toBase64()}toUint8Array(){return CP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function qA(n){return function yF(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class vF{enableIndexedDbPersistence(e,t){return function TN(n,e){tP(n=tn(n,Xn));const t=Gr(n),r=n._freezeSettings(),i=new TA;return eP(t,i,new F1(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function DN(n){tP(n=tn(n,Xn));const e=Gr(n),t=n._freezeSettings(),r=new TA;return eP(e,r,new aN(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function SN(n){if(n._initialized&&!n._terminated)throw new Oe(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Hr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(r){if(!Ps.vt())return Promise.resolve();const i=r+"main";yield Ps.delete(i)}),function(r){return t.apply(this,arguments)})(_S(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class TP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ml||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Cp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function wN(n,e,t,r={}){var i;const a=(n=tn(n,Mw))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Cp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=si.MOCK_USER;else{d=(0,Mt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Oe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new si(_)}n._authCredentials=new PD(new Tp(d,f))}}(this._delegate,e,t,r)}enableNetwork(){return function xN(n){return function hN(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield B1(n),t=yield j1(n);return e.setNetworkEnabled(!0),function(r){const i=Ge(r);return i.wu.delete(0),Aw(i)}(t)}))}(Gr(n=tn(n,Xn)))}(this._delegate)}disableNetwork(){return function MN(n){return function fN(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield B1(n),t=yield j1(n);return e.setNetworkEnabled(!1),(r=(0,ve.Z)(function*(i){const a=Ge(i);a.wu.add(0),yield X_(a),a.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Gr(n=tn(n,Xn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,G1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function AN(n){return function(e){const t=new Hr;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function KR(n,e){return uA.apply(this,arguments)}(yield kA(e),t)})),t.promise}(Gr(n=tn(n,Xn)))}(this._delegate)}onSnapshotsInSync(e){return function lF(n,e){return function mN(n,e){const t=new uI(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield oy(n),i=t,Ge(r).bu.add(i),void i.next();var r,i})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield oy(n),i=t,void Ge(r).bu.delete(i);var r,i}))}}(Gr(n=tn(n,Xn)),NA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ly(this,Y1(this._delegate,e))}catch(t){throw ks(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ta(this,hI(this._delegate,e))}catch(t){throw ks(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Os(this,function bN(n,e){if(n=tn(n,Mw),RA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new os(n,null,(t=e,new vu(Wt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ks(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function cF(n,e,t){n=tn(n,Xn);const r=Object.assign(Object.assign({},JN),t);return function(i){if(i.maxAttempts<1)throw new Oe(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function _N(n,e,t){const r=new Hr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const i=yield(a=n,cI(a).then(d=>d.datastore));var a;new cN(n.asyncQueue,i,t,e,r).run()})),r.promise}(Gr(n),i=>e(new uF(n,i)),r)}(this._delegate,t=>e(new DP(this,t)))}batch(){return Gr(this._delegate),new SP(new yP(this._delegate,e=>ay(this._delegate,e)))}loadBundle(e){return function PN(n,e){const t=Gr(n=tn(n,Xn)),r=new CN;return function yN(n,e,t,r){const i=function(a,d){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,E){if(_ instanceof Uint8Array)return L1(_,E);if(_ instanceof ArrayBuffer)return L1(new Uint8Array(_),E);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new lN(_,d);var _}(t,Sw(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function oN(n,e,t){const r=Ge(n);var i;(i=(0,ve.Z)(function*(a,d,f){try{const _=yield d.getMetadata();if(yield function(N,V){const B=Ge(N),re=qr(V.createTime);return B.persistence.runTransaction("hasNewerBundle","readonly",we=>B._s.getBundleMetadata(we,V.id)).then(we=>!!we&&we.createTime.compareTo(re)>=0)}(a.localStore,_))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(N=_).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);f._updateProgress(D1(_));const E=new UR(_,a.localStore,d.M);let D=yield d.ma();for(;D;){const N=yield E.Fu(D);N&&f._updateProgress(N),D=yield d.ma()}const x=yield E.complete();return yield Jc(a,x.Lu,void 0),yield function(N,V){const B=Ge(N);return B.persistence.runTransaction("Save bundle","readwrite",re=>B._s.saveBundleMetadata(re,V))}(a.localStore,_),f._completeWith(x.progress),Promise.resolve(x.Bu)}catch(_){return Cp("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var N}),function(a,d,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield kA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function kN(n,e){return function vN(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,r){const i=Ge(t);return i.persistence.runTransaction("Get named query","readonly",a=>i._s.getNamedQuery(a,r))}(yield PA(n),e)}))}(Gr(n=tn(n,Xn)),e).then(t=>t?new os(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Os(this,t):null)}}class wI extends jA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nw(new Eu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ta.forKey(t,this.firestore,null)}}class DP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new wI(e)}get(e){const t=sg(e);return this._delegate.get(t).then(r=>new Fw(this._firestore,new ed(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=sg(e);return r?($A("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=sg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=sg(e);return this._delegate.delete(t),this}}class SP{constructor(e){this._delegate=e}set(e,t,r){const i=sg(e);return r?($A("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=sg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=sg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ig{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ow(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Lw(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=ig.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new ig(e,new wI(e),t),i.set(t,a)),a}}ig.INSTANCES=new WeakMap;class Ta{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ta(t,new Hn(t._delegate,r,new $e(e)))}static forKey(e,t,r){return new Ta(t,new Hn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ly(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ly(this.firestore,Y1(this._delegate,e))}catch(t){throw ks(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Mt.m9)(e))instanceof Hn&&Q1(this._delegate,e)}set(e,t){t=$A("DocumentReference.set",t);try{return t?vP(this._delegate,e,t):vP(this._delegate,e)}catch(r){throw ks(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?wP(this._delegate,e):wP(this._delegate,e,t,...r)}catch(i){throw ks(i,"updateDoc()","DocumentReference.update()")}}delete(){return function oF(n){return ay(tn(n.firestore,Xn),[new Vp(n._key,kr.none())])}(this._delegate)}onSnapshot(...e){const t=AP(e),r=xP(e,i=>new Fw(this.firestore,new ed(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return bP(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function tF(n){n=tn(n,Hn);const e=tn(n.firestore,Xn),t=Gr(e),r=new rg(e);return function pN(n,e){const t=new Hr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,a,d){try{const f=yield function(_,E){const D=Ge(_);return D.persistence.runTransaction("read document","readonly",x=>D.fi.Ls(x,E))}(i,a);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Oe(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=ny(f,`Failed to get document '${a} from cache`);d.reject(_)}}),function(i,a,d){return r.apply(this,arguments)})(yield PA(n),e,t);var r})),t.promise}(t,n._key).then(i=>new ed(e,r,n._key,i,new ng(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function nF(n){n=tn(n,Hn);const e=tn(n.firestore,Xn);return H1(Gr(e),n._key,{source:"server"}).then(t=>HA(e,n,t))}(this._delegate):function eF(n){n=tn(n,Hn);const e=tn(n.firestore,Xn);return H1(Gr(e),n._key).then(t=>HA(e,n,t))}(this._delegate),t.then(r=>new Fw(this.firestore,new ed(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ta(this.firestore,this._delegate.withConverter(e?ig.getInstance(this.firestore,e):null))}}function ks(n,e,t){return n.message=n.message.replace(e,t),n}function AP(n){for(const e of n)if("object"==typeof e&&!qA(e))return e;return{}}function xP(n,e){var t,r;let i;return i=qA(n[0])?n[0]:qA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Fw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ta(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return uP(this._delegate,e._delegate)}}class Lw extends Fw{data(e){const t=this._delegate.data(e);return function z0(n,e){n||Je()}(void 0!==t),t}}class Os{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wI(e)}where(e,t,r){try{return new Os(this.firestore,Fh(this._delegate,function $N(n,e,t){const r=e,i=yI("where",n);return new HN(i,r,t)}(e,t,r)))}catch(i){throw ks(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Os(this.firestore,Fh(this._delegate,function GN(n,e="asc"){const t=e,r=yI("orderBy",n);return new qN(r,t)}(e,t)))}catch(r){throw ks(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Os(this.firestore,Fh(this._delegate,function ZN(n){return W1("limit",n),new dP("limit",n,"F")}(e)))}catch(t){throw ks(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Os(this.firestore,Fh(this._delegate,function zN(n){return W1("limitToLast",n),new dP("limitToLast",n,"L")}(e)))}catch(t){throw ks(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Os(this.firestore,Fh(this._delegate,function WN(...n){return new hP("startAt",n,!0)}(...e)))}catch(t){throw ks(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Os(this.firestore,Fh(this._delegate,function KN(...n){return new hP("startAfter",n,!1)}(...e)))}catch(t){throw ks(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Os(this.firestore,Fh(this._delegate,function YN(...n){return new fP("endBefore",n,!1)}(...e)))}catch(t){throw ks(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Os(this.firestore,Fh(this._delegate,function QN(...n){return new fP("endAt",n,!0)}(...e)))}catch(t){throw ks(t,"endAt()","Query.endAt()")}}isEqual(e){return J1(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function iF(n){n=tn(n,os);const e=tn(n.firestore,Xn),t=Gr(e),r=new rg(e);return function gN(n,e){const t=new Hr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,a,d){try{const f=yield rI(i,a,!0),_=new x1(a,f._i),E=_.Wu(f.documents),D=_.applyChanges(E,!1);d.resolve(D.snapshot)}catch(f){const _=ny(f,`Failed to execute query '${a} against cache`);d.reject(_)}}),function(i,a,d){return r.apply(this,arguments)})(yield PA(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Nh(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function sF(n){n=tn(n,os);const e=tn(n.firestore,Xn),t=Gr(e),r=new rg(e);return $1(t,n._query,{source:"server"}).then(i=>new Nh(e,r,n,i))}(this._delegate):function rF(n){n=tn(n,os);const e=tn(n.firestore,Xn),t=Gr(e),r=new rg(e);return cP(n._query),$1(t,n._query).then(i=>new Nh(e,r,n,i))}(this._delegate),t.then(r=>new GA(this.firestore,new Nh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=AP(e),r=xP(e,i=>new GA(this.firestore,new Nh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return bP(this._delegate,t,r)}withConverter(e){return new Os(this.firestore,this._delegate.withConverter(e?ig.getInstance(this.firestore,e):null))}}class bF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Lw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class GA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Os(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Lw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new bF(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Lw(this._firestore,r))})}isEqual(e){return uP(this._delegate,e._delegate)}}class ly extends Os{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ta(this.firestore,e):null}doc(e){try{return new Ta(this.firestore,void 0===e?hI(this._delegate):hI(this._delegate,e))}catch(t){throw ks(t,"doc()","CollectionReference.doc()")}}add(e){return function aF(n,e){const t=tn(n.firestore,Xn),r=hI(n),i=vI(n.converter,e);return ay(t,[gI(eg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,kr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ta(this.firestore,t))}isEqual(e){return Q1(this._delegate,e._delegate)}withConverter(e){return new ly(this.firestore,this._delegate.withConverter(e?ig.getInstance(this.firestore,e):null))}}function sg(n){return tn(n,Hn)}class ZA{constructor(...e){this._delegate=new Xc(...e)}static documentId(){return new ZA(mr.keyField().canonicalString())}isEqual(e){return(e=(0,Mt.m9)(e))instanceof Xc&&this._delegate._internalPath.isEqual(e._internalPath)}}class og{constructor(e){this._delegate=e}static serverTimestamp(){const e=function hF(){return new FA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new og(e)}static delete(){const e=function dF(){return new Pw("deleteField")}();return e._methodName="FieldValue.delete",new og(e)}static arrayUnion(...e){const t=function fF(...n){return new FN("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new og(t)}static arrayRemove(...e){const t=function pF(...n){return new LN("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new og(t)}static increment(e){const t=function gF(n){return new VN("increment",n)}(e);return t._methodName="FieldValue.increment",new og(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const EF={Firestore:TP,GeoPoint:fI,Timestamp:jn,Blob:Nw,Transaction:DP,WriteBatch:SP,DocumentReference:Ta,DocumentSnapshot:Fw,Query:Os,QueryDocumentSnapshot:Lw,QuerySnapshot:GA,CollectionReference:ly,FieldPath:ZA,FieldValue:og,setLogLevel:function wF(n){!function MD(n){mu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function MP(n,e){return function TF(n,e=bE.z){return new Ln.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function zA(n,e){return MP(n,e).pipe((0,Pt.U)(t=>({payload:t,type:"query"})))}function bI(n,e){return zA(n,e).pipe(Ao(void 0),Bm(),(0,Pt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,f)=>{const _=i.find(D=>D.doc.ref.isEqual(d.ref)),E=null==t?void 0:t.payload.docs.find(D=>D.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&E&&JSON.stringify(E.metadata)===JSON.stringify(d.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),a}))}function PP(n,e,t){return bI(n,t).pipe(Qi((r,i)=>function SF(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function AF(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return WA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return WA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return WA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function QT(n,e=Yi.y){return n=null!=n?n:xr,(0,rr.e)((t,r)=>{let i,a=!0;t.subscribe((0,nr.x)(r,d=>{const f=e(d);(a||!n(i,f))&&(a=!1,i=f,r.next(d))}))})}(),(0,Pt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function WA(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function kP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function IF(n){(function CF(n,e){n.INTERNAL.registerComponent(new wi.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},EF)))})(n,(e,t)=>new TP(e,t,new vF)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(EE.Z);class OP{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=bI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Pt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Ao(void 0),Bm(),hr(([r,i])=>i.length>0||!r),(0,Pt.U)(([r,i])=>i),Yn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Qi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=kP(e);return PP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Yn.iC)}valueChanges(e={}){return zA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Yn.iC)}get(e){return(0,un.D)(this.query.get(e)).pipe(Yn.iC)}add(e){return this.ref.add(e)}doc(e){return new RP(this.ref.doc(e),this.afs)}}class RP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=LP(r,t);return new OP(i,a,this.afs)}snapshotChanges(){return function DF(n,e){return MP(n,e).pipe(Ao(void 0),Bm(),(0,Pt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Yn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,un.D)(this.ref.get(e)).pipe(Yn.iC)}}class xF{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?bI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),hr(t=>t.length>0),Yn.iC):bI(this.query,this.afs.schedulers.outsideAngular).pipe(Yn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Qi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=kP(e);return PP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Yn.iC)}valueChanges(e={}){return zA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Yn.iC)}get(e){return(0,un.D)(this.query.get(e)).pipe(Yn.iC)}}const NP=new u.OlP("angularfire2.enableFirestorePersistence"),FP=new u.OlP("angularfire2.firestore.persistenceSettings"),MF=new u.OlP("angularfire2.firestore.settings"),PF=new u.OlP("angularfire2.firestore.use-emulator");function LP(n,e=(t=>t)){return{query:e(n),ref:n}}let VP=(()=>{class n{constructor(t,r,i,a,d,f,_,E,D,x,N,V,B,re,we,rt,it){this.schedulers=_;const Ze=(0,vi.on)(t,f,r),je=D;x&&iv(Ze,f,N,B,re,we,V,rt),[this.firestore,this.persistenceEnabled$]=(0,vi.cc)(`${Ze.name}.firestore`,"AngularFirestore",Ze.name,()=>{const vt=f.runOutsideAngular(()=>Ze.firestore());if(a&&vt.settings(a),je&&vt.useEmulator(...je),i&&!Yo(d)){const Ct=()=>{try{return(0,un.D)(vt.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch($t){return"undefined"!=typeof console&&console.warn($t),ut(!1)}};return[vt,f.runOutsideAngular(Ct)]}return[vt,ut(!1)]},[a,je,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:d}=LP(i,r),f=this.schedulers.ngZone.run(()=>a);return new OP(f,d,this)}collectionGroup(t,r){const i=r||(d=>d),a=this.firestore.collectionGroup(t);return new xF(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new RP(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(vi.Dh),u.LFG(vi.xv,8),u.LFG(NP,8),u.LFG(MF,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Yn.HU),u.LFG(FP,8),u.LFG(PF,8),u.LFG(Mf,8),u.LFG(rv,8),u.LFG(DT,8),u.LFG(ST,8),u.LFG(wm,8),u.LFG(AT,8),u.LFG(Rb,8),u.LFG(ym,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kF=(()=>{class n{constructor(){vm.Z.registerVersion("angularfire",Yn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:NP,useValue:!0},{provide:FP,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[VP]}),n})();const UP="firebasestorage.googleapis.com",BP="storageBucket";class _r extends Mt.ZR{constructor(e,t){super(KA(e),`Firebase Storage: ${t} (${KA(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_r.prototype)}_codeEquals(e){return KA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function KA(n){return"storage/"+n}function YA(){return new _r("unknown","An unknown error occurred, please check the error payload for server response.")}function jP(){return new _r("canceled","User canceled the upload/download.")}function HP(){return new _r("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function uy(n){return new _r("invalid-argument",n)}function $P(){return new _r("app-deleted","The Firebase app was deleted.")}function qP(n){return new _r("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vw(n,e){return new _r("invalid-format","String does not match format '"+n+"': "+e)}function Uw(n){throw new _r("internal-error","Internal error: "+n)}class as{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=as.makeFromUrl(e,t)}catch(i){return new as(e,"")}if(""===r.path)return r;throw function $F(n){return new _r("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function E(je){je.path_=decodeURIComponent(je.path)}const x=t.replace(/[.]/g,"\\."),Ze=[{regex:f,indices:{bucket:1,path:3},postModify:function a(je){"/"===je.path.charAt(je.path.length-1)&&(je.path_=je.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${x}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:E},{regex:new RegExp(`^https?://${t===UP?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:E}];for(let je=0;je<Ze.length;je++){const vt=Ze[je],Ct=vt.regex.exec(e);if(Ct){let hn=Ct[vt.indices.path];hn||(hn=""),r=new as(Ct[vt.indices.bucket],hn),vt.postModify(r);break}}if(null==r)throw function HF(n){return new _r("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class zF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function EI(n){return"string"==typeof n||n instanceof String}function GP(n){return QA()&&n instanceof Blob}function QA(){return"undefined"!=typeof Blob}function JA(n,e,t,r){if(r<e)throw uy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw uy(`Invalid value for '${n}'. Expected ${t} or less.`)}function td(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function ZP(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Vh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Vh||(Vh={})),Vh))();class XF{constructor(e,t,r,i,a,d,f,_,E,D,x){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=d,this.callback_=f,this.errorCallback_=_,this.timeout_=E,this.progressCallback_=D,this.connectionFactory_=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,V)=>{this.resolve_=N,this.reject_=V,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,d=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const _=this.callback_(f,f.getResponse());!function YF(n){return void 0!==n}(_)?a():a(_)}catch(_){d(_)}else if(null!==f){const _=YA();_.serverResponse=f.getErrorText(),d(this.errorCallback_?this.errorCallback_(f,_):_)}else d(i.canceled?this.appDelete_?$P():jP():function jF(){return new _r("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new CI(!1,null,!0)):this.backoffId_=function WF(n,e,t){let r=1,i=null,a=null,d=!1,f=0;function _(){return 2===f}let E=!1;function D(...we){E||(E=!0,e.apply(null,we))}function x(we){i=setTimeout(()=>{i=null,n(V,_())},we)}function N(){a&&clearTimeout(a)}function V(we,...rt){if(E)return void N();if(we)return N(),void D.call(null,we,...rt);if(_()||d)return N(),void D.call(null,we,...rt);let Ze;r<64&&(r*=2),1===f?(f=2,Ze=0):Ze=1e3*(r+Math.random()),x(Ze)}let B=!1;function re(we){B||(B=!0,N(),!E&&(null!==i?(we||(f=2),clearTimeout(i),x(0)):we||(f=1)))}return x(0),a=setTimeout(()=>{d=!0,re(!0)},t),re}((r,i)=>{if(i)return void r(!1,new CI(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const d=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(d),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(d),this.pendingConnection_=null;const f=a.getErrorCode()===Vh.NO_ERROR,_=a.getStatus();if(!f||this.isRetryStatusCode_(_)){const D=a.getErrorCode()===Vh.ABORT;return void r(!1,new CI(!1,null,D))}const E=-1!==this.successCodes_.indexOf(_);r(!0,new CI(E,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function KF(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),a=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||a}}class CI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function oL(...n){const e=function sL(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(QA())return new Blob(n);throw new _r("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Uo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class XA{constructor(e,t){this.data=e,this.contentType=t||null}}function ex(n,e){switch(n){case Uo.RAW:return new XA(zP(e));case Uo.BASE64:case Uo.BASE64URL:return new XA(WP(n,e));case Uo.DATA_URL:return new XA(function cL(n){const e=new KP(n);return e.base64?WP(Uo.BASE64,e.rest):function uL(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Vw(Uo.DATA_URL,"Malformed data URL.")}return zP(e)}(e.rest)}(e),function dL(n){return new KP(n).contentType}(e))}throw YA()}function zP(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function WP(n,e){switch(n){case Uo.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw Vw(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Uo.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw Vw(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function lL(n){return atob(n)}(e)}catch(i){throw Vw(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class KP{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Vw(Uo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function hL(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Cu{constructor(e,t){let r=0,i="";GP(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(GP(this.data_)){const i=function aL(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Cu(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Cu(r,!0)}}static getBlob(...e){if(QA()){const t=e.map(r=>r instanceof Cu?r.data_:r);return new Cu(oL.apply(null,t))}{const t=e.map(d=>EI(d)?ex(Uo.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(d=>{for(let f=0;f<d.length;f++)i[a++]=d[f]}),new Cu(i,!0)}}uploadData(){return this.data_}}function tx(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function JF(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function YP(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function gL(n,e){return e}class Rs{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||gL}}let II=null;function Bw(){if(II)return II;const n=[];n.push(new Rs("bucket")),n.push(new Rs("generation")),n.push(new Rs("metageneration")),n.push(new Rs("name","fullPath",!0));const t=new Rs("name");t.xform=function e(a,d){return function mL(n){return!EI(n)||n.length<2?n:YP(n)}(d)},n.push(t);const i=new Rs("size");return i.xform=function r(a,d){return void 0!==d?Number(d):d},n.push(i),n.push(new Rs("timeCreated")),n.push(new Rs("updated")),n.push(new Rs("md5Hash",null,!0)),n.push(new Rs("cacheControl",null,!0)),n.push(new Rs("contentDisposition",null,!0)),n.push(new Rs("contentEncoding",null,!0)),n.push(new Rs("contentLanguage",null,!0)),n.push(new Rs("contentType",null,!0)),n.push(new Rs("metadata","customMetadata",!0)),II=n,II}function QP(n,e,t){const r=tx(e);return null===r?null:function yL(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const d=t[a];r[d.local]=d.xform(r,e[d.server])}return function _L(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new as(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function nx(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const JP="prefixes";class Iu{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Tu(n){if(!n)throw YA()}function TI(n,e){return function t(r,i){const a=QP(n,i,e);return Tu(null!==a),a}}function cy(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function UF(){return new _r("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function VF(){return new _r("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function LF(n){return new _r("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function BF(n){return new _r("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function jw(n){const e=cy(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function FF(n){return new _r("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function ek(n,e,t){const i=td(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,f=new Iu(i,"GET",TI(n,t),d);return f.errorHandler=jw(e),f}function IL(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const f=td(e.bucketOnlyServerUrl(),n.host,n._protocol),E=n.maxOperationRetryTime,D=new Iu(f,"GET",function EL(n,e){return function t(r,i){const a=function bL(n,e,t){const r=tx(t);return null===r?null:function wL(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[JP])for(const i of t[JP]){const a=i.replace(/\/$/,""),d=n._makeStorageReference(new as(e,a));r.prefixes.push(d)}if(t.items)for(const i of t.items){const a=n._makeStorageReference(new as(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return Tu(null!==a),a}}(n,e.bucket),E);return D.urlParams=a,D.errorHandler=cy(e),D}function nk(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function AL(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class DI{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function rx(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(i){Tu(!1)}return Tu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const kL={STATE_CHANGED:"state_changed"},Ns={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ix(n){switch(n){case"running":case"pausing":case"canceling":return Ns.RUNNING;case"paused":return Ns.PAUSED;case"success":return Ns.SUCCESS;case"canceled":return Ns.CANCELED;default:return Ns.ERROR}}class OL{constructor(e,t,r){if(function QF(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function dy(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class NL extends class RL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Uw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Uw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Uw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Uw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Uw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function wl(){return new NL}class ok{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Bw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function xL(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),d=nk(e,r,i),f={name:d.fullPath},_=td(a,n.host,n._protocol),D={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},x=nx(d,t),B=new Iu(_,"POST",function V(re){let we;rx(re);try{we=re.getResponseHeader("X-Goog-Upload-URL")}catch(rt){Tu(!1)}return Tu(EI(we)),we},n.maxUploadRetryTime);return B.urlParams=f,B.headers=D,B.body=x,B.errorHandler=cy(e),B}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,wl,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function ML(n,e,t,r){const _=new Iu(t,"POST",function a(E){const D=rx(E,["active","final"]);let x=null;try{x=E.getResponseHeader("X-Goog-Upload-Size-Received")}catch(V){Tu(!1)}x||Tu(!1);const N=Number(x);return Tu(!isNaN(N)),new DI(N,r.size(),"final"===D)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=cy(e),_}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,wl,t,r);this._request=a,a.getPromise().then(d=>{d=d,this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new DI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let d;try{d=function PL(n,e,t,r,i,a,d,f){const _=new DI(0,0);if(d?(_.current=d.current,_.total=d.total):(_.current=0,_.total=r.size()),r.size()!==_.total)throw function GF(){return new _r("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const E=_.total-_.current;let D=E;i>0&&(D=Math.min(D,i));const x=_.current,B={"X-Goog-Upload-Command":D===E?"upload, finalize":"upload","X-Goog-Upload-Offset":`${_.current}`},re=r.slice(x,x+D);if(null===re)throw HP();const Ze=new Iu(t,"POST",function we(je,vt){const Ct=rx(je,["active","final"]),$t=_.current+D,hn=r.size();let $n;return $n="final"===Ct?TI(e,a)(je,vt):null,new DI($t,hn,"final"===Ct,$n)},e.maxUploadRetryTime);return Ze.headers=B,Ze.body=re.uploadData(),Ze.progressCallback=f||null,Ze.errorHandler=cy(n),Ze}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const f=this._ref.storage._makeRequest(d,wl,i,a);this._request=f,f.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=ek(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,wl,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function rk(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},_=function f(){let Ze="";for(let je=0;je<2;je++)Ze+=Math.random().toString().slice(2);return Ze}();d["Content-Type"]="multipart/related; boundary="+_;const E=nk(e,r,i),D=nx(E,t),V=Cu.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+D+"\r\n--"+_+"\r\nContent-Type: "+E.contentType+"\r\n\r\n",r,"\r\n--"+_+"--");if(null===V)throw HP();const B={name:E.fullPath},re=td(a,n.host,n._protocol),rt=n.maxUploadRetryTime,it=new Iu(re,"POST",TI(n,t),rt);return it.urlParams=B,it.headers=d,it.body=V.uploadData(),it.errorHandler=cy(e),it}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,wl,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=jP(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=ix(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new OL(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(ix(this._state)){case Ns.SUCCESS:dy(this._resolve.bind(null,this.snapshot))();break;case Ns.CANCELED:case Ns.ERROR:dy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ix(this._state)){case Ns.RUNNING:case Ns.PAUSED:e.next&&dy(e.next.bind(e,this.snapshot))();break;case Ns.SUCCESS:e.complete&&dy(e.complete.bind(e))();break;default:e.error&&dy(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class ag{constructor(e,t){this._service=e,this._location=t instanceof as?t:as.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ag(e,t)}get root(){const e=new as(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YP(this._location.path)}get storage(){return this._service}get parent(){const e=function fL(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new as(this._location.bucket,e);return new ag(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw qP(e)}}function lk(n,e,t){return sx.apply(this,arguments)}function sx(){return sx=(0,ve.Z)(function*(n,e,t){const i=yield uk(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield lk(n,e,i.nextPageToken))}),sx.apply(this,arguments)}function uk(n,e){null!=e&&"number"==typeof e.maxResults&&JA("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=IL(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,wl)}function zL(n){n._throwIfRoot("getDownloadURL");const e=function TL(n,e,t){const i=td(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,f=new Iu(i,"GET",function CL(n,e){return function t(r,i){const a=QP(n,i,e);return Tu(null!==a),function vL(n,e,t,r){const i=tx(e);if(null===i||!EI(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const d=encodeURIComponent;return a.split(",").map(E=>{const x=n.fullPath;return td("/b/"+d(n.bucket)+"/o/"+d(x),t,r)+ZP({alt:"media",token:E})})[0]}(a,i,n.host,n._protocol)}}(n,t),d);return f.errorHandler=jw(e),f}(n.storage,n._location,Bw());return n.storage.makeRequestWithTokens(e,wl).then(t=>{if(null===t)throw function ZF(){return new _r("no-download-url","The given file does not have any download URLs.")}();return t})}function ck(n,e){const t=function pL(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new as(n._location.bucket,t);return new ag(n.storage,r)}function dk(n,e){if(n instanceof ox){const t=n;if(null==t._bucket)throw function qF(){return new _r("no-default-bucket","No default bucket found. Did you set the '"+BP+"' property when initializing the app?")}();const r=new ag(t,t._bucket);return null!=e?dk(r,e):r}return void 0!==e?ck(n,e):n}function QL(n,e){if(e&&function KL(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof ox)return function YL(n,e){return new ag(n,e)}(n,e);throw uy("To use ref(service, url), the first argument must be a Storage instance.")}return dk(n,e)}function hk(n,e){const t=null==e?void 0:e[BP];return null==t?null:as.makeFromBucketSpec(t,n)}class ox{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=UP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?as.makeFromBucketSpec(i,this._host):hk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?as.makeFromBucketSpec(this._url,e):hk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){JA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){JA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ve.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ve.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ag(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new zF($P());{const a=function iL(n,e,t,r,i,a){const d=ZP(n.urlParams),f=n.url+d,_=Object.assign({},n.headers);return function nL(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function eL(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function tL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(_,a),function rL(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,r),new XF(f,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var r=this;return(0,ve.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const fk="@firebase/storage";function mk(n,e){return QL(n=(0,Mt.m9)(n),e)}function u2(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new ox(t,r,i,e,rs.SDK_VERSION)}!function c2(){(0,rs._registerComponent)(new wi.wA("storage",u2,"PUBLIC").setMultipleInstances(!0)),(0,rs.registerVersion)(fk,"0.9.6",""),(0,rs.registerVersion)(fk,"0.9.6","esm2017")}();class SI{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class _k{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new SI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new SI(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(a="function"==typeof t?d=>t(new SI(d,this,this._ref)):{next:t.next?d=>t.next(new SI(d,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class yk{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new nd(e,this._service))}get items(){return this._delegate.items.map(e=>new nd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class nd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function a2(n,e){return ck(n,e)}(this._delegate,e);return new nd(t,this.storage)}get root(){return new nd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new nd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new _k(function XL(n,e,t){return function HL(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new ok(n,new Cu(e),t)}(n=(0,Mt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Uo.RAW,r){this._throwIfRoot("putString");const i=ex(t,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new _k(new ok(this._delegate,new Cu(i.data,!0),a),this)}listAll(){return function r2(n){return function qL(n){const e={prefixes:[],items:[]};return lk(n,e).then(()=>e)}(n=(0,Mt.m9)(n))}(this._delegate).then(e=>new yk(e,this.storage))}list(e){return function n2(n,e){return uk(n=(0,Mt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new yk(t,this.storage))}getMetadata(){return function e2(n){return function GL(n){n._throwIfRoot("getMetadata");const e=ek(n.storage,n._location,Bw());return n.storage.makeRequestWithTokens(e,wl)}(n=(0,Mt.m9)(n))}(this._delegate)}updateMetadata(e){return function t2(n,e){return function ZL(n,e){n._throwIfRoot("updateMetadata");const t=function DL(n,e,t,r){const a=td(e.fullServerUrl(),n.host,n._protocol),f=nx(t,r),E=n.maxOperationRetryTime,D=new Iu(a,"PATCH",TI(n,r),E);return D.headers={"Content-Type":"application/json; charset=utf-8"},D.body=f,D.errorHandler=jw(e),D}(n.storage,n._location,e,Bw());return n.storage.makeRequestWithTokens(t,wl)}(n=(0,Mt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function s2(n){return zL(n=(0,Mt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function o2(n){return function WL(n){n._throwIfRoot("deleteObject");const e=function SL(n,e){const r=td(e.fullServerUrl(),n.host,n._protocol),f=new Iu(r,"DELETE",function d(_,E){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=jw(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,wl)}(n=(0,Mt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw qP(e)}}class vk{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(wk(e))throw uy("ref() expected a child path but got a URL, use refFromURL instead.");return new nd(mk(this._delegate,e),this)}refFromURL(e){if(!wk(e))throw uy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{as.makeFromUrl(e,this._delegate.host)}catch(t){throw uy("refFromUrl() expected a valid full URL but got an invalid one.")}return new nd(mk(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function l2(n,e,t,r={}){!function JL(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Mt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function wk(n){return/^[A-Za-z]+:\/\//.test(n)}function p2(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new vk(t,r)}function bk(n){const e=function m2(n){return new Ln.y(e=>{const t=d=>e.next(d);t(n.snapshot);const a=n.on("state_changed",t);return n.then(d=>{t(d),e.complete()},d=>{t(n.snapshot),(d=>{e.error(d)})(d)}),function(){a()}}).pipe(function OF(n,e=bE.z){return(0,rr.e)((t,r)=>{let i=null,a=null,d=null;const f=()=>{if(i){i.unsubscribe(),i=null;const E=a;a=null,r.next(E)}};function _(){const E=d+n,D=e.now();if(D<E)return i=this.schedule(void 0,E-D),void r.add(i);f()}t.subscribe((0,nr.x)(r,E=>{a=E,d=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Pt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function AI(n){return{getDownloadURL:()=>ut(void 0).pipe(Yn.fc,xn(()=>n.getDownloadURL()),Yn.iC),getMetadata:()=>ut(void 0).pipe(Yn.fc,xn(()=>n.getMetadata()),Yn.iC),delete:()=>(0,un.D)(n.delete()),child:e=>AI(n.child(e)),updateMetadata:e=>(0,un.D)(n.updateMetadata(e)),put:(e,t)=>bk(n.put(e,t)),putString:(e,t,r)=>bk(n.putString(e,t,r)),list:e=>(0,un.D)(n.list(e)),listAll:()=>(0,un.D)(n.listAll())}}!function g2(n){const e={TaskState:Ns,TaskEvent:kL,StringFormat:Uo,Storage:vk,Reference:nd};n.INTERNAL.registerComponent(new wi.wA("storage-compat",p2,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.14")}(EE.Z);const _2=new u.OlP("angularfire2.storageBucket"),y2=new u.OlP("angularfire2.storage.maxUploadRetryTime"),v2=new u.OlP("angularfire2.storage.maxOperationRetryTime"),w2=new u.OlP("angularfire2.storage.use-emulator");let b2=(()=>{class n{constructor(t,r,i,a,d,f,_,E,D,x){const N=(0,vi.on)(t,d,r);this.storage=(0,vi.cc)(`${N.name}.storage.${i}`,"AngularFireStorage",N.name,()=>{const V=d.runOutsideAngular(()=>N.storage(i||void 0)),B=D;return B&&V.useEmulator(...B),_&&V.setMaxUploadRetryTime(_),E&&V.setMaxOperationRetryTime(E),V},[_,E])}ref(t){return AI(this.storage.ref(t))}refFromURL(t){return AI(this.storage.refFromURL(t))}upload(t,r,i){return AI(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(vi.Dh),u.LFG(vi.xv,8),u.LFG(_2,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Yn.HU),u.LFG(y2,8),u.LFG(v2,8),u.LFG(w2,8),u.LFG(ym,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Hw=(()=>{class n{constructor(t,r){this.afs=t,this.storage=r}getAll(t){return this.afs.collection(t).valueChanges()}setObj(t,r,i){return this.afs.collection(t).doc(i).set(r,{merge:!0})}removeObj(t,r){return this.afs.collection(t).doc(r.id).delete()}getWithFilter(t,r,i){return this.afs.collection(t,a=>a.where(r,"==",i)).valueChanges()}getUsers(t){return this.afs.collection("users",r=>r.where("email","==",t)&&r.where("habilitado","==",!0)).valueChanges()}updateUser(t,r){return this.afs.collection("users").doc(t.email).update({habilitado:r})}uploadImage(t,r){var i=this;return(0,ve.Z)(function*(){try{return yield(yield i.storage.ref("/users/"+t).putString(r,"data_url")).ref.getDownloadURL()}catch(a){return console.error(a),null}})()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(VP),u.LFG(b2))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ax=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-loading"]],decls:2,vars:0,consts:[[1,"loading-overlay"],["src","../../../assets/loading.gif","alt","Loading..."]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"img",1),u.qZA())},styles:[".loading-overlay[_ngcontent-%COMP%]{display:flex;background:rgba(255,255,255,.7);position:fixed;bottom:0;left:0;right:0;top:0;z-index:9998;align-items:center;justify-content:center}"]}),n})();function E2(n,e){1&n&&u._UZ(0,"app-loading")}const Ek=function(n,e){return{"is-invalid":n,"is-valid":e}};let C2=(()=>{class n{constructor(t,r,i,a){this.router=t,this.auth=r,this.afs=i,this.formBuilder=a,this.errorMsj=new Sn.x,this.error=!1,this.cargando=!1,this.loginForm=this.formBuilder.group({email:["",[en.required,en.email]],password:["",[en.required]]})}ngOnInit(){}get f(){return this.loginForm.controls}getErrorMessage(t){let r="";return this.f[t].hasError("required")?r="Empty.":this.f[t].getError("email")&&(r="Invalid format"),r}isNotValidField(t){return(this.f[t].touched||1==this.f[t].dirty)&&!this.f[t].valid}onLogin(){this.cargando=!0,this.error=!1,this.auth.login(this.loginForm.value.email,this.loginForm.value.password).then(t=>{if(t){let r=this.afs.getUsers(this.loginForm.value.email).subscribe(i=>{i&&(console.info(i),this.auth.refreshData(i[0]),this.loginForm.reset(),r.unsubscribe(),this.router.navigateByUrl(""))})}}).catch(t=>{this.errorMsj.next(t.message.toLowerCase().replace("firebase: ","")),this.error=!0,this.cargando=!1,console.info("ERROR ->",t)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Kn),u.Y36(pc),u.Y36(Hw),u.Y36(wE))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:25,vars:16,consts:[[4,"ngIf"],[1,"form-header"],[1,"form-content"],[3,"formGroup"],[1,"form-group"],["for","email"],["type","text","formControlName","email","id","email","name","email","required","",1,"form-control","form-style",3,"ngClass"],[1,"invalid-feedback"],["for","password"],["type","password","formControlName","password","id","password","name","password","required","",1,"form-control","form-style","is-invalid",3,"ngClass"],[1,"error-text"],["type","submit",3,"disabled","click"]],template:function(t,r){1&t&&(u.YNc(0,E2,1,0,"app-loading",0),u.TgZ(1,"div",1)(2,"h1"),u._uU(3,"Account Login"),u.qZA()(),u.TgZ(4,"div",2)(5,"form",3)(6,"div",4)(7,"label",5),u._uU(8,"Username"),u.qZA(),u._UZ(9,"input",6),u.TgZ(10,"div",7),u._uU(11),u.qZA()(),u.TgZ(12,"div",4)(13,"label",8),u._uU(14,"Password"),u.qZA(),u._UZ(15,"input",9),u.TgZ(16,"div",7),u._uU(17),u.qZA()(),u.TgZ(18,"div",4)(19,"label",10),u._uU(20),u.ALo(21,"async"),u.qZA()(),u.TgZ(22,"div",4)(23,"button",11),u.NdJ("click",function(){return r.onLogin()}),u._uU(24,"Log In"),u.qZA()()()()),2&t&&(u.Q6J("ngIf",r.cargando),u.xp6(5),u.Q6J("formGroup",r.loginForm),u.xp6(4),u.Q6J("ngClass",u.WLB(10,Ek,r.isNotValidField("email"),!r.isNotValidField("email")&&r.f.email.touched)),u.xp6(2),u.hij(" ",r.getErrorMessage("email")," "),u.xp6(4),u.Q6J("ngClass",u.WLB(13,Ek,r.isNotValidField("password"),!r.isNotValidField("password")&&r.f.password.touched)),u.xp6(2),u.hij(" ",r.getErrorMessage("password")," "),u.xp6(3),u.Oqu(u.lcZ(21,8,r.errorMsj)),u.xp6(3),u.Q6J("disabled",r.loginForm.invalid))},directives:[gn,ax,km,mv,Tc,nh,vc,$f,Dc,Lr],pipes:[Oa],styles:["label[_ngcontent-%COMP%]{display:block;margin:0 0 10px;color:#0009;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;letter-spacing:.2em}input[_ngcontent-%COMP%]{outline:none;display:block;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;height:100%;color:#0009;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;transition:.3s ease}button[_ngcontent-%COMP%]{outline:none;background:#4285F4;width:100%;border:0;border-radius:4px;padding:12px 20px;color:#fff;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;text-transform:uppercase;cursor:pointer}h1[_ngcontent-%COMP%]{padding:4px 0;color:#4285f4;font-size:24px;font-weight:700;text-transform:uppercase}.form-remember[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:red;letter-spacing:0;text-transform:none;text-align:center}.form-remember[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:inline-block;width:auto;margin:0 10px 0 0}.form-recovery[_ngcontent-%COMP%]{color:#4285f4;font-size:12px;text-decoration:none}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}.error-text[_ngcontent-%COMP%]{color:#dc3545}"]}),n})();const I2=["file"];function T2(n,e){1&n&&u._UZ(0,"app-loading")}const Uh=function(n,e){return{"is-invalid":n,"is-valid":e}};function D2(n,e){if(1&n&&(u.TgZ(0,"div",6)(1,"label",34),u._uU(2,"Obra social"),u.qZA(),u._UZ(3,"input",35),u.TgZ(4,"div",9),u._uU(5),u.qZA()()),2&n){const t=u.oxw();u.xp6(3),u.Q6J("ngClass",u.WLB(2,Uh,t.isNotValidField("obraSocial"),!t.isNotValidField("obraSocial")&&t.f.obraSocial.touched)),u.xp6(2),u.hij(" ",t.getErrorMessage("obraSocial")," ")}}function S2(n,e){if(1&n&&(u.TgZ(0,"div",6)(1,"div",4)(2,"div",36)(3,"label",37),u._uU(4,"Especialidad"),u.qZA(),u.TgZ(5,"select",38)(6,"option",39),u._uU(7,"M\xe9dico cl\xednico"),u.qZA(),u.TgZ(8,"option",40),u._uU(9,"Traumat\xf3logo"),u.qZA()(),u.TgZ(10,"div",9),u._uU(11),u.qZA()(),u.TgZ(12,"div",5)(13,"button",41),u._uU(14,"Nueva especialidad"),u.qZA()(),u._UZ(15,"div",42),u.qZA()()),2&n){const t=u.oxw();u.xp6(5),u.Q6J("ngClass",u.WLB(2,Uh,t.isNotValidField("especialidad"),!t.isNotValidField("especialidad")&&t.f.especialidad.touched)),u.xp6(6),u.hij(" ",t.getErrorMessage("especialidad")," ")}}let A2=(()=>{class n{constructor(t,r,i,a){this.router=t,this.auth=r,this.afs=i,this.formBuilder=a,this.errorMsj=new Sn.x,this.error=!1,this.cargando=!1,this.regisForm=this.formBuilder.group({nombre:["",[en.required]],apellido:["",[en.required]],dni:["",[en.required,en.minLength(8),en.maxLength(8),en.pattern("^[0-9]*$")]],edad:["",[en.required,en.min(18),en.max(150)]],obraSocial:["",[en.required]],email:["",[en.required,en.email]],password:["",[en.required]],rol:["paciente",[en.required]]}),this.archivoMsj="No file chosen..."}ngOnInit(){}get f(){return this.regisForm.controls}getErrorMessage(t){let r="";return this.f[t].hasError("required")?r="Vac\xedo.":this.f[t].getError("email")?r="Formato de email inv\xe1lido":this.f[t].getError("minlength")||this.f[t].getError("maxlength")?r="Cantidad de caracteres inv\xe1lido":this.f[t].getError("min")?r="Tienes que ser mayor de edad":this.f[t].getError("max")?r="Lo siento, dudamos que tenga esa edad.":this.f[t].getError("pattern")&&(r="S\xf3lo valores n\xfamericos."),r}isNotValidField(t){return(this.f[t].touched||1==this.f[t].dirty)&&!this.f[t].valid}uploadFile(){this.file.nativeElement.click()}onChangeFile(){let t=this.file.nativeElement.files[0],r=new FileReader;this.archivoMsj=t.name,r.readAsDataURL(t),r.onloadend=()=>{this.archivo=r.result}}setRol(t){this.f.rol.setValue(t)}onChangeSelect(){"especialista"==this.f.rol.value?(this.regisForm.addControl("especialidad",new sh("",en.required)),this.regisForm.removeControl("obraSocial")):"paciente"==this.f.rol.value&&(this.regisForm.addControl("obraSocial",new sh("",en.required)),this.regisForm.removeControl("especialidad"))}onRegister(){let t=this.regisForm.value;this.cargando=!0,this.archivo?this.auth.register(t.email,t.password).then(r=>{r&&this.afs.uploadImage(t.email,this.archivo).then(i=>{t.habilitado=!0,i&&(t.pathImg=i),this.afs.setObj("users",t,t.email).then(a=>{this.auth.refreshData(t),this.router.navigate([""]),this.regisForm.reset(),this.cargando=!1})}).catch(i=>{this.errorMsj=i.message,this.error=!0,this.cargando=!1})}).catch(r=>{this.errorMsj=r.message,this.error=!0,this.cargando=!1,console.info("ERROR ->",r)}):(this.error=!0,this.errorMsj.next("Falta u archivo"))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Kn),u.Y36(pc),u.Y36(Hw),u.Y36(wE))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-register"]],viewQuery:function(t,r){if(1&t&&u.Gf(I2,5),2&t){let i;u.iGM(i=u.CRH())&&(r.file=i.first)}},decls:80,vars:45,consts:[[4,"ngIf"],[1,"form-header"],[1,"form-content"],[3,"formGroup"],[1,"row"],[1,"col-6"],[1,"form-group"],["for","dni"],["type","text","formControlName","dni","id","dni","name","dni","required","",1,"form-control","form-style",3,"ngClass"],[1,"invalid-feedback"],["type","number","formControlName","edad","id","edad","name","edad","required","",1,"form-control","form-style",3,"ngClass"],["for","nombre"],["type","text","formControlName","nombre","id","nombre","name","nombre","required","",1,"form-control","form-style",3,"ngClass"],["for","apellido"],["type","text","formControlName","apellido","id","apellido","name","apellido","required","",1,"form-control","form-style",3,"ngClass"],[1,"d-flex","justify-content-around"],[1,"text-center"],[1,"btn-paciente",3,"click"],[1,"btn-especialista",3,"click"],["class","form-group",4,"ngIf"],["for","email"],["type","text","formControlName","email","name","email","required","",1,"form-control","form-style",3,"ngClass"],["for","password"],["type","password","formControlName","password","name","password","required","",1,"form-control","form-style",3,"ngClass"],[1,"file-upload"],[1,"file-upload-select"],[1,"file-select-button"],[1,"file-select-name",3,"click"],["type","file","name","file-upload-input","id","file-upload-input",3,"change"],["file",""],[1,"file-upload",2,"margin-top","1rem",3,"hidden"],["type","file","id","file-upload-input-paciente",3,"change"],[1,"form-remember"],["type","submit",3,"disabled","click"],["for","obraSocial"],["type","text","formControlName","obraSocial","id","obraSocial","name","obraSocial","required","",1,"form-control","form-style",3,"ngClass"],[1,"col-12","mb-3"],["for","especilidad"],["formControlName","especialidad","id","especialidad","required","",1,"input",3,"ngClass"],["value","paciente",1,"input","test"],["value","especialista",1,"input","test"],[2,"font-size","small"],[1,"col-8"]],template:function(t,r){1&t&&(u.YNc(0,T2,1,0,"app-loading",0),u.TgZ(1,"div",1)(2,"h1"),u._uU(3,"Register Account"),u.qZA()(),u.TgZ(4,"div",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),u._uU(10,"DNI"),u.qZA(),u._UZ(11,"input",8),u.TgZ(12,"div",9),u._uU(13),u.qZA()()(),u.TgZ(14,"div",5)(15,"div",6)(16,"label",7),u._uU(17,"EDAD"),u.qZA(),u._UZ(18,"input",10),u.TgZ(19,"div",9),u._uU(20),u.qZA()()(),u.TgZ(21,"div",5)(22,"div",6)(23,"label",11),u._uU(24,"Nombre"),u.qZA(),u._UZ(25,"input",12),u.TgZ(26,"div",9),u._uU(27),u.qZA()()(),u.TgZ(28,"div",5)(29,"div",6)(30,"label",13),u._uU(31,"Apellido"),u.qZA(),u._UZ(32,"input",14),u.TgZ(33,"div",9),u._uU(34),u.qZA()()()(),u.TgZ(35,"div",6)(36,"div",15)(37,"div")(38,"label",16),u._uU(39,"Paciente"),u.qZA(),u.TgZ(40,"button",17),u.NdJ("click",function(){return r.setRol("paciente")}),u.qZA()(),u.TgZ(41,"div")(42,"label",16),u._uU(43,"Profesional"),u.qZA(),u.TgZ(44,"button",18),u.NdJ("click",function(){return r.setRol("especialista")}),u.qZA()()()(),u.YNc(45,D2,6,5,"div",19),u.YNc(46,S2,16,5,"div",19),u.TgZ(47,"div",6)(48,"label",20),u._uU(49,"Email"),u.qZA(),u._UZ(50,"input",21),u.TgZ(51,"div",9),u._uU(52),u.qZA()(),u.TgZ(53,"div",6)(54,"label",22),u._uU(55,"Password"),u.qZA(),u._UZ(56,"input",23),u.TgZ(57,"div",9),u._uU(58),u.qZA()(),u.TgZ(59,"div",24)(60,"div",25)(61,"div",26),u._uU(62,"Foto"),u.qZA(),u.TgZ(63,"div",27),u.NdJ("click",function(){return r.uploadFile()}),u._uU(64),u.qZA(),u.TgZ(65,"input",28,29),u.NdJ("change",function(){return r.onChangeFile()}),u.qZA()()(),u.TgZ(67,"div",30)(68,"div",25)(69,"div",26),u._uU(70,"Foto"),u.qZA(),u.TgZ(71,"div",27),u.NdJ("click",function(){return r.uploadFile()}),u._uU(72),u.qZA(),u.TgZ(73,"input",31),u.NdJ("change",function(){return r.onChangeFile()}),u.qZA()()(),u.TgZ(74,"div",6)(75,"label",32),u._uU(76),u.ALo(77,"async"),u.qZA()(),u.TgZ(78,"button",33),u.NdJ("click",function(){return r.onRegister()}),u._uU(79,"Register"),u.qZA()()()),2&t&&(u.Q6J("ngIf",r.cargando),u.xp6(5),u.Q6J("formGroup",r.regisForm),u.xp6(6),u.Q6J("ngClass",u.WLB(27,Uh,r.isNotValidField("dni"),!r.isNotValidField("dni")&&r.f.dni.touched)),u.xp6(2),u.hij(" ",r.getErrorMessage("dni")," "),u.xp6(5),u.Q6J("ngClass",u.WLB(30,Uh,r.isNotValidField("edad"),!r.isNotValidField("edad")&&r.f.edad.touched)),u.xp6(2),u.hij(" ",r.getErrorMessage("edad")," "),u.xp6(5),u.Q6J("ngClass",u.WLB(33,Uh,r.isNotValidField("nombre"),!r.isNotValidField("nombre")&&r.f.nombre.touched)),u.xp6(2),u.hij(" ",r.getErrorMessage("nombre")," "),u.xp6(5),u.Q6J("ngClass",u.WLB(36,Uh,r.isNotValidField("apellido"),!r.isNotValidField("apellido")&&r.f.apellido.touched)),u.xp6(2),u.hij(" ",r.getErrorMessage("apellido")," "),u.xp6(6),u.ekj("btn-active","paciente"==r.f.rol.value),u.xp6(4),u.ekj("btn-active","especialista"==r.f.rol.value),u.xp6(1),u.Q6J("ngIf","paciente"==r.f.rol.value),u.xp6(1),u.Q6J("ngIf","especialista"==r.f.rol.value),u.xp6(4),u.Q6J("ngClass",u.WLB(39,Uh,r.isNotValidField("email"),!r.isNotValidField("email")&&r.f.email.touched)),u.xp6(2),u.hij(" ",r.getErrorMessage("email")," "),u.xp6(4),u.Q6J("ngClass",u.WLB(42,Uh,r.isNotValidField("password"),!r.isNotValidField("password")&&r.f.password.touched)),u.xp6(2),u.hij(" ",r.getErrorMessage("password")," "),u.xp6(6),u.Oqu(r.archivoMsj),u.xp6(3),u.Q6J("hidden","paciente"!=r.f.rol.value),u.xp6(5),u.Oqu(r.archivoMsj),u.xp6(4),u.Oqu(u.lcZ(77,25,r.errorMsj)),u.xp6(2),u.Q6J("disabled",r.regisForm.invalid))},directives:[gn,ax,km,mv,Tc,nh,vc,$f,Dc,Lr,Om,lh,qf,Ov],pipes:[Oa],styles:[".input[_ngcontent-%COMP%]{outline:none;display:block;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;color:#0009;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;color:#fff;transition:.3s ease}.btn-paciente[_ngcontent-%COMP%]{background-image:url(paciente.11d48024ce08dc56.webp);background-repeat:no-repeat;height:100px;width:100px;background-size:cover;border-radius:10px;background-position:center}.btn-active[_ngcontent-%COMP%]{transform:scale(.98);background-color:#dbdbdb;box-shadow:3px 2px 22px 1px #00000080}.btn-especialista[_ngcontent-%COMP%]{background-image:url(doctor.9778f8f40d5a74fa.png);background-repeat:no-repeat;height:100px;width:100px;background-size:cover;border-radius:10px;background-position:center}input[_ngcontent-%COMP%]{outline:none;display:block;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;color:#0009;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;color:#fff;transition:.3s ease}button[_ngcontent-%COMP%]{outline:none;width:100%;border:0;border-radius:4px;padding:12px 20px;background:#FFFFFF;color:#4285f4;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;text-transform:uppercase;cursor:pointer}label[_ngcontent-%COMP%]{display:block;margin:0 0 10px;color:#fff;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;letter-spacing:.2em}h1[_ngcontent-%COMP%]{padding:4px 0;position:relative;z-index:40;color:#fff;font-size:24px;font-weight:700;text-transform:uppercase}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]{display:block;color:#dbdbdb;cursor:pointer;text-align:left;background:rgba(0,0,0,.1);overflow:hidden;position:relative;border-radius:6px}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   .file-select-button[_ngcontent-%COMP%]{background:rgba(0,0,0,.1);padding:10px;display:inline-block}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   .file-select-name[_ngcontent-%COMP%]{display:inline-block;padding:10px}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]:hover{background:#FFFFFF;color:#0009;transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]:hover   .file-select-button[_ngcontent-%COMP%]{background:rgba(66,133,244,.5);color:#fff;transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}.test[_ngcontent-%COMP%]{background:rgba(66,133,244,.5)}"]}),n})();const x2=function(n){return{visible:n}},M2=function(n){return{hidden:n}},P2=function(n){return{active:n}};let k2=(()=>{class n{constructor(){this.visible=!1}ngOnInit(){this.heightPanelOne=$(".form-panel.two").height(),this.heightPanelTwo=$(".form-panel.two")[0].scrollHeight}onClick(t){t?(this.visible=!1,$(".form").animate({height:400},300)):(this.visible=!0,$(".form").animate({height:this.heightPanelTwo+50},300))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-auth"]],decls:6,vars:9,consts:[[1,"form"],[1,"form-toggle",3,"ngClass","click"],[1,"form-panel","one",3,"ngClass"],[1,"form-panel","two",3,"ngClass","click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u.NdJ("click",function(){return r.onClick(!0)}),u.qZA(),u.TgZ(2,"div",2),u._UZ(3,"app-login"),u.qZA(),u.TgZ(4,"div",3),u.NdJ("click",function(){return r.onClick(!1)}),u._UZ(5,"app-register"),u.qZA()()),2&t&&(u.xp6(1),u.Q6J("ngClass",u.VKq(3,x2,r.visible)),u.xp6(1),u.Q6J("ngClass",u.VKq(5,M2,r.visible)),u.xp6(2),u.Q6J("ngClass",u.VKq(7,P2,r.visible)))},directives:[Lr,C2,A2],styles:['.overlay[_ngcontent-%COMP%], .form-panel.one[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;display:none;background:rgba(0,0,0,.8);width:100%;height:100%}.form[_ngcontent-%COMP%]{z-index:15;position:relative;background:#FFFFFF;width:600px;border-radius:4px;box-shadow:0 0 30px #0000001a;box-sizing:border-box;margin:70px auto 10px;overflow:hidden}.form-toggle[_ngcontent-%COMP%]{z-index:10;position:absolute;top:60px;right:60px;background:#FFFFFF;width:60px;height:60px;border-radius:100%;transform-origin:center;transform:translateY(-25%) scale(0);opacity:0;cursor:pointer;transition:all .3s ease}.form-toggle[_ngcontent-%COMP%]:before, .form-toggle[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;top:50%;left:50%;width:30px;height:4px;background:#4285F4;transform:translate(-50%,-50%)}.form-toggle[_ngcontent-%COMP%]:before{transform:translate(-50%,-50%) rotate(45deg)}.form-toggle[_ngcontent-%COMP%]:after{transform:translate(-50%,-50%) rotate(-45deg)}.form-toggle.visible[_ngcontent-%COMP%]{transform:translateY(-25%) scale(1);opacity:1}.form-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin:0 0 20px}.form-group[_ngcontent-%COMP%]:last-child{margin:0}.form-panel[_ngcontent-%COMP%]{padding:60px calc(5% + 60px) 60px 60px;box-sizing:border-box}.form-panel.one[_ngcontent-%COMP%]:before{content:"";display:block;opacity:0;visibility:hidden;transition:.3s ease}.form-panel.one.hidden[_ngcontent-%COMP%]:before{display:block;opacity:1;visibility:visible}.form-panel.two[_ngcontent-%COMP%]{z-index:5;position:absolute;top:0;left:95%;background:#4285F4;width:100%;min-height:100%;padding:60px calc(10% + 60px) 60px 60px;transition:.3s ease;cursor:pointer}.form-panel.two[_ngcontent-%COMP%]:before, .form-panel.two[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;top:60px;left:1.5%;background:rgba(255,255,255,.2);height:30px;width:2px;transition:.3s ease}.form-panel.two[_ngcontent-%COMP%]:after{left:3%}.form-panel.two[_ngcontent-%COMP%]:hover{left:93%;box-shadow:0 0 10px #0003}.form-panel.two[_ngcontent-%COMP%]:hover:before, .form-panel.two[_ngcontent-%COMP%]:hover:after{opacity:0}.form-panel.two.active[_ngcontent-%COMP%]{left:10%;box-shadow:0 0 10px #0003;cursor:default}.form-panel.two.active[_ngcontent-%COMP%]:before, .form-panel.two.active[_ngcontent-%COMP%]:after{opacity:0}']}),n})();const O2=function(){return["/Login"]};let R2=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:24,vars:2,consts:[[1,"headerimgbx"],[1,"header-im"],["src","../../../assets/background.jpg","alt","",1,"headerimg"],[1,"header-rig"],[1,"headertext-bx"],[1,"title"],[1,"txt"],[1,"buttn",3,"routerLink"],[1,"socialbx"],[1,"social-item"],[1,"sctext"],[1,"iconbx"],[1,"bi","bi-linkedin"],[1,"bi","bi-github"]],template:function(t,r){1&t&&(u.TgZ(0,"header")(1,"div",0)(2,"div",1),u._UZ(3,"img",2),u.qZA()(),u.TgZ(4,"div",3)(5,"div",4)(6,"h1",5),u._uU(7,"Bienvenido "),u.qZA(),u.TgZ(8,"p",6),u._uU(9,"En nuestra clinica podra acceder de forma f\xe1cil y administrar sus turnos como usted quiera. Adem\xe1s tenemos la posibilidad de atenci\xf3n totalmente online. "),u.qZA(),u.TgZ(10,"a",7),u._uU(11,"Sign In"),u.qZA()(),u._UZ(12,"br"),u.TgZ(13,"div",8)(14,"div",9)(15,"p",10),u._uU(16,"Linkedin"),u.qZA(),u.TgZ(17,"div",11),u._UZ(18,"i",12),u.qZA()(),u.TgZ(19,"div",9)(20,"p",10),u._uU(21,"Github"),u.qZA(),u.TgZ(22,"div",11),u._UZ(23,"i",13),u.qZA()()()()()),2&t&&(u.xp6(10),u.Q6J("routerLink",u.DdM(1,O2)))},directives:[Ja],styles:[".header-im[_ngcontent-%COMP%]{width:87%;position:relative;z-index:0}img[_ngcontent-%COMP%]{width:100%;z-index:5;border-radius:3px}a[_ngcontent-%COMP%]{text-decoration:none}header[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;height:90vh;justify-content:space-around;align-items:center;overflow:hidden}.header-rig[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;width:40%;margin-right:25px}.headerimgbx[_ngcontent-%COMP%]{width:60%;display:flex;align-items:center;justify-content:center;position:relative}.textbx[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;font-size:4rem;text-overflow:ellipsis;width:45%;color:#fff;text-shadow:-4px -3px 4px #292929}.title[_ngcontent-%COMP%]{font-size:50px;width:100%;text-align:right;margin-bottom:0}.txt[_ngcontent-%COMP%]{margin:5px 0;width:100%;padding:10px;line-height:1.5;font-weight:600;text-align:right}.headertext-bx[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-end}.buttn[_ngcontent-%COMP%]{margin:0;padding:10px 25px;background:#4285F4;font-size:20px;font-weight:700;border-radius:4px;color:#fff}.social-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;margin-bottom:1rem}.socialbx[_ngcontent-%COMP%]{width:33%;margin:10px}.iconbx[_ngcontent-%COMP%]{padding:5px;background:#4285F4;width:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;color:#fff}.sctext[_ngcontent-%COMP%]{font-weight:600;text-align:right}i[_ngcontent-%COMP%]{font-size:x-large}@media only screen and (max-width: 1200px){.right[_ngcontent-%COMP%]:before{content:none}header[_ngcontent-%COMP%]{height:100vh;flex-direction:column;justify-content:flex-start;align-items:center;top:400px}.header-im[_ngcontent-%COMP%]{width:87%;position:relative;z-index:0;margin-top:25px}.textbx[_ngcontent-%COMP%]{font-size:30px;bottom:22px;top:inherit;width:100%}.header-rig[_ngcontent-%COMP%]{width:100%;margin-right:0;margin-top:35px;padding:20px}h1.title[_ngcontent-%COMP%]{font-size:35px;width:100%;text-align:center;padding:0}p.txt[_ngcontent-%COMP%]{font-size:15px;width:100%;font-weight:200;overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;max-height:60px;height:60px;text-align:center}.socialbx[_ngcontent-%COMP%]{display:none}.social-item[_ngcontent-%COMP%]{justify-content:center}.iconbx[_ngcontent-%COMP%]{border-radius:0;border:1px solid #dadada;background:none;color:#29294b;-webkit-border-radius:0;-moz-border-radius:0;-ms-border-radius:0;-o-border-radius:0}.buttn[_ngcontent-%COMP%]{background:transparent;border:2px solid #4285F4;color:#4285f4}.headertext-bx[_ngcontent-%COMP%]{align-items:center}p.sctext[_ngcontent-%COMP%]{display:none}}@media only screen and (max-width: 600px){.headerimgbx[_ngcontent-%COMP%]:after{height:160px}.header-rig[_ngcontent-%COMP%]{padding:20px 0}.txt[_ngcontent-%COMP%]{padding:10px 0}.header-im[_ngcontent-%COMP%]:after{right:-25px}}"]}),n})();function N2(n,e){1&n&&(u.TgZ(0,"div",17),u._uU(1,"Habilitado"),u.qZA())}function F2(n,e){1&n&&(u.TgZ(0,"div",18),u._uU(1,"Inhabilitado"),u.qZA())}function L2(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr")(1,"td",7),u._uU(2),u.qZA(),u.TgZ(3,"td")(4,"div",8)(5,"div",9)(6,"div",10)(7,"div",11),u._uU(8),u.qZA(),u.TgZ(9,"div",12),u._uU(10),u.qZA()()()()(),u.TgZ(11,"td",2),u._uU(12),u.qZA(),u.TgZ(13,"td",2),u.YNc(14,N2,2,0,"div",13),u.YNc(15,F2,2,0,"ng-template",null,14,u.W1O),u.qZA(),u.TgZ(17,"td",2)(18,"div",15)(19,"input",16),u.NdJ("ngModelChange",function(i){return u.CHM(t).$implicit.seleccionado=i}),u.qZA()()()()}if(2&n){const t=e.$implicit,r=u.MAs(16);u.xp6(2),u.Oqu(t.dni),u.xp6(6),u.AsE("",t.nombre," ",t.apellido,""),u.xp6(2),u.Oqu(t.email),u.xp6(2),u.Oqu(t.rol),u.xp6(2),u.Q6J("ngIf",t.habilitado)("ngIfElse",r),u.xp6(5),u.Q6J("ngModel",t.seleccionado)}}let V2=(()=>{class n{constructor(t){this.afs=t}ngOnInit(){}onClick(t){let r=this.listUser.filter(i=>1==i.seleccionado);r&&r.forEach(i=>{this.afs.updateUser(i,t).then(a=>{})})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Hw))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-tabla-usuarios"]],inputs:{listUser:"listUser"},decls:21,vars:1,consts:[[1,"table-responsive"],[1,"align-middle","mb-0","table","table-borderless","table-striped","table-hover"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-block","text-center","card-footer"],[1,"mr-2","btn-icon","btn-icon-only","btn","btn-outline-danger",3,"click"],[1,"btn-wide","btn","btn-success",3,"click"],[1,"text-center","text-muted"],[1,"widget-content","p-0","text-center"],[1,"widget-content-wrapper"],[1,"widget-content-left","flex2"],[1,"widget-heading"],[1,"widget-subheading","opacity-7"],["class","badge badge-success",4,"ngIf","ngIfElse"],["deshabilitado",""],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"badge","badge-success"],[1,"badge","badge-danger"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),u._uU(5,"DNI"),u.qZA(),u.TgZ(6,"th",2),u._uU(7,"User"),u.qZA(),u.TgZ(8,"th",2),u._uU(9,"Rol"),u.qZA(),u.TgZ(10,"th",2),u._uU(11,"Status"),u.qZA(),u.TgZ(12,"th",2),u._uU(13," - "),u.qZA()()(),u.TgZ(14,"tbody"),u.YNc(15,L2,20,8,"tr",3),u.qZA()()(),u.TgZ(16,"div",4)(17,"button",5),u.NdJ("click",function(){return r.onClick(!1)}),u._uU(18,"Deshabilitar"),u.qZA(),u.TgZ(19,"button",6),u.NdJ("click",function(){return r.onClick(!0)}),u._uU(20,"Habilitar"),u.qZA()()),2&t&&(u.xp6(15),u.Q6J("ngForOf",r.listUser))},directives:[Nn,gn,kf,vc,xv],styles:[""]}),n})();const U2=["file"];function B2(n,e){1&n&&u._UZ(0,"app-loading")}const hy=function(n,e){return{"is-invalid":n,"is-valid":e}};let j2=(()=>{class n{constructor(t,r,i,a){this.router=t,this.auth=r,this.afs=i,this.formBuilder=a,this.errorMsj=new Sn.x,this.error=!1,this.cargando=!1,this.regisForm=this.formBuilder.group({nombre:["",[en.required]],apellido:["",[en.required]],dni:["",[en.required,en.minLength(8),en.maxLength(8),en.pattern("^[0-9]*$")]],edad:["",[en.required,en.min(18),en.max(150)]],email:["",[en.required,en.email]],password:["",[en.required]],rol:[{value:"administrador"}]}),this.archivoMsj="No file chosen..."}ngOnInit(){}get f(){return this.regisForm.controls}getErrorMessage(t){let r="";return this.f[t].hasError("required")?r="Vac\xedo.":this.f[t].getError("email")?r="Formato de email inv\xe1lido":this.f[t].getError("minlength")||this.f[t].getError("maxlength")?r="Cantidad de caracteres inv\xe1lido":this.f[t].getError("min")?r="Tienes que ser mayor de edad":this.f[t].getError("max")?r="Lo siento, dudamos que tenga esa edad.":this.f[t].getError("pattern")&&(r="S\xd3LO N\xdaMEROS."),r}isNotValidField(t){return(this.f[t].touched||1==this.f[t].dirty)&&!this.f[t].valid}uploadFile(){this.file.nativeElement.click()}onChangeFile(){let t=this.file.nativeElement.files[0];this.archivoMsj=t.name;let r=new FileReader;r.readAsDataURL(t),r.onloadend=()=>{this.archivo=r.result}}onCrear(){let t=this.regisForm.value;this.cargando=!0,this.auth.register(t.email,t.password).then(r=>{r&&this.archivo&&this.afs.uploadImage(t.email,this.archivo).then(i=>{t.habilitado=!0,i&&(t.pathImg=i),this.afs.setObj("users",t,t.email).then(a=>{this.router.navigate([""]),this.regisForm.reset(),this.cargando=!1})}).catch(i=>{this.errorMsj.next(i.message),this.error=!0,this.cargando=!1})}).catch(r=>{this.errorMsj.next(r.message),this.error=!0,this.cargando=!1,console.info("ERROR ->",r)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Kn),u.Y36(pc),u.Y36(Hw),u.Y36(wE))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-crear-usuario"]],viewQuery:function(t,r){if(1&t&&u.Gf(U2,5),2&t){let i;u.iGM(i=u.CRH())&&(r.file=i.first)}},decls:61,vars:37,consts:[[4,"ngIf"],[1,"form-header"],[1,"form-content"],[3,"formGroup"],[1,"row"],[1,"col-6"],[1,"form-group"],["for","dni"],["type","text","formControlName","dni","id","dni","name","dni","required","",1,"form-control","form-style",3,"ngClass"],[1,"invalid-feedback"],["type","number","formControlName","edad","id","edad","name","edad","required","",1,"form-control","form-style",3,"ngClass"],["for","nombre"],["type","text","formControlName","nombre","id","nombre","name","nombre","required","",1,"form-control","form-style",3,"ngClass"],["for","apellido"],["type","text","formControlName","apellido","id","apellido","name","apellido","required","",1,"form-control","form-style",3,"ngClass"],["for","email"],["type","text","formControlName","email","name","email","required","",1,"form-control","form-style",3,"ngClass"],["for","password"],["type","password","formControlName","password","name","password","required","",1,"form-control","form-style",3,"ngClass"],[1,"file-upload"],[1,"file-upload-select"],[1,"file-select-button"],[1,"file-select-name",3,"click"],["type","file","name","file-upload-input","id","file-upload-input",3,"change"],["file",""],[1,"form-remember",2,"color","red"],["type","submit",3,"disabled","click"]],template:function(t,r){1&t&&(u.YNc(0,B2,1,0,"app-loading",0),u.TgZ(1,"div",1)(2,"h1"),u._uU(3,"New Users Admin"),u.qZA()(),u.TgZ(4,"div",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),u._uU(10,"DNI"),u.qZA(),u._UZ(11,"input",8),u.TgZ(12,"div",9),u._uU(13),u.qZA()()(),u.TgZ(14,"div",5)(15,"div",6)(16,"label",7),u._uU(17,"EDAD"),u.qZA(),u._UZ(18,"input",10),u.TgZ(19,"div",9),u._uU(20),u.qZA()()(),u.TgZ(21,"div",5)(22,"div",6)(23,"label",11),u._uU(24,"Nombre"),u.qZA(),u._UZ(25,"input",12),u.TgZ(26,"div",9),u._uU(27),u.qZA()()(),u.TgZ(28,"div",5)(29,"div",6)(30,"label",13),u._uU(31,"Apellido"),u.qZA(),u._UZ(32,"input",14),u.TgZ(33,"div",9),u._uU(34),u.qZA()()()(),u.TgZ(35,"div",6)(36,"label",15),u._uU(37,"Email"),u.qZA(),u._UZ(38,"input",16),u.TgZ(39,"div",9),u._uU(40),u.qZA()(),u.TgZ(41,"div",6)(42,"label",17),u._uU(43,"Password"),u.qZA(),u._UZ(44,"input",18),u.TgZ(45,"div",9),u._uU(46),u.qZA()(),u.TgZ(47,"div",19)(48,"div",20)(49,"div",21),u._uU(50,"Foto"),u.qZA(),u.TgZ(51,"div",22),u.NdJ("click",function(){return r.uploadFile()}),u._uU(52),u.qZA(),u.TgZ(53,"input",23,24),u.NdJ("change",function(){return r.onChangeFile()}),u.qZA()()(),u.TgZ(55,"div",6)(56,"label",25),u._uU(57),u.ALo(58,"async"),u.qZA()(),u.TgZ(59,"button",26),u.NdJ("click",function(){return r.onCrear()}),u._uU(60,"Crear usuario"),u.qZA()()()),2&t&&(u.Q6J("ngIf",r.cargando),u.xp6(5),u.Q6J("formGroup",r.regisForm),u.xp6(6),u.Q6J("ngClass",u.WLB(19,hy,r.isNotValidField("dni"),!r.isNotValidField("dni")&&r.f.dni.touched)),u.xp6(2),u.hij(" ",r.getErrorMessage("dni")," "),u.xp6(5),u.Q6J("ngClass",u.WLB(22,hy,r.isNotValidField("edad"),!r.isNotValidField("edad")&&r.f.edad.touched)),u.xp6(2),u.hij(" ",r.getErrorMessage("edad")," "),u.xp6(5),u.Q6J("ngClass",u.WLB(25,hy,r.isNotValidField("nombre"),!r.isNotValidField("nombre")&&r.f.nombre.touched)),u.xp6(2),u.hij(" ",r.getErrorMessage("nombre")," "),u.xp6(5),u.Q6J("ngClass",u.WLB(28,hy,r.isNotValidField("apellido"),!r.isNotValidField("apellido")&&r.f.apellido.touched)),u.xp6(2),u.hij(" ",r.getErrorMessage("apellido")," "),u.xp6(4),u.Q6J("ngClass",u.WLB(31,hy,r.isNotValidField("email"),!r.isNotValidField("email")&&r.f.email.touched)),u.xp6(2),u.hij(" ",r.getErrorMessage("email")," "),u.xp6(4),u.Q6J("ngClass",u.WLB(34,hy,r.isNotValidField("password"),!r.isNotValidField("password")&&r.f.password.touched)),u.xp6(2),u.hij(" ",r.getErrorMessage("password")," "),u.xp6(6),u.Oqu(r.archivoMsj),u.xp6(5),u.Oqu(u.lcZ(58,17,r.errorMsj)),u.xp6(2),u.Q6J("disabled",r.regisForm.invalid))},directives:[gn,ax,km,mv,Tc,nh,vc,$f,Dc,Lr,Om],pipes:[Oa],styles:[".input[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{outline:none;display:block;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;color:#0009;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;transition:.3s ease}button[_ngcontent-%COMP%]{outline:none;width:100%;border:0;border-radius:4px;padding:12px 20px;background:#FFFFFF;color:#4285f4;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;text-transform:uppercase;cursor:pointer}label[_ngcontent-%COMP%]{display:block;margin:0 0 10px;color:#4285f4;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;letter-spacing:.2em}h1[_ngcontent-%COMP%]{padding:4px 0;position:relative;z-index:40;color:#4285f4;font-size:24px;font-weight:700;text-transform:uppercase}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]{display:block;color:#dbdbdb;cursor:pointer;text-align:left;background:rgba(0,0,0,.1);overflow:hidden;position:relative;border-radius:6px}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   .file-select-button[_ngcontent-%COMP%]{background:rgba(0,0,0,.1);padding:10px;display:inline-block}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   .file-select-name[_ngcontent-%COMP%]{display:inline-block;padding:10px}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]:hover{background:#FFFFFF;color:#0009;transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]:hover   .file-select-button[_ngcontent-%COMP%]{background:rgba(66,133,244,.5);color:#fff;transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}.test[_ngcontent-%COMP%]{background:rgba(66,133,244,.5)}"]}),n})();function H2(n,e){if(1&n&&u._UZ(0,"app-tabla-usuarios",9),2&n){const t=u.oxw();u.Q6J("listUser",t.users)}}function $2(n,e){1&n&&(u.TgZ(0,"div",10),u._UZ(1,"app-crear-usuario"),u.qZA())}let q2=(()=>{class n{constructor(t){this.afs=t,this.nuevoUsuario=!1}ngOnInit(){this.afs.getAll("users").subscribe(t=>{this.users=t,console.info(this.users)})}onClick(){this.nuevoUsuario=!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Hw))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-master-usuarios"]],decls:11,vars:2,consts:[[1,"row"],[1,"col-md-12"],[1,"main-card","mb-3","card"],[1,"card-header"],[1,"btn-actions-pane-right"],["role","group",1,"btn-group-sm","btn-group"],[1,"btn","btn-accent",3,"click"],[3,"listUser",4,"ngIf"],["class","col mb-3",4,"ngIf"],[3,"listUser"],[1,"col","mb-3"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u._uU(4,"Active Users "),u.TgZ(5,"div",4)(6,"div",5)(7,"button",6),u.NdJ("click",function(){return r.onClick()}),u._uU(8,"Nuevo"),u.qZA()()()(),u.YNc(9,H2,1,1,"app-tabla-usuarios",7),u.qZA()(),u.YNc(10,$2,2,0,"div",8),u.qZA()),2&t&&(u.xp6(9),u.Q6J("ngIf",r.users),u.xp6(1),u.Q6J("ngIf",r.nuevoUsuario))},directives:[gn,V2,j2],styles:[".btn-accent[_ngcontent-%COMP%]{background-color:#4285f4;color:#fff}"]}),n})();const G2=["*"];let Ck=(()=>{class n{constructor(){this.isActive=!1}set activeState(t){this.isActive=t===this}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-progress-step"]],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("activeStep",r.isActive)},inputs:{activeState:"activeState"},ngContentSelectors:G2,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},styles:[".activeStep[_nghost-%COMP%]{display:inline-block;padding:10px;visibility:visible;opacity:1;position:absolute;top:0;left:0;right:0;width:100%;height:100%;transform:translateY(0);transition:all .6s cubic-bezier(.45,0,.55,1)}[_nghost-%COMP%]:not(.activeStep){visibility:hidden;padding:10px;transform:translateY(-8px);opacity:0}"]}),n})();var Bo=(()=>(function(n){n.PENDING="pending",n.IN_PROGRESS="in progress",n.COMPLETED="completed"}(Bo||(Bo={})),Bo))();let Ik=(()=>{class n{constructor(){this.eventHelper=new Sn.x}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tk=function(n,e){return{complete:n,active:e}};function z2(n,e){if(1&n&&(u.O4$(),u.kcU(),u.TgZ(0,"div",13),u._UZ(1,"div",14),u.qZA()),2&n){const t=u.oxw().$implicit;u.Q6J("ngClass",u.WLB(1,Tk,"completed"===t.status,"in progress"===t.status))}}const W2=function(n,e){return{completed:n,"in-progress":e}};function K2(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"div",5),u.O4$(),u.TgZ(2,"svg",6),u._UZ(3,"circle",7)(4,"polyline",8),u.qZA(),u.YNc(5,z2,2,4,"div",9),u.kcU(),u.TgZ(6,"div",10)(7,"span",11),u._uU(8),u.qZA(),u.TgZ(9,"span",12),u._uU(10),u.qZA()()(),u.BQk()),2&n){const t=e.$implicit,r=e.index,i=u.oxw();u.xp6(1),u.Q6J("ngClass",u.WLB(5,Tk,"completed"===t.status,"in progress"===t.status)),u.xp6(4),u.Q6J("ngIf",r!==i.itemLength-1),u.xp6(3),u.Oqu(i.getMessage(r)),u.xp6(1),u.Q6J("ngClass",u.WLB(8,W2,"completed"===t.status,"in progress"===t.status)),u.xp6(1),u.Oqu(t.status)}}const Y2=[[["app-progress-step"]]],Q2=["app-progress-step"];let J2=(()=>{class n extends class Z2{constructor(e){this.progressHelper=e,this.itemProgressList=[],this.activeIndex=0}completeLastStep(){this.itemProgressList[this.activeIndex].status=Bo.COMPLETED}undoLastComplete(){this.itemProgressList[this.activeIndex].status=Bo.IN_PROGRESS}switchStatusNext(e){this.itemProgressList[this.activeIndex-1].status=Bo.COMPLETED,this.itemProgressList[e].status=Bo.IN_PROGRESS}switchStatusPrev(e){this.itemProgressList[this.activeIndex+1].status=Bo.PENDING,this.itemProgressList[e].status=Bo.IN_PROGRESS}}{constructor(t){super(t),this.progressHelper=t,this.stateChange=new u.vpe}set selectedIndex(t){this.activeIndex=t||0}ngOnInit(){this.progressHelper.eventHelper.subscribe({next:({prev:t,next:r})=>{r&&this.next(),t&&this.prev()}})}getMessage(t){let r="";return r=0==t?"Especialidad":1==t?"Profesional":2==t?"Fecha":"Confirmar",r}ngAfterContentInit(){this.initProgress(this.progressSteps.length),this.setActiveActiveStep(this.activeIndex),this.initStepIndex()}next(){this.increaseStep()}prev(){this.decreaseStep()}increaseStep(){this.activeIndex===this.itemLength-1&&this.itemProgressList[this.activeIndex].status!==Bo.COMPLETED&&this.completeLastStep(),this.activeIndex<this.itemLength-1&&(this.activeIndex++,this.switchStatusNext(this.activeIndex),this.setActiveActiveStep(this.activeIndex),this.emitStateChange())}decreaseStep(){this.activeIndex===this.itemLength-1&&this.itemProgressList[this.activeIndex].status===Bo.COMPLETED?this.undoLastComplete():this.activeIndex>0&&(this.activeIndex--,this.switchStatusPrev(this.activeIndex),this.setActiveActiveStep(this.activeIndex),this.emitStateChange())}emitStateChange(){this.stateChange.emit({activeIndex:this.activeIndex,activeStep:this.activeStep})}setActiveActiveStep(t){this.stepsExists&&(this.removeActiveStep(),this.updateActiveStep(t))}updateActiveStep(t){this.progressSteps[t].activeState=this.progressSteps[t]}removeActiveStep(){this.progressSteps.map(t=>{t.isActive&&(t.isActive=!1)})}initStepIndex(){this.progressSteps.forEach((t,r)=>t.stepIndex=r)}get activeStep(){return this.progressSteps[this.activeIndex]}get stepsExists(){return this.progressSteps&&Array.isArray(this.progressSteps)}get progressSteps(){return this.steps.toArray()}generateProgressArray(t){return[...Array(t).keys()].map(r=>({stepIndex:r,status:r===this.activeIndex?Bo.IN_PROGRESS:Bo.PENDING}))}initProgress(t){this.itemLength=t||0,this.itemProgressList=this.generateProgressArray(this.itemLength)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ik))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-progress"]],contentQueries:function(t,r,i){if(1&t&&u.Suo(i,Ck,4),2&t){let a;u.iGM(a=u.CRH())&&(r.steps=a)}},inputs:{selectedIndex:"selectedIndex"},outputs:{stateChange:"stateChange"},features:[u.qOj],ngContentSelectors:Q2,decls:6,vars:1,consts:[[1,"step-progress"],[1,"container"],["container",""],[4,"ngFor","ngForOf"],[1,"step-content"],[1,"check-box",3,"ngClass"],["id","checkbox","viewBox","0 0 100 100"],["cx","50.5","cy","49","r","45",1,"circle"],["points","28.5,51.9 41.9,65.3 72.5,32.8 ",1,"check"],["class","progress-line",3,"ngClass",4,"ngIf"],[1,"info"],[1,"step"],[1,"progress-info",3,"ngClass"],[1,"progress-line",3,"ngClass"],[1,"progress-percent"]],template:function(t,r){1&t&&(u.F$t(Y2),u.TgZ(0,"div",0)(1,"div",1,2),u.YNc(3,K2,11,11,"ng-container",3),u.qZA()(),u.TgZ(4,"div",4),u.Hsn(5),u.qZA()),2&t&&(u.xp6(3),u.Q6J("ngForOf",r.itemProgressList))},directives:[Nn,Lr,gn],styles:["[_nghost-%COMP%]{margin-top:20px;-webkit-user-select:none;user-select:none;display:grid;grid-template-rows:80px 1fr;grid-row-gap:100px;justify-content:center;grid-template-columns:min-content}[_nghost-%COMP%]   .step-progress[_ngcontent-%COMP%]{margin-top:120px;padding:15px 15px 60px 0;box-shadow:0 15px 20px #0000001a;border-radius:15px;grid-row:1/2;grid-column:1/-1;align-self:center}[_nghost-%COMP%]   .step-content[_ngcontent-%COMP%]{margin-top:40px;position:relative;align-self:start;grid-row:2/-1;grid-column:1/-1}.container[_ngcontent-%COMP%]{display:inline-flex;padding:30px;position:relative}.container[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]{width:48px;height:48px;stroke:#23c274;stroke-width:6}.container[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{stroke-dasharray:320;stroke-dashoffset:320;fill:#d2d2d2;transition:stroke-dashoffset .5s,fill .5s .3s cubic-bezier(.45,0,.55,1)}.container[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{stroke-dasharray:70;stroke-dashoffset:70;stroke:#fff;fill:none;transition:all .5s .5s cubic-bezier(.45,0,.55,1)}.check-box[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.check-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{position:absolute;bottom:-60px;display:grid;grid-template-columns:max-content}.check-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span.progress-info[_ngcontent-%COMP%]{text-transform:capitalize;font-size:11px;display:inline-block;margin-left:5px;padding:2px 10px;transform:translateY(6px);font-weight:500;color:currentColor;background:#eee;border-radius:20px;transition:background-color .1s ease-in-out}.check-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span.progress-info.in-progress[_ngcontent-%COMP%]{background-color:#234dc2;color:#fff}.check-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span.progress-info.completed[_ngcontent-%COMP%]{background-color:#23c274;color:#fff}.check-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span.step[_ngcontent-%COMP%]{margin-left:10px;text-transform:uppercase;font-weight:400;letter-spacing:.5px;font-size:10px;color:#777}.progress-line[_ngcontent-%COMP%]{width:140px;margin:0 10px;height:4px;overflow:hidden;display:inline-block;background:#d2d2d2;border-radius:10px}.progress-line[_ngcontent-%COMP%]   .progress-percent[_ngcontent-%COMP%]{height:inherit;width:0%;transition:all .5s .5s cubic-bezier(.45,0,.55,1)}.progress-line.active[_ngcontent-%COMP%]   .progress-percent[_ngcontent-%COMP%]{background:#234dc2;width:50%}.progress-line.complete[_ngcontent-%COMP%]   .progress-percent[_ngcontent-%COMP%]{width:100%;background:#23c274}.check-box.active[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{fill:#234dc2}.check-box.complete[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{stroke-dashoffset:0;fill:#23c274}.check-box.complete[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{stroke-dashoffset:0}"]}),n})(),X2=(()=>{class n{constructor(t,r){this.progressHelper=t,this.el=r,this.methods={next:!1,prev:!1}}listen(t){this.progressHelper.eventHelper.next(this.methods)}ngOnInit(){this.initMethods()}initMethods(){"next"in this&&(this.methods=Object.assign(Object.assign({},this.methods),{next:!0})),"prev"in this&&(this.methods=Object.assign(Object.assign({},this.methods),{prev:!0}))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ik),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","progressStepNext",""],["","progressStepPrev",""]],hostBindings:function(t,r){1&t&&u.NdJ("click",function(a){return r.listen(a)})},inputs:{next:["progressStepNext","next"],prev:["progressStepPrev","prev"]}}),n})();class Dk{}const rd="*";function tV(n,e){return{type:7,name:n,definitions:e,options:{}}}function xI(n,e=null){return{type:4,styles:e,timings:n}}function Sk(n,e=null){return{type:2,steps:n,options:e}}function Bh(n){return{type:6,styles:n,offset:null}}function nV(n,e,t){return{type:0,name:n,styles:e,options:t}}function MI(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Ak(n){Promise.resolve(null).then(n)}class $w{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ak(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class xk{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?Ak(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==a&&this._onFinish()}),d.onDestroy(()=>{++r==a&&this._onDestroy()}),d.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}let lt=(()=>{class n{static addClass(t,r){t.classList?t.classList.add(r):t.className+=" "+r}static addMultipleClasses(t,r){if(t.classList){let i=r.trim().split(" ");for(let a=0;a<i.length;a++)t.classList.add(i[a])}else{let i=r.split(" ");for(let a=0;a<i.length;a++)t.className+=" "+i[a]}}static removeClass(t,r){t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(t,r){return t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className)}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return t?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,i=0;for(var a=0;a<r.length;a++){if(r[a]==t)return i;1==r[a].nodeType&&i++}return-1}static indexWithinGroup(t,r){let i=t.parentNode?t.parentNode.childNodes:[],a=0;for(var d=0;d<i.length;d++){if(i[d]==t)return a;i[d].attributes&&i[d].attributes[r]&&1==i[d].nodeType&&a++}return-1}static relativePosition(t,r){let i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t);const a=r.offsetHeight,d=r.getBoundingClientRect(),f=this.getViewport();let _,E;d.top+a+i.height>f.height?(_=-1*i.height,t.style.transformOrigin="bottom",d.top+_<0&&(_=-1*d.top)):(_=a,t.style.transformOrigin="top"),E=i.width>f.width?-1*d.left:d.left+i.width>f.width?-1*(d.left+i.width-f.width):0,t.style.top=_+"px",t.style.left=E+"px"}static absolutePosition(t,r){let V,B,i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=i.height,d=i.width,f=r.offsetHeight,_=r.offsetWidth,E=r.getBoundingClientRect(),D=this.getWindowScrollTop(),x=this.getWindowScrollLeft(),N=this.getViewport();E.top+f+a>N.height?(V=E.top+D-a,t.style.transformOrigin="bottom",V<0&&(V=D)):(V=f+E.top+D,t.style.transformOrigin="top"),B=E.left+d>N.width?Math.max(0,E.left+x+_-d):E.left+x,t.style.top=V+"px",t.style.left=B+"px"}static getParents(t,r=[]){return null===t.parentNode?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let i=this.getParents(t);const a=/(auto|scroll)/,d=f=>{let _=window.getComputedStyle(f,null);return a.test(_.getPropertyValue("overflow"))||a.test(_.getPropertyValue("overflowX"))||a.test(_.getPropertyValue("overflowY"))};for(let f of i){let _=1===f.nodeType&&f.dataset.scrollselectors;if(_){let E=_.split(",");for(let D of E){let x=this.findSingle(f,D);x&&d(x)&&r.push(x)}}9!==f.nodeType&&d(f)&&r.push(f)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let i=getComputedStyle(t).getPropertyValue("borderTopWidth"),a=i?parseFloat(i):0,d=getComputedStyle(t).getPropertyValue("paddingTop"),f=d?parseFloat(d):0,_=t.getBoundingClientRect(),D=r.getBoundingClientRect().top+document.body.scrollTop-(_.top+document.body.scrollTop)-a-f,x=t.scrollTop,N=t.clientHeight,V=this.getOuterHeight(r);D<0?t.scrollTop=x+D:D+V>N&&(t.scrollTop=x+D-N+V)}static fadeIn(t,r){t.style.opacity=0;let i=+new Date,a=0,d=function(){a=+t.style.opacity.replace(",",".")+((new Date).getTime()-i)/r,t.style.opacity=a,i=+new Date,+a<1&&(window.requestAnimationFrame&&requestAnimationFrame(d)||setTimeout(d,16))};d()}static fadeOut(t,r){var i=1,f=50/r;let _=setInterval(()=>{(i-=f)<=0&&(i=0,clearInterval(_)),t.style.opacity=i},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var i=Element.prototype;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(d){return-1!==[].indexOf.call(document.querySelectorAll(d),this)}).call(t,r)}static getOuterWidth(t,r){let i=t.offsetWidth;if(r){let a=getComputedStyle(t);i+=parseFloat(a.marginLeft)+parseFloat(a.marginRight)}return i}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(t,r){let i=t.offsetHeight;if(r){let a=getComputedStyle(t);i+=parseFloat(a.marginTop)+parseFloat(a.marginBottom)}return i}static getHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let t=window,r=document,i=r.documentElement,a=r.getElementsByTagName("body")[0];return{width:t.innerWidth||i.clientWidth||a.clientWidth,height:t.innerHeight||i.clientHeight||a.clientHeight}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let i=t.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,t)}static getUserAgent(){return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot append "+r+" to "+t;r.el.nativeElement.appendChild(t)}}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+t+" from "+r;r.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,i){t[r].apply(t,i)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(t){}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return null===t.offsetParent}static getFocusableElements(t){let r=n.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),i=[];for(let a of r)"none"!=getComputedStyle(a).display&&"hidden"!=getComputedStyle(a).visibility&&i.push(a);return i}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class rV{constructor(e,t=(()=>{})){this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=lt.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let ls=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),Mk=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[ls.STARTS_WITH,ls.CONTAINS,ls.NOT_CONTAINS,ls.ENDS_WITH,ls.EQUALS,ls.NOT_EQUALS],numeric:[ls.EQUALS,ls.NOT_EQUALS,ls.LESS_THAN,ls.LESS_THAN_OR_EQUAL_TO,ls.GREATER_THAN,ls.GREATER_THAN_OR_EQUAL_TO],date:[ls.DATE_IS,ls.DATE_IS_NOT,ls.DATE_BEFORE,ls.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Sn.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=Object.assign(Object.assign({},this.translation),t),this.translationSource.next(this.translation)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Du=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})(),iV=(()=>{class n{constructor(){this.clickSource=new Sn.x,this.clickObservable=this.clickSource.asObservable()}add(t){t&&this.clickSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sV=(()=>{class n{constructor(t){this.template=t}getType(){return this.name}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),Pk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Wo]]}),n})(),oV=(()=>{class n{constructor(t,r,i){this.el=t,this.zone=r,this.config=i}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(t){let r=this.getInk();if(!r||"none"===getComputedStyle(r,null).display)return;if(lt.removeClass(r,"p-ink-active"),!lt.getHeight(r)&&!lt.getWidth(r)){let f=Math.max(lt.getOuterWidth(this.el.nativeElement),lt.getOuterHeight(this.el.nativeElement));r.style.height=f+"px",r.style.width=f+"px"}let i=lt.getOffset(this.el.nativeElement),a=t.pageX-i.left+document.body.scrollTop-lt.getWidth(r)/2,d=t.pageY-i.top+document.body.scrollLeft-lt.getHeight(r)/2;r.style.top=d+"px",r.style.left=a+"px",lt.addClass(r,"p-ink-active")}getInk(){for(let t=0;t<this.el.nativeElement.children.length;t++)if(-1!==this.el.nativeElement.children[t].className.indexOf("p-ink"))return this.el.nativeElement.children[t];return null}resetInk(){let t=this.getInk();t&&lt.removeClass(t,"p-ink-active")}onAnimationEnd(t){lt.removeClass(t.currentTarget,"p-ink-active")}create(){let t=document.createElement("span");t.className="p-ink",this.el.nativeElement.appendChild(t),this.animationListener=this.onAnimationEnd.bind(this),t.addEventListener("animationend",this.animationListener)}remove(){let t=this.getInk();t&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),t.removeEventListener("animationend",this.animationListener),lt.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Mk,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),kk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Wo]]}),n})(),lV=(()=>{class n{constructor(t){this.el=t,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,lt.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let t=document.createElement("span");this.icon&&!this.label&&t.setAttribute("aria-hidden","true"),t.className="p-button-label",this.label?t.appendChild(document.createTextNode(this.label)):t.innerHTML="&nbsp;",this.el.nativeElement.appendChild(t),this.initialized=!0}getStyleClass(){let t="p-button p-component";return this.icon&&!this.label&&(t+=" p-button-icon-only"),this.loading&&(t+=" p-disabled p-button-loading",!this.icon&&this.label&&(t+=" p-button-loading-label-only")),t}setStyleClass(){let t=this.getStyleClass();this.el.nativeElement.className=t+" "+this._initialStyleClass}createIconEl(){let t=document.createElement("span");t.className="p-button-icon",t.setAttribute("aria-hidden","true");let r=this.label?"p-button-icon-"+this.iconPos:null;r&&lt.addClass(t,r);let i=this.getIconClass();i&&lt.addMultipleClasses(t,i);let a=lt.findSingle(this.el.nativeElement,".p-button-label");a?this.el.nativeElement.insertBefore(t,a):this.el.nativeElement.appendChild(t)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let t=lt.findSingle(this.el.nativeElement,".p-button-icon");t?t.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let t=lt.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(t)}get label(){return this._label}set label(t){this._label=t,this.initialized&&(lt.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),Ok=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Wo,kk]]}),n})();var Rk=0,PI=function dV(){let n=[];const i=a=>a&&parseInt(a.style.zIndex,10)||0;return{get:i,set:(a,d,f)=>{d&&(d.style.zIndex=String(((a,d)=>{let f=n.length>0?n[n.length-1]:{key:a,value:d},_=f.value+(f.key===a?0:d)+1;return n.push({key:a,value:_}),_})(a,f)))},clear:a=>{a&&((a=>{n=n.filter(d=>d.value!==a)})(i(a)),a.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const hV=["container"],fV=["inputfield"],pV=["contentWrapper"];function gV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"i",8),u.NdJ("click",function(){return u.CHM(t),u.oxw(2).clear()}),u.qZA()}}function mV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",9),u.NdJ("click",function(i){u.CHM(t),u.oxw();const a=u.MAs(1);return u.oxw().onButtonClick(i,a)}),u.qZA()}if(2&n){const t=u.oxw(2);u.Q6J("icon",t.icon)("disabled",t.disabled),u.uIk("aria-label",t.iconAriaLabel)}}function _V(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",4,5),u.NdJ("focus",function(i){return u.CHM(t),u.oxw().onInputFocus(i)})("keydown",function(i){return u.CHM(t),u.oxw().onInputKeydown(i)})("click",function(){return u.CHM(t),u.oxw().onInputClick()})("blur",function(i){return u.CHM(t),u.oxw().onInputBlur(i)})("input",function(i){return u.CHM(t),u.oxw().onUserInput(i)}),u.qZA(),u.YNc(2,gV,1,0,"i",6),u.YNc(3,mV,1,3,"button",7)}if(2&n){const t=u.oxw();u.Tol(t.inputStyleClass),u.Q6J("value",t.inputFieldValue)("readonly",t.readonlyInput)("ngStyle",t.inputStyle)("placeholder",t.placeholder||"")("disabled",t.disabled)("ngClass","p-inputtext p-component"),u.uIk("id",t.inputId)("name",t.name)("required",t.required)("aria-required",t.required)("tabindex",t.tabindex)("inputmode",t.touchUI?"off":null)("aria-labelledby",t.ariaLabelledBy),u.xp6(2),u.Q6J("ngIf",t.showClear&&!t.disabled&&null!=t.value),u.xp6(1),u.Q6J("ngIf",t.showIcon)}}function yV(n,e){1&n&&u.GkF(0)}function vV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",30),u.NdJ("keydown",function(i){return u.CHM(t),u.oxw(4).onContainerButtonKeydown(i)})("click",function(i){return u.CHM(t),u.oxw(4).onPrevButtonClick(i)}),u._UZ(1,"span",31),u.qZA()}}function wV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",32),u.NdJ("click",function(i){return u.CHM(t),u.oxw(4).switchToMonthView(i)})("keydown",function(i){return u.CHM(t),u.oxw(4).onContainerButtonKeydown(i)}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw().$implicit,r=u.oxw(3);u.Q6J("disabled",r.switchViewButtonDisabled()),u.xp6(1),u.hij(" ",r.getMonthName(t.month)," ")}}function bV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",33),u.NdJ("click",function(i){return u.CHM(t),u.oxw(4).switchToYearView(i)})("keydown",function(i){return u.CHM(t),u.oxw(4).onContainerButtonKeydown(i)}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw().$implicit,r=u.oxw(3);u.Q6J("disabled",r.switchViewButtonDisabled()),u.xp6(1),u.hij(" ",r.getYear(t)," ")}}function EV(n,e){if(1&n&&(u.ynx(0),u._uU(1),u.BQk()),2&n){const t=u.oxw(5);u.xp6(1),u.AsE("",t.yearPickerValues()[0]," - ",t.yearPickerValues()[t.yearPickerValues().length-1],"")}}function CV(n,e){1&n&&u.GkF(0)}const Nk=function(n){return{$implicit:n}};function IV(n,e){if(1&n&&(u.TgZ(0,"span",34),u.YNc(1,EV,2,2,"ng-container",13),u.YNc(2,CV,1,0,"ng-container",35),u.qZA()),2&n){const t=u.oxw(4);u.xp6(1),u.Q6J("ngIf",!t.decadeTemplate),u.xp6(1),u.Q6J("ngTemplateOutlet",t.decadeTemplate)("ngTemplateOutletContext",u.VKq(3,Nk,t.yearPickerValues))}}function TV(n,e){if(1&n&&(u.TgZ(0,"th",41)(1,"span"),u._uU(2),u.qZA()()),2&n){const t=u.oxw(5);u.xp6(2),u.Oqu(t.getTranslation("weekHeader"))}}function DV(n,e){if(1&n&&(u.TgZ(0,"th",42)(1,"span"),u._uU(2),u.qZA()()),2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t)}}function SV(n,e){if(1&n&&(u.TgZ(0,"td",45)(1,"span",46),u._uU(2),u.qZA()()),2&n){const t=u.oxw().index,r=u.oxw(2).$implicit;u.xp6(2),u.hij(" ",r.weekNumbers[t]," ")}}function AV(n,e){if(1&n&&(u.ynx(0),u._uU(1),u.BQk()),2&n){const t=u.oxw(2).$implicit;u.xp6(1),u.Oqu(t.day)}}function xV(n,e){1&n&&u.GkF(0)}const MV=function(n,e){return{"p-highlight":n,"p-disabled":e}};function PV(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"span",48),u.NdJ("click",function(i){u.CHM(t);const a=u.oxw().$implicit;return u.oxw(6).onDateSelect(i,a)})("keydown",function(i){u.CHM(t);const a=u.oxw().$implicit,d=u.oxw(3).index;return u.oxw(3).onDateCellKeydown(i,a,d)}),u.YNc(2,AV,2,1,"ng-container",13),u.YNc(3,xV,1,0,"ng-container",35),u.qZA(),u.BQk()}if(2&n){const t=u.oxw().$implicit,r=u.oxw(6);u.xp6(1),u.Q6J("ngClass",u.WLB(4,MV,r.isSelected(t),!t.selectable)),u.xp6(1),u.Q6J("ngIf",!r.dateTemplate),u.xp6(1),u.Q6J("ngTemplateOutlet",r.dateTemplate)("ngTemplateOutletContext",u.VKq(7,Nk,t))}}const kV=function(n,e){return{"p-datepicker-other-month":n,"p-datepicker-today":e}};function OV(n,e){if(1&n&&(u.TgZ(0,"td",47),u.YNc(1,PV,4,9,"ng-container",13),u.qZA()),2&n){const t=e.$implicit,r=u.oxw(6);u.Q6J("ngClass",u.WLB(2,kV,t.otherMonth,t.today)),u.xp6(1),u.Q6J("ngIf",!t.otherMonth||r.showOtherMonths)}}function RV(n,e){if(1&n&&(u.TgZ(0,"tr"),u.YNc(1,SV,3,1,"td",43),u.YNc(2,OV,2,5,"td",44),u.qZA()),2&n){const t=e.$implicit,r=u.oxw(5);u.xp6(1),u.Q6J("ngIf",r.showWeek),u.xp6(1),u.Q6J("ngForOf",t)}}function NV(n,e){if(1&n&&(u.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),u.YNc(4,TV,3,1,"th",38),u.YNc(5,DV,3,1,"th",39),u.qZA()(),u.TgZ(6,"tbody"),u.YNc(7,RV,3,2,"tr",40),u.qZA()()()),2&n){const t=u.oxw().$implicit,r=u.oxw(3);u.xp6(4),u.Q6J("ngIf",r.showWeek),u.xp6(1),u.Q6J("ngForOf",r.weekDays),u.xp6(2),u.Q6J("ngForOf",t.dates)}}function FV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",20)(1,"div",21),u.YNc(2,vV,2,0,"button",22),u.TgZ(3,"div",23),u.YNc(4,wV,2,2,"button",24),u.YNc(5,bV,2,2,"button",25),u.YNc(6,IV,3,5,"span",26),u.qZA(),u.TgZ(7,"button",27),u.NdJ("keydown",function(i){return u.CHM(t),u.oxw(3).onContainerButtonKeydown(i)})("click",function(i){return u.CHM(t),u.oxw(3).onNextButtonClick(i)}),u._UZ(8,"span",28),u.qZA()(),u.YNc(9,NV,8,3,"div",29),u.qZA()}if(2&n){const t=e.index,r=u.oxw(3);u.xp6(2),u.Q6J("ngIf",0===t),u.xp6(2),u.Q6J("ngIf","date"===r.currentView),u.xp6(1),u.Q6J("ngIf","year"!==r.currentView),u.xp6(1),u.Q6J("ngIf","year"===r.currentView),u.xp6(1),u.Udp("display",1===r.numberOfMonths||t===r.numberOfMonths-1?"inline-flex":"none"),u.xp6(2),u.Q6J("ngIf","date"===r.currentView)}}const Fk=function(n){return{"p-highlight":n}};function LV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"span",51),u.NdJ("click",function(i){const d=u.CHM(t).index;return u.oxw(4).onMonthSelect(i,d)})("keydown",function(i){const d=u.CHM(t).index;return u.oxw(4).onMonthCellKeydown(i,d)}),u._uU(1),u.qZA()}if(2&n){const t=e.$implicit,r=e.index,i=u.oxw(4);u.Q6J("ngClass",u.VKq(2,Fk,i.isMonthSelected(r))),u.xp6(1),u.hij(" ",t," ")}}function VV(n,e){if(1&n&&(u.TgZ(0,"div",49),u.YNc(1,LV,2,4,"span",50),u.qZA()),2&n){const t=u.oxw(3);u.xp6(1),u.Q6J("ngForOf",t.monthPickerValues())}}function UV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"span",54),u.NdJ("click",function(i){const d=u.CHM(t).$implicit;return u.oxw(4).onYearSelect(i,d)})("keydown",function(i){const d=u.CHM(t).$implicit;return u.oxw(4).onYearCellKeydown(i,d)}),u._uU(1),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw(4);u.Q6J("ngClass",u.VKq(2,Fk,r.isYearSelected(t))),u.xp6(1),u.hij(" ",t," ")}}function BV(n,e){if(1&n&&(u.TgZ(0,"div",52),u.YNc(1,UV,2,4,"span",53),u.qZA()),2&n){const t=u.oxw(3);u.xp6(1),u.Q6J("ngForOf",t.yearPickerValues())}}function jV(n,e){if(1&n&&(u.ynx(0),u.TgZ(1,"div",16),u.YNc(2,FV,10,7,"div",17),u.qZA(),u.YNc(3,VV,2,1,"div",18),u.YNc(4,BV,2,1,"div",19),u.BQk()),2&n){const t=u.oxw(2);u.xp6(2),u.Q6J("ngForOf",t.months),u.xp6(1),u.Q6J("ngIf","month"===t.currentView),u.xp6(1),u.Q6J("ngIf","year"===t.currentView)}}function HV(n,e){1&n&&(u.ynx(0),u._uU(1,"0"),u.BQk())}function $V(n,e){1&n&&(u.ynx(0),u._uU(1,"0"),u.BQk())}function qV(n,e){if(1&n&&(u.TgZ(0,"div",60)(1,"span"),u._uU(2),u.qZA()()),2&n){const t=u.oxw(3);u.xp6(2),u.Oqu(t.timeSeparator)}}function GV(n,e){1&n&&(u.ynx(0),u._uU(1,"0"),u.BQk())}function ZV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",65)(1,"button",57),u.NdJ("keydown",function(i){return u.CHM(t),u.oxw(3).onContainerButtonKeydown(i)})("keydown.enter",function(i){return u.CHM(t),u.oxw(3).incrementSecond(i)})("keydown.space",function(i){return u.CHM(t),u.oxw(3).incrementSecond(i)})("mousedown",function(i){return u.CHM(t),u.oxw(3).onTimePickerElementMouseDown(i,2,1)})("mouseup",function(i){return u.CHM(t),u.oxw(3).onTimePickerElementMouseUp(i)})("keyup.enter",function(i){return u.CHM(t),u.oxw(3).onTimePickerElementMouseUp(i)})("keyup.space",function(i){return u.CHM(t),u.oxw(3).onTimePickerElementMouseUp(i)})("mouseleave",function(){return u.CHM(t),u.oxw(3).onTimePickerElementMouseLeave()}),u._UZ(2,"span",58),u.qZA(),u.TgZ(3,"span"),u.YNc(4,GV,2,0,"ng-container",13),u._uU(5),u.qZA(),u.TgZ(6,"button",57),u.NdJ("keydown",function(i){return u.CHM(t),u.oxw(3).onContainerButtonKeydown(i)})("keydown.enter",function(i){return u.CHM(t),u.oxw(3).decrementSecond(i)})("keydown.space",function(i){return u.CHM(t),u.oxw(3).decrementSecond(i)})("mousedown",function(i){return u.CHM(t),u.oxw(3).onTimePickerElementMouseDown(i,2,-1)})("mouseup",function(i){return u.CHM(t),u.oxw(3).onTimePickerElementMouseUp(i)})("keyup.enter",function(i){return u.CHM(t),u.oxw(3).onTimePickerElementMouseUp(i)})("keyup.space",function(i){return u.CHM(t),u.oxw(3).onTimePickerElementMouseUp(i)})("mouseleave",function(){return u.CHM(t),u.oxw(3).onTimePickerElementMouseLeave()}),u._UZ(7,"span",59),u.qZA()()}if(2&n){const t=u.oxw(3);u.xp6(4),u.Q6J("ngIf",t.currentSecond<10),u.xp6(1),u.Oqu(t.currentSecond)}}function zV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",66)(1,"button",67),u.NdJ("keydown",function(i){return u.CHM(t),u.oxw(3).onContainerButtonKeydown(i)})("click",function(i){return u.CHM(t),u.oxw(3).toggleAMPM(i)})("keydown.enter",function(i){return u.CHM(t),u.oxw(3).toggleAMPM(i)}),u._UZ(2,"span",58),u.qZA(),u.TgZ(3,"span"),u._uU(4),u.qZA(),u.TgZ(5,"button",67),u.NdJ("keydown",function(i){return u.CHM(t),u.oxw(3).onContainerButtonKeydown(i)})("click",function(i){return u.CHM(t),u.oxw(3).toggleAMPM(i)})("keydown.enter",function(i){return u.CHM(t),u.oxw(3).toggleAMPM(i)}),u._UZ(6,"span",59),u.qZA()()}if(2&n){const t=u.oxw(3);u.xp6(4),u.Oqu(t.pm?"PM":"AM")}}function WV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",55)(1,"div",56)(2,"button",57),u.NdJ("keydown",function(i){return u.CHM(t),u.oxw(2).onContainerButtonKeydown(i)})("keydown.enter",function(i){return u.CHM(t),u.oxw(2).incrementHour(i)})("keydown.space",function(i){return u.CHM(t),u.oxw(2).incrementHour(i)})("mousedown",function(i){return u.CHM(t),u.oxw(2).onTimePickerElementMouseDown(i,0,1)})("mouseup",function(i){return u.CHM(t),u.oxw(2).onTimePickerElementMouseUp(i)})("keyup.enter",function(i){return u.CHM(t),u.oxw(2).onTimePickerElementMouseUp(i)})("keyup.space",function(i){return u.CHM(t),u.oxw(2).onTimePickerElementMouseUp(i)})("mouseleave",function(){return u.CHM(t),u.oxw(2).onTimePickerElementMouseLeave()}),u._UZ(3,"span",58),u.qZA(),u.TgZ(4,"span"),u.YNc(5,HV,2,0,"ng-container",13),u._uU(6),u.qZA(),u.TgZ(7,"button",57),u.NdJ("keydown",function(i){return u.CHM(t),u.oxw(2).onContainerButtonKeydown(i)})("keydown.enter",function(i){return u.CHM(t),u.oxw(2).decrementHour(i)})("keydown.space",function(i){return u.CHM(t),u.oxw(2).decrementHour(i)})("mousedown",function(i){return u.CHM(t),u.oxw(2).onTimePickerElementMouseDown(i,0,-1)})("mouseup",function(i){return u.CHM(t),u.oxw(2).onTimePickerElementMouseUp(i)})("keyup.enter",function(i){return u.CHM(t),u.oxw(2).onTimePickerElementMouseUp(i)})("keyup.space",function(i){return u.CHM(t),u.oxw(2).onTimePickerElementMouseUp(i)})("mouseleave",function(){return u.CHM(t),u.oxw(2).onTimePickerElementMouseLeave()}),u._UZ(8,"span",59),u.qZA()(),u.TgZ(9,"div",60)(10,"span"),u._uU(11),u.qZA()(),u.TgZ(12,"div",61)(13,"button",57),u.NdJ("keydown",function(i){return u.CHM(t),u.oxw(2).onContainerButtonKeydown(i)})("keydown.enter",function(i){return u.CHM(t),u.oxw(2).incrementMinute(i)})("keydown.space",function(i){return u.CHM(t),u.oxw(2).incrementMinute(i)})("mousedown",function(i){return u.CHM(t),u.oxw(2).onTimePickerElementMouseDown(i,1,1)})("mouseup",function(i){return u.CHM(t),u.oxw(2).onTimePickerElementMouseUp(i)})("keyup.enter",function(i){return u.CHM(t),u.oxw(2).onTimePickerElementMouseUp(i)})("keyup.space",function(i){return u.CHM(t),u.oxw(2).onTimePickerElementMouseUp(i)})("mouseleave",function(){return u.CHM(t),u.oxw(2).onTimePickerElementMouseLeave()}),u._UZ(14,"span",58),u.qZA(),u.TgZ(15,"span"),u.YNc(16,$V,2,0,"ng-container",13),u._uU(17),u.qZA(),u.TgZ(18,"button",57),u.NdJ("keydown",function(i){return u.CHM(t),u.oxw(2).onContainerButtonKeydown(i)})("keydown.enter",function(i){return u.CHM(t),u.oxw(2).decrementMinute(i)})("keydown.space",function(i){return u.CHM(t),u.oxw(2).decrementMinute(i)})("mousedown",function(i){return u.CHM(t),u.oxw(2).onTimePickerElementMouseDown(i,1,-1)})("mouseup",function(i){return u.CHM(t),u.oxw(2).onTimePickerElementMouseUp(i)})("keyup.enter",function(i){return u.CHM(t),u.oxw(2).onTimePickerElementMouseUp(i)})("keyup.space",function(i){return u.CHM(t),u.oxw(2).onTimePickerElementMouseUp(i)})("mouseleave",function(){return u.CHM(t),u.oxw(2).onTimePickerElementMouseLeave()}),u._UZ(19,"span",59),u.qZA()(),u.YNc(20,qV,3,1,"div",62),u.YNc(21,ZV,8,2,"div",63),u.YNc(22,zV,7,1,"div",64),u.qZA()}if(2&n){const t=u.oxw(2);u.xp6(5),u.Q6J("ngIf",t.currentHour<10),u.xp6(1),u.Oqu(t.currentHour),u.xp6(5),u.Oqu(t.timeSeparator),u.xp6(5),u.Q6J("ngIf",t.currentMinute<10),u.xp6(1),u.Oqu(t.currentMinute),u.xp6(3),u.Q6J("ngIf",t.showSeconds),u.xp6(1),u.Q6J("ngIf",t.showSeconds),u.xp6(1),u.Q6J("ngIf","12"==t.hourFormat)}}const Lk=function(n){return[n]};function KV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",68)(1,"button",69),u.NdJ("keydown",function(i){return u.CHM(t),u.oxw(2).onContainerButtonKeydown(i)})("click",function(i){return u.CHM(t),u.oxw(2).onTodayButtonClick(i)}),u.qZA(),u.TgZ(2,"button",69),u.NdJ("keydown",function(i){return u.CHM(t),u.oxw(2).onContainerButtonKeydown(i)})("click",function(i){return u.CHM(t),u.oxw(2).onClearButtonClick(i)}),u.qZA()()}if(2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("label",t.getTranslation("today"))("ngClass",u.VKq(4,Lk,t.todayButtonStyleClass)),u.xp6(1),u.Q6J("label",t.getTranslation("clear"))("ngClass",u.VKq(6,Lk,t.clearButtonStyleClass))}}function YV(n,e){1&n&&u.GkF(0)}const QV=function(n,e,t,r,i,a){return{"p-datepicker p-component":!0,"p-datepicker-inline":n,"p-disabled":e,"p-datepicker-timeonly":t,"p-datepicker-multiple-month":r,"p-datepicker-monthpicker":i,"p-datepicker-touch-ui":a}},Vk=function(n,e){return{showTransitionParams:n,hideTransitionParams:e}},JV=function(n){return{value:"visibleTouchUI",params:n}},XV=function(n){return{value:"visible",params:n}};function eU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",10,11),u.NdJ("@overlayAnimation.start",function(i){return u.CHM(t),u.oxw().onOverlayAnimationStart(i)})("@overlayAnimation.done",function(i){return u.CHM(t),u.oxw().onOverlayAnimationDone(i)})("click",function(i){return u.CHM(t),u.oxw().onOverlayClick(i)}),u.Hsn(2),u.YNc(3,yV,1,0,"ng-container",12),u.YNc(4,jV,5,3,"ng-container",13),u.YNc(5,WV,23,8,"div",14),u.YNc(6,KV,3,8,"div",15),u.Hsn(7,1),u.YNc(8,YV,1,0,"ng-container",12),u.qZA()}if(2&n){const t=u.oxw();u.Tol(t.panelStyleClass),u.Q6J("ngStyle",t.panelStyle)("ngClass",u.HTZ(11,QV,t.inline,t.disabled,t.timeOnly,t.numberOfMonths>1,"month"===t.view,t.touchUI))("@overlayAnimation",t.touchUI?u.VKq(21,JV,u.WLB(18,Vk,t.showTransitionOptions,t.hideTransitionOptions)):u.VKq(26,XV,u.WLB(23,Vk,t.showTransitionOptions,t.hideTransitionOptions)))("@.disabled",!0===t.inline),u.xp6(3),u.Q6J("ngTemplateOutlet",t.headerTemplate),u.xp6(1),u.Q6J("ngIf",!t.timeOnly),u.xp6(1),u.Q6J("ngIf",(t.showTime||t.timeOnly)&&"date"===t.currentView),u.xp6(1),u.Q6J("ngIf",t.showButtonBar),u.xp6(2),u.Q6J("ngTemplateOutlet",t.footerTemplate)}}const tU=[[["p-header"]],[["p-footer"]]],nU=function(n,e,t,r){return{"p-calendar":!0,"p-calendar-w-btn":n,"p-calendar-timeonly":e,"p-calendar-disabled":t,"p-focus":r}},rU=["p-header","p-footer"],iU={provide:Ro,useExisting:(0,u.Gpc)(()=>Uk),multi:!0};let Uk=(()=>{class n{constructor(t,r,i,a,d,f){this.el=t,this.renderer=r,this.cd=i,this.zone=a,this.config=d,this.overlayService=f,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new u.vpe,this.onBlur=new u.vpe,this.onClose=new u.vpe,this.onSelect=new u.vpe,this.onClear=new u.vpe,this.onInput=new u.vpe,this.onTodayClick=new u.vpe,this.onClearClick=new u.vpe,this.onMonthChange=new u.vpe,this.onYearChange=new u.vpe,this.onClickOutside=new u.vpe,this.onShow=new u.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(_,E){return"12"==this.hourFormat?12===_?E?12:0:E?_+12:_:_}}set content(t){this.contentViewChild=t,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(t){this._view=t,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(t){if(this._defaultDate=t,this.initialized){const r=t||new Date;this.currentMonth=r.getMonth(),this.currentYear=r.getFullYear(),this.initTime(r),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(t){this._minDate=t,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=t,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(t){this._disabledDates=t,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(t){this._disabledDays=t,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(t){if(this._yearRange=t,t){const r=t.split(":"),i=parseInt(r[0]),a=parseInt(r[1]);this.populateYearOptions(i,a)}}get showTime(){return this._showTime}set showTime(t){this._showTime=t,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(t){this._responsiveOptions=t,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(t){this._numberOfMonths=t,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(t){this._firstDayOfWeek=t,this.createWeekDays()}set locale(t){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=function cV(){return"pr_id_"+ ++Rk}();const t=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(t),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"date":default:this.dateTemplate=t.template;break;case"decade":this.decadeTemplate=t.template;break;case"disabledDate":this.disabledDateTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=lt.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(t){return this.config.getTranslation(t)}populateYearOptions(t,r){this.yearOptions=[];for(let i=t;i<=r;i++)this.yearOptions.push(i)}createWeekDays(){this.weekDays=[];let t=this.getFirstDateOfWeek(),r=this.getTranslation(Du.DAY_NAMES_MIN);for(let i=0;i<7;i++)this.weekDays.push(r[t]),t=6==t?0:++t}monthPickerValues(){let t=[];for(let r=0;r<=11;r++)t.push(this.config.getTranslation("monthNamesShort")[r]);return t}yearPickerValues(){let t=[],r=this.currentYear-this.currentYear%10;for(let i=0;i<10;i++)t.push(r+i);return t}createMonths(t,r){this.months=this.months=[];for(let i=0;i<this.numberOfMonths;i++){let a=t+i,d=r;a>11&&(a=a%11-1,d=r+1),this.months.push(this.createMonth(a,d))}}getWeekNumber(t){let r=new Date(t.getTime());r.setDate(r.getDate()+4-(r.getDay()||7));let i=r.getTime();return r.setMonth(0),r.setDate(1),Math.floor(Math.round((i-r.getTime())/864e5)/7)+1}createMonth(t,r){let i=[],a=this.getFirstDayOfMonthIndex(t,r),d=this.getDaysCountInMonth(t,r),f=this.getDaysCountInPrevMonth(t,r),_=1,E=new Date,D=[],x=Math.ceil((d+a)/7);for(let N=0;N<x;N++){let V=[];if(0==N){for(let re=f-a+1;re<=f;re++){let we=this.getPreviousMonthAndYear(t,r);V.push({day:re,month:we.month,year:we.year,otherMonth:!0,today:this.isToday(E,re,we.month,we.year),selectable:this.isSelectable(re,we.month,we.year,!0)})}let B=7-V.length;for(let re=0;re<B;re++)V.push({day:_,month:t,year:r,today:this.isToday(E,_,t,r),selectable:this.isSelectable(_,t,r,!1)}),_++}else for(let B=0;B<7;B++){if(_>d){let re=this.getNextMonthAndYear(t,r);V.push({day:_-d,month:re.month,year:re.year,otherMonth:!0,today:this.isToday(E,_-d,re.month,re.year),selectable:this.isSelectable(_-d,re.month,re.year,!0)})}else V.push({day:_,month:t,year:r,today:this.isToday(E,_,t,r),selectable:this.isSelectable(_,t,r,!1)});_++}this.showWeek&&D.push(this.getWeekNumber(new Date(V[0].year,V[0].month,V[0].day))),i.push(V)}return{month:t,year:r,dates:i,weekNumbers:D}}initTime(t){this.pm=t.getHours()>11,this.showTime?(this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds(),this.setCurrentHourPM(t.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(t){this.disabled?t.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(t){this.disabled?t.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let t=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-t,this.yearOptions[this.yearOptions.length-1]-t)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let t=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+t,this.yearOptions[this.yearOptions.length-1]+t)}}switchToMonthView(t){this.setCurrentView("month"),t.preventDefault()}switchToYearView(t){this.setCurrentView("year"),t.preventDefault()}onDateSelect(t,r){!this.disabled&&r.selectable?(this.isMultipleSelection()&&this.isSelected(r)?(this.value=this.value.filter((i,a)=>!this.isDateEquals(i,r)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(r)&&this.selectDate(r),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{t.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),t.preventDefault()):t.preventDefault()}shouldSelectDate(t){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(t,r){"month"===this.view?this.onDateSelect(t,{year:this.currentYear,month:r,day:1,selectable:!0}):(this.currentMonth=r,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(t,r){"year"===this.view?this.onDateSelect(t,{year:r,month:0,day:1,selectable:!0}):(this.currentYear=r,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let t="";if(this.value)if(this.isSingleSelection())t=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let r=0;r<this.value.length;r++)t+=this.formatDateTime(this.value[r]),r!==this.value.length-1&&(t+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let i=this.value[1];t=this.formatDateTime(this.value[0]),i&&(t+=" "+this.rangeSeparator+" "+this.formatDateTime(i))}this.inputFieldValue=t,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(t){let r=this.keepInvalid?t:null;return this.isValidDate(t)&&(this.timeOnly?r=this.formatTime(t):(r=this.formatDate(t,this.getDateFormat()),this.showTime&&(r+=" "+this.formatTime(t)))),r}setCurrentHourPM(t){"12"==this.hourFormat?(this.pm=t>11,this.currentHour=t>=12?12==t?12:t-12:0==t?12:t):this.currentHour=t}setCurrentView(t){this.currentView=t,this.cd.detectChanges(),this.alignOverlay()}selectDate(t){let r=new Date(t.year,t.month,t.day);if(this.showTime&&(r.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),r.setMinutes(this.currentMinute),r.setSeconds(this.currentSecond)),this.minDate&&this.minDate>r&&(r=this.minDate,this.setCurrentHourPM(r.getHours()),this.currentMinute=r.getMinutes(),this.currentSecond=r.getSeconds()),this.maxDate&&this.maxDate<r&&(r=this.maxDate,this.setCurrentHourPM(r.getHours()),this.currentMinute=r.getMinutes(),this.currentSecond=r.getSeconds()),this.isSingleSelection())this.updateModel(r);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,r]:[r]);else if(this.isRangeSelection())if(this.value&&this.value.length){let i=this.value[0],a=this.value[1];!a&&r.getTime()>=i.getTime()?a=r:(i=r,a=null),this.updateModel([i,a])}else this.updateModel([r,null]);this.onSelect.emit(r)}updateModel(t){if(this.value=t,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let r=null;this.value&&(r=this.value.map(i=>this.formatDateTime(i))),this.onModelChange(r)}}getFirstDayOfMonthIndex(t,r){let i=new Date;i.setDate(1),i.setMonth(t),i.setFullYear(r);let a=i.getDay()+this.getSundayIndex();return a>=7?a-7:a}getDaysCountInMonth(t,r){return 32-this.daylightSavingAdjust(new Date(r,t,32)).getDate()}getDaysCountInPrevMonth(t,r){let i=this.getPreviousMonthAndYear(t,r);return this.getDaysCountInMonth(i.month,i.year)}getPreviousMonthAndYear(t,r){let i,a;return 0===t?(i=11,a=r-1):(i=t-1,a=r),{month:i,year:a}}getNextMonthAndYear(t,r){let i,a;return 11===t?(i=0,a=r+1):(i=t+1,a=r),{month:i,year:a}}getSundayIndex(){let t=this.getFirstDateOfWeek();return t>0?7-t:0}isSelected(t){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,t);if(this.isMultipleSelection()){let r=!1;for(let i of this.value)if(r=this.isDateEquals(i,t),r)break;return r}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],t)||this.isDateEquals(this.value[1],t)||this.isDateBetween(this.value[0],this.value[1],t):this.isDateEquals(this.value[0],t):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(t){if(this.isComparable()){let r=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&r.getMonth()===t&&r.getFullYear()===this.currentYear}return!1}isYearSelected(t){if(this.isComparable()){let r=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&r.getFullYear()===t}return!1}isDateEquals(t,r){return!!(t&&t instanceof Date)&&t.getDate()===r.day&&t.getMonth()===r.month&&t.getFullYear()===r.year}isDateBetween(t,r,i){if(t&&r){let d=new Date(i.year,i.month,i.day);return t.getTime()<=d.getTime()&&r.getTime()>=d.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(t,r,i,a){return t.getDate()===r&&t.getMonth()===i&&t.getFullYear()===a}isSelectable(t,r,i,a){let d=!0,f=!0,_=!0,E=!0;return!(a&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>i||this.minDate.getFullYear()===i&&(this.minDate.getMonth()>r||this.minDate.getMonth()===r&&this.minDate.getDate()>t))&&(d=!1),this.maxDate&&(this.maxDate.getFullYear()<i||this.maxDate.getFullYear()===i&&(this.maxDate.getMonth()<r||this.maxDate.getMonth()===r&&this.maxDate.getDate()<t))&&(f=!1),this.disabledDates&&(_=!this.isDateDisabled(t,r,i)),this.disabledDays&&(E=!this.isDayDisabled(t,r,i)),d&&f&&_&&E)}isDateDisabled(t,r,i){if(this.disabledDates)for(let a of this.disabledDates)if(a.getFullYear()===i&&a.getMonth()===r&&a.getDate()===t)return!0;return!1}isDayDisabled(t,r,i){if(this.disabledDays){let d=new Date(i,r,t).getDay();return-1!==this.disabledDays.indexOf(d)}return!1}onInputFocus(t){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(t)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(t){this.focus=!1,this.onBlur.emit(t),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(t,r){this.overlayVisible?this.hideOverlay():(r.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}getMonthName(t){return this.config.getTranslation("monthNames")[t]}getYear(t){return"month"===this.currentView?this.currentYear:t.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(t){this.navigationState={backward:!0,button:!0},this.navBackward(t)}onNextButtonClick(t){this.navigationState={backward:!1,button:!0},this.navForward(t)}onContainerButtonKeydown(t){switch(t.which){case 9:this.inline||this.trapFocus(t);break;case 27:this.overlayVisible=!1,t.preventDefault()}}onInputKeydown(t){this.isKeydown=!0,40===t.keyCode&&this.contentViewChild?this.trapFocus(t):27===t.keyCode||13===t.keyCode?this.overlayVisible&&(this.overlayVisible=!1,t.preventDefault()):9===t.keyCode&&this.contentViewChild&&(lt.getFocusableElements(this.contentViewChild.nativeElement).forEach(r=>r.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(t,r,i){const a=t.currentTarget,d=a.parentElement;switch(t.which){case 40:{a.tabIndex="-1";let f=lt.index(d),_=d.parentElement.nextElementSibling;_?lt.hasClass(_.children[f].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(t)):(_.children[f].children[0].tabIndex="0",_.children[f].children[0].focus()):(this.navigationState={backward:!1},this.navForward(t)),t.preventDefault();break}case 38:{a.tabIndex="-1";let f=lt.index(d),_=d.parentElement.previousElementSibling;if(_){let E=_.children[f].children[0];lt.hasClass(E,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(t)):(E.tabIndex="0",E.focus())}else this.navigationState={backward:!0},this.navBackward(t);t.preventDefault();break}case 37:{a.tabIndex="-1";let f=d.previousElementSibling;if(f){let _=f.children[0];lt.hasClass(_,"p-disabled")||lt.hasClass(_.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,i):(_.tabIndex="0",_.focus())}else this.navigateToMonth(!0,i);t.preventDefault();break}case 39:{a.tabIndex="-1";let f=d.nextElementSibling;if(f){let _=f.children[0];lt.hasClass(_,"p-disabled")?this.navigateToMonth(!1,i):(_.tabIndex="0",_.focus())}else this.navigateToMonth(!1,i);t.preventDefault();break}case 13:case 32:this.onDateSelect(t,r),t.preventDefault();break;case 27:this.overlayVisible=!1,t.preventDefault();break;case 9:this.inline||this.trapFocus(t)}}onMonthCellKeydown(t,r){const i=t.currentTarget;switch(t.which){case 38:case 40:{i.tabIndex="-1";var a=i.parentElement.children,d=lt.index(i);let f=a[40===t.which?d+3:d-3];f&&(f.tabIndex="0",f.focus()),t.preventDefault();break}case 37:{i.tabIndex="-1";let f=i.previousElementSibling;f?(f.tabIndex="0",f.focus()):(this.navigationState={backward:!0},this.navBackward(t)),t.preventDefault();break}case 39:{i.tabIndex="-1";let f=i.nextElementSibling;f?(f.tabIndex="0",f.focus()):(this.navigationState={backward:!1},this.navForward(t)),t.preventDefault();break}case 13:this.onMonthSelect(t,r),t.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,t.preventDefault();break;case 9:this.inline||this.trapFocus(t)}}onYearCellKeydown(t,r){const i=t.currentTarget;switch(t.which){case 38:case 40:{i.tabIndex="-1";var a=i.parentElement.children,d=lt.index(i);let f=a[40===t.which?d+2:d-2];f&&(f.tabIndex="0",f.focus()),t.preventDefault();break}case 37:{i.tabIndex="-1";let f=i.previousElementSibling;f?(f.tabIndex="0",f.focus()):(this.navigationState={backward:!0},this.navBackward(t)),t.preventDefault();break}case 39:{i.tabIndex="-1";let f=i.nextElementSibling;f?(f.tabIndex="0",f.focus()):(this.navigationState={backward:!1},this.navForward(t)),t.preventDefault();break}case 13:case 32:this.onYearSelect(t,r),t.preventDefault();break;case 27:this.overlayVisible=!1,t.preventDefault();break;case 9:this.trapFocus(t)}}navigateToMonth(t,r){if(t)if(1===this.numberOfMonths||0===r)this.navigationState={backward:!0},this.navBackward(event);else{let a=lt.find(this.contentViewChild.nativeElement.children[r-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),d=a[a.length-1];d.tabIndex="0",d.focus()}else if(1===this.numberOfMonths||r===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let a=lt.findSingle(this.contentViewChild.nativeElement.children[r+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");a.tabIndex="0",a.focus()}}updateFocus(){let t;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?lt.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():lt.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let r;r=lt.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),r&&r.length>0&&(t=r[r.length-1])}else t=lt.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");t&&(t.tabIndex="0",t.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){let t;if("month"===this.currentView){let r=lt.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),i=lt.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");r.forEach(a=>a.tabIndex=-1),t=i||r[0],0===r.length&&lt.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(d=>d.tabIndex=-1)}else if("year"===this.currentView){let r=lt.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),i=lt.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year.p-highlight");r.forEach(a=>a.tabIndex=-1),t=i||r[0],0===r.length&&lt.find(this.contentViewChild.nativeElement,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(d=>d.tabIndex=-1)}else if(t=lt.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"),!t){let r=lt.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");t=r||lt.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}t&&(t.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{t.focus()},1),this.preventFocus=!1)}trapFocus(t){let r=lt.getFocusableElements(this.contentViewChild.nativeElement);if(r&&r.length>0)if(r[0].ownerDocument.activeElement){let i=r.indexOf(r[0].ownerDocument.activeElement);if(t.shiftKey)if(-1==i||0===i)if(this.focusTrap)r[r.length-1].focus();else{if(-1===i)return this.hideOverlay();if(0===i)return}else r[i-1].focus();else if(-1==i||i===r.length-1){if(!this.focusTrap&&-1!=i)return this.hideOverlay();r[0].focus()}else r[i+1].focus()}else r[0].focus();t.preventDefault()}onMonthDropdownChange(t){this.currentMonth=parseInt(t),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(t){this.currentYear=parseInt(t),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(t,r,i,a){let d=this.value;const f=this.convertTo24Hour(t,a);this.isRangeSelection()&&(d=this.value[1]||this.value[0]),this.isMultipleSelection()&&(d=this.value[this.value.length-1]);const _=d?d.toDateString():null;return!(this.minDate&&_&&this.minDate.toDateString()===_&&(this.minDate.getHours()>f||this.minDate.getHours()===f&&(this.minDate.getMinutes()>r||this.minDate.getMinutes()===r&&this.minDate.getSeconds()>i))||this.maxDate&&_&&this.maxDate.toDateString()===_&&(this.maxDate.getHours()<f||this.maxDate.getHours()===f&&(this.maxDate.getMinutes()<r||this.maxDate.getMinutes()===r&&this.maxDate.getSeconds()<i)))}incrementHour(t){let i=this.currentHour+this.stepHour,a=this.pm;"24"==this.hourFormat?i=i>=24?i-24:i:"12"==this.hourFormat&&(this.currentHour<12&&i>11&&(a=!this.pm),i=i>=13?i-12:i),this.validateTime(i,this.currentMinute,this.currentSecond,a)&&(this.currentHour=i,this.pm=a),t.preventDefault()}onTimePickerElementMouseDown(t,r,i){this.disabled||(this.repeat(t,null,r,i),t.preventDefault())}onTimePickerElementMouseUp(t){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(t,r,i,a){let d=r||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(t,100,i,a),this.cd.markForCheck()},d),i){case 0:1===a?this.incrementHour(t):this.decrementHour(t);break;case 1:1===a?this.incrementMinute(t):this.decrementMinute(t);break;case 2:1===a?this.incrementSecond(t):this.decrementSecond(t)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(t){let r=this.currentHour-this.stepHour,i=this.pm;"24"==this.hourFormat?r=r<0?24+r:r:"12"==this.hourFormat&&(12===this.currentHour&&(i=!this.pm),r=r<=0?12+r:r),this.validateTime(r,this.currentMinute,this.currentSecond,i)&&(this.currentHour=r,this.pm=i),t.preventDefault()}incrementMinute(t){let r=this.currentMinute+this.stepMinute;r=r>59?r-60:r,this.validateTime(this.currentHour,r,this.currentSecond,this.pm)&&(this.currentMinute=r),t.preventDefault()}decrementMinute(t){let r=this.currentMinute-this.stepMinute;r=r<0?60+r:r,this.validateTime(this.currentHour,r,this.currentSecond,this.pm)&&(this.currentMinute=r),t.preventDefault()}incrementSecond(t){let r=this.currentSecond+this.stepSecond;r=r>59?r-60:r,this.validateTime(this.currentHour,this.currentMinute,r,this.pm)&&(this.currentSecond=r),t.preventDefault()}decrementSecond(t){let r=this.currentSecond-this.stepSecond;r=r<0?60+r:r,this.validateTime(this.currentHour,this.currentMinute,r,this.pm)&&(this.currentSecond=r),t.preventDefault()}updateTime(){let t=this.value;this.isRangeSelection()&&(t=this.value[1]||this.value[0]),this.isMultipleSelection()&&(t=this.value[this.value.length-1]),t=t?new Date(t.getTime()):new Date,t.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),t.setMinutes(this.currentMinute),t.setSeconds(this.currentSecond),this.isRangeSelection()&&(t=this.value[1]?[this.value[0],t]:[t,null]),this.isMultipleSelection()&&(t=[...this.value.slice(0,-1),t]),this.updateModel(t),this.onSelect.emit(t),this.updateInputfield()}toggleAMPM(t){const r=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,r)&&(this.pm=r,this.updateTime()),t.preventDefault()}onUserInput(t){if(!this.isKeydown)return;this.isKeydown=!1;let r=t.target.value;try{let i=this.parseValueFromString(r);this.isValidSelection(i)&&(this.updateModel(i),this.updateUI())}catch(i){this.updateModel(this.keepInvalid?r:null)}this.filled=null!=r&&r.length,this.onInput.emit(t)}isValidSelection(t){let r=!0;return this.isSingleSelection()?this.isSelectable(t.getDate(),t.getMonth(),t.getFullYear(),!1)||(r=!1):t.every(i=>this.isSelectable(i.getDate(),i.getMonth(),i.getFullYear(),!1))&&this.isRangeSelection()&&(r=t.length>1&&t[1]>t[0]),r}parseValueFromString(t){if(!t||0===t.trim().length)return null;let r;if(this.isSingleSelection())r=this.parseDateTime(t);else if(this.isMultipleSelection()){let i=t.split(this.multipleSeparator);r=[];for(let a of i)r.push(this.parseDateTime(a.trim()))}else if(this.isRangeSelection()){let i=t.split(" "+this.rangeSeparator+" ");r=[];for(let a=0;a<i.length;a++)r[a]=this.parseDateTime(i[a].trim())}return r}parseDateTime(t){let r,i=t.split(" ");if(this.timeOnly)r=new Date,this.populateTime(r,i[0],i[1]);else{const a=this.getDateFormat();if(this.showTime){let d="12"==this.hourFormat?i.pop():null,f=i.pop();r=this.parseDate(i.join(" "),a),this.populateTime(r,f,d)}else r=this.parseDate(t,a)}return r}populateTime(t,r,i){if("12"==this.hourFormat&&!i)throw"Invalid Time";this.pm="PM"===i||"pm"===i;let a=this.parseTime(r);t.setHours(a.hour),t.setMinutes(a.minute),t.setSeconds(a.second)}isValidDate(t){return t instanceof Date&&class uV{static equals(e,t,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(t,r):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var a,d,f,r=Array.isArray(e),i=Array.isArray(t);if(r&&i){if((d=e.length)!=t.length)return!1;for(a=d;0!=a--;)if(!this.equalsByValue(e[a],t[a]))return!1;return!0}if(r!=i)return!1;var _=e instanceof Date,E=t instanceof Date;if(_!=E)return!1;if(_&&E)return e.getTime()==t.getTime();var D=e instanceof RegExp,x=t instanceof RegExp;if(D!=x)return!1;if(D&&x)return e.toString()==t.toString();var N=Object.keys(e);if((d=N.length)!==Object.keys(t).length)return!1;for(a=d;0!=a--;)if(!Object.prototype.hasOwnProperty.call(t,N[a]))return!1;for(a=d;0!=a--;)if(!this.equalsByValue(e[f=N[a]],t[f]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let r=t.split("."),i=e;for(let a=0,d=r.length;a<d;++a){if(null==i)return null;i=i[r[a]]}return i}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,r){e&&t!==r&&(r>=e.length&&(r%=e.length,t%=e.length),e.splice(r,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,r,i){if(r.length>0){let a=!1;for(let d=0;d<r.length;d++)if(this.findIndexInList(r[d],i)>t){r.splice(d,0,e),a=!0;break}a||r.push(e)}else r.push(e)}static findIndexInList(e,t){let r=-1;if(t)for(let i=0;i<t.length;i++)if(t[i]==e){r=i;break}return r}static contains(e,t){if(null!=e&&t&&t.length)for(let r of t)if(this.equals(e,r))return!0;return!1}static removeAccents(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!(e instanceof Date)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}}.isNotEmpty(t)}updateUI(){let t=this.value;Array.isArray(t)&&(t=t[0]);let r=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:t&&this.isValidDate(t)?t:new Date;this.currentMonth=r.getMonth(),this.currentYear=r.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(r.getHours()),this.currentMinute=r.getMinutes(),this.currentSecond=r.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(t){switch(t.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=t.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?PI.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):PI.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(t));break;case"void":this.onOverlayHide(),this.onClose.emit(t)}}onOverlayAnimationDone(t){switch(t.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&PI.clear(t.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):lt.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=lt.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=lt.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=lt.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",lt.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):lt.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(t){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(t.style.zIndex)-1),lt.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",i=>{this.disableModality()}),document.body.appendChild(this.mask),lt.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(lt.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){document.body.removeChild(this.mask);let r,t=document.body.children;for(let i=0;i<t.length;i++)if(lt.hasClass(t[i],"p-datepicker-mask-scrollblocker")){r=!0;break}r||lt.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(t){if(this.value=t,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch(r){this.keepInvalid&&(this.value=t)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(Du.FIRST_DAY_OF_WEEK)}formatDate(t,r){if(!t)return"";let i;const a=D=>{const x=i+1<r.length&&r.charAt(i+1)===D;return x&&i++,x},d=(D,x,N)=>{let V=""+x;if(a(D))for(;V.length<N;)V="0"+V;return V},f=(D,x,N,V)=>a(D)?V[x]:N[x];let _="",E=!1;if(t)for(i=0;i<r.length;i++)if(E)"'"!==r.charAt(i)||a("'")?_+=r.charAt(i):E=!1;else switch(r.charAt(i)){case"d":_+=d("d",t.getDate(),2);break;case"D":_+=f("D",t.getDay(),this.getTranslation(Du.DAY_NAMES_SHORT),this.getTranslation(Du.DAY_NAMES));break;case"o":_+=d("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":_+=d("m",t.getMonth()+1,2);break;case"M":_+=f("M",t.getMonth(),this.getTranslation(Du.MONTH_NAMES_SHORT),this.getTranslation(Du.MONTH_NAMES));break;case"y":_+=a("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":_+=t.getTime();break;case"!":_+=1e4*t.getTime()+this.ticksTo1970;break;case"'":a("'")?_+="'":E=!0;break;default:_+=r.charAt(i)}return _}formatTime(t){if(!t)return"";let r="",i=t.getHours(),a=t.getMinutes(),d=t.getSeconds();return"12"==this.hourFormat&&i>11&&12!=i&&(i-=12),r+="12"==this.hourFormat&&0===i?12:i<10?"0"+i:i,r+=":",r+=a<10?"0"+a:a,this.showSeconds&&(r+=":",r+=d<10?"0"+d:d),"12"==this.hourFormat&&(r+=t.getHours()>11?" PM":" AM"),r}parseTime(t){let r=t.split(":");if(r.length!==(this.showSeconds?3:2))throw"Invalid time";let a=parseInt(r[0]),d=parseInt(r[1]),f=this.showSeconds?parseInt(r[2]):null;if(isNaN(a)||isNaN(d)||a>23||d>59||"12"==this.hourFormat&&a>12||this.showSeconds&&(isNaN(f)||f>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==a&&this.pm?a+=12:!this.pm&&12===a&&(a-=12)),{hour:a,minute:d,second:f}}parseDate(t,r){if(null==r||null==t)throw"Invalid arguments";if(""===(t="object"==typeof t?t.toString():t+""))return null;let i,a,d,B,f=0,_="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),E=-1,D=-1,x=-1,N=-1,V=!1,re=Ze=>{let je=i+1<r.length&&r.charAt(i+1)===Ze;return je&&i++,je},we=Ze=>{let je=re(Ze),vt="@"===Ze?14:"!"===Ze?20:"y"===Ze&&je?4:"o"===Ze?3:2,$t=new RegExp("^\\d{"+("y"===Ze?vt:1)+","+vt+"}"),hn=t.substring(f).match($t);if(!hn)throw"Missing number at position "+f;return f+=hn[0].length,parseInt(hn[0],10)},rt=(Ze,je,vt)=>{let Ct=-1,$t=re(Ze)?vt:je,hn=[];for(let $n=0;$n<$t.length;$n++)hn.push([$n,$t[$n]]);hn.sort(($n,Fs)=>-($n[1].length-Fs[1].length));for(let $n=0;$n<hn.length;$n++){let Fs=hn[$n][1];if(t.substr(f,Fs.length).toLowerCase()===Fs.toLowerCase()){Ct=hn[$n][0],f+=Fs.length;break}}if(-1!==Ct)return Ct+1;throw"Unknown name at position "+f},it=()=>{if(t.charAt(f)!==r.charAt(i))throw"Unexpected literal at position "+f;f++};for("month"===this.view&&(x=1),i=0;i<r.length;i++)if(V)"'"!==r.charAt(i)||re("'")?it():V=!1;else switch(r.charAt(i)){case"d":x=we("d");break;case"D":rt("D",this.getTranslation(Du.DAY_NAMES_SHORT),this.getTranslation(Du.DAY_NAMES));break;case"o":N=we("o");break;case"m":D=we("m");break;case"M":D=rt("M",this.getTranslation(Du.MONTH_NAMES_SHORT),this.getTranslation(Du.MONTH_NAMES));break;case"y":E=we("y");break;case"@":B=new Date(we("@")),E=B.getFullYear(),D=B.getMonth()+1,x=B.getDate();break;case"!":B=new Date((we("!")-this.ticksTo1970)/1e4),E=B.getFullYear(),D=B.getMonth()+1,x=B.getDate();break;case"'":re("'")?it():V=!0;break;default:it()}if(f<t.length&&(d=t.substr(f),!/^\s+/.test(d)))throw"Extra/unparsed characters found in date: "+d;if(-1===E?E=(new Date).getFullYear():E<100&&(E+=(new Date).getFullYear()-(new Date).getFullYear()%100+(E<=_?0:-100)),N>-1)for(D=1,x=N;a=this.getDaysCountInMonth(E,D-1),!(x<=a);)D++,x-=a;if(B=this.daylightSavingAdjust(new Date(E,D-1,x)),B.getFullYear()!==E||B.getMonth()+1!==D||B.getDate()!==x)throw"Invalid date";return B}daylightSavingAdjust(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(t){let r=new Date,i={day:r.getDate(),month:r.getMonth(),year:r.getFullYear(),otherMonth:r.getMonth()!==this.currentMonth||r.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(t,i),this.onTodayClick.emit(t)}onClearButtonClick(t){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(t)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let t="";if(this.responsiveOptions){let r=[...this.responsiveOptions].filter(i=>!(!i.breakpoint||!i.numMonths)).sort((i,a)=>-1*i.breakpoint.localeCompare(a.breakpoint,void 0,{numeric:!0}));for(let i=0;i<r.length;i++){let{breakpoint:a,numMonths:d}=r[i],f=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${d}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let _=d;_<this.numberOfMonths;_++)f+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${_+1}) {\n                                display: none !important;\n                            }\n                        `;t+=`\n                        @media screen and (max-width: ${a}) {\n                            ${f}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=t}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",r=>{this.isOutsideClicked(r)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(r),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new rV(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(t){return!(this.el.nativeElement.isSameNode(t.target)||this.isNavIconClicked(t)||this.el.nativeElement.contains(t.target)||this.overlay&&this.overlay.contains(t.target))}isNavIconClicked(t){return lt.hasClass(t.target,"p-datepicker-prev")||lt.hasClass(t.target,"p-datepicker-prev-icon")||lt.hasClass(t.target,"p-datepicker-next")||lt.hasClass(t.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!lt.isAndroid()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&PI.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(Mk),u.Y36(iV))},n.\u0275cmp=u.Xpm({type:n,selectors:[["p-calendar"]],contentQueries:function(t,r,i){if(1&t&&u.Suo(i,sV,4),2&t){let a;u.iGM(a=u.CRH())&&(r.templates=a)}},viewQuery:function(t,r){if(1&t&&(u.Gf(hV,5),u.Gf(fV,5),u.Gf(pV,5)),2&t){let i;u.iGM(i=u.CRH())&&(r.containerViewChild=i.first),u.iGM(i=u.CRH())&&(r.inputfieldViewChild=i.first),u.iGM(i=u.CRH())&&(r.content=i.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(t,r){2&t&&u.ekj("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focus)("p-calendar-clearable",r.showClear&&!r.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[u._Bn([iU])],ngContentSelectors:rU,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(t,r){1&t&&(u.F$t(tU),u.TgZ(0,"span",0,1),u.YNc(2,_V,4,17,"ng-template",2),u.YNc(3,eU,9,28,"div",3),u.qZA()),2&t&&(u.Tol(r.styleClass),u.Q6J("ngClass",u.l5B(6,nU,r.showIcon,r.timeOnly,r.disabled,r.focus))("ngStyle",r.style),u.xp6(2),u.Q6J("ngIf",!r.inline),u.xp6(1),u.Q6J("ngIf",r.inline||r.overlayVisible))},directives:[Lr,Dl,gn,lV,oV,Gh,Nn],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[tV("overlayAnimation",[nV("visibleTouchUI",Bh({transform:"translate(-50%,-50%)",opacity:1})),MI("void => visible",[Bh({opacity:0,transform:"scaleY(0.8)"}),xI("{{showTransitionParams}}",Bh({opacity:1,transform:"*"}))]),MI("visible => void",[xI("{{hideTransitionParams}}",Bh({opacity:0}))]),MI("void => visibleTouchUI",[Bh({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),xI("{{showTransitionParams}}")]),MI("visibleTouchUI => void",[xI("{{hideTransitionParams}}",Bh({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),n})(),sU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Wo,Ok,Pk,kk],Ok,Pk]}),n})();const oU=function(){return[0]};let aU=(()=>{class n{constructor(){this.dateValue=new Date,this.maxDateValue=new Date,this.minDateTest=new Date,this.maxDateValue.setDate(this.dateValue.getDate()+15),this.minDateTest.setHours(7),this.minDateTest.setMinutes(0)}ngOnInit(){}onClick(){console.info(this.dateValue)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-calendar"]],decls:4,vars:12,consts:[["dateFormat","dd/mm/yy",3,"ngModel","disabledDays","minDate","maxDate","readonlyInput","ngModelChange"],[3,"ngModel","showTime","timeOnly","minDate","readonlyInput","defaultDate","ngModelChange"],[3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"p-calendar",0),u.NdJ("ngModelChange",function(a){return r.dateValue=a}),u.qZA(),u.TgZ(1,"p-calendar",1),u.NdJ("ngModelChange",function(a){return r.value=a}),u.qZA(),u.TgZ(2,"button",2),u.NdJ("click",function(){return r.onClick()}),u._uU(3,"asda"),u.qZA()),2&t&&(u.Q6J("ngModel",r.dateValue)("disabledDays",u.DdM(11,oU))("minDate",r.dateValue)("maxDate",r.maxDateValue)("readonlyInput",!0),u.xp6(1),u.Q6J("ngModel",r.value)("showTime",!0)("timeOnly",!0)("minDate",r.minDateTest)("readonlyInput",!0)("defaultDate",r.minDateTest))},directives:[Uk,vc,xv],styles:[""]}),n})();const lU=[{path:"",component:R2},{path:"Login",component:k2},{path:"Usuarios",component:q2,canActivate:[Fb]},{path:"Turno",component:(()=>{class n{constructor(){}ngOnInit(){}goNext(t){t.next()}onStateChange(t){console.log(t)}ngAfterViewInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-solicitar"]],decls:161,vars:0,consts:[[3,"stateChange"],["progress",""],[1,"text-center","mb-4"],[1,"d-flex","justify-content-center","mb-1"],[1,"col-9","mb-3"],[1,"input"],["value","paciente",1,"input","test"],["value","especialista",1,"input","test"],[1,"d-flex","justify-content-center"],[1,"col-9"],[3,"click"],[1,"col-10","mb-3"],[1,"cont"],[1,"list"],[1,"list-item"],[1,"image-box"],["src","https://i.pravatar.cc/100?img=59","alt","avatar"],[1,"content"],[1,"rank"],["src","https://i.pravatar.cc/100?img=49","alt","avatar"],["src","https://i.pravatar.cc/100?img=36","alt","avatar"],["src","https://i.pravatar.cc/100?img=13","alt","avatar"],["src","https://i.pravatar.cc/100?img=1","alt","avatar"],[1,"col-5"],["progressStepPrev",""],["progressStepNext",""],["progressStepPrev","","mat-raised-button","","color","accent"],["progressStepNext","","mat-raised-button","","color","primary"]],template:function(t,r){if(1&t){const i=u.EpF();u.TgZ(0,"app-progress",0,1),u.NdJ("stateChange",function(d){return r.onStateChange(d)}),u.TgZ(2,"app-progress-step")(3,"div",2)(4,"h1"),u._uU(5,"Primer paso"),u.qZA()(),u.TgZ(6,"div",3)(7,"div",4)(8,"label"),u._uU(9,"Seleccione una especialidad..."),u.qZA(),u.TgZ(10,"select",5)(11,"option",6),u._uU(12,"M\xe9dico cl\xednico"),u.qZA(),u.TgZ(13,"option",7),u._uU(14,"Traumat\xf3logo"),u.qZA()()()(),u.TgZ(15,"div",8)(16,"div",9)(17,"button",10),u.NdJ("click",function(){u.CHM(i);const d=u.MAs(1);return r.goNext(d)}),u._uU(18," next "),u.qZA()()()(),u.TgZ(19,"app-progress-step")(20,"div",2)(21,"h1"),u._uU(22,"Profesionales"),u.qZA()(),u.TgZ(23,"div",3)(24,"div",11)(25,"div",12)(26,"div",13)(27,"h3"),u._uU(28,"Teammates List"),u.qZA(),u.TgZ(29,"div",14)(30,"div",15),u._UZ(31,"img",16),u.qZA(),u.TgZ(32,"div",17)(33,"h2",18)(34,"small"),u._uU(35,"#"),u.qZA(),u._uU(36,"1"),u.qZA(),u.TgZ(37,"h4"),u._uU(38,"Ronald Raiman"),u.qZA(),u.TgZ(39,"p"),u._uU(40,"Digital Artist"),u.qZA()()(),u.TgZ(41,"div",14)(42,"div",15),u._UZ(43,"img",19),u.qZA(),u.TgZ(44,"div",17)(45,"h2",18)(46,"small"),u._uU(47,"#"),u.qZA(),u._uU(48,"2"),u.qZA(),u.TgZ(49,"h4"),u._uU(50,"Sarah Noah"),u.qZA(),u.TgZ(51,"p"),u._uU(52,"Digital Marketing"),u.qZA()()(),u.TgZ(53,"div",14)(54,"div",15),u._UZ(55,"img",20),u.qZA(),u.TgZ(56,"div",17)(57,"h2",18)(58,"small"),u._uU(59,"#"),u.qZA(),u._uU(60,"3"),u.qZA(),u.TgZ(61,"h4"),u._uU(62,"Elizabeth Brown"),u.qZA(),u.TgZ(63,"p"),u._uU(64,"Front-end Developer"),u.qZA()()(),u.TgZ(65,"div",14)(66,"div",15),u._UZ(67,"img",21),u.qZA(),u.TgZ(68,"div",17)(69,"h2",18)(70,"small"),u._uU(71,"#"),u.qZA(),u._uU(72,"4"),u.qZA(),u.TgZ(73,"h4"),u._uU(74,"Jack Json"),u.qZA(),u.TgZ(75,"p"),u._uU(76,"Back-end Developer"),u.qZA()()(),u.TgZ(77,"div",14)(78,"div",15),u._UZ(79,"img",22),u.qZA(),u.TgZ(80,"div",17)(81,"h2",18)(82,"small"),u._uU(83,"#"),u.qZA(),u._uU(84,"5"),u.qZA(),u.TgZ(85,"h4"),u._uU(86,"Jennifer Lopez"),u.qZA(),u.TgZ(87,"p"),u._uU(88,"UI/UX Designer"),u.qZA()()(),u.TgZ(89,"div",14)(90,"div",15),u._UZ(91,"img",22),u.qZA(),u.TgZ(92,"div",17)(93,"h2",18)(94,"small"),u._uU(95,"#"),u.qZA(),u._uU(96,"5"),u.qZA(),u.TgZ(97,"h4"),u._uU(98,"Jennifer Lopez"),u.qZA(),u.TgZ(99,"p"),u._uU(100,"UI/UX Designer"),u.qZA()()(),u.TgZ(101,"div",14)(102,"div",15),u._UZ(103,"img",22),u.qZA(),u.TgZ(104,"div",17)(105,"h2",18)(106,"small"),u._uU(107,"#"),u.qZA(),u._uU(108,"5"),u.qZA(),u.TgZ(109,"h4"),u._uU(110,"Jennifer Lopez"),u.qZA(),u.TgZ(111,"p"),u._uU(112,"UI/UX Designer"),u.qZA()()(),u.TgZ(113,"div",14)(114,"div",15),u._UZ(115,"img",22),u.qZA(),u.TgZ(116,"div",17)(117,"h2",18)(118,"small"),u._uU(119,"#"),u.qZA(),u._uU(120,"5"),u.qZA(),u.TgZ(121,"h4"),u._uU(122,"Jennifer Lopez"),u.qZA(),u.TgZ(123,"p"),u._uU(124,"UI/UX Designer"),u.qZA()()(),u.TgZ(125,"div",14)(126,"div",15),u._UZ(127,"img",22),u.qZA(),u.TgZ(128,"div",17)(129,"h2",18)(130,"small"),u._uU(131,"#"),u.qZA(),u._uU(132,"5"),u.qZA(),u.TgZ(133,"h4"),u._uU(134,"Jennifer Lopez"),u.qZA(),u.TgZ(135,"p"),u._uU(136,"UI/UX Designer"),u.qZA()()()()()()(),u.TgZ(137,"div",8)(138,"div",23)(139,"button",24),u._uU(140,"prev"),u.qZA()(),u.TgZ(141,"div",23)(142,"button",25),u._uU(143,"next"),u.qZA()()()(),u.TgZ(144,"app-progress-step")(145,"h1"),u._uU(146,"step 3"),u.qZA(),u._UZ(147,"app-calendar"),u.TgZ(148,"button",26),u._uU(149,"prev"),u.qZA(),u.TgZ(150,"button",27),u._uU(151,"next"),u.qZA()(),u.TgZ(152,"app-progress-step")(153,"h1"),u._uU(154,"step 4"),u.qZA(),u.TgZ(155,"p"),u._uU(156," Lorem ipsum dolor sit amet consectetur, adipisicing elit. Assumenda sint consectetur est quos voluptatem eveniet sed maxime exercitationem officia. "),u.qZA(),u.TgZ(157,"button",26),u._uU(158,"prev"),u.qZA(),u.TgZ(159,"button",27),u._uU(160,"next"),u.qZA()()()}},directives:[J2,Ck,qf,Ov,X2,aU],styles:['.input[_ngcontent-%COMP%]{outline:none;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;color:#0009;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;transition:.3s ease}input[_ngcontent-%COMP%]{outline:none;display:block;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;color:#0009;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;transition:.3s ease}button[_ngcontent-%COMP%]{outline:none;width:100%;border:0;border-radius:4px;padding:12px 20px;background:#FFFFFF;color:#4285f4;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;text-transform:uppercase;cursor:pointer}label[_ngcontent-%COMP%]{display:block;margin:0 0 10px;color:#4285f4;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;letter-spacing:.2em}h1[_ngcontent-%COMP%]{padding:4px 0;position:relative;z-index:40;color:#4285f4;font-size:24px;font-weight:700;text-transform:uppercase}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]{display:block;color:#dbdbdb;cursor:pointer;text-align:left;background:rgba(0,0,0,.1);overflow:hidden;position:relative;border-radius:6px}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   .file-select-button[_ngcontent-%COMP%]{background:rgba(0,0,0,.1);padding:10px;display:inline-block}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   .file-select-name[_ngcontent-%COMP%]{display:inline-block;padding:10px}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]:hover{background:#FFFFFF;color:#0009;transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]:hover   .file-select-button[_ngcontent-%COMP%]{background:rgba(66,133,244,.5);color:#fff;transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}.test[_ngcontent-%COMP%]{background:rgba(66,133,244,.5)}.list[_ngcontent-%COMP%]{min-width:425px;overflow:auto;height:450px;box-shadow:0 35px 50px #0000001a;background:#00bcd4;overflow-x:hidden}.list[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;right:0;width:calc(100% - 75px);height:100%;background:#fff}.list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{position:relative;color:#333;font-size:1.5rem;margin-bottom:20px;padding-left:70px}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;padding:10px;margin:10px 0;cursor:pointer}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;background:#00bcd4;transform:scaleX(0);transform-origin:right;transition:transform .5s}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover:before{transform:scaleX(1);transform-origin:left;transition:transform .5s}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]{position:relative;min-width:70px;height:70px;background:#fff;overflow:hidden;border:6px solid #fff;box-shadow:5px 5px 15px #0000001a;margin-right:20px;margin-left:10px}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center;width:100%;color:#333}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{position:absolute;right:0;font-size:2rem;color:#fff;transform:scale(0);transition:.5s}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-weight:500;opacity:.5}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover   .content[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{transform:scale(1)}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600;line-height:1.2rem;text-transform:uppercase;transition:.5s}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.8;transition:.5s}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover   .content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}']}),n})()}];let uU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ob.forRoot(lU)],ob]}),n})();function cU(n,e){if(1&n&&u._UZ(0,"img",25),2&n){const t=u.oxw().ngIf;u.Q6J("src",t.pathImg,u.LSH)}}function dU(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"a",16),u.YNc(4,cU,1,1,"img",17),u.qZA(),u.TgZ(5,"div",18)(6,"button",19),u._uU(7,"User Account"),u.qZA(),u._UZ(8,"div",20),u.TgZ(9,"button",21),u.NdJ("click",function(){return u.CHM(t),u.oxw().onLogout()}),u._uU(10,"Log Out"),u.qZA()()()(),u.TgZ(11,"div",22)(12,"div",23),u._uU(13),u.qZA(),u.TgZ(14,"div",24),u._uU(15),u.qZA()()()}if(2&n){const t=e.ngIf;u.xp6(4),u.Q6J("ngIf",t.pathImg),u.xp6(9),u.AsE(" ",t.nombre," ",t.apellido," "),u.xp6(2),u.hij(" ",t.email," ")}}let hU=(()=>{class n{constructor(t){this.auth=t}ngOnInit(){this.$user=this.auth.userObs}onLogout(){this.auth.logout().then(()=>{this.auth.refreshData(null)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(pc))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:15,vars:3,consts:[[1,"app-header","header-shadow",2,"background-image","radial-gradient(circle 248px at center,#46aef7 0%,#30c7ec 47%,#4285F4 100%)!important"],[1,"app-header__logo"],["src","../assets/logo.png",1,"logo"],[1,"app-header__mobile-menu"],["type","button",1,"hamburger","hamburger--elastic","mobile-toggle-nav"],[1,"hamburger-box"],[1,"hamburger-inner"],[1,"app-header__content"],[1,"app-header-left"],[1,"app-header-right"],[1,"header-btn-lg","pr-0"],[1,"widget-content","p-0"],["class","widget-content-wrapper",4,"ngIf"],[1,"widget-content-wrapper"],[1,"widget-content-left"],[1,"btn-group"],["data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"p-0","btn"],["alt","","class","rounded-circle","width","42",3,"src",4,"ngIf"],["role","menu","aria-hidden","true",1,"dropdown-menu","dropdown-menu-right"],["type","button",1,"dropdown-item"],[1,"dropdown-divider"],["type","button",1,"dropdown-item","dropdown-header",3,"click"],[1,"widget-content-left","ml-3","header-user-info"],[1,"widget-heading"],[1,"widget-subheading"],["alt","","width","42",1,"rounded-circle",3,"src"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"img",2),u.qZA(),u.TgZ(3,"div",3)(4,"div")(5,"button",4)(6,"span",5),u._UZ(7,"span",6),u.qZA()()()(),u.TgZ(8,"div",7),u._UZ(9,"div",8),u.TgZ(10,"div",9)(11,"div",10)(12,"div",11),u.YNc(13,dU,16,4,"div",12),u.ALo(14,"async"),u.qZA()()()()()),2&t&&(u.xp6(13),u.Q6J("ngIf",u.lcZ(14,1,r.$user)))},directives:[gn],pipes:[Oa],styles:[".logo[_ngcontent-%COMP%]{height:50px;width:130px;background-repeat:no-repeat;background-size:cover}img[_ngcontent-%COMP%]{width:50px;height:50px}.dropdown-header[_ngcontent-%COMP%]{color:#dc3545}"]}),n})();const fU=function(){return["Usuarios"]};function pU(n,e){1&n&&(u.TgZ(0,"div")(1,"li",14),u._uU(2,"Usuarios"),u.qZA(),u.TgZ(3,"li")(4,"a",15),u._UZ(5,"i",16),u._uU(6," Administrar "),u.qZA()()()),2&n&&(u.xp6(4),u.Q6J("routerLink",u.DdM(1,fU)))}function gU(n,e){if(1&n&&(u.TgZ(0,"div",1)(1,"div",2)(2,"div")(3,"button",3)(4,"span",4),u._UZ(5,"span",5),u.qZA()()()(),u.TgZ(6,"div",6)(7,"span")(8,"button",7)(9,"span",8),u._UZ(10,"i",9),u.qZA()()()(),u.TgZ(11,"div",10)(12,"div",11)(13,"ul",12),u.YNc(14,pU,7,2,"div",13),u.qZA()()()()),2&n){const t=e.ngIf;u.xp6(14),u.Q6J("ngIf","administrador"==t.rol)}}let mU=(()=>{class n{constructor(t){this.auth=t}ngOnInit(){this.$user=this.auth.userObs}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(pc))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-sidebar"]],decls:2,vars:3,consts:[["class","app-sidebar sidebar-shadow",4,"ngIf"],[1,"app-sidebar","sidebar-shadow"],[1,"app-header__mobile-menu"],["type","button",1,"hamburger","hamburger--elastic","mobile-toggle-nav"],[1,"hamburger-box"],[1,"hamburger-inner"],[1,"app-header__menu"],["type","button",1,"btn-icon","btn-icon-only","btn","btn-primary","btn-sm","mobile-toggle-header-nav"],[1,"btn-icon-wrapper"],[1,"fa","fa-ellipsis-v","fa-w-6"],[1,"scrollbar-sidebar"],[1,"app-sidebar__inner"],[1,"vertical-nav-menu"],[4,"ngIf"],[1,"app-sidebar__heading"],["routerLinkActive","mm-active",3,"routerLink"],[1,"metismenu-icon","pe-7s-diamond"]],template:function(t,r){1&t&&(u.YNc(0,gU,15,1,"div",0),u.ALo(1,"async")),2&t&&u.Q6J("ngIf",u.lcZ(1,1,r.$user))},directives:[gn,Ja,eb],pipes:[Oa],styles:[""]}),n})(),_U=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-main"]],decls:7,vars:0,consts:[[1,"app-container","app-theme-white","body-tabs-shadow","fixed-sidebar","fixed-header","closed-sidebar"],[1,"app-main"],[1,"app-main__outer"],[1,"app-main__inner"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"app-navbar"),u.TgZ(2,"div",1),u._UZ(3,"app-sidebar"),u.TgZ(4,"div",2)(5,"div",3),u._UZ(6,"router-outlet"),u.qZA()()()())},directives:[hU,mU,sc],styles:[""]}),n})(),yU=(()=>{class n{constructor(){this.title="TP-Final"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"app-main")},directives:[_U],styles:[""]}),n})();const Qt=!1;function Bk(n){return new u.vHH(3e3,Qt)}function JU(){return"undefined"!=typeof window&&void 0!==window.document}function ux(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function jh(n){switch(n.length){case 0:return new $w;case 1:return n[0];default:return new xk(n)}}function jk(n,e,t,r,i={},a={}){const d=[],f=[];let _=-1,E=null;if(r.forEach(D=>{const x=D.offset,N=x==_,V=N&&E||{};Object.keys(D).forEach(B=>{let re=B,we=D[B];if("offset"!==B)switch(re=e.normalizePropertyName(re,d),we){case"!":we=i[B];break;case rd:we=a[B];break;default:we=e.normalizeStyleValue(B,re,we,d)}V[re]=we}),N||f.push(V),E=V,_=x}),d.length)throw function jU(n){return new u.vHH(3502,Qt)}();return f}function cx(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&dx(t,"start",n)));break;case"done":n.onDone(()=>r(t&&dx(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&dx(t,"destroy",n)))}}function dx(n,e,t){const r=t.totalTime,a=hx(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),d=n._data;return null!=d&&(a._data=d),a}function hx(n,e,t,r,i="",a=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!d}}function jo(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function Hk(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let fx=(n,e)=>!1,$k=(n,e,t)=>[],qk=null;function px(n){const e=n.parentNode||n.host;return e===qk?null:e}(ux()||"undefined"!=typeof Element)&&(JU()?(qk=(()=>document.documentElement)(),fx=(n,e)=>{for(;e;){if(e===n)return!0;e=px(e)}return!1}):fx=(n,e)=>n.contains(e),$k=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let lg=null,Gk=!1;function Zk(n){lg||(lg=function eB(){return"undefined"!=typeof document?document.body:null}()||{},Gk=!!lg.style&&"WebkitAppearance"in lg.style);let e=!0;return lg.style&&!function XU(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in lg.style,!e&&Gk&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in lg.style)),e}const zk=fx,Wk=$k;let Kk=(()=>{class n{validateStyleProperty(t){return Zk(t)}matchesElement(t,r){return!1}containsElement(t,r){return zk(t,r)}getParentElement(t){return px(t)}query(t,r,i){return Wk(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,d,f=[],_){return new $w(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),gx=(()=>{class n{}return n.NOOP=new Kk,n})();const mx="ng-enter",OI="ng-leave",RI="ng-trigger",NI=".ng-trigger",Qk="ng-animating",_x=".ng-animating";function ug(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:yx(parseFloat(e[1]),e[2])}function yx(n,e){return"s"===e?1e3*n:n}function FI(n,e,t){return n.hasOwnProperty("duration")?n:function rB(n,e,t){let i,a=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(Bk()),{duration:0,delay:0,easing:""};i=yx(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=yx(parseFloat(_),f[4]));const E=f[5];E&&(d=E)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function vU(){return new u.vHH(3100,Qt)}()),f=!0),a<0&&(e.push(function wU(){return new u.vHH(3101,Qt)}()),f=!0),f&&e.splice(_,0,Bk())}return{duration:i,delay:a,easing:d}}(n,e,t)}function fy(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Hh(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else fy(n,t);return t}function Xk(n,e,t){return t?e+":"+t+";":""}function eO(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Xk(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Xk(0,oB(t),n.style[t]));n.setAttribute("style",e)}function Su(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=wx(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),ux()&&eO(n))}function cg(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=wx(t);n.style[r]=""}),ux()&&eO(n))}function qw(n){return Array.isArray(n)?1==n.length?n[0]:Sk(n):n}const vx=new RegExp("{{\\s*(.+?)\\s*}}","g");function tO(n){let e=[];if("string"==typeof n){let t;for(;t=vx.exec(n);)e.push(t[1]);vx.lastIndex=0}return e}function LI(n,e,t){const r=n.toString(),i=r.replace(vx,(a,d)=>{let f=e[d];return e.hasOwnProperty(d)||(t.push(function EU(n){return new u.vHH(3003,Qt)}()),f=""),f.toString()});return i==r?n:i}function VI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const sB=/-+([a-z0-9])/g;function wx(n){return n.replace(sB,(...e)=>e[1].toUpperCase())}function oB(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ho(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function CU(n){return new u.vHH(3004,Qt)}()}}function nO(n,e){return window.getComputedStyle(n)[e]}function hB(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function fB(n,e,t){if(":"==n[0]){const _=function pB(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function LU(n){return new u.vHH(3016,Qt)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function FU(n){return new u.vHH(3015,Qt)}()),e;const i=r[1],a=r[2],d=r[3];e.push(rO(i,d));"<"==a[0]&&!("*"==i&&"*"==d)&&e.push(rO(d,i))}(r,t,e)):t.push(n),t}const HI=new Set(["true","1"]),$I=new Set(["false","0"]);function rO(n,e){const t=HI.has(n)||$I.has(n),r=HI.has(e)||$I.has(e);return(i,a)=>{let d="*"==n||n==i,f="*"==e||e==a;return!d&&t&&"boolean"==typeof i&&(d=i?HI.has(n):$I.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?HI.has(e):$I.has(e)),d&&f}}const gB=new RegExp("s*:selfs*,?","g");function bx(n,e,t,r){return new mB(n).build(e,t,r)}class mB{constructor(e){this._driver=e}build(e,t,r){const i=new vB(t);this._resetContextStyleTimingState(i);const a=Ho(this,qw(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function TU(){return new u.vHH(3006,Qt)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,E=_.name;E.toString().split(/\s*,\s*/).forEach(D=>{_.name=D,a.push(this.visitState(_,t))}),_.name=E}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,d.push(_)}else t.errors.push(function DU(){return new u.vHH(3007,Qt)}())}),{type:7,name:e.name,states:a,transitions:d,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,d=i||{};r.styles.forEach(f=>{if(qI(f)){const _=f;Object.keys(_).forEach(E=>{tO(_[E]).forEach(D=>{d.hasOwnProperty(D)||a.add(D)})})}}),a.size&&(VI(a.values()),t.errors.push(function SU(n,e){return new u.vHH(3008,Qt)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ho(this,qw(e.animation),t);return{type:1,matchers:hB(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:dg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ho(this,r,t)),options:dg(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(d=>{t.currentTime=r;const f=Ho(this,d,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:dg(e.options)}}visitAnimate(e,t){const r=function bB(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Ex(FI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Ex(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=FI(t,e);return Ex(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Bh({});if(5==a.type)i=this.visitKeyframes(a,t);else{let d=e.styles,f=!1;if(!d){f=!0;const E={};r.easing&&(E.easing=r.easing),d=Bh(E)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(d,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==rd?r.push(d):t.errors.push(function AU(n){return new u.vHH(3002,Qt)}()):r.push(d)}):r.push(e.styles);let i=!1,a=null;return r.forEach(d=>{if(qI(d)){const f=d,_=f.easing;if(_&&(a=_,delete f.easing),!i)for(let E in f)if(f[E].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete d[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],E=_[f];let D=!0;E&&(a!=i&&a>=E.startTime&&i<=E.endTime&&(t.errors.push(function xU(n,e,t,r,i){return new u.vHH(3010,Qt)}()),D=!1),a=E.startTime),D&&(_[f]={startTime:a,endTime:i}),t.options&&function iB(n,e,t){const r=e.params||{},i=tO(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function bU(n){return new u.vHH(3001,Qt)}())})}(d[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function MU(){return new u.vHH(3011,Qt)}()),r;let a=0;const d=[];let f=!1,_=!1,E=0;const D=e.steps.map(rt=>{const it=this._makeStyleAst(rt,t);let Ze=null!=it.offset?it.offset:function wB(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(qI(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(qI(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(it.styles),je=0;return null!=Ze&&(a++,je=it.offset=Ze),_=_||je<0||je>1,f=f||je<E,E=je,d.push(je),it});_&&t.errors.push(function PU(){return new u.vHH(3012,Qt)}()),f&&t.errors.push(function kU(){return new u.vHH(3200,Qt)}());const x=e.steps.length;let N=0;a>0&&a<x?t.errors.push(function OU(){return new u.vHH(3202,Qt)}()):0==a&&(N=1/(x-1));const V=x-1,B=t.currentTime,re=t.currentAnimateTimings,we=re.duration;return D.forEach((rt,it)=>{const Ze=N>0?it==V?1:N*it:d[it],je=Ze*we;t.currentTime=B+re.delay+je,re.duration=je,this._validateStyleAst(rt,t),rt.offset=Ze,r.styles.push(rt)}),r}visitReference(e,t){return{type:8,animation:Ho(this,qw(e.animation),t),options:dg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:dg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:dg(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,d]=function _B(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(gB,"")),n=n.replace(/@\*/g,NI).replace(/@\w+/g,t=>NI+"-"+t.substr(1)).replace(/:animating/g,_x),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,jo(t.collectedStyles,t.currentQuerySelector,{});const f=Ho(this,qw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:f,originalSelector:e.selector,options:dg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function RU(){return new u.vHH(3013,Qt)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:FI(e.timings,t.errors,!0);return{type:12,animation:Ho(this,qw(e.animation),t),timings:r,options:null}}}class vB{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function qI(n){return!Array.isArray(n)&&"object"==typeof n}function dg(n){return n?(n=fy(n)).params&&(n.params=function yB(n){return n?fy(n):null}(n.params)):n={},n}function Ex(n,e,t){return{duration:n,delay:e,easing:t}}function Cx(n,e,t,r,i,a,d=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:d,subTimeline:f}}class GI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const IB=new RegExp(":enter","g"),DB=new RegExp(":leave","g");function Ix(n,e,t,r,i,a={},d={},f,_,E=[]){return(new SB).buildKeyframes(n,e,t,r,i,a,d,f,_,E)}class SB{buildKeyframes(e,t,r,i,a,d,f,_,E,D=[]){E=E||new GI;const x=new Tx(e,t,E,i,a,D,[]);x.options=_,x.currentTimeline.setStyles([d],null,x.errors,_),Ho(this,r,x);const N=x.timelines.filter(V=>V.containsAnimation());if(Object.keys(f).length){let V;for(let B=N.length-1;B>=0;B--){const re=N[B];if(re.element===t){V=re;break}}V&&!V.allowOnlyTimelineStyles()&&V.setStyles([f],null,x.errors,_)}return N.length?N.map(V=>V.buildKeyframes()):[Cx(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);a!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const d=null!=r.duration?ug(r.duration):null,f=null!=r.delay?ug(r.delay):null;return 0!==d&&e.forEach(_=>{const E=t.appendInstructionToTimeline(_,d,f);a=Math.max(a,E.duration+E.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Ho(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ZI);const d=ug(a.delay);i.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>Ho(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?ug(e.options.delay):0;e.steps.forEach(d=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Ho(this,d,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return FI(t.params?LI(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?ug(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ZI);let d=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((E,D)=>{t.currentQueryIndex=D;const x=t.createSubContext(e.options,E);a&&x.delayNextStep(a),E===t.element&&(_=x.currentTimeline),Ho(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,d=Math.abs(a.duration),f=d*(t.currentQueryTotal-1);let _=d*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const D=t.currentTimeline;_&&D.delayNextStep(_);const x=D.currentTime;Ho(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-x+(i.startTime-r.currentTimeline.startTime)}}const ZI={};class Tx{constructor(e,t,r,i,a,d,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ZI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new zI(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ug(r.duration)),null!=r.delay&&(i.delay=ug(r.delay));const a=r.params;if(a){let d=i.params;d||(d=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!d.hasOwnProperty(f))&&(d[f]=LI(a[f],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new Tx(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=ZI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new AB(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,d){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(IB,"."+this._enterClassName)).replace(DB,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=r);0!==r&&(E=r<0?E.slice(E.length+r,E.length):E.slice(0,r)),f.push(...E)}return!a&&0==f.length&&d.push(function NU(n){return new u.vHH(3014,Qt)}()),f}}class zI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new zI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||rd,this._currentKeyframe[t]=rd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},d=function xB(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=rd})):Hh(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(f=>{const _=LI(d[f],a,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:rd),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const E=Hh(f,!0);Object.keys(E).forEach(D=>{const x=E[D];"!"==x?e.add(D):x==rd&&t.add(D)}),r||(E.offset=_/this.duration),i.push(E)});const a=e.size?VI(e.values()):[],d=t.size?VI(t.values()):[];if(r){const f=i[0],_=fy(f);f.offset=0,_.offset=1,i=[f,_]}return Cx(this.element,i,a,d,this.duration,this.startTime,this.easing,!1)}}class AB extends zI{constructor(e,t,r,i,a,d,f=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],d=r+t,f=t/d,_=Hh(e[0],!1);_.offset=0,a.push(_);const E=Hh(e[0],!1);E.offset=oO(f),a.push(E);const D=e.length-1;for(let x=1;x<=D;x++){let N=Hh(e[x],!1);N.offset=oO((t+N.offset*r)/d),a.push(N)}r=d,t=0,i="",e=a}return Cx(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function oO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Dx{}class MB extends Dx{normalizePropertyName(e,t){return wx(e)}normalizeStyleValue(e,t,r,i){let a="";const d=r.toString().trim();if(PB[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function IU(n,e){return new u.vHH(3005,Qt)}())}return d+a}}const PB=(()=>function kB(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function aO(n,e,t,r,i,a,d,f,_,E,D,x,N){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:d,timelines:f,queriedElements:_,preStyleProps:E,postStyleProps:D,totalTime:x,errors:N}}const Sx={};class lO{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function OB(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],d=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):d}build(e,t,r,i,a,d,f,_,E,D){const x=[],N=this.ast.options&&this.ast.options.params||Sx,B=this.buildStyles(r,f&&f.params||Sx,x),re=_&&_.params||Sx,we=this.buildStyles(i,re,x),rt=new Set,it=new Map,Ze=new Map,je="void"===i,vt={params:Object.assign(Object.assign({},N),re)},Ct=D?[]:Ix(e,t,this.ast.animation,a,d,B,we,vt,E,x);let $t=0;if(Ct.forEach($n=>{$t=Math.max($n.duration+$n.delay,$t)}),x.length)return aO(t,this._triggerName,r,i,je,B,we,[],[],it,Ze,$t,x);Ct.forEach($n=>{const Fs=$n.element,TO=jo(it,Fs,{});$n.preStyleProps.forEach(hg=>TO[hg]=!0);const Zw=jo(Ze,Fs,{});$n.postStyleProps.forEach(hg=>Zw[hg]=!0),Fs!==t&&rt.add(Fs)});const hn=VI(rt.values());return aO(t,this._triggerName,r,i,je,B,we,Ct,hn,it,Ze,$t)}}class RB{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=fy(this.defaultParams);return Object.keys(e).forEach(a=>{const d=e[a];null!=d&&(i[a]=d)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const d=a;Object.keys(d).forEach(f=>{let _=d[f];_.length>1&&(_=LI(_,i,t));const E=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,E,_,t),r[E]=_})}}),r}}class FB{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new RB(i.style,i.options&&i.options.params||{},r)}),uO(this.states,"true","1"),uO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new lO(e,i,this.states))}),this.fallbackTransition=function LB(n,e,t){return new lO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(d=>d.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function uO(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const VB=new GI;class UB{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=bx(this._driver,t,r,[]);if(r.length)throw function HU(n){return new u.vHH(3503,Qt)}();this._animations[e]=a}_buildPlayer(e,t,r){const i=e.element,a=jk(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let d;const f=new Map;if(a?(d=Ix(this._driver,t,a,mx,OI,{},{},r,VB,i),d.forEach(D=>{const x=jo(f,D.element,{});D.postStyleProps.forEach(N=>x[N]=null)})):(i.push(function $U(){return new u.vHH(3300,Qt)}()),d=[]),i.length)throw function qU(n){return new u.vHH(3504,Qt)}();f.forEach((D,x)=>{Object.keys(D).forEach(N=>{D[N]=this._driver.computeStyle(x,N,rd)})});const E=jh(d.map(D=>{const x=f.get(D.element);return this._buildPlayer(D,{},x)}));return this._playersById[e]=E,E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function GU(n){return new u.vHH(3301,Qt)}();return t}listen(e,t,r,i){const a=hx(t,"","","");return cx(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const cO="ng-animate-queued",Ax="ng-animate-disabled",qB=[],dO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},GB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Da="__ng_removed";class xx{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function KB(n){return null!=n?n:null}(r?e.value:e),r){const a=fy(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Gw="void",Mx=new xx(Gw);class ZB{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Sa(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function ZU(n,e){return new u.vHH(3302,Qt)}();if(null==r||0==r.length)throw function zU(n){return new u.vHH(3303,Qt)}();if(!function YB(n){return"start"==n||"done"==n}(r))throw function WU(n,e){return new u.vHH(3400,Qt)}();const a=jo(this._elementListeners,e,[]),d={name:t,phase:r,callback:i};a.push(d);const f=jo(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Sa(e,RI),Sa(e,RI+"-"+t),f[t]=Mx),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(d);_>=0&&a.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function KU(n){return new u.vHH(3401,Qt)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),d=new Px(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Sa(e,RI),Sa(e,RI+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const E=new xx(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&E.absorbOptions(_.options),f[t]=E,_||(_=Mx),E.value!==Gw&&_.value===E.value){if(!function XB(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,E.params)){const re=[],we=a.matchStyles(_.value,_.params,re),rt=a.matchStyles(E.value,E.params,re);re.length?this._engine.reportError(re):this._engine.afterFlush(()=>{cg(e,we),Su(e,rt)})}return}const N=jo(this._engine.playersByElement,e,[]);N.forEach(re=>{re.namespaceId==this.id&&re.triggerName==t&&re.queued&&re.destroy()});let V=a.matchTransition(_.value,E.value,e,E.params),B=!1;if(!V){if(!i)return;V=a.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:_,toState:E,player:d,isFallbackTransition:B}),B||(Sa(e,cO),d.onStart(()=>{py(e,cO)})),d.onDone(()=>{let re=this.players.indexOf(d);re>=0&&this.players.splice(re,1);const we=this._engine.playersByElement.get(e);if(we){let rt=we.indexOf(d);rt>=0&&we.splice(rt,1)}}),this.players.push(d),N.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,NI,!0);r.forEach(i=>{if(i[Da])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(d=>d.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),d=new Map;if(a){const f=[];if(Object.keys(a).forEach(_=>{if(d.set(_,a[_].value),this._triggers[_]){const E=this.trigger(e,_,Gw,i);E&&f.push(E)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&jh(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const d=a.name;if(i.has(d))return;i.add(d);const _=this._triggers[d].fallbackTransition,E=r[d]||Mx,D=new xx(Gw),x=new Px(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:_,fromState:E,toState:D,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Da];(!a||a===dO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Sa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,d=this._elementListeners.get(a);d&&d.forEach(f=>{if(f.name==r.triggerName){const _=hx(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,cx(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==a||0==d?a-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class zB{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new ZB(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,a=r.length-1;if(a>=0){let d=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const E=r.indexOf(_);r.splice(E+1,0,e),d=!0;break}f=this.driver.getParentElement(f)}}else for(let f=a;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),d=!0;break}d||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const d=r[i[a]].namespaceId;if(d){const f=this._fetchNamespace(d);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(WI(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!WI(t))return;const a=t[Da];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Sa(e,Ax)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),py(e,Ax))}removeNode(e,t,r,i){if(WI(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Da]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return WI(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,NI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,_x,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return jh(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Da];if(r&&r.setForRemoval){if(e[Da]=dO,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(Ax))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Sa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?jh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function YU(n){return new u.vHH(3402,Qt)}()}_flushAnimations(e,t){const r=new GI,i=[],a=new Map,d=[],f=new Map,_=new Map,E=new Map,D=new Set;this.disabledNodes.forEach(dt=>{D.add(dt);const Dt=this.driver.query(dt,".ng-animate-queued",!0);for(let Nt=0;Nt<Dt.length;Nt++)D.add(Dt[Nt])});const x=this.bodyNode,N=Array.from(this.statesByElement.keys()),V=pO(N,this.collectedEnterElements),B=new Map;let re=0;V.forEach((dt,Dt)=>{const Nt=mx+re++;B.set(Dt,Nt),dt.forEach(sn=>Sa(sn,Nt))});const we=[],rt=new Set,it=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const Dt=this.collectedLeaveElements[dt],Nt=Dt[Da];Nt&&Nt.setForRemoval&&(we.push(Dt),rt.add(Dt),Nt.hasAnimation?this.driver.query(Dt,".ng-star-inserted",!0).forEach(sn=>rt.add(sn)):it.add(Dt))}const Ze=new Map,je=pO(N,Array.from(rt));je.forEach((dt,Dt)=>{const Nt=OI+re++;Ze.set(Dt,Nt),dt.forEach(sn=>Sa(sn,Nt))}),e.push(()=>{V.forEach((dt,Dt)=>{const Nt=B.get(Dt);dt.forEach(sn=>py(sn,Nt))}),je.forEach((dt,Dt)=>{const Nt=Ze.get(Dt);dt.forEach(sn=>py(sn,Nt))}),we.forEach(dt=>{this.processLeaveNode(dt)})});const vt=[],Ct=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(t).forEach(Nt=>{const sn=Nt.player,Di=Nt.element;if(vt.push(sn),this.collectedEnterElements.length){const Ls=Di[Da];if(Ls&&Ls.setForMove){if(Ls.previousTriggersValues&&Ls.previousTriggersValues.has(Nt.triggerName)){const fg=Ls.previousTriggersValues.get(Nt.triggerName),qh=this.statesByElement.get(Nt.element);qh&&qh[Nt.triggerName]&&(qh[Nt.triggerName].value=fg)}return void sn.destroy()}}const Au=!x||!this.driver.containsElement(x,Di),$o=Ze.get(Di),$h=B.get(Di),ar=this._buildInstruction(Nt,r,$h,$o,Au);if(ar.errors&&ar.errors.length)return void Ct.push(ar);if(Au)return sn.onStart(()=>cg(Di,ar.fromStyles)),sn.onDestroy(()=>Su(Di,ar.toStyles)),void i.push(sn);if(Nt.isFallbackTransition)return sn.onStart(()=>cg(Di,ar.fromStyles)),sn.onDestroy(()=>Su(Di,ar.toStyles)),void i.push(sn);const AO=[];ar.timelines.forEach(Ls=>{Ls.stretchStartingKeyframe=!0,this.disabledNodes.has(Ls.element)||AO.push(Ls)}),ar.timelines=AO,r.append(Di,ar.timelines),d.push({instruction:ar,player:sn,element:Di}),ar.queriedElements.forEach(Ls=>jo(f,Ls,[]).push(sn)),ar.preStyleProps.forEach((Ls,fg)=>{const qh=Object.keys(Ls);if(qh.length){let pg=_.get(fg);pg||_.set(fg,pg=new Set),qh.forEach(Ox=>pg.add(Ox))}}),ar.postStyleProps.forEach((Ls,fg)=>{const qh=Object.keys(Ls);let pg=E.get(fg);pg||E.set(fg,pg=new Set),qh.forEach(Ox=>pg.add(Ox))})});if(Ct.length){const dt=[];Ct.forEach(Dt=>{dt.push(function QU(n,e){return new u.vHH(3505,Qt)}())}),vt.forEach(Dt=>Dt.destroy()),this.reportError(dt)}const $t=new Map,hn=new Map;d.forEach(dt=>{const Dt=dt.element;r.has(Dt)&&(hn.set(Dt,Dt),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,$t))}),i.forEach(dt=>{const Dt=dt.element;this._getPreviousPlayers(Dt,!1,dt.namespaceId,dt.triggerName,null).forEach(sn=>{jo($t,Dt,[]).push(sn),sn.destroy()})});const $n=we.filter(dt=>mO(dt,_,E)),Fs=new Map;fO(Fs,this.driver,it,E,rd).forEach(dt=>{mO(dt,_,E)&&$n.push(dt)});const Zw=new Map;V.forEach((dt,Dt)=>{fO(Zw,this.driver,new Set(dt),_,"!")}),$n.forEach(dt=>{const Dt=Fs.get(dt),Nt=Zw.get(dt);Fs.set(dt,Object.assign(Object.assign({},Dt),Nt))});const hg=[],DO=[],SO={};d.forEach(dt=>{const{element:Dt,player:Nt,instruction:sn}=dt;if(r.has(Dt)){if(D.has(Dt))return Nt.onDestroy(()=>Su(Dt,sn.toStyles)),Nt.disabled=!0,Nt.overrideTotalTime(sn.totalTime),void i.push(Nt);let Di=SO;if(hn.size>1){let $o=Dt;const $h=[];for(;$o=$o.parentNode;){const ar=hn.get($o);if(ar){Di=ar;break}$h.push($o)}$h.forEach(ar=>hn.set(ar,Di))}const Au=this._buildAnimation(Nt.namespaceId,sn,$t,a,Zw,Fs);if(Nt.setRealPlayer(Au),Di===SO)hg.push(Nt);else{const $o=this.playersByElement.get(Di);$o&&$o.length&&(Nt.parentPlayer=jh($o)),i.push(Nt)}}else cg(Dt,sn.fromStyles),Nt.onDestroy(()=>Su(Dt,sn.toStyles)),DO.push(Nt),D.has(Dt)&&i.push(Nt)}),DO.forEach(dt=>{const Dt=a.get(dt.element);if(Dt&&Dt.length){const Nt=jh(Dt);dt.setRealPlayer(Nt)}}),i.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<we.length;dt++){const Dt=we[dt],Nt=Dt[Da];if(py(Dt,OI),Nt&&Nt.hasAnimation)continue;let sn=[];if(f.size){let Au=f.get(Dt);Au&&Au.length&&sn.push(...Au);let $o=this.driver.query(Dt,_x,!0);for(let $h=0;$h<$o.length;$h++){let ar=f.get($o[$h]);ar&&ar.length&&sn.push(...ar)}}const Di=sn.filter(Au=>!Au.destroyed);Di.length?QB(this,Dt,Di):this.processLeaveNode(Dt)}return we.length=0,hg.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const Dt=this.players.indexOf(dt);this.players.splice(Dt,1)}),dt.play()}),hg}elementContainsData(e,t){let r=!1;const i=t[Da];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let d=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(d=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==Gw;f.forEach(E=>{E.queued||!_&&E.triggerName!=i||d.push(E)})}}return(r||i)&&(d=d.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),d}_beforeAnimationBuild(e,t,r){const a=t.element,d=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const E=_.element,D=E!==a,x=jo(r,E,[]);this._getPreviousPlayers(E,D,d,f,t.toState).forEach(V=>{const B=V.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),V.destroy(),x.push(V)})}cg(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,d){const f=t.triggerName,_=t.element,E=[],D=new Set,x=new Set,N=t.timelines.map(B=>{const re=B.element;D.add(re);const we=re[Da];if(we&&we.removedBeforeQueried)return new $w(B.duration,B.delay);const rt=re!==_,it=function JB(n){const e=[];return gO(n,e),e}((r.get(re)||qB).map($t=>$t.getRealPlayer())).filter($t=>!!$t.element&&$t.element===re),Ze=a.get(re),je=d.get(re),vt=jk(0,this._normalizer,0,B.keyframes,Ze,je),Ct=this._buildPlayer(B,vt,it);if(B.subTimeline&&i&&x.add(re),rt){const $t=new Px(e,f,re);$t.setRealPlayer(Ct),E.push($t)}return Ct});E.forEach(B=>{jo(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function WB(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,B.element,B))}),D.forEach(B=>Sa(B,Qk));const V=jh(N);return V.onDestroy(()=>{D.forEach(B=>py(B,Qk)),Su(_,t.toStyles)}),x.forEach(B=>{jo(i,B,[]).push(V)}),V}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new $w(e.duration,e.delay)}}class Px{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new $w,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>cx(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){jo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function WI(n){return n&&1===n.nodeType}function hO(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function fO(n,e,t,r,i){const a=[];t.forEach(_=>a.push(hO(_)));const d=[];r.forEach((_,E)=>{const D={};_.forEach(x=>{const N=D[x]=e.computeStyle(E,x,i);(!N||0==N.length)&&(E[Da]=GB,d.push(E))}),n.set(E,D)});let f=0;return t.forEach(_=>hO(_,a[f++])),d}function pO(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function d(f){if(!f)return 1;let _=a.get(f);if(_)return _;const E=f.parentNode;return _=t.has(E)?E:i.has(E)?1:d(E),a.set(f,_),_}return e.forEach(f=>{const _=d(f);1!==_&&t.get(_).push(f)}),t}function Sa(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function py(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function QB(n,e,t){jh(t).onDone(()=>n.processLeaveNode(e))}function gO(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof xk?gO(r.players,e):e.push(r)}}function mO(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class KI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new zB(e,t,r),this._timelineEngine=new UB(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const d=e+"-"+i;let f=this._triggerCache[d];if(!f){const _=[],D=bx(this._driver,a,_,[]);if(_.length)throw function BU(n,e){return new u.vHH(3404,Qt)}();f=function NB(n,e,t){return new FB(n,e,t)}(i,D,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,d]=Hk(r);this._timelineEngine.command(a,t,d,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[d,f]=Hk(r);return this._timelineEngine.listen(d,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let t3=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Su(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Su(this._element,this._initialStyles),this._endStyles&&(Su(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(cg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cg(this._element,this._endStyles),this._endStyles=null),Su(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function kx(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];n3(i)&&(e=e||{},e[i]=n[i])}return e}function n3(n){return"display"===n||"position"===n}class _O{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:nO(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class r3{validateStyleProperty(e){return Zk(e)}matchesElement(e,t){return!1}containsElement(e,t){return zk(e,t)}getParentElement(e){return px(e)}query(e,t,r){return Wk(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,d=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const E={},D=d.filter(N=>N instanceof _O);(function aB(n,e){return 0===n||0===e})(r,i)&&D.forEach(N=>{let V=N.currentSnapshot;Object.keys(V).forEach(B=>E[B]=V[B])}),t=function lB(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],d=[];if(r.forEach(f=>{a.hasOwnProperty(f)||d.push(f),a[f]=t[f]}),d.length)for(var i=1;i<e.length;i++){let f=e[i];d.forEach(function(_){f[_]=nO(n,_)})}}return e}(e,t=t.map(N=>Hh(N,!1)),E);const x=function e3(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=kx(e[0]),e.length>1&&(r=kx(e[e.length-1]))):e&&(t=kx(e)),t||r?new t3(n,t,r):null}(e,t);return new _O(e,t,_,x)}}let i3=(()=>{class n extends Dk{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Sk(t):t;return yO(this._renderer,null,r,"register",[i]),new s3(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class s3 extends class eV{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new o3(this._id,e,t||{},this._renderer)}}class o3{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return yO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function yO(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const vO="@.disabled";let a3=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,d)=>{const f=null==d?void 0:d.parentNode(a);f&&d.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(a);return D||(D=new wO("",a,this.engine),this._rendererCache.set(a,D)),D}const d=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=D=>{Array.isArray(D)?D.forEach(_):this.engine.registerTrigger(d,f,t,D.name,D)};return r.data.animation.forEach(_),new l3(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[d,f]=a;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(KI),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class wO{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==vO?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class l3 extends wO{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==vO?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function u3(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),d="";return"@"!=a.charAt(0)&&([a,d]=function c3(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let d3=(()=>{class n extends KI{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce),u.LFG(gx),u.LFG(Dx))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const bO=new u.OlP("AnimationModuleType"),EO=[{provide:Dk,useClass:i3},{provide:Dx,useFactory:function h3(){return new MB}},{provide:KI,useClass:d3},{provide:u.FYo,useFactory:function f3(n,e,t){return new a3(n,e,t)},deps:[_o,KI,u.R0b]}],CO=[{provide:gx,useFactory:()=>new r3},{provide:bO,useValue:"BrowserAnimations"},...EO],p3=[{provide:gx,useClass:Kk},{provide:bO,useValue:"NoopAnimations"},...EO];let g3=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?p3:CO}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:CO,imports:[ea]}),n})();const IO_firebaseConfig={apiKey:"AIzaSyBq_C_lTF6K178q3o07aBZ3-66myRE3oPo",authDomain:"tp-final-d0a0b.firebaseapp.com",projectId:"tp-final-d0a0b",storageBucket:"tp-final-d0a0b.appspot.com",messagingSenderId:"1006238279954",appId:"1:1006238279954:web:9ed9505ae56c35a33aebcb"};let m3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[yU]}),n.\u0275inj=u.cJS({providers:[],imports:[[ea,uU,vi.hO.initializeApp(IO_firebaseConfig),Nb,kF,yE,g3,qv,sU]]}),n})();(0,u.G48)(),Rl().bootstrapModule(m3).catch(n=>console.error(n))},5867:(nt,Ie,O)=>{O.d(Ie,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=O(9681);(0,u.registerVersion)("firebase","9.8.2","app")},127:(nt,Ie,O)=>{O.d(Ie,{Z:()=>u.Z});var u=O(3942);u.Z.registerVersion("firebase","9.8.2","app-compat")},8775:(nt,Ie,O)=>{O.r(Ie);var u=O(5861),ee=O(3942),R=O(2090),ue=O(9681),se=O(655),_e=O(1877),ce=O(4859);const Re=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ue=function Pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new _e.Yd("@firebase/auth");function Qe(y,...p){We.logLevel<=_e.in.ERROR&&We.error(`Auth (${ue.SDK_VERSION}): ${y}`,...p)}function Ae(y,...p){throw Be(y,...p)}function Ce(y,...p){return Be(y,...p)}function Te(y,p,m){const w=Object.assign(Object.assign({},Ue()),{[p]:m});return new R.LL("auth","Firebase",w).create(p,{appName:y.name})}function He(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ae(y,"argument-error"),Te(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(y,...p){if("string"!=typeof y){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return ge.create(y,...p)}function q(y,p,...m){if(!y)throw Be(p,...m)}function Ee(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Qe(p),new Error(p)}function Y(y,p){y||Ee(p)}const oe=new Map;function te(y){Y(y instanceof Function,"Expected a class definition");let p=oe.get(y);return p?(Y(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,oe.set(y,p),p)}function Ne(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ft(){return"http:"===Gt()||"https:"===Gt()}function Gt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class nn{constructor(p,m){this.shortDelay=p,this.longDelay=m,Y(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function jt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ft()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function In(y,p){Y(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class on{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ee("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ee("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ee("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Or=new nn(3e4,6e4);function Kt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Ut(y,p,m,w){return us.apply(this,arguments)}function us(){return(us=(0,u.Z)(function*(y,p,m,w,S={}){return li(y,S,(0,u.Z)(function*(){let k={},K={};w&&("GET"===p?K=w:k={body:JSON.stringify(w)});const pe=(0,R.xO)(Object.assign({key:y.config.apiKey},K)).slice(1),Ve=yield y._getAdditionalHeaders();return Ve["Content-Type"]="application/json",y.languageCode&&(Ve["X-Firebase-Locale"]=y.languageCode),on.fetch()(Vs(y,y.config.apiHost,m,pe),Object.assign({method:p,headers:Ve,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function li(y,p,m){return yr.apply(this,arguments)}function yr(){return(yr=(0,u.Z)(function*(y,p,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},Jt),p);try{const S=new ui(y),k=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const K=yield k.json();if("needConfirmation"in K)throw Si(y,"account-exists-with-different-credential",K);if(k.ok&&!("errorMessage"in K))return K;{const pe=k.ok?K.errorMessage:K.error.message,[Ve,tt]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw Si(y,"credential-already-in-use",K);if("EMAIL_EXISTS"===Ve)throw Si(y,"email-already-in-use",K);if("USER_DISABLED"===Ve)throw Si(y,"user-disabled",K);const mt=w[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(tt)throw Te(y,mt,tt);Ae(y,mt)}}catch(S){if(S instanceof R.ZR)throw S;Ae(y,"network-request-failed")}})).apply(this,arguments)}function Rr(y,p,m,w){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,u.Z)(function*(y,p,m,w,S={}){const k=yield Ut(y,p,m,w,S);return"mfaPendingCredential"in k&&Ae(y,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Vs(y,p,m,w){const S=`${p}${m}?${w}`;return y.config.emulator?In(y.config,S):`${y.config.apiScheme}://${S}`}class ui{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Ce(this.auth,"network-request-failed")),Or.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Si(y,p,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const S=Ce(y,p,w);return S.customData._tokenResponse=m,S}function ci(){return(ci=(0,u.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function vn(y,p){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,u.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function lo(y,p){return di.apply(this,arguments)}function di(){return(di=(0,u.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function er(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function qo(){return(qo=(0,u.Z)(function*(y,p=!1){const m=(0,R.m9)(y),w=yield m.getIdToken(p),S=ct(w);q(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const k="object"==typeof S.firebase?S.firebase:void 0,K=null==k?void 0:k.sign_in_provider;return{claims:S,token:w,authTime:er(Zt(S.auth_time)),issuedAtTime:er(Zt(S.iat)),expirationTime:er(Zt(S.exp)),signInProvider:K||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Zt(y){return 1e3*Number(y)}function ct(y){const[p,m,w]=y.split(".");if(void 0===p||void 0===m||void 0===w)return Qe("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,R.tV)(m);return S?JSON.parse(S):(Qe("Failed to decode base64 JWT payload"),null)}catch(S){return Qe("Caught error parsing JWT payload as JSON",S),null}}function vr(y,p){return hi.apply(this,arguments)}function hi(){return(hi=(0,u.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof R.ZR&&Ht(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Ht({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class uo{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class wr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=er(this.lastLoginAt),this.creationTime=er(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function br(y){return U.apply(this,arguments)}function U(){return(U=(0,u.Z)(function*(y){var p;const m=y.auth,w=yield y.getIdToken(),S=yield vr(y,lo(m,{idToken:w}));q(null==S?void 0:S.users.length,m,"internal-error");const k=S.users[0];y._notifyReloadListener(k);const K=(null===(p=k.providerUserInfo)||void 0===p?void 0:p.length)?Z(k.providerUserInfo):[],pe=Se(y.providerData,K),mt=!!y.isAnonymous&&!(y.email&&k.passwordHash||(null==pe?void 0:pe.length)),gt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:pe,metadata:new wr(k.createdAt,k.lastLoginAt),isAnonymous:mt};Object.assign(y,gt)})).apply(this,arguments)}function W(){return(W=(0,u.Z)(function*(y){const p=(0,R.m9)(y);yield br(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Se(y,p){return[...y.filter(w=>!p.some(S=>S.providerId===w.providerId)),...p]}function Z(y){return y.map(p=>{var{providerId:m}=p,w=(0,se._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function ke(){return(ke=(0,u.Z)(function*(y,p){const m=yield li(y,{},(0,u.Z)(function*(){const w=(0,R.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:k}=y.config,K=Vs(y,S,"/v1/token",`key=${k}`),pe=yield y._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",on.fetch()(K,{method:"POST",headers:pe,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){q(p.idToken,"internal-error"),q(void 0!==p.idToken,"internal-error"),q(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function It(y){const p=ct(y);return q(p,"internal-error"),q(void 0!==p.exp,"internal-error"),q(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,u.Z)(function*(){return q(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,u.Z)(function*(){const{accessToken:S,refreshToken:k,expiresIn:K}=yield function X(y,p){return ke.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(S,k,Number(K))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:S,expirationTime:k}=m,K=new et;return w&&(q("string"==typeof w,"internal-error",{appName:p}),K.refreshToken=w),S&&(q("string"==typeof S,"internal-error",{appName:p}),K.accessToken=S),k&&(q("number"==typeof k,"internal-error",{appName:p}),K.expirationTime=k),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new et,this.toJSON())}_performRefresh(){return Ee("not implemented")}}function _t(y,p){q("string"==typeof y||void 0===y,"internal-error",{appName:p})}class St{constructor(p){var{uid:m,auth:w,stsTokenManager:S}=p,k=(0,se._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new wr(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,u.Z)(function*(){const w=yield vr(m,m.stsTokenManager.getToken(m.auth,p));return q(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function Ai(y){return qo.apply(this,arguments)}(this,p)}reload(){return function z(y){return W.apply(this,arguments)}(this)}_assign(p){this!==p&&(q(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new St(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,u.Z)(function*(){let S=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield br(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,u.Z)(function*(){const m=yield p.getIdToken();return yield vr(p,function wt(y,p){return ci.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,S,k,K,pe,Ve,tt,mt;const gt=null!==(w=m.displayName)&&void 0!==w?w:void 0,Mn=null!==(S=m.email)&&void 0!==S?S:void 0,yi=null!==(k=m.phoneNumber)&&void 0!==k?k:void 0,eu=null!==(K=m.photoURL)&&void 0!==K?K:void 0,yf=null!==(pe=m.tenantId)&&void 0!==pe?pe:void 0,Gg=null!==(Ve=m._redirectEventId)&&void 0!==Ve?Ve:void 0,Qa=null!==(tt=m.createdAt)&&void 0!==tt?tt:void 0,dc=null!==(mt=m.lastLoginAt)&&void 0!==mt?mt:void 0,{uid:Xd,emailVerified:Zg,isAnonymous:Kn,providerData:vf,stsTokenManager:wf}=m;q(Xd&&wf,p,"internal-error");const bf=et.fromJSON(this.name,wf);q("string"==typeof Xd,p,"internal-error"),_t(gt,p.name),_t(Mn,p.name),q("boolean"==typeof Zg,p,"internal-error"),q("boolean"==typeof Kn,p,"internal-error"),_t(yi,p.name),_t(eu,p.name),_t(yf,p.name),_t(Gg,p.name),_t(Qa,p.name),_t(dc,p.name);const Ja=new St({uid:Xd,auth:p,email:Mn,emailVerified:Zg,displayName:gt,isAnonymous:Kn,photoURL:eu,phoneNumber:yi,tenantId:yf,stsTokenManager:bf,createdAt:Qa,lastLoginAt:dc});return vf&&Array.isArray(vf)&&(Ja.providerData=vf.map(tu=>Object.assign({},tu))),Gg&&(Ja._redirectEventId=Gg),Ja}static _fromIdTokenResponse(p,m,w=!1){return(0,u.Z)(function*(){const S=new et;S.updateFromServerResponse(m);const k=new St({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:w});return yield br(k),k})()}}const Tt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,w){var S=this;return(0,u.Z)(function*(){S.storage[m]=w})()}_get(m){var w=this;return(0,u.Z)(function*(){const S=w.storage[m];return void 0===S?null:S})()}_remove(m){var w=this;return(0,u.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function qn(y,p,m){return`firebase:${y}:${p}:${m}`}class Nr{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:S,name:k}=this.auth;this.fullUserKey=qn(this.userKey,S.apiKey,k),this.fullPersistenceKey=qn("persistence",S.apiKey,k),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?St._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,u.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,u.Z)(function*(){if(!m.length)return new Nr(te(Tt),p,w);const S=(yield Promise.all(m.map(function(){var tt=(0,u.Z)(function*(mt){if(yield mt._isAvailable())return mt});return function(mt){return tt.apply(this,arguments)}}()))).filter(tt=>tt);let k=S[0]||te(Tt);const K=qn(w,p.config.apiKey,p.name);let pe=null;for(const tt of m)try{const mt=yield tt._get(K);if(mt){const gt=St._fromJSON(p,mt);tt!==k&&(pe=gt),k=tt;break}}catch(mt){}const Ve=S.filter(tt=>tt._shouldAllowMigration);return k._shouldAllowMigration&&Ve.length?(k=Ve[0],pe&&(yield k._set(K,pe.toJSON())),yield Promise.all(m.map(function(){var tt=(0,u.Z)(function*(mt){if(mt!==k)try{yield mt._remove(K)}catch(gt){}});return function(mt){return tt.apply(this,arguments)}}())),new Nr(k,p,w)):new Nr(k,p,w)})()}}function bl(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Gn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Aa(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(cs(p))return"Blackberry";if(Zn(p))return"Webos";if(El(p))return"Safari";if((p.includes("chrome/")||xa(p))&&!p.includes("edge/"))return"Chrome";if(Fr(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Aa(y=(0,R.z$)()){return/firefox\//i.test(y)}function El(y=(0,R.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function xa(y=(0,R.z$)()){return/crios\//i.test(y)}function Gn(y=(0,R.z$)()){return/iemobile/i.test(y)}function Fr(y=(0,R.z$)()){return/android/i.test(y)}function cs(y=(0,R.z$)()){return/blackberry/i.test(y)}function Zn(y=(0,R.z$)()){return/webos/i.test(y)}function Zr(y=(0,R.z$)()){return/iphone|ipad|ipod/i.test(y)}function Us(y=(0,R.z$)()){return Zr(y)||Fr(y)||Zn(y)||cs(y)||/windows phone/i.test(y)||Gn(y)}function Go(y,p=[]){let m;switch(y){case"Browser":m=bl((0,R.z$)());break;case"Worker":m=`${bl((0,R.z$)())}-${y}`;break;default:m=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ue.SDK_VERSION}/${w}`}class zr{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=k=>new Promise((K,pe)=>{try{K(p(k))}catch(Ve){pe(Ve)}});w.onAbort=m,this.queue.push(w);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,u.Z)(function*(){if(m.auth.currentUser===p)return;const w=[];try{for(const S of m.queue)yield S(p),S.onAbort&&w.push(S.onAbort)}catch(S){w.reverse();for(const k of w)try{k()}catch(K){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:S.message})}})()}}class Ke{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rn(this),this.idTokenSubscription=new rn(this),this.beforeStateQueue=new zr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=te(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var S,k;if(!w._deleted&&(w.persistenceManager=yield Nr.create(w,p),!w._deleted)){if(null===(S=w._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(K){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(k=w.currentUser)||void 0===k?void 0:k.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,u.Z)(function*(){var w;const S=yield m.assertedPersistence.getCurrentUser();let k=S,K=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const pe=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Ve=null==k?void 0:k._redirectEventId,tt=yield m.tryRedirectSignIn(p);(!pe||pe===Ve)&&(null==tt?void 0:tt.user)&&(k=tt.user,K=!0)}if(!k)return m.directlySetCurrentUser(null);if(!k._redirectEventId){if(K)try{yield m.beforeStateQueue.runMiddleware(k)}catch(pe){k=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(pe))}return k?m.reloadAndSetCurrentUserOrClear(k):m.directlySetCurrentUser(null)}return q(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===k._redirectEventId?m.directlySetCurrentUser(k):m.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(p){var m=this;return(0,u.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(S){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,u.Z)(function*(){try{yield br(p)}catch(w){if("auth/network-request-failed"!==w.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ye(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,u.Z)(function*(){const w=p?(0,R.m9)(p):null;return w&&q(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,u.Z)(function*(){if(!w._deleted)return p&&q(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,u.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(te(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new R.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,u.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&te(p)||m._popupRedirectResolver;q(w,m,"argument-error"),m.redirectPersistenceManager=yield Nr.create(m,[te(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,u.Z)(function*(){var w,S;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,u.Z)(function*(){if(p===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,S){if(this._deleted)return()=>{};const k="function"==typeof m?m:m.next.bind(m),K=this._isInitialized?Promise.resolve():this._initializationPromise;return q(K,this,"internal-error"),K.then(()=>k(this.currentUser)),"function"==typeof m?p.addObserver(m,w,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Go(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return S&&(w["X-Firebase-Client"]=S),w})()}}function ht(y){return(0,R.m9)(y)}class rn{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,R.ne)(m=>this.observer=m)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ji(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Hi(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class xi{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Ee("not implemented")}_getIdTokenResponse(p){return Ee("not implemented")}_linkToIdToken(p,m){return Ee("not implemented")}_getReauthenticationResolver(p){return Ee("not implemented")}}function Dn(y,p){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,u.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:resetPassword",Kt(y,p))})).apply(this,arguments)}function Pa(y,p){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,u.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Cl(y,p){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,u.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:update",Kt(y,p))})).apply(this,arguments)}function ho(){return(ho=(0,u.Z)(function*(y,p){return Rr(y,"POST","/v1/accounts:signInWithPassword",Kt(y,p))})).apply(this,arguments)}function js(y,p){return gn.apply(this,arguments)}function gn(){return(gn=(0,u.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:sendOobCode",Kt(y,p))})).apply(this,arguments)}function an(y,p){return Il.apply(this,arguments)}function Il(){return(Il=(0,u.Z)(function*(y,p){return js(y,p)})).apply(this,arguments)}function ka(y,p){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,u.Z)(function*(y,p){return js(y,p)})).apply(this,arguments)}function $i(y,p){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,u.Z)(function*(y,p){return js(y,p)})).apply(this,arguments)}function sd(y,p){return qi.apply(this,arguments)}function qi(){return(qi=(0,u.Z)(function*(y,p){return js(y,p)})).apply(this,arguments)}function Dl(){return(Dl=(0,u.Z)(function*(y,p){return Rr(y,"POST","/v1/accounts:signInWithEmailLink",Kt(y,p))})).apply(this,arguments)}function od(){return(od=(0,u.Z)(function*(y,p){return Rr(y,"POST","/v1/accounts:signInWithEmailLink",Kt(y,p))})).apply(this,arguments)}class Er extends xi{constructor(p,m,w,S=null){super("password",w),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new Er(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new Er(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,u.Z)(function*(){switch(m.signInMethod){case"password":return function Nn(y,p){return ho.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Gi(y,p){return Dl.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ae(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,u.Z)(function*(){switch(w.signInMethod){case"password":return Pa(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Gh(y,p){return od.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:Ae(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Hs(y,p){return ad.apply(this,arguments)}function ad(){return(ad=(0,u.Z)(function*(y,p){return Rr(y,"POST","/v1/accounts:signInWithIdp",Kt(y,p))})).apply(this,arguments)}class ds extends xi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new ds(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S}=m,k=(0,se._T)(m,["providerId","signInMethod"]);if(!w||!S)return null;const K=new ds(w,S);return K.idToken=k.idToken||void 0,K.accessToken=k.accessToken||void 0,K.secret=k.secret,K.nonce=k.nonce,K.pendingToken=k.pendingToken||null,K}_getIdTokenResponse(p){return Hs(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Hs(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Hs(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,R.xO)(m)}return p}}function Oa(y,p){return ld.apply(this,arguments)}function ld(){return(ld=(0,u.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:sendVerificationCode",Kt(y,p))})).apply(this,arguments)}function $s(){return($s=(0,u.Z)(function*(y,p){return Rr(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,p))})).apply(this,arguments)}function ud(){return(ud=(0,u.Z)(function*(y,p){const m=yield Rr(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,p));if(m.temporaryProof)throw Si(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const _g={USER_NOT_FOUND:"user-not-found"};function cd(){return(cd=(0,u.Z)(function*(y,p){return Rr(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),_g)})).apply(this,arguments)}class Zo extends xi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Zo({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Zo({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function xu(y,p){return $s.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function mg(y,p){return ud.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function yg(y,p){return cd.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:S,temporaryProof:k}=p;return w||m||S||k?new Zo({verificationId:m,verificationCode:w,phoneNumber:S,temporaryProof:k}):null}}class Sl{constructor(p){var m,w,S,k,K,pe;const Ve=(0,R.zd)((0,R.pd)(p)),tt=null!==(m=Ve.apiKey)&&void 0!==m?m:null,mt=null!==(w=Ve.oobCode)&&void 0!==w?w:null,gt=function Zh(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ve.mode)&&void 0!==S?S:null);q(tt&&mt&&gt,"argument-error"),this.apiKey=tt,this.operation=gt,this.code=mt,this.continueUrl=null!==(k=Ve.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(K=Ve.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(pe=Ve.tenantId)&&void 0!==pe?pe:null}static parseLink(p){const m=function Ra(y){const p=(0,R.zd)((0,R.pd)(y)).link,m=p?(0,R.zd)((0,R.pd)(p)).deep_link_id:null,w=(0,R.zd)((0,R.pd)(y)).deep_link_id;return(w?(0,R.zd)((0,R.pd)(w)).link:null)||w||m||p||y}(p);try{return new Sl(m)}catch(w){return null}}}let hd=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return Er._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const S=Sl.parseLink(w);return q(S,"argument-error"),Er._fromEmailAndCode(m,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Cr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class fo extends Cr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Zi extends fo{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return q("providerId"in m&&"signInMethod"in m,"argument-error"),ds._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return q(p.idToken||p.accessToken,"argument-error"),ds._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Zi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Zi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:k,nonce:K,providerId:pe}=p;if(!w&&!S&&!m&&!k||!pe)return null;try{return new Zi(pe)._credential({idToken:m,accessToken:w,nonce:K,pendingToken:k})}catch(Ve){return null}}}let zo=(()=>{class y extends fo{constructor(){super("facebook.com")}static credential(m){return ds._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(w){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),fd=(()=>{class y extends fo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return ds._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:S}=m;if(!w&&!S)return null;try{return y.credential(w,S)}catch(k){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),zh=(()=>{class y extends fo{constructor(){super("github.com")}static credential(m){return ds._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(w){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class po extends xi{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Hs(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Hs(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Hs(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S,pendingToken:k}=m;return w&&S&&k&&w===S?new po(w,k):null}static _create(p,m){return new po(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vr extends Cr{constructor(p){q(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Vr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Vr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=po.fromJSON(p);return q(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return po._create(w,m)}catch(S){return null}}}let pd=(()=>{class y extends fo{constructor(){super("twitter.com")}static credential(m,w){return ds._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=m;if(!w||!S)return null;try{return y.credential(w,S)}catch(k){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ur(y,p){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,u.Z)(function*(y,p){return Rr(y,"POST","/v1/accounts:signUp",Kt(y,p))})).apply(this,arguments)}class fi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,S=!1){return(0,u.Z)(function*(){const k=yield St._fromIdTokenResponse(p,w,S),K=Mu(w);return new fi({user:k,providerId:K,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const S=Mu(w);return new fi({user:p,providerId:S,_tokenResponse:w,operationType:m})})()}}function Mu(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Pu(){return(Pu=(0,u.Z)(function*(y){var p;const m=ht(y);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new fi({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Ur(m,{returnSecureToken:!0}),S=yield fi._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Qo extends R.ZR{constructor(p,m,w,S){var k;super(m.code,m.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,Qo.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,S){return new Qo(p,m,w,S)}}function ku(y,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Qo._fromErrorAndOperation(y,k,p,w):k})}function zi(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function ln(){return(ln=(0,u.Z)(function*(y,p){const m=(0,R.m9)(y);yield Xt(!0,m,p);const{providerUserInfo:w}=yield vn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=zi(w||[]);return m.providerData=m.providerData.filter(k=>S.has(k.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Na(y,p){return go.apply(this,arguments)}function go(){return(go=(0,u.Z)(function*(y,p,m=!1){const w=yield vr(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return fi._forOperation(y,"link",w)})).apply(this,arguments)}function Xt(y,p,m){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(y,p,m){yield br(p);const S=!1===y?"provider-already-linked":"no-such-provider";q(zi(p.providerData).has(m)===y,p.auth,S)})).apply(this,arguments)}function Al(y,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,u.Z)(function*(y,p,m=!1){const{auth:w}=y,S="reauthenticate";try{const k=yield vr(y,ku(w,S,p,y),m);q(k.idToken,w,"internal-error");const K=ct(k.idToken);q(K,w,"internal-error");const{sub:pe}=K;return q(y.uid===pe,w,"user-mismatch"),fi._forOperation(y,S,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Ae(w,"user-mismatch"),k}})).apply(this,arguments)}function ur(y,p){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,u.Z)(function*(y,p,m=!1){const w="signIn",S=yield ku(y,w,p),k=yield fi._fromIdTokenResponse(y,w,S);return m||(yield y._updateCurrentUser(k.user)),k})).apply(this,arguments)}function yn(y,p){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,u.Z)(function*(y,p){return ur(ht(y),p)})).apply(this,arguments)}function cr(y,p){return mo.apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(y,p){const m=(0,R.m9)(y);return yield Xt(!1,m,p.providerId),Na(m,p)})).apply(this,arguments)}function hs(y,p){return La.apply(this,arguments)}function La(){return(La=(0,u.Z)(function*(y,p){return Al((0,R.m9)(y),p)})).apply(this,arguments)}function Mi(y,p){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,u.Z)(function*(y,p){return Rr(y,"POST","/v1/accounts:signInWithCustomToken",Kt(y,p))})).apply(this,arguments)}function bt(){return(bt=(0,u.Z)(function*(y,p){const m=ht(y),w=yield Mi(m,{token:p,returnSecureToken:!0}),S=yield fi._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Gs{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Ru._fromServerResponse(p,m):Ae(p,"internal-error")}}class Ru extends Gs{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Ru(m)}}function Va(y,p,m){var w;q((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),q(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(q(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(q(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function xl(){return(xl=(0,u.Z)(function*(y,p,m){const w=(0,R.m9)(y),S={requestType:"PASSWORD_RESET",email:p};m&&Va(w,S,m),yield ka(w,S)})).apply(this,arguments)}function Fu(){return(Fu=(0,u.Z)(function*(y,p,m){yield Dn((0,R.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function xe(){return(xe=(0,u.Z)(function*(y,p){yield Cl((0,R.m9)(y),{oobCode:p})})).apply(this,arguments)}function Bt(y,p){return _o.apply(this,arguments)}function _o(){return(_o=(0,u.Z)(function*(y,p){const m=(0,R.m9)(y),w=yield Dn(m,{oobCode:p}),S=w.requestType;switch(q(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(w.mfaInfo,m,"internal-error");default:q(w.email,m,"internal-error")}let k=null;return w.mfaInfo&&(k=Gs._fromServerResponse(ht(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:k},operation:S}})).apply(this,arguments)}function Pl(){return(Pl=(0,u.Z)(function*(y,p){const{data:m}=yield Bt((0,R.m9)(y),p);return m.email})).apply(this,arguments)}function pi(){return(pi=(0,u.Z)(function*(y,p,m){const w=ht(y),S=yield Ur(w,{returnSecureToken:!0,email:p,password:m}),k=yield fi._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(k.user),k})).apply(this,arguments)}function Uu(){return(Uu=(0,u.Z)(function*(y,p,m){const w=(0,R.m9)(y),S={requestType:"EMAIL_SIGNIN",email:p};q(m.handleCodeInApp,w,"argument-error"),m&&Va(w,S,m),yield $i(w,S)})).apply(this,arguments)}function fs(){return(fs=(0,u.Z)(function*(y,p,m){const w=(0,R.m9)(y),S=hd.credentialWithLink(p,m||Ne());return q(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),yn(w,S)})).apply(this,arguments)}function Ir(y,p){return gi.apply(this,arguments)}function gi(){return(gi=(0,u.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:createAuthUri",Kt(y,p))})).apply(this,arguments)}function Zs(){return(Zs=(0,u.Z)(function*(y,p){const w={identifier:p,continueUri:ft()?Ne():"http://localhost"},{signinMethods:S}=yield Ir((0,R.m9)(y),w);return S||[]})).apply(this,arguments)}function Bu(){return(Bu=(0,u.Z)(function*(y,p){const m=(0,R.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Va(m.auth,S,p);const{email:k}=yield an(m.auth,S);k!==y.email&&(yield y.reload())})).apply(this,arguments)}function Rl(){return(Rl=(0,u.Z)(function*(y,p,m){const w=(0,R.m9)(y),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&Va(w.auth,k,m);const{email:K}=yield sd(w.auth,k);K!==y.email&&(yield y.reload())})).apply(this,arguments)}function ju(y,p){return ea.apply(this,arguments)}function ea(){return(ea=(0,u.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Fl(){return(Fl=(0,u.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,R.m9)(y),k={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},K=yield vr(w,ju(w.auth,k));w.displayName=K.displayName||null,w.photoURL=K.photoUrl||null;const pe=w.providerData.find(({providerId:Ve})=>"password"===Ve);pe&&(pe.displayName=w.displayName,pe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(K)})).apply(this,arguments)}function Ll(y,p,m){return vo.apply(this,arguments)}function vo(){return(vo=(0,u.Z)(function*(y,p,m){const{auth:w}=y,k={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(k.email=p),m&&(k.password=m);const K=yield vr(y,Pa(w,k));yield y._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class ta{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class wd extends ta{constructor(p,m,w,S){super(p,m,w),this.username=S}}class Vl extends ta{constructor(p,m){super(p,"facebook.com",m)}}class Yr extends wd{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Kh extends ta{constructor(p,m){super(p,"google.com",m)}}class Hu extends wd{constructor(p,m,w){super(p,"twitter.com",m,w)}}function tr(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function vd(y){var p,m;if(!y)return null;const{providerId:w}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},k=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&(null==y?void 0:y.idToken)){const K=null===(m=null===(p=ct(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(K)return new ta(k,"anonymous"!==K&&"custom"!==K?K:null)}if(!w)return null;switch(w){case"facebook.com":return new Vl(k,S);case"github.com":return new Yr(k,S);case"google.com":return new Kh(k,S);case"twitter.com":return new Hu(k,S,y.screenName||null);case"custom":case"anonymous":return new ta(k,null);default:return new ta(k,w,S)}}(m)}class ps{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new ps("enroll",p)}static _fromMfaPendingCredential(p){return new ps("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return ps._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return ps._fromIdtoken(p.multiFactorSession.idToken)}return null}}class bo{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=ht(p),S=m.customData._serverResponse,k=(S.mfaInfo||[]).map(pe=>Gs._fromServerResponse(w,pe));q(S.mfaPendingCredential,w,"internal-error");const K=ps._fromMfaPendingCredential(S.mfaPendingCredential);return new bo(K,k,function(){var pe=(0,u.Z)(function*(Ve){const tt=yield Ve._process(w,K);delete S.mfaInfo,delete S.mfaPendingCredential;const mt=Object.assign(Object.assign({},S),{idToken:tt.idToken,refreshToken:tt.refreshToken});switch(m.operationType){case"signIn":const gt=yield fi._fromIdTokenResponse(w,m.operationType,mt);return yield w._updateCurrentUser(gt.user),gt;case"reauthenticate":return q(m.user,w,"internal-error"),fi._forOperation(m.user,m.operationType,mt);default:Ae(w,"internal-error")}});return function(Ve){return pe.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,u.Z)(function*(){return m.signInResolver(p)})()}}function Cd(y,p){return Ut(y,"POST","/v2/accounts/mfaEnrollment:start",Kt(y,p))}class na{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Gs._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new na(p)}getSession(){var p=this;return(0,u.Z)(function*(){return ps._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var w=this;return(0,u.Z)(function*(){const S=p,k=yield w.getSession(),K=yield vr(w.user,S._process(w.user.auth,k,m));return yield w.user._updateTokensIfNecessary(K),w.user.reload()})()}unenroll(p){var m=this;return(0,u.Z)(function*(){const w="string"==typeof p?p:p.uid,S=yield m.user.getIdToken(),k=yield vr(m.user,function Eo(y,p){return Ut(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Kt(y,p))}(m.user.auth,{idToken:S,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:K})=>K!==w),yield m.user._updateTokensIfNecessary(k);try{yield m.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const Ul=new WeakMap,gs="__sak";class Bl{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(gs,"1"),this.storage.removeItem(gs),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sn=(()=>{class y extends Bl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ig(){const y=(0,R.z$)();return El(y)||Zr(y)}()&&function lr(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Us(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),k=this.localCache[w];S!==k&&m(w,k,S)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((pe,Ve,tt)=>{this.notifyListeners(pe,tt)});const S=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(S);if(m.newValue!==pe)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!w)return}const k=()=>{const pe=this.storage.getItem(S);!w&&this.localCache[S]===pe||this.notifyListeners(S,pe)},K=this.storage.getItem(S);!function Ma(){return(0,R.w1)()&&10===document.documentMode}()||K===m.newValue||m.newValue===m.oldValue?k():setTimeout(k,10)}notifyListeners(m,w){this.localCache[m]=w;const S=this.listeners[m];if(S)for(const k of Array.from(S))k(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var S=()=>super._set,k=this;return(0,u.Z)(function*(){yield S().call(k,m,w),k.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,S=this;return(0,u.Z)(function*(){const k=yield w().call(S,m);return S.localCache[m]=JSON.stringify(k),k})()}_remove(m){var w=()=>super._remove,S=this;return(0,u.Z)(function*(){yield w().call(S,m),delete S.localCache[m]})()}}return y.type="LOCAL",y})(),Ln=(()=>{class y extends Bl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let Id=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(k=>k.isListeningto(m));if(w)return w;const S=new y(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,u.Z)(function*(){const S=m,{eventId:k,eventType:K,data:pe}=S.data,Ve=w.handlersMap[K];if(!(null==Ve?void 0:Ve.size))return;S.ports[0].postMessage({status:"ack",eventId:k,eventType:K});const tt=Array.from(Ve).map(function(){var gt=(0,u.Z)(function*(Mn){return Mn(S.origin,pe)});return function(Mn){return gt.apply(this,arguments)}}()),mt=yield function ja(y){return Promise.all(y.map(function(){var p=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(tt);S.ports[0].postMessage({status:"done",eventId:k,eventType:K,response:mt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ra(y="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return y+m}class zs{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var S=this;return(0,u.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let K,pe;return new Promise((Ve,tt)=>{const mt=ra("",20);k.port1.start();const gt=setTimeout(()=>{tt(new Error("unsupported_event"))},w);pe={messageChannel:k,onMessage(Mn){const yi=Mn;if(yi.data.eventId===mt)switch(yi.data.status){case"ack":clearTimeout(gt),K=setTimeout(()=>{tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Ve(yi.data.response);break;default:clearTimeout(gt),clearTimeout(K),tt(new Error("invalid_response"))}}},S.handlers.add(pe),k.port1.addEventListener("message",pe.onMessage),S.target.postMessage({eventType:p,eventId:mt,data:m},[k.port2])}).finally(()=>{pe&&S.removeMessageHandler(pe)})})()}}function An(){return window}function Yi(){return void 0!==An().WorkerGlobalScope&&"function"==typeof An().importScripts}function Td(){return(Td=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const qu="firebaseLocalStorageDb",Ks="firebaseLocalStorage",ia="fbase_key";class Co{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function dr(y,p){return y.transaction([Ks],p?"readwrite":"readonly").objectStore(Ks)}function To(){const y=indexedDB.open(qu,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Ks,{keyPath:ia})}catch(S){m(S)}}),y.addEventListener("success",(0,u.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Ks)?p(w):(w.close(),yield function Io(){const y=indexedDB.deleteDatabase(qu);return new Co(y).toPromise()}(),p(yield To()))}))})}function sa(y,p,m){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,u.Z)(function*(y,p,m){const w=dr(y,!0).put({[ia]:p,value:m});return new Co(w).toPromise()})).apply(this,arguments)}function Qs(){return(Qs=(0,u.Z)(function*(y,p){const m=dr(y,!1).get(p),w=yield new Co(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function aa(y,p){const m=dr(y,!0).delete(p);return new Co(m).toPromise()}const Do=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield To()),m.db})()}_withRetries(m){var w=this;return(0,u.Z)(function*(){let S=0;for(;;)try{const k=yield w._openDb();return yield m(k)}catch(k){if(S++>3)throw k;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return Yi()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=Id._getInstance(function $u(){return Yi()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,u.Z)(function*(S,k){return{keyProcessed:(yield m._poll()).includes(k.key)}});return function(S,k){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,u.Z)(function*(S,k){return["keyChanged"]});return function(S,k){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var w,S;if(m.activeServiceWorker=yield function Pt(){return Td.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new zs(m.activeServiceWorker);const k=yield m.sender._send("ping",{},800);!k||(null===(w=k[0])||void 0===w?void 0:w.fulfilled)&&(null===(S=k[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,u.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Dd(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield To();return yield sa(m,gs,"1"),yield aa(m,gs),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,u.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var S=this;return(0,u.Z)(function*(){return S._withPendingWrite((0,u.Z)(function*(){return yield S._withRetries(k=>sa(k,m,w)),S.localCache[m]=w,S.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,u.Z)(function*(){const S=yield w._withRetries(k=>function oa(y,p){return Qs.apply(this,arguments)}(k,m));return w.localCache[m]=S,S})()}_remove(m){var w=this;return(0,u.Z)(function*(){return w._withPendingWrite((0,u.Z)(function*(){return yield w._withRetries(S=>aa(S,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const w=yield m._withRetries(K=>{const pe=dr(K,!1).getAll();return new Co(pe).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const S=[],k=new Set;for(const{fbase_key:K,value:pe}of w)k.add(K),JSON.stringify(m.localCache[K])!==JSON.stringify(pe)&&(m.notifyListeners(K,pe),S.push(K));for(const K of Object.keys(m.localCache))m.localCache[K]&&!k.has(K)&&(m.notifyListeners(K,null),S.push(K));return S})()}notifyListeners(m,w){this.localCache[m]=w;const S=this.listeners[m];if(S)for(const k of Array.from(S))k(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function rr(y,p){return Ut(y,"POST","/v2/accounts/mfaSignIn:start",Kt(y,p))}function xn(){return(xn=(0,u.Z)(function*(y){return(yield Ut(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ao(y){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=S=>{const k=Ce("internal-error");k.customData=S,m(k)},w.type="text/javascript",w.charset="UTF-8",function So(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function _s(y){return`__${y}${Math.floor(1e6*Math.random())}`}const ki=1e12;class Wn{constructor(p){this.auth=p,this.counter=ki,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new Ji(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||ki;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||ki))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,u.Z)(function*(){var w;return null===(w=m._widgets.get(p||ki))||void 0===w||w.execute(),""})()}}class Ji{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;q(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function jl(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const zu=_s("rcb"),wn=new nn(3e4,6e4);class my{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!An().grecaptcha}load(p,m=""){return q(function la(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(An().grecaptcha):new Promise((w,S)=>{const k=An().setTimeout(()=>{S(Ce(p,"network-request-failed"))},wn.get());An()[zu]=()=>{An().clearTimeout(k),delete An()[zu];const pe=An().grecaptcha;if(!pe)return void S(Ce(p,"internal-error"));const Ve=pe.render;pe.render=(tt,mt)=>{const gt=Ve(tt,mt);return this.counter++,gt},this.hostLanguage=m,w(pe)},Ao(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:zu,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(k),S(Ce(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!An().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Qr{load(p){return(0,u.Z)(function*(){return new Wn(p)})()}clearedOneInstance(){}}const Sd="recaptcha",Xs={theme:"light",type:"image"};class Ad{constructor(p,m=Object.assign({},Xs),w){this.parameters=m,this.type=Sd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ht(w),this.isInvisible="invisible"===this.parameters.size,q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;q(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Qr:new my,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(k=>{const K=pe=>{!pe||(p.tokenChangeListeners.delete(K),k(pe))};p.tokenChangeListeners.add(K),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=An()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){q(ft()&&!Yi(),p.auth,"internal-error"),yield function ys(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Js(y){return xn.apply(this,arguments)}(p.auth);q(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Wu{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Zo._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function $a(){return($a=(0,u.Z)(function*(y,p,m){const w=ht(y),S=yield Br(w,p,(0,R.m9)(m));return new Wu(S,k=>yn(w,k))})).apply(this,arguments)}function xd(){return(xd=(0,u.Z)(function*(y,p,m){const w=(0,R.m9)(y);yield Xt(!1,w,"phone");const S=yield Br(w.auth,p,(0,R.m9)(m));return new Wu(S,k=>cr(w,k))})).apply(this,arguments)}function Tr(){return(Tr=(0,u.Z)(function*(y,p,m){const w=(0,R.m9)(y),S=yield Br(w.auth,p,(0,R.m9)(m));return new Wu(S,k=>hs(w,k))})).apply(this,arguments)}function Br(y,p,m){return qa.apply(this,arguments)}function qa(){return(qa=(0,u.Z)(function*(y,p,m){var w;const S=yield m.verify();try{let k;if(q("string"==typeof S,y,"argument-error"),q(m.type===Sd,y,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const K=k.session;if("phoneNumber"in k)return q("enroll"===K.type,y,"internal-error"),(yield Cd(y,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{q("signin"===K.type,y,"internal-error");const pe=(null===(w=k.multiFactorHint)||void 0===w?void 0:w.uid)||k.multiFactorUid;return q(pe,y,"missing-multi-factor-info"),(yield rr(y,{mfaPendingCredential:K.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield Oa(y,{phoneNumber:k.phoneNumber,recaptchaToken:S});return K}}finally{m._reset()}})).apply(this,arguments)}function vs(){return(vs=(0,u.Z)(function*(y,p){yield Na((0,R.m9)(y),p)})).apply(this,arguments)}let eo=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=ht(m)}verifyPhoneNumber(m,w){return Br(this.auth,m,(0,R.m9)(w))}static credential(m,w){return Zo._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:S}=m;return w&&S?Zo._fromTokenResponse(w,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ws(y,p){return p?te(p):(q(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class ca extends xi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Hs(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Hs(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Hs(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Lt(y){return ur(y.auth,new ca(y),y.bypassAuthState)}function Md(y){const{auth:p,user:m}=y;return q(m,p,"internal-error"),Al(m,new ca(y),y.bypassAuthState)}function da(y){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,u.Z)(function*(y){const{auth:p,user:m}=y;return q(m,p,"internal-error"),Na(m,new ca(y),y.bypassAuthState)})).apply(this,arguments)}class Ga{constructor(p,m,w,S,k=!1){this.auth=p,this.resolver=w,this.user=S,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,u.Z)(function*(w,S){p.pendingPromise={resolve:w,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(w,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,u.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:k,tenantId:K,error:pe,type:Ve}=p;if(pe)return void m.reject(pe);const tt={auth:m.auth,requestUri:w,sessionId:S,tenantId:K||void 0,postBody:k||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ve)(tt))}catch(mt){m.reject(mt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Lt;case"linkViaPopup":case"linkViaRedirect":return da;case"reauthViaPopup":case"reauthViaRedirect":return Md;default:Ae(this.auth,"internal-error")}}resolve(p){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ha=new nn(2e3,1e4);function bs(){return(bs=(0,u.Z)(function*(y,p,m){const w=ht(y);He(y,p,Cr);const S=ws(w,m);return new kd(w,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function $l(){return($l=(0,u.Z)(function*(y,p,m){const w=(0,R.m9)(y);He(w.auth,p,Cr);const S=ws(w.auth,m);return new kd(w.auth,"reauthViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}function Xi(){return(Xi=(0,u.Z)(function*(y,p,m){const w=(0,R.m9)(y);He(w.auth,p,Cr);const S=ws(w.auth,m);return new kd(w.auth,"linkViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}let kd=(()=>{class y extends Ga{constructor(m,w,S,k,K){super(m,w,k,K),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const w=yield m.execute();return q(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,u.Z)(function*(){Y(1===m.filter.length,"Popup operations only handle one event");const w=ra();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(Ce(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,S;this.pollId=(null===(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,ha.get())};m()}}return y.currentPopupAction=null,y})();const fr=new Map;class Ku extends Ga{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,u.Z)(function*(){let w=fr.get(m.auth._key());if(!w){try{const k=(yield function Jh(y,p){return to.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(k)}catch(S){w=()=>Promise.reject(S)}fr.set(m.auth._key(),w)}return m.bypassAuthState||fr.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const S=yield w.auth._redirectUserForId(p.eventId);if(S)return w.user=S,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function to(){return(to=(0,u.Z)(function*(y,p){const m=L(p),w=P(y);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(m));return yield w._remove(m),S})).apply(this,arguments)}function fa(y,p){return Za.apply(this,arguments)}function Za(){return(Za=(0,u.Z)(function*(y,p){return P(y)._set(L(p),"true")})).apply(this,arguments)}function T(y,p){fr.set(y._key(),p)}function P(y){return te(y._redirectPersistence)}function L(y){return qn("pendingRedirect",y.config.apiKey,y.name)}function me(){return(me=(0,u.Z)(function*(y,p,m){const w=ht(y);He(y,p,Cr);const S=ws(w,m);return yield fa(S,w),S._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function pt(){return(pt=(0,u.Z)(function*(y,p,m){const w=(0,R.m9)(y);He(w.auth,p,Cr);const S=ws(w.auth,m);yield fa(S,w.auth);const k=yield Sr(w);return S._openRedirect(w.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(y,p,m){const w=(0,R.m9)(y);He(w.auth,p,Cr);const S=ws(w.auth,m);yield Xt(!1,w,p.providerId),yield fa(S,w.auth);const k=yield Sr(w);return S._openRedirect(w.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function Es(){return(Es=(0,u.Z)(function*(y,p){return yield ht(y)._initializationPromise,es(y,p,!1)})).apply(this,arguments)}function es(y,p){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,u.Z)(function*(y,p,m=!1){const w=ht(y),S=ws(w,p),K=yield new Ku(w,S,m).execute();return K&&!m&&(delete K.user._redirectEventId,yield w._persistUserIfCurrent(K.user),yield w._setRedirectUser(null,p)),K})).apply(this,arguments)}function Sr(y){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,u.Z)(function*(y){const p=ra(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Yu{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Rd(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qu(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!Qu(p)){const S=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Ce(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Od(p))}saveEventToCache(p){this.cachedEventUids.add(Od(p)),this.lastProcessedEventTime=Date.now()}}function Od(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Qu({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Xh(y){return ef.apply(this,arguments)}function ef(){return(ef=(0,u.Z)(function*(y,p={}){return Ut(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Nd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ql=/^https?/;function tf(){return(tf=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Xh(y);for(const m of p)try{if(Ww(m))return}catch(w){}Ae(y,"unauthorized-domain")})).apply(this,arguments)}function Ww(y){const p=Ne(),{protocol:m,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const K=new URL(y);return""===K.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&K.hostname===w}if(!ql.test(m))return!1;if(Nd.test(y))return w===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const Dg=new nn(3e4,6e4);function nf(){const y=An().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Gl=null;function xo(y){return Gl=Gl||function Sg(y){return new Promise((p,m)=>{var w,S,k;function K(){nf(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{nf(),m(Ce(y,"network-request-failed"))},timeout:Dg.get()})}if(null===(S=null===(w=An().gapi)||void 0===w?void 0:w.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(k=An().gapi)||void 0===k?void 0:k.load)){const pe=_s("iframefcb");return An()[pe]=()=>{gapi.load?K():m(Ce(y,"network-request-failed"))},Ao(`https://apis.google.com/js/api.js?onload=${pe}`).catch(Ve=>m(Ve))}K()}}).catch(p=>{throw Gl=null,p})}(y),Gl}const Zl=new nn(5e3,15e3),zl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ag(y){const p=y.config;q(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?In(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:ue.SDK_VERSION},S=Wl.get(y.config.apiHost);S&&(w.eid=S);const k=y._getFrameworks();return k.length&&(w.fw=k.join(",")),`${m}?${(0,R.xO)(w).slice(1)}`}function Mo(){return Mo=(0,u.Z)(function*(y){const p=yield xo(y),m=An().gapi;return q(m,y,"internal-error"),p.open({where:document.body,url:Ag(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zl,dontclear:!0},w=>new Promise(function(){var S=(0,u.Z)(function*(k,K){yield w.restyle({setHideOnLeave:!1});const pe=Ce(y,"network-request-failed"),Ve=An().setTimeout(()=>{K(pe)},Zl.get());function tt(){An().clearTimeout(Ve),k(w)}w.ping(tt).then(tt,()=>{K(pe)})});return function(k,K){return S.apply(this,arguments)}}()))}),Mo.apply(this,arguments)}const Ld={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xg{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Ni(y,p,m,w,S,k){q(y.config.authDomain,y,"auth-domain-config-required"),q(y.config.apiKey,y,"invalid-api-key");const K={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:ue.SDK_VERSION,eventId:S};if(p instanceof Cr){p.setDefaultLanguage(y.languageCode),K.providerId=p.providerId||"",(0,R.xb)(p.getCustomParameters())||(K.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ve,tt]of Object.entries(k||{}))K[Ve]=tt}if(p instanceof fo){const Ve=p.getScopes().filter(tt=>""!==tt);Ve.length>0&&(K.scopes=Ve.join(","))}y.tenantId&&(K.tid=y.tenantId);const pe=K;for(const Ve of Object.keys(pe))void 0===pe[Ve]&&delete pe[Ve];return`${function Po({config:y}){return y.emulator?In(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,R.xO)(pe).slice(1)}`}const tc="webStorageSupport";class jd extends class Yw{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return Ee("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new jd(p)}_finalizeEnroll(p,m,w){return function Eg(y,p){return Ut(y,"POST","/v2/accounts/mfaEnrollment:finalize",Kt(y,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Zu(y,p){return Ut(y,"POST","/v2/accounts/mfaSignIn:finalize",Kt(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Qw=(()=>{class y{constructor(){}static assertion(m){return jd._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var sf="@firebase/auth";class kg{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var S;p((null===(S=w)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function za(){return window}function ts(){return(ts=(0,u.Z)(function*(y,p,m){var w;const{BuildInfo:S}=za();Y(p.sessionId,"AuthEvent did not contain a session ID");const k=yield Jw(p.sessionId),K={};return Zr()?K.ibi=S.packageName:Fr()?K.apn=S.packageName:Ae(y,"operation-not-supported-in-this-environment"),S.displayName&&(K.appDisplayName=S.displayName),K.sessionId=k,Ni(y,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,K)})).apply(this,arguments)}function $d(){return($d=(0,u.Z)(function*(y){const{BuildInfo:p}=za(),m={};Zr()?m.iosBundleId=p.packageName:Fr()?m.androidPackageName=p.packageName:Ae(y,"operation-not-supported-in-this-environment"),yield Xh(y,m)})).apply(this,arguments)}function Og(){return(Og=(0,u.Z)(function*(y,p,m){const{cordova:w}=za();let S=()=>{};try{yield new Promise((k,K)=>{let pe=null;function Ve(){var gt;k();const Mn=null===(gt=w.plugins.browsertab)||void 0===gt?void 0:gt.close;"function"==typeof Mn&&Mn(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function tt(){pe||(pe=window.setTimeout(()=>{K(Ce(y,"redirect-cancelled-by-user"))},2e3))}function mt(){"visible"===(null==document?void 0:document.visibilityState)&&tt()}p.addPassiveListener(Ve),document.addEventListener("resume",tt,!1),Fr()&&document.addEventListener("visibilitychange",mt,!1),S=()=>{p.removePassiveListener(Ve),document.removeEventListener("resume",tt,!1),document.removeEventListener("visibilitychange",mt,!1),pe&&window.clearTimeout(pe)}})}finally{S()}})).apply(this,arguments)}function Jw(y){return ic.apply(this,arguments)}function ic(){return(ic=(0,u.Z)(function*(y){const p=lf(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function lf(y){if(Y(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}!function by(y){(0,ue._registerComponent)(new ce.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:k,authDomain:K}=w.options;return((pe,Ve)=>{q(k&&!k.includes(":"),"invalid-api-key",{appName:pe.name}),q(!(null==K?void 0:K.includes(":")),"argument-error",{appName:pe.name});const tt={apiKey:k,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Go(y)},mt=new Ke(pe,Ve,tt);return function le(y,p){const m=(null==p?void 0:p.persistence)||[],w=(Array.isArray(m)?m:[m]).map(te);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(mt,m),mt})(w,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new ce.wA("auth-internal",p=>{const m=ht(p.getProvider("auth").getImmediate());return new kg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(sf,"0.20.2",function Hd(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ue.registerVersion)(sf,"0.20.2","esm2017")}("Browser");class Gd extends Yu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function Yl(y){return sc.apply(this,arguments)}function sc(){return(sc=(0,u.Z)(function*(y){const p=yield oc()._get(Ql(y));return p&&(yield oc()._remove(Ql(y))),p})).apply(this,arguments)}function Ng(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function oc(){return te(Sn)}function Ql(y){return qn("authEvent",y.config.apiKey,y.name)}function Jr(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...m]=y.split("?");return(0,R.zd)(m.join("?"))}function Wa(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ce("no-auth-event")}}function pa(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Ug(y=(0,R.z$)()){return!("file:"!==pa()&&"ionic:"!==pa()&&"capacitor:"!==pa()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function df(){try{const y=self.localStorage,p=ra();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Wd(y=(0,R.z$)()){return function Jl(){return(0,R.w1)()&&11===(null==document?void 0:document.documentMode)}()||function sr(y=(0,R.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,R.hl)()}catch(y){return Kd()&&(0,R.hl)()}return!1}function Kd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function pr(){return(function Vg(){return"http:"===pa()||"https:"===pa()}()||(0,R.ru)()||Ug())&&!function cf(){return(0,R.b$)()||(0,R.UG)()}()&&df()&&!Kd()}function Xl(){return Ug()&&"undefined"!=typeof document}function lc(){return(lc=(0,u.Z)(function*(){return!!Xl()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Xr={LOCAL:"local",NONE:"none",SESSION:"session"},ga=q,ff="persistence";function Ka(y){return pf.apply(this,arguments)}function pf(){return(pf=(0,u.Z)(function*(y){yield y._initializationPromise;const p=Yd(),m=qn(ff,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function Yd(){var y;try{return(null===(y=function Ay(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const My=q;class ns{constructor(){this.browserResolver=te(class wy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ln,this._completeRedirectFn=es,this._overrideRedirectResult=T}_openPopup(p,m,w,S){var k=this;return(0,u.Z)(function*(){var K;Y(null===(K=k.eventManagers[p._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const pe=Ni(p,m,w,Ne(),S);return function ec(y,p,m,w=500,S=600){const k=Math.max((window.screen.availHeight-S)/2,0).toString(),K=Math.max((window.screen.availWidth-w)/2,0).toString();let pe="";const Ve=Object.assign(Object.assign({},Ld),{width:w.toString(),height:S.toString(),top:k,left:K}),tt=(0,R.z$)().toLowerCase();m&&(pe=xa(tt)?"_blank":m),Aa(tt)&&(p=p||"http://localhost",Ve.scrollbars="yes");const mt=Object.entries(Ve).reduce((Mn,[yi,eu])=>`${Mn}${yi}=${eu},`,"");if(function co(y=(0,R.z$)()){var p;return Zr(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(tt)&&"_self"!==pe)return function _y(y,p){const m=document.createElement("a");m.href=y,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",pe),new xg(null);const gt=window.open(p||"",pe,mt);q(gt,y,"popup-blocked");try{gt.focus()}catch(Mn){}return new xg(gt)}(p,pe,ra())})()}_openRedirect(p,m,w,S){var k=this;return(0,u.Z)(function*(){return yield k._originValidation(p),function Ws(y){An().location.href=y}(Ni(p,m,w,Ne(),S)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:k}=this.eventManagers[m];return S?Promise.resolve(S):(Y(k,"If manager is not set, promise should be"),k)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,u.Z)(function*(){const w=yield function Kw(y){return Mo.apply(this,arguments)}(p),S=new Yu(p);return w.register("authEvent",k=>(q(null==k?void 0:k.authEvent,p,"invalid-auth-event"),{status:S.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=w,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(tc,{type:tc},S=>{var k;const K=null===(k=null==S?void 0:S[0])||void 0===k?void 0:k[tc];void 0!==K&&m(!!K),Ae(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ju(y){return tf.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Us()||El()||Zr()}}),this.cordovaResolver=te(class Fg{constructor(){this._redirectPersistence=Ln,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=es,this._overrideRedirectResult=T}_initialize(p){var m=this;return(0,u.Z)(function*(){const w=p._key();let S=m.eventManagers.get(w);return S||(S=new Gd(p),m.eventManagers.set(w,S),m.attachCallbackListeners(p,S)),S})()}_openPopup(p){Ae(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,S){var k=this;return(0,u.Z)(function*(){!function Kl(y){var p,m,w,S,k,K,pe,Ve,tt,mt;const gt=za();q("function"==typeof(null===(p=null==gt?void 0:gt.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(void 0!==(null===(m=null==gt?void 0:gt.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q("function"==typeof(null===(k=null===(S=null===(w=null==gt?void 0:gt.cordova)||void 0===w?void 0:w.plugins)||void 0===S?void 0:S.browsertab)||void 0===k?void 0:k.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(Ve=null===(pe=null===(K=null==gt?void 0:gt.cordova)||void 0===K?void 0:K.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===Ve?void 0:Ve.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(mt=null===(tt=null==gt?void 0:gt.cordova)||void 0===tt?void 0:tt.InAppBrowser)||void 0===mt?void 0:mt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const K=yield k._initialize(p);yield K.initialized(),K.resetRedirect(),function I(){fr.clear()}(),yield k._originValidation(p);const pe=function Zd(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:Ng(),postBody:null,tenantId:y.tenantId,error:Ce(y,"no-auth-event")}}(p,w,S);yield function Rg(y,p){return oc()._set(Ql(y),p)}(p,pe);const Ve=yield function af(y,p,m){return ts.apply(this,arguments)}(p,pe,m),tt=yield function qd(y){const{cordova:p}=za();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let S=null;w?p.plugins.browsertab.openUrl(y):S=p.InAppBrowser.open(y,function id(y=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(S)})})}(Ve);return function ko(y,p,m){return Og.apply(this,arguments)}(p,K,tt)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function rc(y){return $d.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:S,BuildInfo:k}=za(),K=setTimeout((0,u.Z)(function*(){yield Yl(p),m.onEvent(Wa())}),500),pe=function(){var mt=(0,u.Z)(function*(gt){clearTimeout(K);const Mn=yield Yl(p);let yi=null;Mn&&(null==gt?void 0:gt.url)&&(yi=function Cy(y,p){var m,w;const S=function ac(y){const p=Jr(y),m=p.link?decodeURIComponent(p.link):void 0,w=Jr(m).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Jr(S).link||S||w||m||y}(p);if(S.includes("/__/auth/callback")){const k=Jr(S),K=k.firebaseError?function Iy(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(k.firebaseError)):null,pe=null===(w=null===(m=null==K?void 0:K.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],Ve=pe?Ce(pe):null;return Ve?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(Mn,gt.url)),m.onEvent(yi||Wa())});return function(Mn){return mt.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,pe);const Ve=S,tt=`${k.packageName.toLowerCase()}://`;za().handleOpenURL=function(){var mt=(0,u.Z)(function*(gt){if(gt.toLowerCase().startsWith(tt)&&pe({url:gt}),"function"==typeof Ve)try{Ve(gt)}catch(Mn){console.error(Mn)}});return function(gt){return mt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ln,this._completeRedirectFn=es,this._overrideRedirectResult=T}_initialize(p){var m=this;return(0,u.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,S){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(p,m,w,S)})()}_openRedirect(p,m,w,S){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(p,m,w,S)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Xl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return My(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const m=yield function hf(){return lc.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Qd(y){return y.unwrap()}function ky(y){return Bg(y)}function Bg(y){const{_tokenResponse:p}=y instanceof R.ZR?y.customData:y;if(!p)return null;if(!(y instanceof R.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return eo.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=fd;break;case"facebook.com":w=zo;break;case"github.com":w=zh;break;case"twitter.com":w=pd;break;default:const{oauthIdToken:S,oauthAccessToken:k,oauthTokenSecret:K,pendingToken:pe,nonce:Ve}=p;return k||K||S||pe?pe?m.startsWith("saml.")?po._create(m,pe):ds._fromParams({providerId:m,signInMethod:m,pendingToken:pe,idToken:S,accessToken:k}):new Zi(m).credential({idToken:S,accessToken:k,rawNonce:Ve}):null}return y instanceof R.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function _i(y,p){return p.catch(m=>{throw m instanceof R.ZR&&function Jd(y,p){var m;const w=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Oy(y,function zn(y,p){var m;const w=(0,R.m9)(y),S=p;return q(p.customData.operationType,w,"argument-error"),q(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),bo._fromError(w,S)}(y,p));else if(w){const S=Bg(p),k=p;S&&(k.credential=S,k.tenantId=w.tenantId||void 0,k.email=w.email||void 0,k.phoneNumber=w.phoneNumber||void 0)}}(y,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:ky(m),additionalUserInfo:tr(m),user:Is.getOrCreate(S)}})}function gf(y,p){return mf.apply(this,arguments)}function mf(){return(mf=(0,u.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>_i(y,m.confirm(w))}})).apply(this,arguments)}class Oy{constructor(p,m){this.resolver=m,this.auth=function Py(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return _i(Qd(this.auth),this.resolver.resolveSignIn(p))}}class Is{constructor(p){this._delegate=p,this.multiFactor=function Cg(y){const p=(0,R.m9)(y);return Ul.has(p)||Ul.set(p,na._fromUser(p)),Ul.get(p)}(p)}static getOrCreate(p){return Is.USER_MAP.has(p)||Is.USER_MAP.set(p,new Is(p)),Is.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,u.Z)(function*(){return _i(m.auth,cr(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,u.Z)(function*(){return gf(w.auth,function Hl(y,p,m){return xd.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,u.Z)(function*(){return _i(m.auth,function Pd(y,p,m){return Xi.apply(this,arguments)}(m._delegate,p,ns))})()}linkWithRedirect(p){var m=this;return(0,u.Z)(function*(){return yield Ka(ht(m.auth)),function zt(y,p,m){return function xt(y,p,m){return Un.apply(this,arguments)}(y,p,m)}(m._delegate,p,ns)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,u.Z)(function*(){return _i(m.auth,hs(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return gf(this.auth,function Qh(y,p,m){return Tr.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return _i(this.auth,function Oi(y,p,m){return $l.apply(this,arguments)}(this._delegate,p,ns))}reauthenticateWithRedirect(p){var m=this;return(0,u.Z)(function*(){return yield Ka(ht(m.auth)),function Xe(y,p,m){return function at(y,p,m){return pt.apply(this,arguments)}(y,p,m)}(m._delegate,p,ns)})()}sendEmailVerification(p){return function Pi(y,p){return Bu.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,u.Z)(function*(){return yield function Wh(y,p){return ln.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function _d(y,p){return Ll((0,R.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function yd(y,p){return Ll((0,R.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function ua(y,p){return vs.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Nl(y,p){return Fl.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Ol(y,p,m){return Rl.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Is.USER_MAP=new WeakMap;const cc=q;let jg=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;cc(S,"invalid-api-key",{appName:m.name}),cc(S,"invalid-api-key",{appName:m.name});const k="undefined"!=typeof window?ns:void 0;this._delegate=w.initialize({options:{persistence:Ry(S,m.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(Re),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Is.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function Wr(y,p,m){const w=ht(y);q(w._canInitEmulator,w,"emulator-config-failed"),q(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const S=!!(null==m?void 0:m.disableWarnings),k=ji(p),{host:K,port:pe}=function Rn(y){const p=ji(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const k=S[1];return{host:k,port:Hi(w.substr(k.length+1))}}{const[k,K]=w.split(":");return{host:k,port:Hi(K)}}}(p);w.config.emulator={url:`${k}//${K}${null===pe?"":`:${pe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:K,port:pe,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function pn(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function Xo(y,p){return xe.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Bt(this._delegate,m)}confirmPasswordReset(m,w){return function Ml(y,p,m){return Fu.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var S=this;return(0,u.Z)(function*(){return _i(S._delegate,function yo(y,p,m){return pi.apply(this,arguments)}(S._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function kl(y,p){return Zs.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function md(y,p){const m=Sl.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,u.Z)(function*(){cc(pr(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function ir(y,p){return Es.apply(this,arguments)}(m._delegate,ns);return w?_i(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Lg(y,p){ht(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,S){const{next:k,error:K,complete:pe}=Hg(m,w,S);return this._delegate.onAuthStateChanged(k,K,pe)}onIdTokenChanged(m,w,S){const{next:k,error:K,complete:pe}=Hg(m,w,S);return this._delegate.onIdTokenChanged(k,K,pe)}sendSignInLinkToEmail(m,w){return function Vu(y,p,m){return Uu.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function Nu(y,p,m){return xl.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,u.Z)(function*(){let S;switch(function xy(y,p){ga(Object.values(Xr).includes(p),y,"invalid-persistence-type"),(0,R.b$)()?ga(p!==Xr.SESSION,y,"unsupported-persistence-type"):(0,R.UG)()?ga(p===Xr.NONE,y,"unsupported-persistence-type"):Kd()?ga(p===Xr.NONE||p===Xr.LOCAL&&(0,R.hl)(),y,"unsupported-persistence-type"):ga(p===Xr.NONE||df(),y,"unsupported-persistence-type")}(w._delegate,m),m){case Xr.SESSION:S=Ln;break;case Xr.LOCAL:S=(yield te(Do)._isAvailable())?Do:Sn;break;case Xr.NONE:S=Tt;break;default:return Ae("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return _i(this._delegate,function gd(y){return Pu.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return _i(this._delegate,yn(this._delegate,m))}signInWithCustomToken(m){return _i(this._delegate,function Jo(y,p){return bt.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return _i(this._delegate,function Lu(y,p,m){return yn((0,R.m9)(y),hd.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return _i(this._delegate,function vg(y,p,m){return fs.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return gf(this._delegate,function Vn(y,p,m){return $a.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,u.Z)(function*(){return cc(pr(),w._delegate,"operation-not-supported-in-this-environment"),_i(w._delegate,function Tg(y,p,m){return bs.apply(this,arguments)}(w._delegate,m,ns))})()}signInWithRedirect(m){var w=this;return(0,u.Z)(function*(){return cc(pr(),w._delegate,"operation-not-supported-in-this-environment"),yield Ka(w._delegate),function Q(y,p,m){return function ie(y,p,m){return me.apply(this,arguments)}(y,p,m)}(w._delegate,m,ns)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function _n(y,p){return Pl.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Xr,y})();function Hg(y,p,m){let w=y;"function"!=typeof y&&({next:w,error:p,complete:m}=y);const S=w;return{next:K=>S(K&&Is.getOrCreate(K)),error:p,complete:m}}function Ry(y,p){const m=function uc(y,p){const m=Yd();if(!m)return[];const w=qn(ff,y,p);switch(m.getItem(w)){case Xr.NONE:return[Tt];case Xr.LOCAL:return[Do,Ln];case Xr.SESSION:return[Ln];default:return[]}}(y,p);if("undefined"!=typeof self&&!m.includes(Do)&&m.push(Do),"undefined"!=typeof window)for(const w of[Sn,Ln])m.includes(w)||m.push(w);return m.includes(Tt)||m.push(Tt),m}class _f{constructor(){this.providerId="phone",this._delegate=new eo(Qd(ee.Z.auth()))}static credential(p,m){return eo.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}_f.PHONE_SIGN_IN_METHOD=eo.PHONE_SIGN_IN_METHOD,_f.PROVIDER_ID=eo.PROVIDER_ID;const $g=q;class Xw{constructor(p,m,w=ee.Z.app()){var S;$g(null===(S=w.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Ad(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ya(y){y.INTERNAL.registerComponent(new ce.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new jg(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:hd,FacebookAuthProvider:zo,GithubAuthProvider:zh,GoogleAuthProvider:fd,OAuthProvider:Zi,SAMLAuthProvider:Vr,PhoneAuthProvider:_f,PhoneMultiFactorGenerator:Qw,RecaptchaVerifier:Xw,TwitterAuthProvider:pd,Auth:jg,AuthCredential:xi,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.15")}(ee.Z)},8306:(nt,Ie,O)=>{O.d(Ie,{y:()=>G});var u=O(2961),ee=O(727),R=O(8822),ue=O(4671);var ce=O(2416),ae=O(576),fe=O(2806);let G=(()=>{class Pe{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const ge=new Pe;return ge.source=this,ge.operator=Ue,ge}subscribe(Ue,ge,De){const We=function ze(Pe){return Pe&&Pe instanceof u.Lv||function ne(Pe){return Pe&&(0,ae.m)(Pe.next)&&(0,ae.m)(Pe.error)&&(0,ae.m)(Pe.complete)}(Pe)&&(0,ee.Nn)(Pe)}(Ue)?Ue:new u.Hp(Ue,ge,De);return(0,fe.x)(()=>{const{operator:Qe,source:Ae}=this;We.add(Qe?Qe.call(We,Ae):Ae?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(ge){Ue.error(ge)}}forEach(Ue,ge){return new(ge=H(ge))((De,We)=>{const Qe=new u.Hp({next:Ae=>{try{Ue(Ae)}catch(Ce){We(Ce),Qe.unsubscribe()}},error:We,complete:De});this.subscribe(Qe)})}_subscribe(Ue){var ge;return null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(Ue)}[R.L](){return this}pipe(...Ue){return function _e(Pe){return 0===Pe.length?ue.y:1===Pe.length?Pe[0]:function(Ue){return Pe.reduce((ge,De)=>De(ge),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=H(Ue))((ge,De)=>{let We;this.subscribe(Qe=>We=Qe,Qe=>De(Qe),()=>ge(We))})}}return Pe.create=Re=>new Pe(Re),Pe})();function H(Pe){var Re;return null!==(Re=null!=Pe?Pe:ce.v.Promise)&&void 0!==Re?Re:Promise}},7579:(nt,Ie,O)=>{O.d(Ie,{x:()=>ce});var u=O(8306),ee=O(727);const ue=(0,O(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=O(8737),_e=O(2806);let ce=(()=>{class fe extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const ne=new ae(this,this);return ne.operator=H,ne}_throwIfClosed(){if(this.closed)throw new ue}next(H){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(H)}})}error(H){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:ne}=this;for(;ne.length;)ne.shift().error(H)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:ne,isStopped:ze,observers:Pe}=this;return ne||ze?ee.Lc:(this.currentObservers=null,Pe.push(H),new ee.w0(()=>{this.currentObservers=null,(0,se.P)(Pe,H)}))}_checkFinalizedStatuses(H){const{hasError:ne,thrownError:ze,isStopped:Pe}=this;ne?H.error(ze):Pe&&H.complete()}asObservable(){const H=new u.y;return H.source=this,H}}return fe.create=(G,H)=>new ae(G,H),fe})();class ae extends ce{constructor(G,H){super(),this.destination=G,this.source=H}next(G){var H,ne;null===(ne=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===ne||ne.call(H,G)}error(G){var H,ne;null===(ne=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===ne||ne.call(H,G)}complete(){var G,H;null===(H=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===H||H.call(G)}_subscribe(G){var H,ne;return null!==(ne=null===(H=this.source)||void 0===H?void 0:H.subscribe(G))&&void 0!==ne?ne:ee.Lc}}},2961:(nt,Ie,O)=>{O.d(Ie,{Hp:()=>Ue,Lv:()=>ne});var u=O(576),ee=O(727),R=O(2416),ue=O(7849);function se(){}const _e=fe("C",void 0,void 0);function fe(Ae,Ce,Te){return{kind:Ae,value:Ce,error:Te}}var G=O(3410),H=O(2806);class ne extends ee.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,ee.Nn)(Ce)&&Ce.add(this)):this.destination=Qe}static create(Ce,Te,He){return new Ue(Ce,Te,He)}next(Ce){this.isStopped?We(function ae(Ae){return fe("N",Ae,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?We(function ce(Ae){return fe("E",void 0,Ae)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?We(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Pe(Ae,Ce){return ze.call(Ae,Ce)}class Re{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:Te}=this;if(Te.next)try{Te.next(Ce)}catch(He){ge(He)}}error(Ce){const{partialObserver:Te}=this;if(Te.error)try{Te.error(Ce)}catch(He){ge(He)}else ge(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(Te){ge(Te)}}}class Ue extends ne{constructor(Ce,Te,He){let Be;if(super(),(0,u.m)(Ce)||!Ce)Be={next:null!=Ce?Ce:void 0,error:null!=Te?Te:void 0,complete:null!=He?He:void 0};else{let q;this&&R.v.useDeprecatedNextContext?(q=Object.create(Ce),q.unsubscribe=()=>this.unsubscribe(),Be={next:Ce.next&&Pe(Ce.next,q),error:Ce.error&&Pe(Ce.error,q),complete:Ce.complete&&Pe(Ce.complete,q)}):Be=Ce}this.destination=new Re(Be)}}function ge(Ae){R.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Ae):(0,ue.h)(Ae)}function We(Ae,Ce){const{onStoppedNotification:Te}=R.v;Te&&G.z.setTimeout(()=>Te(Ae,Ce))}const Qe={closed:!0,next:se,error:function De(Ae){throw Ae},complete:se}},727:(nt,Ie,O)=>{O.d(Ie,{Lc:()=>_e,w0:()=>se,Nn:()=>ce});var u=O(576);const R=(0,O(3888).d)(fe=>function(H){fe(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((ne,ze)=>`${ze+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var ue=O(8737);class se{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Pe of H)Pe.remove(this);else H.remove(this);const{initialTeardown:ne}=this;if((0,u.m)(ne))try{ne()}catch(Pe){G=Pe instanceof R?Pe.errors:[Pe]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Pe of ze)try{ae(Pe)}catch(Re){G=null!=G?G:[],Re instanceof R?G=[...G,...Re.errors]:G.push(Re)}}if(G)throw new R(G)}}add(G){var H;if(G&&G!==this)if(this.closed)ae(G);else{if(G instanceof se){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(G)}}_hasParent(G){const{_parentage:H}=this;return H===G||Array.isArray(H)&&H.includes(G)}_addParent(G){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(G),H):H?[H,G]:G}_removeParent(G){const{_parentage:H}=this;H===G?this._parentage=null:Array.isArray(H)&&(0,ue.P)(H,G)}remove(G){const{_finalizers:H}=this;H&&(0,ue.P)(H,G),G instanceof se&&G._removeParent(this)}}se.EMPTY=(()=>{const fe=new se;return fe.closed=!0,fe})();const _e=se.EMPTY;function ce(fe){return fe instanceof se||fe&&"closed"in fe&&(0,u.m)(fe.remove)&&(0,u.m)(fe.add)&&(0,u.m)(fe.unsubscribe)}function ae(fe){(0,u.m)(fe)?fe():fe.unsubscribe()}},2416:(nt,Ie,O)=>{O.d(Ie,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(nt,Ie,O)=>{O.d(Ie,{E:()=>ee});const ee=new(O(8306).y)(se=>se.complete())},8996:(nt,Ie,O)=>{O.d(Ie,{D:()=>Ce});var u=O(8421),ee=O(5363),R=O(9468),_e=O(8306),ae=O(2202),fe=O(576),G=O(9672);function ne(Te,He){if(!Te)throw new Error("Iterable cannot be null");return new _e.y(Be=>{(0,G.f)(Be,He,()=>{const q=Te[Symbol.asyncIterator]();(0,G.f)(Be,He,()=>{q.next().then(Ee=>{Ee.done?Be.complete():Be.next(Ee.value)})},0,!0)})})}var ze=O(3670),Pe=O(8239),Re=O(1144),Ue=O(6495),ge=O(2206),De=O(4532),We=O(3260);function Ce(Te,He){return He?function Ae(Te,He){if(null!=Te){if((0,ze.c)(Te))return function ue(Te,He){return(0,u.Xf)(Te).pipe((0,R.R)(He),(0,ee.Q)(He))}(Te,He);if((0,Re.z)(Te))return function ce(Te,He){return new _e.y(Be=>{let q=0;return He.schedule(function(){q===Te.length?Be.complete():(Be.next(Te[q++]),Be.closed||this.schedule())})})}(Te,He);if((0,Pe.t)(Te))return function se(Te,He){return(0,u.Xf)(Te).pipe((0,R.R)(He),(0,ee.Q)(He))}(Te,He);if((0,ge.D)(Te))return ne(Te,He);if((0,Ue.T)(Te))return function H(Te,He){return new _e.y(Be=>{let q;return(0,G.f)(Be,He,()=>{q=Te[ae.h](),(0,G.f)(Be,He,()=>{let Ee,Y;try{({value:Ee,done:Y}=q.next())}catch(oe){return void Be.error(oe)}Y?Be.complete():Be.next(Ee)},0,!0)}),()=>(0,fe.m)(null==q?void 0:q.return)&&q.return()})}(Te,He);if((0,We.L)(Te))return function Qe(Te,He){return ne((0,We.Q)(Te),He)}(Te,He)}throw(0,De.z)(Te)}(Te,He):(0,u.Xf)(Te)}},8421:(nt,Ie,O)=>{O.d(Ie,{Xf:()=>ze});var u=O(655),ee=O(1144),R=O(8239),ue=O(8306),se=O(3670),_e=O(2206),ce=O(4532),ae=O(6495),fe=O(3260),G=O(576),H=O(7849),ne=O(8822);function ze(Ae){if(Ae instanceof ue.y)return Ae;if(null!=Ae){if((0,se.c)(Ae))return function Pe(Ae){return new ue.y(Ce=>{const Te=Ae[ne.L]();if((0,G.m)(Te.subscribe))return Te.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,ee.z)(Ae))return function Re(Ae){return new ue.y(Ce=>{for(let Te=0;Te<Ae.length&&!Ce.closed;Te++)Ce.next(Ae[Te]);Ce.complete()})}(Ae);if((0,R.t)(Ae))return function Ue(Ae){return new ue.y(Ce=>{Ae.then(Te=>{Ce.closed||(Ce.next(Te),Ce.complete())},Te=>Ce.error(Te)).then(null,H.h)})}(Ae);if((0,_e.D)(Ae))return De(Ae);if((0,ae.T)(Ae))return function ge(Ae){return new ue.y(Ce=>{for(const Te of Ae)if(Ce.next(Te),Ce.closed)return;Ce.complete()})}(Ae);if((0,fe.L)(Ae))return function We(Ae){return De((0,fe.Q)(Ae))}(Ae)}throw(0,ce.z)(Ae)}function De(Ae){return new ue.y(Ce=>{(function Qe(Ae,Ce){var Te,He,Be,q;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Te=(0,u.KL)(Ae);!(He=yield Te.next()).done;)if(Ce.next(He.value),Ce.closed)return}catch(Ee){Be={error:Ee}}finally{try{He&&!He.done&&(q=Te.return)&&(yield q.call(Te))}finally{if(Be)throw Be.error}}Ce.complete()})})(Ae,Ce).catch(Te=>Ce.error(Te))})}},6451:(nt,Ie,O)=>{O.d(Ie,{T:()=>_e});var u=O(8189),ee=O(8421),R=O(515),ue=O(7669),se=O(8996);function _e(...ce){const ae=(0,ue.yG)(ce),fe=(0,ue._6)(ce,1/0),G=ce;return G.length?1===G.length?(0,ee.Xf)(G[0]):(0,u.J)(fe)((0,se.D)(G,ae)):R.E}},5403:(nt,Ie,O)=>{O.d(Ie,{x:()=>ee});var u=O(2961);function ee(ue,se,_e,ce,ae){return new R(ue,se,_e,ce,ae)}class R extends u.Lv{constructor(se,_e,ce,ae,fe,G){super(se),this.onFinalize=fe,this.shouldUnsubscribe=G,this._next=_e?function(H){try{_e(H)}catch(ne){se.error(ne)}}:super._next,this._error=ae?function(H){try{ae(H)}catch(ne){se.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(H){se.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(nt,Ie,O)=>{O.d(Ie,{U:()=>R});var u=O(4482),ee=O(5403);function R(ue,se){return(0,u.e)((_e,ce)=>{let ae=0;_e.subscribe((0,ee.x)(ce,fe=>{ce.next(ue.call(se,fe,ae++))}))})}},8189:(nt,Ie,O)=>{O.d(Ie,{J:()=>R});var u=O(5577),ee=O(4671);function R(ue=1/0){return(0,u.z)(ee.y,ue)}},5577:(nt,Ie,O)=>{O.d(Ie,{z:()=>ae});var u=O(4004),ee=O(8421),R=O(4482),ue=O(9672),se=O(5403),ce=O(576);function ae(fe,G,H=1/0){return(0,ce.m)(G)?ae((ne,ze)=>(0,u.U)((Pe,Re)=>G(ne,Pe,ze,Re))((0,ee.Xf)(fe(ne,ze))),H):("number"==typeof G&&(H=G),(0,R.e)((ne,ze)=>function _e(fe,G,H,ne,ze,Pe,Re,Ue){const ge=[];let De=0,We=0,Qe=!1;const Ae=()=>{Qe&&!ge.length&&!De&&G.complete()},Ce=He=>De<ne?Te(He):ge.push(He),Te=He=>{Pe&&G.next(He),De++;let Be=!1;(0,ee.Xf)(H(He,We++)).subscribe((0,se.x)(G,q=>{null==ze||ze(q),Pe?Ce(q):G.next(q)},()=>{Be=!0},void 0,()=>{if(Be)try{for(De--;ge.length&&De<ne;){const q=ge.shift();Re?(0,ue.f)(G,Re,()=>Te(q)):Te(q)}Ae()}catch(q){G.error(q)}}))};return fe.subscribe((0,se.x)(G,Ce,()=>{Qe=!0,Ae()})),()=>{null==Ue||Ue()}}(ne,ze,fe,H)))}},5363:(nt,Ie,O)=>{O.d(Ie,{Q:()=>ue});var u=O(9672),ee=O(4482),R=O(5403);function ue(se,_e=0){return(0,ee.e)((ce,ae)=>{ce.subscribe((0,R.x)(ae,fe=>(0,u.f)(ae,se,()=>ae.next(fe),_e),()=>(0,u.f)(ae,se,()=>ae.complete(),_e),fe=>(0,u.f)(ae,se,()=>ae.error(fe),_e)))})}},3099:(nt,Ie,O)=>{O.d(Ie,{B:()=>_e});var u=O(8996),ee=O(5698),R=O(7579),ue=O(2961),se=O(4482);function _e(ae={}){const{connector:fe=(()=>new R.x),resetOnError:G=!0,resetOnComplete:H=!0,resetOnRefCountZero:ne=!0}=ae;return ze=>{let Pe=null,Re=null,Ue=null,ge=0,De=!1,We=!1;const Qe=()=>{null==Re||Re.unsubscribe(),Re=null},Ae=()=>{Qe(),Pe=Ue=null,De=We=!1},Ce=()=>{const Te=Pe;Ae(),null==Te||Te.unsubscribe()};return(0,se.e)((Te,He)=>{ge++,!We&&!De&&Qe();const Be=Ue=null!=Ue?Ue:fe();He.add(()=>{ge--,0===ge&&!We&&!De&&(Re=ce(Ce,ne))}),Be.subscribe(He),Pe||(Pe=new ue.Hp({next:q=>Be.next(q),error:q=>{We=!0,Qe(),Re=ce(Ae,G,q),Be.error(q)},complete:()=>{De=!0,Qe(),Re=ce(Ae,H),Be.complete()}}),(0,u.D)(Te).subscribe(Pe))})(ze)}}function ce(ae,fe,...G){return!0===fe?(ae(),null):!1===fe?null:fe(...G).pipe((0,ee.q)(1)).subscribe(()=>ae())}},9468:(nt,Ie,O)=>{O.d(Ie,{R:()=>ee});var u=O(4482);function ee(R,ue=0){return(0,u.e)((se,_e)=>{_e.add(R.schedule(()=>se.subscribe(_e),ue))})}},5698:(nt,Ie,O)=>{O.d(Ie,{q:()=>ue});var u=O(515),ee=O(4482),R=O(5403);function ue(se){return se<=0?()=>u.E:(0,ee.e)((_e,ce)=>{let ae=0;_e.subscribe((0,R.x)(ce,fe=>{++ae<=se&&(ce.next(fe),se<=ae&&ce.complete())}))})}},8505:(nt,Ie,O)=>{O.d(Ie,{b:()=>se});var u=O(576),ee=O(4482),R=O(5403),ue=O(4671);function se(_e,ce,ae){const fe=(0,u.m)(_e)||ce||ae?{next:_e,error:ce,complete:ae}:_e;return fe?(0,ee.e)((G,H)=>{var ne;null===(ne=fe.subscribe)||void 0===ne||ne.call(fe);let ze=!0;G.subscribe((0,R.x)(H,Pe=>{var Re;null===(Re=fe.next)||void 0===Re||Re.call(fe,Pe),H.next(Pe)},()=>{var Pe;ze=!1,null===(Pe=fe.complete)||void 0===Pe||Pe.call(fe),H.complete()},Pe=>{var Re;ze=!1,null===(Re=fe.error)||void 0===Re||Re.call(fe,Pe),H.error(Pe)},()=>{var Pe,Re;ze&&(null===(Pe=fe.unsubscribe)||void 0===Pe||Pe.call(fe)),null===(Re=fe.finalize)||void 0===Re||Re.call(fe)}))}):ue.y}},4408:(nt,Ie,O)=>{O.d(Ie,{o:()=>se});var u=O(727);class ee extends u.w0{constructor(ce,ae){super()}schedule(ce,ae=0){return this}}const R={setInterval(_e,ce,...ae){const{delegate:fe}=R;return(null==fe?void 0:fe.setInterval)?fe.setInterval(_e,ce,...ae):setInterval(_e,ce,...ae)},clearInterval(_e){const{delegate:ce}=R;return((null==ce?void 0:ce.clearInterval)||clearInterval)(_e)},delegate:void 0};var ue=O(8737);class se extends ee{constructor(ce,ae){super(ce,ae),this.scheduler=ce,this.work=ae,this.pending=!1}schedule(ce,ae=0){if(this.closed)return this;this.state=ce;const fe=this.id,G=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(G,fe,ae)),this.pending=!0,this.delay=ae,this.id=this.id||this.requestAsyncId(G,this.id,ae),this}requestAsyncId(ce,ae,fe=0){return R.setInterval(ce.flush.bind(ce,this),fe)}recycleAsyncId(ce,ae,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return ae;R.clearInterval(ae)}execute(ce,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ce,ae);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,ae){let G,fe=!1;try{this.work(ce)}catch(H){fe=!0,G=H||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ce,scheduler:ae}=this,{actions:fe}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(fe,this),null!=ce&&(this.id=this.recycleAsyncId(ae,ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(nt,Ie,O)=>{O.d(Ie,{v:()=>R});var u=O(6063);class ee{constructor(se,_e=ee.now){this.schedulerActionCtor=se,this.now=_e}schedule(se,_e=0,ce){return new this.schedulerActionCtor(this,se).schedule(ce,_e)}}ee.now=u.l.now;class R extends ee{constructor(se,_e=ee.now){super(se,_e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:_e}=this;if(this._active)return void _e.push(se);let ce;this._active=!0;do{if(ce=se.execute(se.state,se.delay))break}while(se=_e.shift());if(this._active=!1,ce){for(;se=_e.shift();)se.unsubscribe();throw ce}}}},4986:(nt,Ie,O)=>{O.d(Ie,{z:()=>R});var u=O(4408);const R=new(O(7565).v)(u.o)},6063:(nt,Ie,O)=>{O.d(Ie,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(nt,Ie,O)=>{O.d(Ie,{z:()=>u});const u={setTimeout(ee,R,...ue){const{delegate:se}=u;return(null==se?void 0:se.setTimeout)?se.setTimeout(ee,R,...ue):setTimeout(ee,R,...ue)},clearTimeout(ee){const{delegate:R}=u;return((null==R?void 0:R.clearTimeout)||clearTimeout)(ee)},delegate:void 0}},2202:(nt,Ie,O)=>{O.d(Ie,{h:()=>ee});const ee=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nt,Ie,O)=>{O.d(Ie,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(nt,Ie,O)=>{O.d(Ie,{_6:()=>_e,jO:()=>ue,yG:()=>se});var u=O(576);function R(ce){return ce[ce.length-1]}function ue(ce){return(0,u.m)(R(ce))?ce.pop():void 0}function se(ce){return function ee(ce){return ce&&(0,u.m)(ce.schedule)}(R(ce))?ce.pop():void 0}function _e(ce,ae){return"number"==typeof R(ce)?ce.pop():ae}},8737:(nt,Ie,O)=>{function u(ee,R){if(ee){const ue=ee.indexOf(R);0<=ue&&ee.splice(ue,1)}}O.d(Ie,{P:()=>u})},3888:(nt,Ie,O)=>{function u(ee){const ue=ee(se=>{Error.call(se),se.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}O.d(Ie,{d:()=>u})},2806:(nt,Ie,O)=>{O.d(Ie,{O:()=>ue,x:()=>R});var u=O(2416);let ee=null;function R(se){if(u.v.useDeprecatedSynchronousErrorHandling){const _e=!ee;if(_e&&(ee={errorThrown:!1,error:null}),se(),_e){const{errorThrown:ce,error:ae}=ee;if(ee=null,ce)throw ae}}else se()}function ue(se){u.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=se)}},9672:(nt,Ie,O)=>{function u(ee,R,ue,se=0,_e=!1){const ce=R.schedule(function(){ue(),_e?ee.add(this.schedule(null,se)):this.unsubscribe()},se);if(ee.add(ce),!_e)return ce}O.d(Ie,{f:()=>u})},4671:(nt,Ie,O)=>{function u(ee){return ee}O.d(Ie,{y:()=>u})},1144:(nt,Ie,O)=>{O.d(Ie,{z:()=>u});const u=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(nt,Ie,O)=>{O.d(Ie,{D:()=>ee});var u=O(576);function ee(R){return Symbol.asyncIterator&&(0,u.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(nt,Ie,O)=>{function u(ee){return"function"==typeof ee}O.d(Ie,{m:()=>u})},3670:(nt,Ie,O)=>{O.d(Ie,{c:()=>R});var u=O(8822),ee=O(576);function R(ue){return(0,ee.m)(ue[u.L])}},6495:(nt,Ie,O)=>{O.d(Ie,{T:()=>R});var u=O(2202),ee=O(576);function R(ue){return(0,ee.m)(null==ue?void 0:ue[u.h])}},8239:(nt,Ie,O)=>{O.d(Ie,{t:()=>ee});var u=O(576);function ee(R){return(0,u.m)(null==R?void 0:R.then)}},3260:(nt,Ie,O)=>{O.d(Ie,{L:()=>ue,Q:()=>R});var u=O(655),ee=O(576);function R(se){return(0,u.FC)(this,arguments,function*(){const ce=se.getReader();try{for(;;){const{value:ae,done:fe}=yield(0,u.qq)(ce.read());if(fe)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ae)}}finally{ce.releaseLock()}})}function ue(se){return(0,ee.m)(null==se?void 0:se.getReader)}},4482:(nt,Ie,O)=>{O.d(Ie,{A:()=>ee,e:()=>R});var u=O(576);function ee(ue){return(0,u.m)(null==ue?void 0:ue.lift)}function R(ue){return se=>{if(ee(se))return se.lift(function(_e){try{return ue(_e,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(nt,Ie,O)=>{O.d(Ie,{h:()=>R});var u=O(2416),ee=O(3410);function R(ue){ee.z.setTimeout(()=>{const{onUnhandledError:se}=u.v;if(!se)throw ue;se(ue)})}},4532:(nt,Ie,O)=>{function u(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Ie,{z:()=>u})},655:(nt,Ie,O)=>{function ue(Y,oe){var te={};for(var ye in Y)Object.prototype.hasOwnProperty.call(Y,ye)&&oe.indexOf(ye)<0&&(te[ye]=Y[ye]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var le=0;for(ye=Object.getOwnPropertySymbols(Y);le<ye.length;le++)oe.indexOf(ye[le])<0&&Object.prototype.propertyIsEnumerable.call(Y,ye[le])&&(te[ye[le]]=Y[ye[le]])}return te}function ae(Y,oe,te,ye){return new(te||(te=Promise))(function(Ne,ft){function Gt(nn){try{Ye(ye.next(nn))}catch(In){ft(In)}}function jt(nn){try{Ye(ye.throw(nn))}catch(In){ft(In)}}function Ye(nn){nn.done?Ne(nn.value):function le(Ne){return Ne instanceof te?Ne:new te(function(ft){ft(Ne)})}(nn.value).then(Gt,jt)}Ye((ye=ye.apply(Y,oe||[])).next())})}function ge(Y){return this instanceof ge?(this.v=Y,this):new ge(Y)}function De(Y,oe,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,ye=te.apply(Y,oe||[]),Ne=[];return le={},ft("next"),ft("throw"),ft("return"),le[Symbol.asyncIterator]=function(){return this},le;function ft(on){ye[on]&&(le[on]=function(Jt){return new Promise(function(Or,Kt){Ne.push([on,Jt,Or,Kt])>1||Gt(on,Jt)})})}function Gt(on,Jt){try{!function jt(on){on.value instanceof ge?Promise.resolve(on.value.v).then(Ye,nn):In(Ne[0][2],on)}(ye[on](Jt))}catch(Or){In(Ne[0][3],Or)}}function Ye(on){Gt("next",on)}function nn(on){Gt("throw",on)}function In(on,Jt){on(Jt),Ne.shift(),Ne.length&&Gt(Ne[0][0],Ne[0][1])}}function Qe(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,oe=Y[Symbol.asyncIterator];return oe?oe.call(Y):(Y=function ne(Y){var oe="function"==typeof Symbol&&Symbol.iterator,te=oe&&Y[oe],ye=0;if(te)return te.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&ye>=Y.length&&(Y=void 0),{value:Y&&Y[ye++],done:!Y}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),te={},ye("next"),ye("throw"),ye("return"),te[Symbol.asyncIterator]=function(){return this},te);function ye(Ne){te[Ne]=Y[Ne]&&function(ft){return new Promise(function(Gt,jt){!function le(Ne,ft,Gt,jt){Promise.resolve(jt).then(function(Ye){Ne({value:Ye,done:Gt})},ft)}(Gt,jt,(ft=Y[Ne](ft)).done,ft.value)})}}}O.d(Ie,{FC:()=>De,KL:()=>Qe,_T:()=>ue,mG:()=>ae,qq:()=>ge})},5e3:(nt,Ie,O)=>{O.d(Ie,{$8M:()=>Ao,$Z:()=>hE,AFp:()=>TC,ALo:()=>G0,AaK:()=>ae,AsE:()=>Gm,BQk:()=>Lm,CHM:()=>_o,CRH:()=>yC,CZH:()=>nw,CqO:()=>gE,DdM:()=>B0,EJc:()=>xC,EpF:()=>cu,F$t:()=>Uv,F4k:()=>Nv,FYo:()=>tC,FiY:()=>Sr,G48:()=>Vp,Gf:()=>mr,GfV:()=>R0,GkF:()=>Vm,Gpc:()=>H,HTZ:()=>Lc,Hsn:()=>_E,JOm:()=>k,LFG:()=>at,LSH:()=>Wa,Lbi:()=>LD,MAs:()=>Iv,NdJ:()=>Um,O4$:()=>bd,OlP:()=>wn,Oqu:()=>Jv,PXZ:()=>FC,Q6J:()=>lh,QGY:()=>Rv,Qsj:()=>nC,R0b:()=>Ui,RDi:()=>ku,Rgc:()=>Ge,SBq:()=>mp,Sil:()=>iw,Suo:()=>jc,TTD:()=>Zi,TgZ:()=>Gf,Tol:()=>ll,Udp:()=>zv,VKq:()=>j0,VLi:()=>HD,W1O:()=>C_,WLB:()=>wp,X6Q:()=>UC,XFs:()=>wt,Xpm:()=>_t,Y36:()=>ah,YKP:()=>F0,YNc:()=>Bf,Yjl:()=>xa,Yz7:()=>Jt,ZZ4:()=>Yc,_Bn:()=>hp,_UZ:()=>fE,_Vd:()=>c_,_c5:()=>eS,_uU:()=>ME,aQg:()=>H_,c2e:()=>wh,cJS:()=>Kt,cg1:()=>h0,dDg:()=>lw,deG:()=>Yh,dqk:()=>Ht,eFA:()=>Ch,ekj:()=>Mr,g9A:()=>SC,h0i:()=>Fc,hGG:()=>KC,hij:()=>ul,iGM:()=>_C,ifc:()=>Zt,ip1:()=>$r,kL8:()=>f0,kcU:()=>wg,l5B:()=>H0,lG2:()=>El,lcZ:()=>Vc,n5z:()=>xn,oAB:()=>Nr,oxw:()=>Vv,q4F:()=>wa,qLn:()=>Jd,qOj:()=>Qb,qZA:()=>Fm,sBO:()=>Yt,sIi:()=>bc,s_b:()=>v_,soG:()=>P_,tBr:()=>Ri,tb:()=>AC,tp0:()=>no,uIk:()=>Am,vHH:()=>Re,vpe:()=>Je,wAp:()=>Et,xp6:()=>oT,ynx:()=>Zf,z2F:()=>N_,zSh:()=>sv,zs3:()=>No});var u=O(7579),ee=O(727),R=O(8306),ue=O(6451),se=O(3099);function _e(s){for(let o in s)if(s[o]===_e)return o;throw Error("Could not find renamed property on target object.")}function ce(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ae(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ae).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function fe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=_e({__forward_ref__:_e});function H(s){return s.__forward_ref__=H,s.toString=function(){return ae(this())},s}function ne(s){return ze(s)?s():s}function ze(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===H}class Re extends Error{constructor(o,l){super(function Ue(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function ge(s){return"string"==typeof s?s:null==s?"":String(s)}function De(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ge(s)}function Ce(s,o){const l=o?` in ${o}`:"";throw new Re(-201,`No provider for ${De(s)} found${l}`)}function jt(s,o){null==s&&function Ye(s,o,l,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${l} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function Jt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Kt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ut(s){return us(s,Bi)||us(s,ui)}function us(s,o){return s.hasOwnProperty(o)?s[o]:null}function Rr(s){return s&&(s.hasOwnProperty(Vs)||s.hasOwnProperty(Si))?s[Vs]:null}const Bi=_e({\u0275prov:_e}),Vs=_e({\u0275inj:_e}),ui=_e({ngInjectableDef:_e}),Si=_e({ngInjectorDef:_e});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let ci;function Tn(s){const o=ci;return ci=s,o}function lo(s,o,l){const c=Ut(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&wt.Optional?null:void 0!==o?o:void Ce(ae(s),"Injector")}function er(s){return{toString:s}.toString()}var On=(()=>((On=On||{})[On.OnPush=0]="OnPush",On[On.Default=1]="Default",On))(),Zt=(()=>{return(s=Zt||(Zt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Zt;var s})();const ct="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,vr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ht=ct||"undefined"!=typeof global&&global||It||vr,br={},U=[],z=_e({\u0275cmp:_e}),W=_e({\u0275dir:_e}),Se=_e({\u0275pipe:_e}),Z=_e({\u0275mod:_e}),X=_e({\u0275fac:_e}),ke=_e({__NG_ELEMENT_ID__:_e});let et=0;function _t(s){return er(()=>{const l={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===On.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||U,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Zt.Emulated,id:"c",styles:s.styles||U,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,g=s.features,v=s.pipes;return c.id+=et++,c.inputs=Aa(s.inputs,l),c.outputs=Aa(s.outputs),g&&g.forEach(b=>b(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(fn):null,c.pipeDefs=v?()=>("function"==typeof v?v():v).map(Tt):null,c})}function fn(s){return Gn(s)||function Fr(s){return s[W]||null}(s)}function Tt(s){return function cs(s){return s[Se]||null}(s)}const qn={};function Nr(s){return er(()=>{const o={type:s.type,bootstrap:s.bootstrap||U,declarations:s.declarations||U,imports:s.imports||U,exports:s.exports||U,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(qn[s.id]=s.type),o})}function Aa(s,o){if(null==s)return br;const l={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=c,o&&(o[h]=g)}return l}const El=_t;function xa(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Gn(s){return s[z]||null}function Zn(s,o){const l=s[Z]||null;if(!l&&!0===o)throw new Error(`Type ${ae(s)} does not have '\u0275mod' property.`);return l}function Kr(s){return Array.isArray(s)&&"object"==typeof s[1]}function $i(s){return Array.isArray(s)&&!0===s[1]}function Tl(s){return 0!=(8&s.flags)}function sd(s){return 2==(2&s.flags)}function qi(s){return 1==(1&s.flags)}function Gi(s){return null!==s.template}function Dl(s){return 0!=(512&s[2])}function Cr(s,o){return s.hasOwnProperty(X)?s[X]:null}class fo{constructor(o,l,c){this.previousValue=o,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function Zi(){return zo}function zo(s){return s.type.prototype.ngOnChanges&&(s.setInput=zh),fd}function fd(){const s=po(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===br)s.previous=o;else for(let c in o)l[c]=o[c];s.current=null,this.ngOnChanges(o)}}function zh(s,o,l,c){const h=po(s)||function Ko(s,o){return s[Wo]=o}(s,{previous:br,current:null}),g=h.current||(h.current={}),v=h.previous,b=this.declaredInputs[l],C=v[b];g[b]=new fo(C&&C.currentValue,o,v===br),s[c]=o}Zi.ngInherit=!0;const Wo="__ngSimpleChanges__";function po(s){return s[Wo]||null}let Qo;function ku(s){Qo=s}function ln(s){return!!s.listen}const Na={createRenderer:(s,o)=>function zi(){return void 0!==Qo?Qo:"undefined"!=typeof document?document:void 0}()};function Xt(s){for(;Array.isArray(s);)s=s[0];return s}function qs(s,o){return Xt(o[s])}function ur(s,o){return Xt(o[s.index])}function yn(s,o){return s.data[o]}function Wi(s,o){return s[o]}function cr(s,o){const l=o[s];return Kr(l)?l:l[0]}function mo(s){return 4==(4&s[2])}function hs(s){return 128==(128&s[2])}function Mi(s,o){return null==o?null:s[o]}function Ki(s){s[18]=0}function Jo(s,o){s[5]+=o;let l=s,c=s[3];for(;null!==c&&(1===o&&1===l[5]||-1===o&&0===l[5]);)c[5]+=o,l=c,c=c[3]}const bt={lFrame:ta(null),bindingsEnabled:!0};function Ml(){return bt.bindingsEnabled}function xe(){return bt.lFrame.lView}function Bt(){return bt.lFrame.tView}function _o(s){return bt.lFrame.contextLView=s,s[8]}function _n(){let s=Pl();for(;null!==s&&64===s.type;)s=s.parent;return s}function Pl(){return bt.lFrame.currentTNode}function pi(s,o){const l=bt.lFrame;l.currentTNode=s,l.isParent=o}function Lu(){return bt.lFrame.isParent}function Vu(){bt.lFrame.isParent=!1}function Ir(){const s=bt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Zs(){return bt.lFrame.bindingIndex++}function Pi(s){const o=bt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function Rl(s,o){const l=bt.lFrame;l.bindingIndex=l.bindingRootIndex=s,ea(o)}function ea(s){bt.lFrame.currentDirectiveIndex=s}function Fl(){return bt.lFrame.currentQueryIndex}function _d(s){bt.lFrame.currentQueryIndex=s}function yd(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ll(s,o,l){if(l&wt.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&wt.Host||(h=yd(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const c=bt.lFrame=vd();return c.currentTNode=o,c.lView=s,!0}function vo(s){const o=vd(),l=s[1];bt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function vd(){const s=bt.lFrame,o=null===s?null:s.child;return null===o?ta(s):o}function ta(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function wd(){const s=bt.lFrame;return bt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Vl=wd;function Yr(){const s=wd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function tr(){return bt.lFrame.selectedIndex}function wo(s){bt.lFrame.selectedIndex=s}function Fn(){const s=bt.lFrame;return yn(s.tView,s.selectedIndex)}function bd(){bt.lFrame.currentNamespace="svg"}function wg(){!function Ed(){bt.lFrame.currentNamespace=null}()}function Ua(s,o){for(let l=o.directiveStart,c=o.directiveEnd;l<c;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:A,ngOnDestroy:M}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),b&&((s.contentHooks||(s.contentHooks=[])).push(l,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,b)),C&&(s.viewHooks||(s.viewHooks=[])).push(-l,C),A&&((s.viewHooks||(s.viewHooks=[])).push(l,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,A)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(l,M)}}function ps(s,o,l){Cd(s,o,3,l)}function bo(s,o,l,c){(3&s[2])===l&&Cd(s,o,l,c)}function zn(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Cd(s,o,l,c){const g=null!=c?c:-1,v=o.length-1;let b=0;for(let C=void 0!==c?65535&s[18]:0;C<v;C++)if("number"==typeof o[C+1]){if(b=o[C],null!=c&&b>=c)break}else o[C]<0&&(s[18]+=65536),(b<g||-1==g)&&(Eg(s,l,o,C),s[18]=(4294901760&s[18])+C+2),C++}function Eg(s,o,l,c){const h=l[c]<0,g=l[c+1],b=s[h?-l[c]:l[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(b)}finally{}}}else try{g.call(b)}finally{}}class na{constructor(o,l,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function Sn(s,o,l){const c=ln(s);let h=0;for(;h<l.length;){const g=l[h];if("number"==typeof g){if(0!==g)break;h++;const v=l[h++],b=l[h++],C=l[h++];c?s.setAttribute(o,b,C,v):o.setAttributeNS(v,b,C)}else{const v=g,b=l[++h];Ln(v)?c&&s.setProperty(o,v,b):c?s.setAttribute(o,v,b):o.setAttribute(v,b),h++}}return h}function mi(s){return 3===s||4===s||6===s}function Ln(s){return 64===s.charCodeAt(0)}function ja(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?l=h:0===l||Id(s,l,h,null,-1===l||2===l?o[++c]:null)}}return s}function Id(s,o,l,c,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const b=s[g++];if("number"==typeof b){if(b===o){v=-1;break}if(b>o){v=g-1;break}}}for(;g<s.length;){const b=s[g];if("number"==typeof b)break;if(b===l){if(null===c)return void(null!==h&&(s[g+1]=h));if(c===s[g+1])return void(s[g+2]=h)}g++,null!==c&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,l),null!==c&&s.splice(g++,0,c),null!==h&&s.splice(g++,0,h)}function ra(s){return-1!==s}function zs(s){return 32767&s}function Ws(s,o){let l=function An(s){return s>>16}(s),c=o;for(;l>0;)c=c[15],l--;return c}let Yi=!0;function Pt(s){const o=Yi;return Yi=s,o}let qu=0;function Ks(s,o){const l=Co(s,o);if(-1!==l)return l;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,ia(c.data,s),ia(o,null),ia(c.blueprint,null));const h=dr(s,o),g=s.injectorIndex;if(ra(h)){const v=zs(h),b=Ws(h,o),C=b[1].data;for(let A=0;A<8;A++)o[g+A]=b[v+A]|C[v+A]}return o[g+8]=h,g}function ia(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Co(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function dr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,c=null,h=o;for(;null!==h;){const g=h[1],v=g.type;if(c=2===v?g.declTNode:1===v?h[6]:null,null===c)return-1;if(l++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return-1}function Io(s,o,l){!function nr(s,o,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(ke)&&(c=l[ke]),null==c&&(c=l[ke]=qu++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function sa(s,o,l){if(l&wt.Optional)return s;Ce(o,"NodeInjector")}function Ys(s,o,l,c){if(l&wt.Optional&&void 0===c&&(c=null),0==(l&(wt.Self|wt.Host))){const h=s[9],g=Tn(void 0);try{return h?h.get(o,c,l&wt.Optional):lo(o,c,l&wt.Optional)}finally{Tn(g)}}return sa(c,o,l)}function oa(s,o,l,c=wt.Default,h){if(null!==s){const g=function Do(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ke)?s[ke]:void 0;return"number"==typeof o?o>=0?255&o:aa:o}(l);if("function"==typeof g){if(!Ll(o,s,c))return c&wt.Host?sa(h,l,c):Ys(o,l,c,h);try{const v=g(c);if(null!=v||c&wt.Optional)return v;Ce(l)}finally{Vl()}}else if("number"==typeof g){let v=null,b=Co(s,o),C=-1,A=c&wt.Host?o[16][6]:null;for((-1===b||c&wt.SkipSelf)&&(C=-1===b?dr(s,o):o[b+8],-1!==C&&Zu(c,!1)?(v=o[1],b=zs(C),o=Ws(C,o)):b=-1);-1!==b;){const M=o[1];if(rr(g,b,M.data)){const F=Gu(b,o,l,v,c,A);if(F!==Qs)return F}C=o[b+8],-1!==C&&Zu(c,o[1].data[b+8]===A)&&rr(g,b,o)?(v=M,b=zs(C),o=Ws(C,o)):b=-1}}}return Ys(o,l,c,h)}const Qs={};function aa(){return new Js(_n(),xe())}function Gu(s,o,l,c,h,g){const v=o[1],b=v.data[s+8],M=Ha(b,v,l,null==c?sd(b)&&Yi:c!=v&&0!=(3&b.type),h&wt.Host&&g===b);return null!==M?ms(o,v,M,b):Qs}function Ha(s,o,l,c,h){const g=s.providerIndexes,v=o.data,b=1048575&g,C=s.directiveStart,M=g>>20,j=h?b+M:s.directiveEnd;for(let J=c?b:b+M;J<j;J++){const be=v[J];if(J<C&&l===be||J>=C&&be.type===l)return J}if(h){const J=v[C];if(J&&Gi(J)&&J.type===l)return C}return null}function ms(s,o,l,c){let h=s[l];const g=o.data;if(function Ul(s){return s instanceof na}(h)){const v=h;v.resolving&&function We(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Re(-200,`Circular dependency in DI detected for ${s}${l}`)}(De(g[l]));const b=Pt(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?Tn(v.injectImpl):null;Ll(s,c,wt.Default);try{h=s[l]=v.factory(void 0,g,s,c),o.firstCreatePass&&l>=c.directiveStart&&function gy(s,o,l){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(c){const v=zo(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==C&&Tn(C),Pt(b),v.resolving=!1,Vl()}}return h}function rr(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Zu(s,o){return!(s&wt.Self||s&wt.Host&&o)}class Js{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,c){return oa(this._tNode,this._lView,o,c,l)}}function xn(s){return er(()=>{const o=s.prototype.constructor,l=o[X]||So(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const g=h[X]||So(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function So(s){return ze(s)?()=>{const o=So(ne(s));return o&&o()}:Cr(s)}function Ao(s){return function To(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const c=l.length;let h=0;for(;h<c;){const g=l[h];if(mi(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<c&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(_n(),s)}const Qi="__parameters__";function Ji(s,o,l){return er(()=>{const c=function Wn(s){return function(...l){if(s){const c=s(...l);for(const h in c)this[h]=c[h]}}}(o);function h(...g){if(this instanceof h)return c.apply(this,g),this;const v=new h(...g);return b.annotation=v,b;function b(C,A,M){const F=C.hasOwnProperty(Qi)?C[Qi]:Object.defineProperty(C,Qi,{value:[]})[Qi];for(;F.length<=M;)F.push(null);return(F[M]=F[M]||[]).push(v),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class wn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Jt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Yh=new wn("AnalyzeForEntryComponents");function Tr(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let c=s[l];Array.isArray(c)?(o===s&&(o=s.slice(0,l)),Tr(c,o)):o!==s&&o.push(c)}return o}function Br(s,o){s.forEach(l=>Array.isArray(l)?Br(l,o):o(l))}function qa(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function ua(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function vs(s,o){const l=[];for(let c=0;c<s;c++)l.push(o);return l}function Dr(s,o,l){let c=ha(s,o);return c>=0?s[1|c]=l:(c=~c,function ca(s,o,l,c){let h=s.length;if(h==o)s.push(l,c);else if(1===h)s.push(c,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=c}}(s,c,o,l)),c}function Ga(s,o){const l=ha(s,o);if(l>=0)return s[1|l]}function ha(s,o){return function bs(s,o,l){let c=0,h=s.length>>l;for(;h!==c;){const g=c+(h-c>>1),v=s[g<<l];if(o===v)return g<<l;v>o?h=g:c=g+1}return~(h<<l)}(s,o,1)}const to={},fa="__NG_DI_FLAG__",Za="ngTempTokenPath",T=/\n/gm,L="__source",Q=_e({provide:String,useValue:_e});let ie;function me(s){const o=ie;return ie=s,o}function Xe(s,o=wt.Default){if(void 0===ie)throw new Re(203,"");return null===ie?lo(s,void 0,o):ie.get(s,o&wt.Optional?null:void 0,o)}function at(s,o=wt.Default){return(function vn(){return ci}()||Xe)(ne(s),o)}const zt=at;function xt(s){const o=[];for(let l=0;l<s.length;l++){const c=ne(s[l]);if(Array.isArray(c)){if(0===c.length)throw new Re(900,"");let h,g=wt.Default;for(let v=0;v<c.length;v++){const b=c[v],C=ir(b);"number"==typeof C?-1===C?h=b.token:g|=C:h=b}o.push(at(h,g))}else o.push(at(c))}return o}function Un(s,o){return s[fa]=o,s.prototype[fa]=o,s}function ir(s){return s[fa]}const Ri=Un(Ji("Inject",s=>({token:s})),-1),Sr=Un(Ji("Optional"),8),no=Un(Ji("SkipSelf"),4);class Bd{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ni(s){return s instanceof Bd?s.changingThisBreaksApplicationSecurity:s}const by=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,za=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Bn=(()=>((Bn=Bn||{})[Bn.NONE=0]="NONE",Bn[Bn.HTML=1]="HTML",Bn[Bn.STYLE=2]="STYLE",Bn[Bn.SCRIPT=3]="SCRIPT",Bn[Bn.URL=4]="URL",Bn[Bn.RESOURCE_URL=5]="RESOURCE_URL",Bn))();function Wa(s){const o=function Jl(){const s=xe();return s&&s[12]}();return o?o.sanitize(Bn.URL,s)||"":function Po(s,o){const l=function tc(s){return s instanceof Bd&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}(s,"URL")?Ni(s):function nc(s){return(s=String(s)).match(by)||s.match(za)?s:"unsafe:"+s}(ge(s))}const Kd="__ngContext__";function pr(s,o){s[Kd]=o}function hf(s){const o=function Xl(s){return s[Kd]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Qd(s){return s.ngOriginalError}function ky(s,...o){s.error(...o)}class Jd{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),c=function Py(s){return s&&s.ngErrorLogger||ky}(o);c(this._console,"ERROR",o),l&&c(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Qd(o);for(;l&&Qd(l);)l=Qd(l);return l||null}}const _f=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ht))();function y(s){return s instanceof Function?s():s}var k=(()=>((k=k||{})[k.Important=1]="Important",k[k.DashCase=2]="DashCase",k))();function pe(s,o){return undefined(s,o)}function mt(s){const o=s[3];return $i(o)?o[3]:o}function yi(s){return yf(s[13])}function eu(s){return yf(s[4])}function yf(s){for(;null!==s&&!$i(s);)s=s[4];return s}function Qa(s,o,l,c,h){if(null!=c){let g,v=!1;$i(c)?g=c:Kr(c)&&(v=!0,c=c[0]);const b=Xt(c);0===s&&null!==l?null==h?ib(o,l,b):ru(o,l,b,h||null,!0):1===s&&null!==l?ru(o,l,b,h||null,!0):2===s?function db(s,o,l){const c=Kg(s,o);c&&function ob(s,o,l,c){ln(s)?s.removeChild(o,l,c):o.removeChild(l)}(s,c,o,l)}(o,b,v):3===s&&o.destroyNode(b),null!=g&&function XI(s,o,l,c,h){const g=l[7];g!==Xt(l)&&Qa(o,s,c,g,h);for(let b=10;b<l.length;b++){const C=l[b];Ef(C[1],C,s,o,c,g)}}(o,s,g,l,h)}}function Kn(s,o,l){if(ln(s))return s.createElement(o,l);{const c=null!==l?function Pu(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===c?s.createElement(o):s.createElementNS(c,o)}}function tb(s,o){const l=s[9],c=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Jo(h,-1)),l.splice(c,1)}function zg(s,o){if(s.length<=10)return;const l=10+o,c=s[l];if(c){const h=c[17];null!==h&&h!==s&&tb(h,c),o>0&&(s[l-1][4]=c[4]);const g=ua(s,10+o);!function vf(s,o){Ef(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const v=g[19];null!==v&&v.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function nb(s,o){if(!(256&o[2])){const l=o[11];ln(l)&&l.destroyNode&&Ef(s,o,l,3,null,null),function Ja(s){let o=s[13];if(!o)return Wg(s[1],s);for(;o;){let l=null;if(Kr(o))l=o[13];else{const c=o[10];c&&(l=c)}if(!l){for(;o&&!o[4]&&o!==s;)Kr(o)&&Wg(o[1],o),o=o[3];null===o&&(o=s),Kr(o)&&Wg(o[1],o),l=o&&o[4]}o=l}}(o)}}function Wg(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Ny(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let c=0;c<l.length;c+=2){const h=o[l[c]];if(!(h instanceof na)){const g=l[c+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const b=h[g[v]],C=g[v+1];try{C.call(b)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function rb(s,o){const l=s.cleanup,c=o[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],b="function"==typeof v?v(o):Xt(o[v]),C=c[h=l[g+2]],A=l[g+3];"boolean"==typeof A?b.removeEventListener(l[g],C,A):A>=0?c[h=A]():c[h=-A].unsubscribe(),g+=2}else{const v=c[h=l[g+1]];l[g].call(v)}if(null!==c){for(let g=h+1;g<c.length;g++)c[g]();o[7]=null}}(s,o),1===o[1].type&&ln(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&$i(o[3])){l!==o[3]&&tb(l,o);const c=o[19];null!==c&&c.detachView(s)}}}function QI(s,o,l){return function nu(s,o,l){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return l[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===Zt.None||h===Zt.Emulated)return null}return ur(c,l)}(s,o.parent,l)}function ru(s,o,l,c,h){ln(s)?s.insertBefore(o,l,c,h):o.insertBefore(l,c,h)}function ib(s,o,l){ln(s)?s.appendChild(o,l):o.appendChild(l)}function sb(s,o,l,c,h){null!==c?ru(s,o,l,c,h):ib(s,o,l)}function Kg(s,o){return ln(s)?s.parentNode(o):o.parentNode}function ab(s,o,l){return lb(s,o,l)}let lb=function Fy(s,o,l){return 40&s.type?ur(s,l):null};function eh(s,o,l,c){const h=QI(s,c,o),g=o[11],b=ab(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)sb(g,h,l[C],b,!1);else sb(g,h,l,b,!1)}function Yg(s,o){if(null!==o){const l=o.type;if(3&l)return ur(o,s);if(4&l)return Qg(-1,s[o.index]);if(8&l){const c=o.child;if(null!==c)return Yg(s,c);{const h=s[o.index];return $i(h)?Qg(-1,h):Xt(h)}}if(32&l)return pe(o,s)()||Xt(s[o.index]);{const c=cb(s,o);return null!==c?Array.isArray(c)?c[0]:Yg(mt(s[16]),c):Yg(s,o.next)}}return null}function cb(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Qg(s,o){const l=10+s+1;if(l<o.length){const c=o[l],h=c[1].firstChild;if(null!==h)return Yg(c,h)}return o[7]}function hb(s,o,l,c,h,g,v){for(;null!=l;){const b=c[l.index],C=l.type;if(v&&0===o&&(b&&pr(Xt(b),c),l.flags|=4),64!=(64&l.flags))if(8&C)hb(s,o,l.child,c,h,g,!1),Qa(o,s,h,b,g);else if(32&C){const A=pe(l,c);let M;for(;M=A();)Qa(o,s,h,M,g);Qa(o,s,h,b,g)}else 16&C?fb(s,o,c,l,h,g):Qa(o,s,h,b,g);l=v?l.projectionNext:l.next}}function Ef(s,o,l,c,h,g){hb(l,c,s.firstChild,o,h,g,!1)}function fb(s,o,l,c,h,g){const v=l[16],C=v[6].projection[c.projection];if(Array.isArray(C))for(let A=0;A<C.length;A++)Qa(o,s,h,C[A],g);else hb(s,o,C,v[3],h,g,!0)}function Vy(s,o,l){ln(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function Xg(s,o,l){ln(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function em(s,o,l){let c=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===c||s.charCodeAt(h+g)<=32)return h}l=h+1}}const vi="ng-template";function pb(s,o,l){let c=0;for(;c<s.length;){let h=s[c++];if(l&&"class"===h){if(h=s[c],-1!==em(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Cf(s){return 4===s.type&&s.value!==vi}function tT(s,o,l){return o===(4!==s.type||l?s.value:vi)}function Rx(s,o,l){let c=4;const h=s.attrs||[],g=function rT(s){for(let o=0;o<s.length;o++)if(mi(s[o]))return o;return s.length}(h);let v=!1;for(let b=0;b<o.length;b++){const C=o[b];if("number"!=typeof C){if(!v)if(4&c){if(c=2|1&c,""!==C&&!tT(s,C,l)||""===C&&1===o.length){if(Oo(c))return!1;v=!0}}else{const A=8&c?C:o[++b];if(8&c&&null!==s.attrs){if(!pb(s.attrs,A,l)){if(Oo(c))return!1;v=!0}continue}const F=Uy(8&c?"class":C,h,Cf(s),l);if(-1===F){if(Oo(c))return!1;v=!0;continue}if(""!==A){let j;j=F>g?"":h[F+1].toLowerCase();const J=8&c?j:null;if(J&&-1!==em(J,A,0)||2&c&&A!==j){if(Oo(c))return!1;v=!0}}}}else{if(!v&&!Oo(c)&&!Oo(C))return!1;if(v&&Oo(C))continue;v=!1,c=C|1&c}}return Oo(c)||v}function Oo(s){return 0==(1&s)}function Uy(s,o,l,c){if(null===o)return-1;let h=0;if(c||!l){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function iT(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const c=s[l];if("number"==typeof c)return-1;if(c===o)return l;l++}return-1}(o,s)}function nT(s,o,l=!1){for(let c=0;c<o.length;c++)if(Rx(s,o[c],l))return!0;return!1}function Fx(s,o){e:for(let l=0;l<o.length;l++){const c=o[l];if(s.length===c.length){for(let h=0;h<s.length;h++)if(s[h]!==c[h])continue e;return!0}}return!1}function sT(s,o){return s?":not("+o.trim()+")":o}function Lx(s){let o=s[0],l=1,c=2,h="",g=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&c){const b=s[++l];h+="["+v+(b.length>0?'="'+b+'"':"")+"]"}else 8&c?h+="."+v:4&c&&(h+=" "+v);else""!==h&&!Oo(v)&&(o+=sT(g,h),h=""),c=v,g=g||!Oo(c);l++}return""!==h&&(o+=sT(g,h)),o}const Vt={};function oT(s){aT(Bt(),xe(),tr()+s,!1)}function aT(s,o,l,c){if(!c)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&ps(o,g,l)}else{const g=s.preOrderHooks;null!==g&&bo(o,g,0,l)}wo(l)}function rs(s,o){return s<<17|o<<2}function wi(s){return s>>17&32767}function tm(s){return 2|s}function Xa(s){return(131068&s)>>2}function By(s,o){return-131069&s|o<<2}function Ts(s){return 1|s}function fm(s,o){const l=s.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const h=l[c],g=l[c+1];if(-1!==g){const v=s.data[g];_d(h),v.contentQueries(2,o[g],g)}}}function Tf(s,o,l,c,h,g,v,b,C,A){const M=o.blueprint.slice();return M[0]=h,M[2]=140|c,Ki(M),M[3]=M[15]=s,M[8]=l,M[10]=v||s&&s[10],M[11]=b||s&&s[11],M[12]=C||s&&s[12]||null,M[9]=A||s&&s[9]||null,M[6]=g,M[16]=2==o.type?s[16]:M,M}function nl(s,o,l,c,h){let g=s.data[o];if(null===g)g=function Df(s,o,l,c,h){const g=Pl(),v=Lu(),C=s.data[o]=function mT(s,o,l,c,h,g){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,o,c,h);return null===s.firstChild&&(s.firstChild=C),null!==g&&(v?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C)),C}(s,o,l,c,h),function Bu(){return bt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=c,g.attrs=h;const v=function yo(){const s=bt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return pi(g,!0),g}function su(s,o,l,c){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function hc(s,o,l){vo(o);try{const c=s.viewQuery;null!==c&&wm(1,c,l);const h=s.template;null!==h&&Ky(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&fm(s,o),s.staticViewQueries&&wm(2,s.viewQuery,l);const g=s.components;null!==g&&function fT(s,o){for(let l=0;l<o.length;l++)nM(s,o[l])}(o,g)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,Yr()}}function fc(s,o,l,c){const h=o[2];if(256!=(256&h)){vo(o);try{Ki(o),function kl(s){return bt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Ky(s,o,l,2,c);const v=3==(3&h);if(v){const A=s.preOrderCheckHooks;null!==A&&ps(o,A,null)}else{const A=s.preOrderHooks;null!==A&&bo(o,A,0,null),zn(o,0)}if(function eM(s){for(let o=yi(s);null!==o;o=eu(o)){if(!o[2])continue;const l=o[9];for(let c=0;c<l.length;c++){const h=l[c],g=h[3];0==(1024&h[2])&&Jo(g,1),h[2]|=1024}}}(o),function TT(s){for(let o=yi(s);null!==o;o=eu(o))for(let l=10;l<o.length;l++){const c=o[l],h=c[1];hs(c)&&fc(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&fm(s,o),v){const A=s.contentCheckHooks;null!==A&&ps(o,A)}else{const A=s.contentHooks;null!==A&&bo(o,A,1),zn(o,1)}!function Eb(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const h=l[c];if(h<0)wo(~h);else{const g=h,v=l[++c],b=l[++c];Rl(v,g),b(2,o[g])}}}finally{wo(-1)}}(s,o);const b=s.components;null!==b&&function hT(s,o){for(let l=0;l<o.length;l++)tM(s,o[l])}(o,b);const C=s.viewQuery;if(null!==C&&wm(2,C,c),v){const A=s.viewCheckHooks;null!==A&&ps(o,A)}else{const A=s.viewHooks;null!==A&&bo(o,A,2),zn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-73,1024&o[2]&&(o[2]&=-1025,Jo(o[3],-1))}finally{Yr()}}}function pT(s,o,l,c){const h=o[10],v=mo(o);try{!v&&h.begin&&h.begin(),v&&hc(s,o,c),fc(s,o,l,c)}finally{!v&&h.end&&h.end()}}function Ky(s,o,l,c,h){const g=tr(),v=2&c;try{wo(-1),v&&o.length>20&&aT(s,o,20,!1),l(c,h)}finally{wo(g)}}function Sf(s,o,l){if(Tl(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function Yy(s,o,l){!Ml()||(function Yx(s,o,l,c){const h=l.directiveStart,g=l.directiveEnd;s.firstCreatePass||Ks(l,o),pr(c,o);const v=l.initialInputs;for(let b=h;b<g;b++){const C=s.data[b],A=Gi(C);A&&ym(o,l,C);const M=ms(o,s,b,l);pr(M,o),null!==v&&Xx(0,b-h,M,C,0,v),A&&(cr(l.index,o)[8]=M)}}(s,o,l,ur(l,o)),128==(128&l.flags)&&function Qx(s,o,l){const c=l.directiveStart,h=l.directiveEnd,v=l.index,b=function ju(){return bt.lFrame.currentDirectiveIndex}();try{wo(v);for(let C=c;C<h;C++){const A=s.data[C],M=o[C];ea(C),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&mm(A,M)}}finally{wo(-1),ea(b)}}(s,o,l))}function Qy(s,o,l=ur){const c=o.localNames;if(null!==c){let h=o.index+1;for(let g=0;g<c.length;g+=2){const v=c[g+1],b=-1===v?l(o,s):s[v];s[h++]=b}}}function Cb(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=pm(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function pm(s,o,l,c,h,g,v,b,C,A){const M=20+c,F=M+h,j=function gT(s,o){const l=[];for(let c=0;c<o;c++)l.push(c<s?null:Vt);return l}(M,F),J="function"==typeof A?A():A;return j[1]={type:s,blueprint:j,template:l,queries:null,viewQuery:b,declTNode:o,data:j.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:J,incompleteFirstPass:!1}}function Db(s,o,l,c){const h=iv(o);null===l?h.push(c):(h.push(l),s.firstCreatePass&&Mf(s).push(c,h.length-1))}function Af(s,o,l){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(l=null===l?{}:l).hasOwnProperty(c)?l[c].push(o,h):l[c]=[o,h]}return l}function gm(s,o,l,c){let h=!1;if(Ml()){const g=function Jx(s,o,l){const c=s.directiveRegistry;let h=null;if(c)for(let g=0;g<c.length;g++){const v=c[g];nT(l,v.selectors,!1)&&(h||(h=[]),Io(Ks(l,o),s,v.type),Gi(v)?(Mb(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===c?null:{"":-1};if(null!==g){h=!0,Xy(l,s.data.length,g.length);for(let M=0;M<g.length;M++){const F=g[M];F.providersResolver&&F.providersResolver(F)}let b=!1,C=!1,A=su(s,o,g.length,null);for(let M=0;M<g.length;M++){const F=g[M];l.mergedAttrs=ja(l.mergedAttrs,F.hostAttrs),_m(s,l,o,A,F),CT(A,F,v),null!==F.contentQueries&&(l.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(l.flags|=128);const j=F.type.prototype;!b&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),b=!0),!C&&(j.ngOnChanges||j.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),C=!0),A++}!function Sb(s,o){const c=o.directiveEnd,h=s.data,g=o.attrs,v=[];let b=null,C=null;for(let A=o.directiveStart;A<c;A++){const M=h[A],F=M.inputs,j=null===g||Cf(o)?null:IT(F,g);v.push(j),b=Af(F,A,b),C=Af(M.outputs,A,C)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=b,o.outputs=C}(s,l)}v&&function Pb(s,o,l){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new Re(-301,!1);c.push(o[h],g)}}}(l,c,v)}return l.mergedAttrs=ja(l.mergedAttrs,l.attrs),h}function bT(s,o,l,c,h,g){const v=g.hostBindings;if(v){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const C=~o.index;(function ET(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(b)!=C&&b.push(C),b.push(c,h,v)}}function mm(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Mb(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function CT(s,o,l){if(l){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)l[o.exportAs[c]]=s;Gi(o)&&(l[""]=s)}}function Xy(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function _m(s,o,l,c,h){s.data[c]=h;const g=h.factory||(h.factory=Cr(h.type)),v=new na(g,Gi(h),null);s.blueprint[c]=v,l[c]=v,bT(s,o,0,c,su(s,l,h.hostVars,Vt),h)}function ym(s,o,l){const c=ur(o,s),h=Cb(l),g=s[10],v=tv(s,Tf(s,h,null,l.onPush?64:16,c,o,g,g.createRenderer(c,l),null,null));s[o.index]=v}function rl(s,o,l,c,h,g){const v=ur(s,o);!function xf(s,o,l,c,h,g,v){if(null==g)ln(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const b=null==v?ge(g):v(g,c||"",h);ln(s)?s.setAttribute(o,h,b,l):l?o.setAttributeNS(l,h,b):o.setAttribute(h,b)}}(o[11],v,g,s.value,l,c,h)}function Xx(s,o,l,c,h,g){const v=g[o];if(null!==v){const b=c.setInput;for(let C=0;C<v.length;){const A=v[C++],M=v[C++],F=v[C++];null!==b?c.setInput(l,F,A,M):l[M]=F}}}function IT(s,o){let l=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return l}function kb(s,o,l,c){return new Array(s,!0,!1,o,null,0,c,l,null,null)}function tM(s,o){const l=cr(o,s);if(hs(l)){const c=l[1];80&l[2]?fc(c,l,c.template,l[8]):l[5]>0&&ev(l)}}function ev(s){for(let c=yi(s);null!==c;c=eu(c))for(let h=10;h<c.length;h++){const g=c[h];if(1024&g[2]){const v=g[1];fc(v,g,v.template,g[8])}else g[5]>0&&ev(g)}const l=s[1].components;if(null!==l)for(let c=0;c<l.length;c++){const h=cr(l[c],s);hs(h)&&h[5]>0&&ev(h)}}function nM(s,o){const l=cr(o,s),c=l[1];(function rM(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(c,l),hc(c,l,l[8])}function tv(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Ob(s){for(;s;){s[2]|=64;const o=mt(s);if(Dl(s)&&!o)return s;s=o}return null}function rv(s){!function vm(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],c=hf(l),h=c[1];pT(h,c,h.template,l)}}(s[8])}function wm(s,o,l){_d(0),o(s,l)}const Rb=(()=>Promise.resolve(null))();function iv(s){return s[7]||(s[7]=[])}function Mf(s){return s.cleanup||(s.cleanup=[])}function pc(s,o){const l=s[9],c=l?l.get(Jd,null):null;c&&c.handleError(o)}function Fb(s,o,l,c,h){for(let g=0;g<l.length;){const v=l[g++],b=l[g++],C=o[v],A=s.data[v];null!==A.setInput?A.setInput(C,h,c,b):C[b]=h}}function il(s,o,l){const c=qs(o,s);!function Xd(s,o,l){ln(s)?s.setValue(o,l):o.textContent=l}(s[11],c,l)}function Pf(s,o,l){let c=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const b=o[v];"number"==typeof b?g=b:1==g?h=fe(h,b):2==g&&(c=fe(c,b+": "+o[++v]+";"))}l?s.styles=c:s.stylesWithoutHost=c,l?s.classes=h:s.classesWithoutHost=h}const kf=new wn("INJECTOR",-1);class Lb{get(o,l=to){if(l===to){const c=new Error(`NullInjectorError: No provider for ${ae(o)}!`);throw c.name="NullInjectorError",c}return l}}const sv=new wn("Set Injector scope."),Of={},nh={};let ma;function ov(){return void 0===ma&&(ma=new Lb),ma}function ei(s,o=null,l=null,c){const h=sl(s,o,l,c);return h._resolveInjectorDefTypes(),h}function sl(s,o=null,l=null,c){return new xT(s,l,o||ov(),c)}class xT{constructor(o,l,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&Br(l,b=>this.processProvider(b,o,l)),Br([o],b=>this.processInjectorType(b,[],g)),this.records.set(kf,mc(void 0,this));const v=this.records.get(sv);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:ae(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=to,c=wt.Default){this.assertNotDestroyed();const h=me(this),g=Tn(void 0);try{if(!(c&wt.SkipSelf)){let b=this.records.get(o);if(void 0===b){const C=function qb(s){return"function"==typeof s||"object"==typeof s&&s instanceof wn}(o)&&Ut(o);b=C&&this.injectableDefInScope(C)?mc(en(o),Of):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(c&wt.Self?ov():this.parent).get(o,l=c&wt.Optional&&l===to?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Za]=v[Za]||[]).unshift(ae(o)),h)throw v;return function Es(s,o,l,c){const h=s[Za];throw o[L]&&h.unshift(o[L]),s.message=function es(s,o,l,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ae(o);if(Array.isArray(o))h=o.map(ae).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let b=o[v];g.push(v+":"+("string"==typeof b?JSON.stringify(b):ae(b)))}h=`{${g.join(", ")}}`}return`${l}${c?"("+c+")":""}[${h}]: ${s.replace(T,"\n  ")}`}("\n"+s.message,h,l,c),s.ngTokenPath=h,s[Za]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Tn(g),me(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,h)=>o.push(ae(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processInjectorType(o,l,c){if(!(o=ne(o)))return!1;let h=Rr(o);const g=null==h&&o.ngModule||void 0,v=void 0===g?o:g,b=-1!==c.indexOf(v);if(void 0!==g&&(h=Rr(g)),null==h)return!1;if(null!=h.imports&&!b){let M;c.push(v);try{Br(h.imports,F=>{this.processInjectorType(F,l,c)&&(void 0===M&&(M=[]),M.push(F))})}finally{}if(void 0!==M)for(let F=0;F<M.length;F++){const{ngModule:j,providers:J}=M[F];Br(J,be=>this.processProvider(be,j,J||U))}}this.injectorDefTypes.add(v);const C=Cr(v)||(()=>new v);this.records.set(v,mc(C,Of));const A=h.providers;if(null!=A&&!b){const M=o;Br(A,F=>this.processProvider(F,M,A))}return void 0!==g&&void 0!==o.providers}processProvider(o,l,c){let h=_c(o=ne(o))?o:ne(o&&o.provide);const g=function Ub(s,o,l){return lv(s)?mc(void 0,s.useValue):mc(av(s),Of)}(o);if(_c(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=mc(void 0,Of,!0),v.factory=()=>xt(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,g)}hydrate(o,l){return l.value===Of&&(l.value=nh,l.value=l.factory()),"object"==typeof l.value&&l.value&&function $b(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=ne(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function en(s){const o=Ut(s),l=null!==o?o.factory:Cr(s);if(null!==l)return l;if(s instanceof wn)throw new Re(204,!1);if(s instanceof Function)return function Vb(s){const o=s.length;if(o>0)throw vs(o,"?"),new Re(204,!1);const l=function li(s){const o=s&&(s[Bi]||s[ui]);if(o){const l=function yr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Re(204,!1)}function av(s,o,l){let c;if(_c(s)){const h=ne(s);return Cr(h)||en(h)}if(lv(s))c=()=>ne(s.useValue);else if(function jb(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...xt(s.deps||[]));else if(function Bb(s){return!(!s||!s.useExisting)}(s))c=()=>at(ne(s.useExisting));else{const h=ne(s&&(s.useClass||s.provide));if(!function Hb(s){return!!s.deps}(s))return Cr(h)||en(h);c=()=>new h(...xt(s.deps))}return c}function mc(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function lv(s){return null!==s&&"object"==typeof s&&Q in s}function _c(s){return"function"==typeof s}let No=(()=>{class s{static create(l,c){var h;if(Array.isArray(l))return ei({name:""},c,l,"");{const g=null!==(h=l.name)&&void 0!==h?h:"";return ei({name:g},l.parent,l.providers,g)}}}return s.THROW_IF_NOT_FOUND=to,s.NULL=new Lb,s.\u0275prov=Jt({token:s,providedIn:"any",factory:()=>at(kf)}),s.__NG_ELEMENT_ID__=-1,s})();function lM(s,o){Ua(hf(s)[1],_n())}function Qb(s){let o=function kT(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const c=[s];for(;o;){let h;if(Gi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Re(903,"");h=o.\u0275dir}if(h){if(l){c.push(h);const v=s;v.inputs=yv(s.inputs),v.declaredInputs=yv(s.declaredInputs),v.outputs=yv(s.outputs);const b=h.hostBindings;b&&RT(s,b);const C=h.viewQuery,A=h.contentQueries;if(C&&Jb(s,C),A&&OT(s,A),ce(s.inputs,h.inputs),ce(s.declaredInputs,h.declaredInputs),ce(s.outputs,h.outputs),Gi(h)&&h.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const b=g[v];b&&b.ngInherit&&b(s),b===Qb&&(l=!1)}}o=Object.getPrototypeOf(o)}!function uM(s){let o=0,l=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=ja(h.hostAttrs,l=ja(l,h.hostAttrs))}}(c)}function yv(s){return s===br?{}:s===U?[]:s}function Jb(s,o){const l=s.viewQuery;s.viewQuery=l?(c,h)=>{o(c,h),l(c,h)}:o}function OT(s,o){const l=s.contentQueries;s.contentQueries=l?(c,h,g)=>{o(c,h,g),l(c,h,g)}:o}function RT(s,o){const l=s.hostBindings;s.hostBindings=l?(c,h)=>{o(c,h),l(c,h)}:o}let wc=null;function ol(){if(!wc){const s=Ht.Symbol;if(s&&s.iterator)wc=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const c=o[l];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(wc=c)}}}return wc}function bc(s){return!!vv(s)&&(Array.isArray(s)||!(s instanceof Map)&&ol()in s)}function vv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Fo(s,o,l){return s[o]=l}function Nf(s,o){return s[o]}function ti(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Ec(s,o,l,c){const h=ti(s,o,l);return ti(s,o+1,c)||h}function ro(s,o,l,c,h,g){const v=Ec(s,o,l,c);return Ec(s,o+2,h,g)||v}function Am(s,o,l,c){const h=xe();return ti(h,Zs(),o)&&(Bt(),rl(Fn(),h,s,o,l,c)),Am}function rh(s,o,l,c,h,g){const b=Ec(s,function gi(){return bt.lFrame.bindingIndex}(),l,h);return Pi(2),b?o+ge(l)+c+ge(h)+g:Vt}function Bf(s,o,l,c,h,g,v,b){const C=xe(),A=Bt(),M=s+20,F=A.firstCreatePass?function Cv(s,o,l,c,h,g,v,b,C){const A=o.consts,M=nl(o,s,4,v||null,Mi(A,b));gm(o,l,M,Mi(A,C)),Ua(o,M);const F=M.tViews=pm(2,M,c,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,M),F.queries=o.queries.embeddedTView(M)),M}(M,A,C,o,l,c,h,g,v):A.data[M];pi(F,!1);const j=C[11].createComment("");eh(A,C,j,F),pr(j,C),tv(C,C[M]=kb(j,C,j,F)),qi(F)&&Yy(A,C,F),null!=v&&Qy(C,F,b)}function Iv(s){return Wi(function md(){return bt.lFrame.contextLView}(),20+s)}function ah(s,o=wt.Default){const l=xe();return null===l?at(s,o):oa(_n(),l,ne(s),o)}function hE(){throw new Error("invalid")}function lh(s,o,l){const c=xe();return ti(c,Zs(),o)&&function Li(s,o,l,c,h,g,v,b){const C=ur(o,l);let M,A=o.inputs;!b&&null!=A&&(M=A[c])?(Fb(s,l,M,c,h),sd(o)&&function _T(s,o){const l=cr(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(c=function Ab(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=v?v(h,o.value||"",c):h,ln(g)?g.setProperty(C,c,h):Ln(c)||(C.setProperty?C.setProperty(c,h):C[c]=h))}(Bt(),Fn(),c,s,o,c[11],l,!1),lh}function qf(s,o,l,c,h){const v=h?"class":"style";Fb(s,l,o.inputs[v],v,c)}function Gf(s,o,l,c){const h=xe(),g=Bt(),v=20+s,b=h[11],C=h[v]=Kn(b,o,function bg(){return bt.lFrame.currentNamespace}()),A=g.firstCreatePass?function GT(s,o,l,c,h,g,v){const b=o.consts,A=nl(o,s,2,h,Mi(b,g));return gm(o,l,A,Mi(b,v)),null!==A.attrs&&Pf(A,A.attrs,!1),null!==A.mergedAttrs&&Pf(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(v,g,h,0,o,l,c):g.data[v];pi(A,!0);const M=A.mergedAttrs;null!==M&&Sn(b,C,M);const F=A.classes;null!==F&&Xg(b,C,F);const j=A.styles;return null!==j&&Vy(b,C,j),64!=(64&A.flags)&&eh(g,h,C,A),0===function Va(){return bt.lFrame.elementDepthCount}()&&pr(C,h),function Nu(){bt.lFrame.elementDepthCount++}(),qi(A)&&(Yy(g,h,A),Sf(g,A,h)),null!==c&&Qy(h,A),Gf}function Fm(){let s=_n();Lu()?Vu():(s=s.parent,pi(s,!1));const o=s;!function xl(){bt.lFrame.elementDepthCount--}();const l=Bt();return l.firstCreatePass&&(Ua(l,s),Tl(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Ig(s){return 0!=(16&s.flags)}(o)&&qf(l,o,xe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function un(s){return 0!=(32&s.flags)}(o)&&qf(l,o,xe(),o.stylesWithoutHost,!1),Fm}function fE(s,o,l,c){return Gf(s,o,l,c),Fm(),fE}function Zf(s,o,l){const c=xe(),h=Bt(),g=s+20,v=h.firstCreatePass?function Ov(s,o,l,c,h){const g=o.consts,v=Mi(g,c),b=nl(o,s,8,"ng-container",v);return null!==v&&Pf(b,v,!0),gm(o,l,b,Mi(g,h)),null!==o.queries&&o.queries.elementStart(o,b),b}(g,h,c,o,l):h.data[g];pi(v,!0);const b=c[g]=c[11].createComment("");return eh(h,c,b,v),pr(b,c),qi(v)&&(Yy(h,c,v),Sf(h,v,c)),null!=l&&Qy(c,v),Zf}function Lm(){let s=_n();const o=Bt();return Lu()?Vu():(s=s.parent,pi(s,!1)),o.firstCreatePass&&(Ua(o,s),Tl(s)&&o.queries.elementEnd(s)),Lm}function Vm(s,o,l){return Zf(s,o,l),Lm(),Vm}function cu(){return xe()}function Rv(s){return!!s&&"function"==typeof s.then}function Nv(s){return!!s&&"function"==typeof s.subscribe}const gE=Nv;function Um(s,o,l,c){const h=xe(),g=Bt(),v=_n();return function Dc(s,o,l,c,h,g,v,b){const C=qi(c),M=s.firstCreatePass&&Mf(s),F=o[8],j=iv(o);let J=!0;if(3&c.type||b){const qe=ur(c,o),ot=b?b(qe):qe,Me=j.length,yt=b?qt=>b(Xt(qt[c.index])):c.index;if(ln(l)){let qt=null;if(!b&&C&&(qt=function ZT(s,o,l,c){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===l&&h[g+1]===c){const b=o[7],C=h[g+2];return b.length>C?b[C]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,c.index)),null!==qt)(qt.__ngLastListenerFn__||qt).__ngNextListenerFn__=g,qt.__ngLastListenerFn__=g,J=!1;else{g=Lv(c,o,F,g,!1);const dn=l.listen(ot,h,g);j.push(g,dn),M&&M.push(h,yt,Me,Me+1)}}else g=Lv(c,o,F,g,!0),ot.addEventListener(h,g,v),j.push(g),M&&M.push(h,yt,Me,v)}else g=Lv(c,o,F,g,!1);const be=c.outputs;let Le;if(J&&null!==be&&(Le=be[h])){const qe=Le.length;if(qe)for(let ot=0;ot<qe;ot+=2){const Ms=o[Le[ot]][Le[ot+1]].subscribe(g),Qc=j.length;j.push(g,Ms),M&&M.push(h,c.index,Qc,-(Qc+1))}}}(g,h,h[11],v,s,o,!!l,c),Um}function Fv(s,o,l,c){try{return!1!==l(c)}catch(h){return pc(s,h),!1}}function Lv(s,o,l,c,h){return function g(v){if(v===Function)return c;const b=2&s.flags?cr(s.index,o):o;0==(32&o[2])&&Ob(b);let C=Fv(o,0,c,v),A=g.__ngNextListenerFn__;for(;A;)C=Fv(o,0,A,v)&&C,A=A.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function Vv(s=1){return function Kh(s){return(bt.lFrame.contextLView=function Hu(s,o){for(;s>0;)o=o[15],s--;return o}(s,bt.lFrame.contextLView))[8]}(s)}function zT(s,o){let l=null;const c=function Nx(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===c?nT(s,g,!0):Fx(c,g))return h}else l=h}return l}function Uv(s){const o=xe()[16][6];if(!o.projection){const c=o.projection=vs(s?s.length:1,null),h=c.slice();let g=o.child;for(;null!==g;){const v=s?zT(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:c[v]=g,h[v]=g),g=g.next}}}function _E(s,o=0,l){const c=xe(),h=Bt(),g=nl(h,20+s,16,null,l||null);null===g.projection&&(g.projection=o),Vu(),64!=(64&g.flags)&&function Jg(s,o,l){fb(o[11],0,o,l,QI(s,l,o),ab(l.parent||o[6],l,o))}(h,c,g)}function Bm(s,o,l,c,h){const g=s[l+1],v=null===o;let b=c?wi(g):Xa(g),C=!1;for(;0!==b&&(!1===C||v);){const M=s[b+1];QT(s[b],o)&&(C=!0,s[b+1]=c?Ts(M):tm(M)),b=c?wi(M):Xa(M)}C&&(s[l+1]=c?tm(g):Ts(g))}function QT(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ha(s,o)>=0}const xr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function JT(s){return s.substring(xr.key,xr.keyEnd)}function ya(s,o){const l=xr.textEnd;return l===o?-1:(o=xr.keyEnd=function Gv(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,xr.key=o,l),al(s,o,l))}function al(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function zv(s,o,l){return Lo(s,o,l,!1),zv}function Mr(s,o){return Lo(s,o,null,!0),Mr}function ll(s){!function io(s,o,l,c){const h=Bt(),g=Pi(2);h.firstUpdatePass&&TE(h,null,g,c);const v=xe();if(l!==Vt&&ti(v,g,l)){const b=h.data[tr()];if(qm(b,c)&&!Wv(h,g)){let C=c?b.classesWithoutHost:b.stylesWithoutHost;null!==C&&(l=fe(C,l||"")),qf(h,b,v,l,c)}else!function AE(s,o,l,c,h,g,v,b){h===Vt&&(h=U);let C=0,A=0,M=0<h.length?h[0]:null,F=0<g.length?g[0]:null;for(;null!==M||null!==F;){const j=C<h.length?h[C+1]:void 0,J=A<g.length?g[A+1]:void 0;let Le,be=null;M===F?(C+=2,A+=2,j!==J&&(be=F,Le=J)):null===F||null!==M&&M<F?(C+=2,be=M):(A+=2,be=F,Le=J),null!==be&&$m(s,o,l,c,be,Le,v,b),M=C<h.length?h[C]:null,F=A<g.length?g[A]:null}}(h,b,v,v[11],v[g+1],v[g+1]=function Vi(s,o,l){if(null==l||""===l)return U;const c=[],h=Ni(l);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(c,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(c,g,h[g]);else"string"==typeof h&&o(c,h);return c}(s,o,l),c,g)}}(Dr,va,s,!0)}function va(s,o){for(let l=function XT(s){return function Rt(s){xr.key=0,xr.keyEnd=0,xr.value=0,xr.valueEnd=0,xr.textEnd=s.length}(s),ya(s,al(s,0,xr.textEnd))}(o);l>=0;l=ya(o,l))Dr(s,JT(o),!0)}function Lo(s,o,l,c){const h=xe(),g=Bt(),v=Pi(2);g.firstUpdatePass&&TE(g,s,v,c),o!==Vt&&ti(h,v,o)&&$m(g,g.data[tr()],h,h[11],s,h[v+1]=function xE(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ae(Ni(s)))),s}(o,l),c,v)}function Wv(s,o){return o>=s.expandoStartIndex}function TE(s,o,l,c){const h=s.data;if(null===h[l+1]){const g=h[tr()],v=Wv(s,l);qm(g,c)&&null===o&&!v&&(o=!1),o=function DE(s,o,l,c){const h=function Nl(s){const o=bt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(l=Sc(l=ri(null,s,o,l,c),o.attrs,c),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=ri(h,s,o,l,c),null===g){let C=function Kv(s,o,l){const c=l?o.classBindings:o.styleBindings;if(0!==Xa(c))return s[wi(c)]}(s,o,c);void 0!==C&&Array.isArray(C)&&(C=ri(null,s,o,C[1],c),C=Sc(C,o.attrs,c),function Hm(s,o,l,c){s[wi(l?o.classBindings:o.styleBindings)]=c}(s,o,c,C))}else g=function SE(s,o,l){let c;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)c=Sc(c,s[g].hostAttrs,l);return Sc(c,o.attrs,l)}(s,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),l}(h,g,o,c),function pM(s,o,l,c,h,g){let v=g?o.classBindings:o.styleBindings,b=wi(v),C=Xa(v);s[c]=l;let M,A=!1;if(Array.isArray(l)){const F=l;M=F[1],(null===M||ha(F,M)>0)&&(A=!0)}else M=l;if(h)if(0!==C){const j=wi(s[b+1]);s[c+1]=rs(j,b),0!==j&&(s[j+1]=By(s[j+1],c)),s[b+1]=function iu(s,o){return 131071&s|o<<17}(s[b+1],c)}else s[c+1]=rs(b,0),0!==b&&(s[b+1]=By(s[b+1],c)),b=c;else s[c+1]=rs(C,0),0===b?b=c:s[C+1]=By(s[C+1],c),C=c;A&&(s[c+1]=tm(s[c+1])),Bm(s,M,c,!0),Bm(s,M,c,!1),function bE(s,o,l,c,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&ha(g,o)>=0&&(l[c+1]=Ts(l[c+1]))}(o,M,s,c,g),v=rs(b,C),g?o.classBindings=v:o.styleBindings=v}(h,g,o,l,v,c)}}function ri(s,o,l,c,h){let g=null;const v=l.directiveEnd;let b=l.directiveStylingLast;for(-1===b?b=l.directiveStart:b++;b<v&&(g=o[b],c=Sc(c,g.hostAttrs,h),g!==s);)b++;return null!==s&&(l.directiveStylingLast=b),c}function Sc(s,o,l){const c=l?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Dr(s,v,!!l||o[++g]))}return void 0===s?null:s}function $m(s,o,l,c,h,g,v,b){if(!(3&o.type))return;const C=s.data,A=C[b+1];Wf(function Ar(s){return 1==(1&s)}(A)?Qv(C,o,l,h,Xa(A),v):void 0)||(Wf(g)||function Mt(s){return 2==(2&s)}(A)&&(g=Qv(C,null,l,h,b,v)),function eT(s,o,l,c,h){const g=ln(s);if(o)h?g?s.addClass(l,c):l.classList.add(c):g?s.removeClass(l,c):l.classList.remove(c);else{let v=-1===c.indexOf("-")?void 0:k.DashCase;if(null==h)g?s.removeStyle(l,c,v):l.style.removeProperty(c);else{const b="string"==typeof h&&h.endsWith("!important");b&&(h=h.slice(0,-10),v|=k.Important),g?s.setStyle(l,c,h,v):l.style.setProperty(c,h,b?"important":"")}}}(c,v,qs(tr(),l),h,g))}function Qv(s,o,l,c,h,g){const v=null===o;let b;for(;h>0;){const C=s[h],A=Array.isArray(C),M=A?C[1]:C,F=null===M;let j=l[h+1];j===Vt&&(j=F?U:void 0);let J=F?Ga(j,c):M===c?j:void 0;if(A&&!Wf(J)&&(J=Ga(C,c)),Wf(J)&&(b=J,v))return b;const be=s[h+1];h=v?wi(be):Xa(be)}if(null!==o){let C=g?o.residualClasses:o.residualStyles;null!=C&&(b=Ga(C,c))}return b}function Wf(s){return void 0!==s}function qm(s,o){return 0!=(s.flags&(o?16:32))}function ME(s,o=""){const l=xe(),c=Bt(),h=s+20,g=c.firstCreatePass?nl(c,h,1,o,null):c.data[h],v=l[h]=function dc(s,o){return ln(s)?s.createText(o):s.createTextNode(o)}(l[11],o);eh(c,l,v,g),pi(g,!1)}function Jv(s){return ul("",s,""),Jv}function ul(s,o,l){const c=xe(),h=function ou(s,o,l,c){return ti(s,Zs(),l)?o+ge(l)+c:Vt}(c,s,o,l);return h!==Vt&&il(c,tr(),h),ul}function Gm(s,o,l,c,h){const g=xe(),v=rh(g,s,o,l,c,h);return v!==Vt&&il(g,tr(),v),Gm}const cl=void 0;var ii=["en",[["a","p"],["AM","PM"],cl],[["AM","PM"],cl,cl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cl,"{1} 'at' {0}",cl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jr(s){const l=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let dl={};function h0(s){const o=function p0(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=FE(o);if(l)return l;const c=o.split("-")[0];if(l=FE(c),l)return l;if("en"===c)return ii;throw new Error(`Missing locale data for the locale "${s}".`)}function f0(s){return h0(s)[Et.PluralCase]}function FE(s){return s in dl||(dl[s]=Ht.ng&&Ht.ng.common&&Ht.ng.common.locales&&Ht.ng.common.locales[s]),dl[s]}var Et=(()=>((Et=Et||{})[Et.LocaleId=0]="LocaleId",Et[Et.DayPeriodsFormat=1]="DayPeriodsFormat",Et[Et.DayPeriodsStandalone=2]="DayPeriodsStandalone",Et[Et.DaysFormat=3]="DaysFormat",Et[Et.DaysStandalone=4]="DaysStandalone",Et[Et.MonthsFormat=5]="MonthsFormat",Et[Et.MonthsStandalone=6]="MonthsStandalone",Et[Et.Eras=7]="Eras",Et[Et.FirstDayOfWeek=8]="FirstDayOfWeek",Et[Et.WeekendRange=9]="WeekendRange",Et[Et.DateFormat=10]="DateFormat",Et[Et.TimeFormat=11]="TimeFormat",Et[Et.DateTimeFormat=12]="DateTimeFormat",Et[Et.NumberSymbols=13]="NumberSymbols",Et[Et.NumberFormats=14]="NumberFormats",Et[Et.CurrencyCode=15]="CurrencyCode",Et[Et.CurrencySymbol=16]="CurrencySymbol",Et[Et.CurrencyName=17]="CurrencyName",Et[Et.Currencies=18]="Currencies",Et[Et.Directionality=19]="Directionality",Et[Et.PluralCase=20]="PluralCase",Et[Et.ExtraData=21]="ExtraData",Et))();const Jf="en-US";let LE=Jf;function cp(s,o,l,c,h){if(s=ne(s),Array.isArray(s))for(let g=0;g<s.length;g++)cp(s[g],o,l,c,h);else{const g=Bt(),v=xe();let b=_c(s)?s:ne(s.provide),C=av(s);const A=_n(),M=1048575&A.providerIndexes,F=A.directiveStart,j=A.providerIndexes>>20;if(_c(s)||!s.multi){const J=new na(C,h,ah),be=l_(b,o,h?M:M+j,F);-1===be?(Io(Ks(A,v),g,b),dp(g,s,o.length),o.push(b),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(J),v.push(J)):(l[be]=J,v[be]=J)}else{const J=l_(b,o,M+j,F),be=l_(b,o,M,M+j),Le=J>=0&&l[J],qe=be>=0&&l[be];if(h&&!qe||!h&&!Le){Io(Ks(A,v),g,b);const ot=function TD(s,o,l,c,h){const g=new na(s,l,ah);return g.multi=[],g.index=o,g.componentProviders=0,x0(g,h,c&&!l),g}(h?ID:M0,l.length,h,c,C);!h&&qe&&(l[be].providerFactory=ot),dp(g,s,o.length,0),o.push(b),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(ot),v.push(ot)}else dp(g,s,J>-1?J:be,x0(l[h?be:J],C,!h&&c));!h&&c&&qe&&l[be].componentProviders++}}}function dp(s,o,l,c){const h=_c(o),g=function bm(s){return!!s.useClass}(o);if(h||g){const C=(g?ne(o.useClass):o).prototype.ngOnDestroy;if(C){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const M=A.indexOf(l);-1===M?A.push(l,[c,C]):A[M+1].push(c,C)}else A.push(l,C)}}}function x0(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function l_(s,o,l,c){for(let h=l;h<c;h++)if(o[h]===s)return h;return-1}function M0(s,o,l,c){return P0(this.multi,[])}function ID(s,o,l,c){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,b=ms(l,l[1],this.providerFactory.index,c);g=b.slice(0,v),P0(h,g);for(let C=v;C<b.length;C++)g.push(b[C])}else g=[],P0(h,g);return g}function P0(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function hp(s,o=[]){return l=>{l.providersResolver=(c,h)=>function eC(s,o,l){const c=Bt();if(c.firstCreatePass){const h=Gi(s);cp(l,c.data,c.blueprint,h,!0),cp(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class pp{}class gp{resolveComponentFactory(o){throw function k0(s){const o=Error(`No component factory found for ${ae(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let c_=(()=>{class s{}return s.NULL=new gp,s})();function gr(){return Rc(_n(),xe())}function Rc(s,o){return new mp(ur(s,o))}let mp=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=gr,s})();function DD(s){return s instanceof mp?s.nativeElement:s}class tC{}let nC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function iC(){const s=xe(),l=cr(_n().index,s);return function rC(s){return s[11]}(Kr(l)?l:s)}(),s})(),d_=(()=>{class s{}return s.\u0275prov=Jt({token:s,providedIn:"root",factory:()=>null}),s})();class R0{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const wa=new R0("13.3.10"),h_={};function f_(s,o,l,c,h=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&c.push(Xt(g)),$i(g))for(let b=10;b<g.length;b++){const C=g[b],A=C[1].firstChild;null!==A&&f_(C[1],C,A,c)}const v=l.type;if(8&v)f_(s,o,l.child,c);else if(32&v){const b=pe(l,o);let C;for(;C=b();)c.push(C)}else if(16&v){const b=cb(o,l);if(Array.isArray(b))c.push(...b);else{const C=mt(o[16]);f_(C[1],C,b,c,!0)}}l=h?l.projectionNext:l.next}return c}class Nc{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return f_(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if($i(o)){const l=o[8],c=l?l.indexOf(this):-1;c>-1&&(zg(o,c),ua(l,c))}this._attachedToViewContainer=!1}nb(this._lView[1],this._lView)}onDestroy(o){Db(this._lView[1],this._lView,null,o)}markForCheck(){Ob(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function nv(s,o,l){const c=o[10];c.begin&&c.begin();try{fc(s,o,s.template,l)}catch(h){throw pc(o,h),h}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bf(s,o){Ef(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Re(902,"");this._appRef=o}}class _p extends Nc{constructor(o){super(o),this._view=o}detectChanges(){rv(this._view)}checkNoChanges(){}get context(){return null}}class N0 extends c_{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Gn(o);return new yp(l,this.ngModule)}}function p_(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class yp extends pp{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function Vx(s){return s.map(Lx).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return p_(this.componentDef.inputs)}get outputs(){return p_(this.componentDef.outputs)}create(o,l,c,h){const g=(h=h||this.ngModule)?function sC(s,o){return{get:(l,c,h)=>{const g=s.get(l,h_,h);return g!==h_||c===h_?g:o.get(l,c,h)}}}(o,h.injector):o,v=g.get(tC,Na),b=g.get(d_,null),C=v.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",M=c?function Tb(s,o,l){if(ln(s))return s.selectRootElement(o,l===Zt.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(C,c,this.componentDef.encapsulation):Kn(v.createRenderer(null,this.componentDef),A,function g_(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),F=this.componentDef.onPush?576:528,j=function PT(s,o){return{components:[],scheduler:s||_f,clean:Rb,playerHandler:o||null,flags:0}}(),J=pm(0,null,null,1,0,null,null,null,null,null),be=Tf(null,J,j,F,null,null,v,C,b,g);let Le,qe;vo(be);try{const ot=function Tm(s,o,l,c,h,g){const v=l[1];l[20]=s;const C=nl(v,20,2,"#host",null),A=C.mergedAttrs=o.hostAttrs;null!==A&&(Pf(C,A,!0),null!==s&&(Sn(h,s,A),null!==C.classes&&Xg(h,s,C.classes),null!==C.styles&&Vy(h,s,C.styles)));const M=c.createRenderer(s,o),F=Tf(l,Cb(o),null,o.onPush?64:16,l[20],C,c,M,g||null,null);return v.firstCreatePass&&(Io(Ks(C,l),v,o.type),Mb(v,C),Xy(C,l.length,1)),tv(l,F),l[20]=F}(M,this.componentDef,be,v,C);if(M)if(c)Sn(C,M,["ng-version",wa.full]);else{const{attrs:Me,classes:yt}=function Ux(s){const o=[],l=[];let c=1,h=2;for(;c<s.length;){let g=s[c];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++c]):8===h&&l.push(g);else{if(!Oo(h))break;h=g}c++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Me&&Sn(C,M,Me),yt&&yt.length>0&&Xg(C,M,yt.join(" "))}if(qe=yn(J,20),void 0!==l){const Me=qe.projection=[];for(let yt=0;yt<this.ngContentSelectors.length;yt++){const qt=l[yt];Me.push(null!=qt?Array.from(qt):null)}}Le=function Yb(s,o,l,c,h){const g=l[1],v=function xb(s,o,l){const c=_n();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),_m(s,c,o,su(s,o,1,null),l));const h=ms(o,s,c.directiveStart,c);pr(h,o);const g=ur(c,o);return g&&pr(g,o),h}(g,l,o);if(c.components.push(v),s[8]=v,h&&h.forEach(C=>C(v,o)),o.contentQueries){const C=_n();o.contentQueries(1,v,C.directiveStart)}const b=_n();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(wo(b.index),bT(l[1],b,0,b.directiveStart,b.directiveEnd,o),mm(o,v)),v}(ot,this.componentDef,be,j,[lM]),hc(J,be,null)}finally{Yr()}return new oC(this.componentType,Le,Rc(qe,be),be,qe)}}class oC extends class fp{}{constructor(o,l,c,h,g){super(),this.location=c,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new _p(h),this.componentType=o}get injector(){return new Js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Fc{}class F0{}const gu=new Map;class U0 extends Fc{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new N0(this);const c=Zn(o);this._bootstrapComponents=y(c.bootstrap),this._r3Injector=sl(o,l,[{provide:Fc,useValue:this},{provide:c_,useValue:this.componentFactoryResolver}],ae(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=No.THROW_IF_NOT_FOUND,c=wt.Default){return o===No||o===Fc||o===kf?this:this._r3Injector.get(o,l,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class y_ extends F0{constructor(o){super(),this.moduleType=o,null!==Zn(o)&&function __(s){const o=new Set;!function l(c){const h=Zn(c,!0),g=h.id;null!==g&&(function L0(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${ae(o)} vs ${ae(o.name)}`)}(g,gu.get(g),c),gu.set(g,c));const v=y(h.imports);for(const b of v)o.has(b)||(o.add(b),l(b))}(s)}(o)}create(o){return new U0(this.moduleType,o)}}function B0(s,o,l){const c=Ir()+s,h=xe();return h[c]===Vt?Fo(h,c,l?o.call(l):o()):Nf(h,c)}function j0(s,o,l,c){return uC(xe(),Ir(),s,o,l,c)}function wp(s,o,l,c,h){return function q0(s,o,l,c,h,g,v){const b=o+l;return Ec(s,b,h,g)?Fo(s,b+2,v?c.call(v,h,g):c(h,g)):bp(s,b+2)}(xe(),Ir(),s,o,l,c,h)}function H0(s,o,l,c,h,g,v){return function Ep(s,o,l,c,h,g,v,b,C){const A=o+l;return ro(s,A,h,g,v,b)?Fo(s,A+4,C?c.call(C,h,g,v,b):c(h,g,v,b)):bp(s,A+4)}(xe(),Ir(),s,o,l,c,h,g,v)}function Lc(s,o,l,c,h,g,v,b,C){const A=Ir()+s,M=xe(),F=ro(M,A,l,c,h,g);return Ec(M,A+4,v,b)||F?Fo(M,A+6,C?o.call(C,l,c,h,g,v,b):o(l,c,h,g,v,b)):Nf(M,A+6)}function bp(s,o){const l=s[o];return l===Vt?void 0:l}function uC(s,o,l,c,h,g){const v=o+l;return ti(s,v,h)?Fo(s,v+1,g?c.call(g,h):c(h)):bp(s,v+1)}function G0(s,o){const l=Bt();let c;const h=s+20;l.firstCreatePass?(c=function si(s,o){if(o)for(let l=o.length-1;l>=0;l--){const c=o[l];if(s===c.name)return c}}(o,l.pipeRegistry),l.data[h]=c,c.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,c.onDestroy)):c=l.data[h];const g=c.factory||(c.factory=Cr(c.type)),v=Tn(ah);try{const b=Pt(!1),C=g();return Pt(b),function eE(s,o,l,c){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=c}(l,xe(),h,C),C}finally{Tn(v)}}function Vc(s,o,l){const c=s+20,h=xe(),g=Wi(h,c);return function kn(s,o){return s[1].data[o].pure}(h,c)?uC(h,Ir(),o,g.transform,l,g):g.transform(l)}function Ip(s){return o=>{setTimeout(s,void 0,o)}}const Je=class Cp extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,c){var h,g,v;let b=o,C=l||(()=>null),A=c;if(o&&"object"==typeof o){const F=o;b=null===(h=F.next)||void 0===h?void 0:h.bind(F),C=null===(g=F.error)||void 0===g?void 0:g.bind(F),A=null===(v=F.complete)||void 0===v?void 0:v.bind(F)}this.__isAsync&&(C=Ip(C),b&&(b=Ip(b)),A&&(A=Ip(A)));const M=super.subscribe({next:b,error:C,complete:A});return o instanceof ee.w0&&o.add(M),M}};function kt(){return this._results[ol()]()}class z0{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=ol(),c=z0.prototype;c[l]||(c[l]=kt)}get changes(){return this._changes||(this._changes=new Je)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const c=this;c.dirty=!1;const h=Tr(o);(this._changesDetected=!function Qh(s,o,l){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],g=o[c];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(c._results,h,l))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ge=(()=>{class s{}return s.__NG_ELEMENT_ID__=Hr,s})();const de=Ge,Oe=class extends de{constructor(o,l,c){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(o){const l=this._declarationTContainer.tViews,c=Tf(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(c[19]=g.createEmbeddedView(l)),hc(l,c,o),new Nc(c)}};function Hr(){return Tp(_n(),xe())}function Tp(s,o){return 4&s.type?new Oe(o,s,Rc(s,o)):null}let v_=(()=>{class s{}return s.__NG_ELEMENT_ID__=PD,s})();function PD(){return pC(_n(),xe())}const kD=v_,hC=class extends kD{constructor(o,l,c){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=c}get element(){return Rc(this._hostTNode,this._hostLView)}get injector(){return new Js(this._hostTNode,this._hostLView)}get parentInjector(){const o=dr(this._hostTNode,this._hostLView);if(ra(o)){const l=Ws(o,this._hostLView),c=zs(o);return new Js(l[1].data[c+8],l)}return new Js(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=fC(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,c){const h=o.createEmbeddedView(l||{});return this.insert(h,c),h}createComponent(o,l,c,h,g){const v=o&&!function Hl(s){return"function"==typeof s}(o);let b;if(v)b=l;else{const F=l||{};b=F.index,c=F.injector,h=F.projectableNodes,g=F.ngModuleRef}const C=v?o:new yp(Gn(o)),A=c||this.parentInjector;if(!g&&null==C.ngModule){const j=(v?A:this.parentInjector).get(Fc,null);j&&(g=j)}const M=C.create(A,h,void 0,g);return this.insert(M.hostView,b),M}insert(o,l){const c=o._lView,h=c[1];if(function La(s){return $i(s[3])}(c)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const F=c[3],j=new hC(F,F[6],F[3]);j.detach(j.indexOf(o))}}const g=this._adjustIndex(l),v=this._lContainer;!function tu(s,o,l,c){const h=10+c,g=l.length;c>0&&(l[h-1][4]=o),c<g-10?(o[4]=l[h],qa(l,10+c,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function eb(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=128}(h,c,v,g);const b=Qg(g,v),C=c[11],A=Kg(C,v[7]);return null!==A&&function wf(s,o,l,c,h,g){c[0]=h,c[6]=o,Ef(s,c,l,1,h,g)}(h,v[6],C,c,A,b),o.attachToViewContainerRef(),qa(w_(v),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=fC(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),c=zg(this._lContainer,l);c&&(ua(w_(this._lContainer),l),nb(c[1],c))}detach(o){const l=this._adjustIndex(o,-1),c=zg(this._lContainer,l);return c&&null!=ua(w_(this._lContainer),l)?new Nc(c):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function fC(s){return s[8]}function w_(s){return s[8]||(s[8]=[])}function pC(s,o){let l;const c=o[s.index];if($i(c))l=c;else{let h;if(8&s.type)h=Xt(c);else{const g=o[11];h=g.createComment("");const v=ur(s,o);ru(g,Kg(g,v),h,function JI(s,o){return ln(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=l=kb(c,o,h,s),tv(o,l)}return new hC(l,s,o)}class b_{constructor(o){this.queryList=o,this.matches=null}clone(){return new b_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ft{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const c=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<c;g++){const v=l.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new Ft(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==_u(o,l).matches&&this.queries[l].setDirty()}}class Uc{constructor(o,l,c=null){this.predicate=o,this.flags=l,this.read=c}}class E_{constructor(o=[]){this.queries=o}elementStart(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let c=0;c<this.length;c++){const h=null!==l?l.length:0,g=this.getByIndex(c).embeddedTView(o,h);g&&(g.indexInDeclarationView=c,null!==l?l.push(g):l=[g])}return null!==l?new E_(l):null}template(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class jn{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new jn(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const g=c[h];this.matchTNodeWithReadOption(o,l,At(l,g)),this.matchTNodeWithReadOption(o,l,Ha(l,o,g,!1,!1))}else c===Ge?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Ha(l,o,c,!1,!1))}matchTNodeWithReadOption(o,l,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===mp||h===v_||h===Ge&&4&l.type)this.addMatch(l.index,-2);else{const g=Ha(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,c)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function At(s,o){const l=s.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===o)return l[c+1];return null}function Bc(s,o,l,c){return-1===l?function gC(s,o){return 11&s.type?Rc(s,o):4&s.type?Tp(s,o):null}(o,s):-2===l?function mC(s,o,l){return l===mp?Rc(o,s):l===Ge?Tp(o,s):l===v_?pC(o,s):void 0}(s,o,c):ms(s,s[1],l,o)}function mh(s,o,l,c){const h=o[19].queries[c];if(null===h.matches){const g=s.data,v=l.matches,b=[];for(let C=0;C<v.length;C+=2){const A=v[C];b.push(A<0?null:Bc(o,g[A],v[C+1],l.metadata.read))}h.matches=b}return h.matches}function Wt(s,o,l,c){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const v=mh(s,o,h,l);for(let b=0;b<g.length;b+=2){const C=g[b];if(C>0)c.push(v[b/2]);else{const A=g[b+1],M=o[-C];for(let F=10;F<M.length;F++){const j=M[F];j[17]===j[3]&&Wt(j[1],j,A,c)}if(null!==M[9]){const F=M[9];for(let j=0;j<F.length;j++){const J=F[j];Wt(J[1],J,A,c)}}}}}return c}function _C(s){const o=xe(),l=Bt(),c=Fl();_d(c+1);const h=_u(l,c);if(s.dirty&&mo(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Wt(l,o,c,[]):mh(l,o,h,c);s.reset(g,DD),s.notifyOnChanges()}return!0}return!1}function mr(s,o,l){const c=Bt();c.firstCreatePass&&(gl(c,new Uc(s,o,l),-1),2==(2&o)&&(c.staticViewQueries=!0)),vC(c,xe(),o)}function jc(s,o,l,c){const h=Bt();if(h.firstCreatePass){const g=_n();gl(h,new Uc(o,l,c),g.index),function Qn(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}vC(h,xe(),l)}function yC(){return function Pr(s,o){return s[19].queries[o].queryList}(xe(),Fl())}function vC(s,o,l){const c=new z0(4==(4&l));Db(s,o,c,c.destroy),null===o[19]&&(o[19]=new Ft),o[19].queries.push(new b_(c))}function gl(s,o,l){null===s.queries&&(s.queries=new E_),s.queries.track(new jn(o,l))}function _u(s,o){return s.queries.getByIndex(o)}function C_(s,o){return Tp(s,o)}function Rp(...s){}const $r=new wn("Application Initializer");let nw=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Rp,this.reject=Rp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Rv(g))l.push(g);else if(gE(g)){const v=new Promise((b,C)=>{g.subscribe({complete:b,error:C})});l.push(v)}}Promise.all(l).then(()=>{c()}).catch(h=>{this.reject(h)}),0===l.length&&c(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(at($r,8))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const TC=new wn("AppId",{providedIn:"root",factory:function DC(){return`${rw()}${rw()}${rw()}`}});function rw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const SC=new wn("Platform Initializer"),LD=new wn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),AC=new wn("appBootstrapListener");let wh=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const P_=new wn("LocaleId",{providedIn:"root",factory:()=>zt(P_,wt.Optional|wt.SkipSelf)||function VD(){return"undefined"!=typeof $localize&&$localize.locale||Jf}()}),xC=new wn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class BD{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let iw=(()=>{class s{compileModuleSync(l){return new y_(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const c=this.compileModuleSync(l),g=y(Zn(l).declarations).reduce((v,b)=>{const C=Gn(b);return C&&v.push(new yp(C)),v},[]);return new BD(c,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const bh=(()=>Promise.resolve(0))();function ss(s){"undefined"==typeof Zone?bh.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ui{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Je(!1),this.onMicrotaskEmpty=new Je(!1),this.onStable=new Je(!1),this.onError=new Je(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&l,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function PC(){let s=Ht.requestAnimationFrame,o=Ht.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function OC(s){const o=()=>{!function ow(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ht,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,k_(s),s.isCheckStableRunning=!0,Fp(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),k_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,h,g,v,b)=>{try{return RC(s),l.invokeTask(h,g,v,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),aw(s)}},onInvoke:(l,c,h,g,v,b,C)=>{try{return RC(s),l.invoke(h,g,v,b,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),aw(s)}},onHasTask:(l,c,h,g)=>{l.hasTask(h,g),c===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,k_(s),Fp(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,c,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ui.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ui.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,c){return this._inner.run(o,l,c)}runTask(o,l,c,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,kC,Rp,Rp);try{return g.runTask(v,l,c)}finally{g.cancelTask(v)}}runGuarded(o,l,c){return this._inner.runGuarded(o,l,c)}runOutsideAngular(o){return this._outer.run(o)}}const kC={};function Fp(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function k_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function RC(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function aw(s){s._nesting--,Fp(s)}class NC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Je,this.onMicrotaskEmpty=new Je,this.onStable=new Je,this.onError=new Je}run(o,l,c){return o.apply(l,c)}runGuarded(o,l,c){return o.apply(l,c)}runOutsideAngular(o){return o()}runTask(o,l,c,h){return o.apply(l,c)}}let lw=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ui.assertNotInAngularZone(),ss(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ss(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,h){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,c,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(at(Ui))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac}),s})(),O_=(()=>{class s{constructor(){this._applications=new Map,R_.addToWindow(this)}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){return R_.findTestabilityInTree(this,l,c)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class jD{addToWindow(o){}findTestabilityInTree(o,l,c){return null}}function HD(s){R_=s}let R_=new jD,oo=null;const wu=new wn("AllowMultipleToken"),uw=new wn("PlatformOnDestroy");class FC{constructor(o,l){this.name=o,this.token=l}}function Ch(s,o,l=[]){const c=`Platform: ${o}`,h=new wn(c);return(g=[])=>{let v=Ih();if(!v||v.injector.get(wu,!1)){const b=[...l,...g,{provide:h,useValue:!0}];s?s(b):function LC(s){if(oo&&!oo.get(wu,!1))throw new Re(400,"");oo=s;const o=s.get(Lp),l=s.get(SC,null);l&&l.forEach(c=>c())}(function GD(s=[],o){return No.create({name:o,providers:[{provide:sv,useValue:"platform"},{provide:uw,useValue:()=>oo=null},...s]})}(b,c))}return function qD(s){const o=Ih();if(!o)throw new Re(401,"");return o}()}}function Ih(){var s;return null!==(s=null==oo?void 0:oo.get(Lp))&&void 0!==s?s:null}let Lp=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const b=function ZD(s,o){let l;return l="noop"===s?new NC:("zone.js"===s?void 0:s)||new Ui({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),C=[{provide:Ui,useValue:b}];return b.run(()=>{const A=No.create({providers:C,parent:this.injector,name:l.moduleType.name}),M=l.create(A),F=M.injector.get(Jd,null);if(!F)throw new Re(402,"");return b.runOutsideAngular(()=>{const j=b.onError.subscribe({next:J=>{F.handleError(J)}});M.onDestroy(()=>{F_(this._modules,M),j.unsubscribe()})}),function cw(s,o,l){try{const c=l();return Rv(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(F,b,()=>{const j=M.injector.get(nw);return j.runInitializers(),j.donePromise.then(()=>(function Xf(s){jt(s,"Expected localeId to be defined"),"string"==typeof s&&(LE=s.toLowerCase().replace(/_/g,"-"))}(M.injector.get(P_,Jf)||Jf),this._moduleDoBootstrap(M),M))})})}bootstrapModule(l,c=[]){const h=VC({},c);return function Zc(s,o,l){const c=new y_(l);return Promise.resolve(c)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const c=l.injector.get(N_);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Re(403,"");l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const l=this._injector.get(uw,null);null==l||l(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(at(No))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function VC(s,o){return Array.isArray(o)?o.reduce(VC,s):Object.assign(Object.assign({},s),o)}let N_=(()=>{class s{constructor(l,c,h,g){this._zone=l,this._injector=c,this._exceptionHandler=h,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new R.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),b=new R.y(C=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Ui.assertNotInAngularZone(),ss(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Ui.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{A.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ue.T)(v,b.pipe((0,se.B)()))}bootstrap(l,c){if(!this._initStatus.done)throw new Re(405,"");let h;h=l instanceof pp?l:this._injector.get(c_).resolveComponentFactory(l),this.componentTypes.push(h.componentType);const g=function Eh(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Fc),b=h.create(No.NULL,[],c||h.selector,g),C=b.location.nativeElement,A=b.injector.get(lw,null),M=A&&b.injector.get(O_);return A&&M&&M.registerApplication(C,A),b.onDestroy(()=>{this.detachView(b.hostView),F_(this.components,b),M&&M.unregisterApplication(C)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Re(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;F_(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(AC,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(at(Ui),at(No),at(Jd),at(nw))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function F_(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let dw=!0,hw=!1;function UC(){return hw=!0,dw}function Vp(){if(hw)throw new Error("Cannot enable prod mode after platform setup.");dw=!1}let Yt=(()=>{class s{}return s.__NG_ELEMENT_ID__=jC,s})();function jC(s){return function HC(s,o,l){if(sd(s)&&!l){const c=cr(s.index,o);return new Nc(c,c)}return 47&s.type?new Nc(o[16],o):null}(_n(),xe(),16==(16&s))}class ZC{constructor(){}supports(o){return bc(o)}create(o){return new zC(o)}}const Bp=(s,o)=>o;class zC{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Bp}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,c=this._removalsHead,h=0,g=null;for(;l||c;){const v=!c||l&&l.currentIndex<fw(c,h,g)?l:c,b=fw(v,h,g),C=v.currentIndex;if(v===c)h--,c=c._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{g||(g=[]);const A=b-h,M=C-h;if(A!=M){for(let j=0;j<A;j++){const J=j<g.length?g[j]:g[j]=0,be=J+j;M<=be&&be<A&&(g[j]=J+1)}g[v.previousIndex]=M-A}}b!==C&&o(v,b,C)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!bc(o))throw new Re(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,l=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)g=o[b],v=this._trackByFn(b,g),null!==l&&Object.is(l.trackById,v)?(c&&(l=this._verifyReinsertion(l,g,v,b)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,b),c=!0),l=l._next}else h=0,function LT(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[ol()]();let c;for(;!(c=l.next()).done;)o(c.value)}}(o,b=>{v=this._trackByFn(h,b),null!==l&&Object.is(l.trackById,v)?(c&&(l=this._verifyReinsertion(l,b,v,h)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,v,h),c=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,c,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new YD(l,c),g,h),o}_verifyReinsertion(o,l,c,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,c),this._addToMoves(o,c),o}_moveAfter(o,l,c){return this._unlink(o),this._insertAfter(o,l,c),this._addToMoves(o,c),o}_addAfter(o,l,c){return this._insertAfter(o,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,c){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new j_),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,c=o._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new j_),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class YD{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qr{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const l=o._prevDup,c=o._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class j_{constructor(){this.map=new Map}put(o){const l=o.trackById;let c=this.map.get(l);c||(c=new qr,this.map.set(l,c)),c.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fw(s,o,l){const c=s.previousIndex;if(null===c)return c;let h=0;return l&&c<l.length&&(h=l[c]),c+o+h}class Ah{constructor(){}supports(o){return o instanceof Map||vv(o)}create(){return new Ia}}class Ia{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||vv(o)))throw new Re(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,c);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const c=o._prev;return l._next=o,l._prev=c,o._prev=l,c&&(c._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const c=new pw(o);return this._records.set(o,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(c=>l(o[c],c))}}class pw{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gw(){return new Yc([new ZC])}let Yc=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(null!=c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||gw()),deps:[[s,new no,new Sr]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(null!=c)return c;throw new Re(901,"")}}return s.\u0275prov=Jt({token:s,providedIn:"root",factory:gw}),s})();function mw(){return new H_([new Ah])}let H_=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||mw()),deps:[[s,new no,new Sr]]}}find(l){const c=this.factories.find(g=>g.supports(l));if(c)return c;throw new Re(901,"")}}return s.\u0275prov=Jt({token:s,providedIn:"root",factory:mw}),s})();const eS=Ch(null,"core",[]);let KC=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(at(N_))},s.\u0275mod=Nr({type:s}),s.\u0275inj=Kt({}),s})()},3942:(nt,Ie,O)=>{O.d(Ie,{Z:()=>Re});var u=O(2090),ee=O(4859),R=O(9681),ue=O(1877);class se{constructor(ge,De){this._delegate=ge,this.firebase=De,(0,R._addComponent)(ge,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(ge,De=R._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(ge);return!Qe.isInitialized()&&"EXPLICIT"===(null===(We=Qe.getComponent())||void 0===We?void 0:We.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:De})}_removeServiceInstance(ge,De=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(De)}_addComponent(ge){(0,R._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,R._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function fe(){const Ue=function ae(Ue){const ge={},De={__esModule:!0,initializeApp:function Ae(Be,q={}){const Ee=R.initializeApp(Be,q);if((0,u.r3)(ge,Ee.name))return ge[Ee.name];const Y=new Ue(Ee,De);return ge[Ee.name]=Y,Y},app:Qe,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function Te(Be){const q=Be.name,Ee=q.replace("-compat","");if(R._registerComponent(Be)&&"PUBLIC"===Be.type){const Y=(oe=Qe())=>{if("function"!=typeof oe[Ee])throw ce.create("invalid-app-argument",{appName:q});return oe[Ee]()};void 0!==Be.serviceProps&&(0,u.ZB)(Y,Be.serviceProps),De[Ee]=Y,Ue.prototype[Ee]=function(...oe){return this._getService.bind(this,q).apply(this,Be.multipleInstances?oe:[])}}return"PUBLIC"===Be.type?De[Ee]:null},removeApp:function We(Be){delete ge[Be]},useAsService:function He(Be,q){return"serverAuth"===q?null:q},modularAPIs:R}};function Qe(Be){if(!(0,u.r3)(ge,Be=Be||R._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:Be});return ge[Be]}return De.default=De,Object.defineProperty(De,"apps",{get:function Ce(){return Object.keys(ge).map(Be=>ge[Be])}}),Qe.App=Ue,De}(se);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function ge(De){(0,u.ZB)(Ue,De)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Ue}(),H=new ue.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Re=G;!function Pe(Ue){(0,R.registerVersion)("@firebase/app-compat","0.1.26",Ue)}()},9681:(nt,Ie,O)=>{O.r(Ie),O.d(Ie,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>Bi,_DEFAULT_ENTRY_NAME:()=>jt,_addComponent:()=>on,_addOrOverwriteComponent:()=>Jt,_apps:()=>nn,_clearComponents:()=>us,_components:()=>In,_getProvider:()=>Kt,_registerComponent:()=>Or,_removeServiceInstance:()=>Ut,deleteApp:()=>wt,getApp:()=>ui,getApps:()=>Si,initializeApp:()=>Vs,onLog:()=>Tn,registerVersion:()=>vn,setLogLevel:()=>lo});var u=O(5861),ee=O(4859),R=O(1877),ue=O(2090),se=O(8766);class _e{constructor(X){this.container=X}getPlatformInfoString(){return this.container.getProviders().map(ke=>{if(function ce(Z){const X=Z.getComponent();return"VERSION"===(null==X?void 0:X.type)}(ke)){const et=ke.getImmediate();return`${et.library}/${et.version}`}return null}).filter(ke=>ke).join(" ")}}const ae="@firebase/app",G=new R.Yd("@firebase/app"),jt="[DEFAULT]",Ye={[ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},nn=new Map,In=new Map;function on(Z,X){try{Z.container.addComponent(X)}catch(ke){G.debug(`Component ${X.name} failed to register with FirebaseApp ${Z.name}`,ke)}}function Jt(Z,X){Z.container.addOrOverwriteComponent(X)}function Or(Z){const X=Z.name;if(In.has(X))return G.debug(`There were multiple attempts to register component ${X}.`),!1;In.set(X,Z);for(const ke of nn.values())on(ke,Z);return!0}function Kt(Z,X){const ke=Z.container.getProvider("heartbeat").getImmediate({optional:!0});return ke&&ke.triggerHeartbeat(),Z.container.getProvider(X)}function Ut(Z,X,ke=jt){Kt(Z,X).clearInstance(ke)}function us(){In.clear()}const yr=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Rr{constructor(X,ke,et){this._isDeleted=!1,this._options=Object.assign({},X),this._config=Object.assign({},ke),this._name=ke.name,this._automaticDataCollectionEnabled=ke.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this.checkDestroyed(),this._automaticDataCollectionEnabled=X}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(X){this._isDeleted=X}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}const Bi="9.8.2";function Vs(Z,X={}){"object"!=typeof X&&(X={name:X});const ke=Object.assign({name:jt,automaticDataCollectionEnabled:!1},X),et=ke.name;if("string"!=typeof et||!et)throw yr.create("bad-app-name",{appName:String(et)});const _t=nn.get(et);if(_t){if((0,ue.vZ)(Z,_t.options)&&(0,ue.vZ)(ke,_t.config))return _t;throw yr.create("duplicate-app",{appName:et})}const St=new ee.H0(et);for(const Tt of In.values())St.addComponent(Tt);const fn=new Rr(Z,ke,St);return nn.set(et,fn),fn}function ui(Z=jt){const X=nn.get(Z);if(!X)throw yr.create("no-app",{appName:Z});return X}function Si(){return Array.from(nn.values())}function wt(Z){return ci.apply(this,arguments)}function ci(){return(ci=(0,u.Z)(function*(Z){const X=Z.name;nn.has(X)&&(nn.delete(X),yield Promise.all(Z.container.getProviders().map(ke=>ke.delete())),Z.isDeleted=!0)})).apply(this,arguments)}function vn(Z,X,ke){var et;let _t=null!==(et=Ye[Z])&&void 0!==et?et:Z;ke&&(_t+=`-${ke}`);const St=_t.match(/\s|\//),fn=X.match(/\s|\//);if(St||fn){const Tt=[`Unable to register library "${_t}" with version "${X}":`];return St&&Tt.push(`library name "${_t}" contains illegal characters (whitespace or "/")`),St&&fn&&Tt.push("and"),fn&&Tt.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void G.warn(Tt.join(" "))}Or(new ee.wA(`${_t}-version`,()=>({library:_t,version:X}),"VERSION"))}function Tn(Z,X){if(null!==Z&&"function"!=typeof Z)throw yr.create("invalid-log-argument");(0,R.Am)(Z,X)}function lo(Z){(0,R.Ub)(Z)}const On="firebase-heartbeat-store";let Ai=null;function qo(){return Ai||(Ai=(0,se.X3)("firebase-heartbeat-database",1,{upgrade:(Z,X)=>{0===X&&Z.createObjectStore(On)}}).catch(Z=>{throw yr.create("storage-open",{originalErrorMessage:Z.message})})),Ai}function ct(){return(ct=(0,u.Z)(function*(Z){try{return(yield qo()).transaction(On).objectStore(On).get(hi(Z))}catch(X){throw yr.create("storage-get",{originalErrorMessage:X.message})}})).apply(this,arguments)}function It(Z,X){return vr.apply(this,arguments)}function vr(){return(vr=(0,u.Z)(function*(Z,X){try{const et=(yield qo()).transaction(On,"readwrite");return yield et.objectStore(On).put(X,hi(Z)),et.done}catch(ke){throw yr.create("storage-set",{originalErrorMessage:ke.message})}})).apply(this,arguments)}function hi(Z){return`${Z.name}!${Z.options.appId}`}class wr{constructor(X){this.container=X,this._heartbeatsCache=null;const ke=this.container.getProvider("app").getImmediate();this._storage=new z(ke),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var X=this;return(0,u.Z)(function*(){const et=X.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_t=br();if(null===X._heartbeatsCache&&(X._heartbeatsCache=yield X._heartbeatsCachePromise),X._heartbeatsCache.lastSentHeartbeatDate!==_t&&!X._heartbeatsCache.heartbeats.some(St=>St.date===_t))return X._heartbeatsCache.heartbeats.push({date:_t,agent:et}),X._heartbeatsCache.heartbeats=X._heartbeatsCache.heartbeats.filter(St=>{const fn=new Date(St.date).valueOf();return Date.now()-fn<=2592e6}),X._storage.overwrite(X._heartbeatsCache)})()}getHeartbeatsHeader(){var X=this;return(0,u.Z)(function*(){if(null===X._heartbeatsCache&&(yield X._heartbeatsCachePromise),null===X._heartbeatsCache||0===X._heartbeatsCache.heartbeats.length)return"";const ke=br(),{heartbeatsToSend:et,unsentEntries:_t}=function U(Z,X=1024){const ke=[];let et=Z.slice();for(const _t of Z){const St=ke.find(fn=>fn.agent===_t.agent);if(St){if(St.dates.push(_t.date),W(ke)>X){St.dates.pop();break}}else if(ke.push({agent:_t.agent,dates:[_t.date]}),W(ke)>X){ke.pop();break}et=et.slice(1)}return{heartbeatsToSend:ke,unsentEntries:et}}(X._heartbeatsCache.heartbeats),St=(0,ue.L)(JSON.stringify({version:2,heartbeats:et}));return X._heartbeatsCache.lastSentHeartbeatDate=ke,_t.length>0?(X._heartbeatsCache.heartbeats=_t,yield X._storage.overwrite(X._heartbeatsCache)):(X._heartbeatsCache.heartbeats=[],X._storage.overwrite(X._heartbeatsCache)),St})()}}function br(){return(new Date).toISOString().substring(0,10)}class z{constructor(X){this.app=X,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var X=this;return(0,u.Z)(function*(){return(yield X._canUseIndexedDBPromise)&&(yield function Zt(Z){return ct.apply(this,arguments)}(X.app))||{heartbeats:[]}})()}overwrite(X){var ke=this;return(0,u.Z)(function*(){var et;if(yield ke._canUseIndexedDBPromise){const St=yield ke.read();return It(ke.app,{lastSentHeartbeatDate:null!==(et=X.lastSentHeartbeatDate)&&void 0!==et?et:St.lastSentHeartbeatDate,heartbeats:X.heartbeats})}})()}add(X){var ke=this;return(0,u.Z)(function*(){var et;if(yield ke._canUseIndexedDBPromise){const St=yield ke.read();return It(ke.app,{lastSentHeartbeatDate:null!==(et=X.lastSentHeartbeatDate)&&void 0!==et?et:St.lastSentHeartbeatDate,heartbeats:[...St.heartbeats,...X.heartbeats]})}})()}}function W(Z){return(0,ue.L)(JSON.stringify({version:2,heartbeats:Z})).length}!function Se(Z){Or(new ee.wA("platform-logger",X=>new _e(X),"PRIVATE")),Or(new ee.wA("heartbeat",X=>new wr(X),"PRIVATE")),vn(ae,"0.7.25",Z),vn(ae,"0.7.25","esm2017"),vn("fire-js","")}("")},4859:(nt,Ie,O)=>{O.d(Ie,{H0:()=>ae,wA:()=>R});var u=O(5861),ee=O(2090);class R{constructor(G,H,ne){this.name=G,this.instanceFactory=H,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ue="[DEFAULT]";class se{constructor(G,H){this.name=G,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const H=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(H)){const ne=new ee.BH;if(this.instancesDeferred.set(H,ne),this.isInitialized(H)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:H});ze&&ne.resolve(ze)}catch(ze){}}return this.instancesDeferred.get(H).promise}getImmediate(G){var H;const ne=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),ze=null!==(H=null==G?void 0:G.optional)&&void 0!==H&&H;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Pe){if(ze)return null;throw Pe}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ce(fe){return"EAGER"===fe.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(H){}for(const[H,ne]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(H);try{const Pe=this.getOrInitializeService({instanceIdentifier:ze});ne.resolve(Pe)}catch(Pe){}}}}clearInstance(G=ue){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,u.Z)(function*(){const H=Array.from(G.instances.values());yield Promise.all([...H.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...H.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ue){return this.instances.has(G)}getOptions(G=ue){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:H={}}=G,ne=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:ne,options:H});for(const[Pe,Re]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Pe)&&Re.resolve(ze);return ze}onInit(G,H){var ne;const ze=this.normalizeInstanceIdentifier(H),Pe=null!==(ne=this.onInitCallbacks.get(ze))&&void 0!==ne?ne:new Set;Pe.add(G),this.onInitCallbacks.set(ze,Pe);const Re=this.instances.get(ze);return Re&&G(Re,ze),()=>{Pe.delete(G)}}invokeOnInitCallbacks(G,H){const ne=this.onInitCallbacks.get(H);if(ne)for(const ze of ne)try{ze(G,H)}catch(Pe){}}getOrInitializeService({instanceIdentifier:G,options:H={}}){let ne=this.instances.get(G);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=G,fe===ue?void 0:fe),options:H}),this.instances.set(G,ne),this.instancesOptions.set(G,H),this.invokeOnInitCallbacks(ne,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,ne)}catch(ze){}var fe;return ne||null}normalizeInstanceIdentifier(G=ue){return this.component?this.component.multipleInstances?G:ue:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const H=this.getProvider(G.name);if(H.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);H.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const H=new se(G,this);return this.providers.set(G,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(nt,Ie,O)=>{O.d(Ie,{Am:()=>fe,Ub:()=>ae,Yd:()=>ce,in:()=>ee});const u=[];var ee=(()=>{return(G=ee||(ee={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",ee;var G})();const R={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},ue=ee.INFO,se={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},_e=(G,H,...ne)=>{if(H<G.logLevel)return;const ze=(new Date).toISOString(),Pe=se[H];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Pe](`[${ze}]  ${G.name}:`,...ne)};class ce{constructor(H){this.name=H,this._logLevel=ue,this._logHandler=_e,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in ee))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?R[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...H),this._logHandler(this,ee.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...H),this._logHandler(this,ee.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...H),this._logHandler(this,ee.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...H),this._logHandler(this,ee.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...H),this._logHandler(this,ee.ERROR,...H)}}function ae(G){u.forEach(H=>{H.setLogLevel(G)})}function fe(G,H){for(const ne of u){let ze=null;H&&H.level&&(ze=R[H.level]),ne.userLogHandler=null===G?null:(Pe,Re,...Ue)=>{const ge=Ue.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(We){return null}}).filter(De=>De).join(" ");Re>=(null!=ze?ze:Pe.logLevel)&&G({level:ee[Re].toLowerCase(),message:ge,args:Ue,type:Pe.name})}}}},8766:(nt,Ie,O)=>{O.d(Ie,{Lj:()=>Ae,X3:()=>Qe});var u=O(5861);let R,ue;const ce=new WeakMap,ae=new WeakMap,fe=new WeakMap,G=new WeakMap,H=new WeakMap;let Pe={get(q,Ee,Y){if(q instanceof IDBTransaction){if("done"===Ee)return ae.get(q);if("objectStoreNames"===Ee)return q.objectStoreNames||fe.get(q);if("store"===Ee)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return De(q[Ee])},set:(q,Ee,Y)=>(q[Ee]=Y,!0),has:(q,Ee)=>q instanceof IDBTransaction&&("done"===Ee||"store"===Ee)||Ee in q};function ge(q){return"function"==typeof q?function Ue(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...Ee){return q.apply(We(this),Ee),De(ce.get(this))}:function(...Ee){return De(q.apply(We(this),Ee))}:function(Ee,...Y){const oe=q.call(We(this),Ee,...Y);return fe.set(oe,Ee.sort?Ee.sort():[Ee]),De(oe)}}(q):(q instanceof IDBTransaction&&function ze(q){if(ae.has(q))return;const Ee=new Promise((Y,oe)=>{const te=()=>{q.removeEventListener("complete",ye),q.removeEventListener("error",le),q.removeEventListener("abort",le)},ye=()=>{Y(),te()},le=()=>{oe(q.error||new DOMException("AbortError","AbortError")),te()};q.addEventListener("complete",ye),q.addEventListener("error",le),q.addEventListener("abort",le)});ae.set(q,Ee)}(q),((q,Ee)=>Ee.some(Y=>q instanceof Y))(q,function se(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,Pe):q)}function De(q){if(q instanceof IDBRequest)return function ne(q){const Ee=new Promise((Y,oe)=>{const te=()=>{q.removeEventListener("success",ye),q.removeEventListener("error",le)},ye=()=>{Y(De(q.result)),te()},le=()=>{oe(q.error),te()};q.addEventListener("success",ye),q.addEventListener("error",le)});return Ee.then(Y=>{Y instanceof IDBCursor&&ce.set(Y,q)}).catch(()=>{}),H.set(Ee,q),Ee}(q);if(G.has(q))return G.get(q);const Ee=ge(q);return Ee!==q&&(G.set(q,Ee),H.set(Ee,q)),Ee}const We=q=>H.get(q);function Qe(q,Ee,{blocked:Y,upgrade:oe,blocking:te,terminated:ye}={}){const le=indexedDB.open(q,Ee),Ne=De(le);return oe&&le.addEventListener("upgradeneeded",ft=>{oe(De(le.result),ft.oldVersion,ft.newVersion,De(le.transaction))}),Y&&le.addEventListener("blocked",()=>Y()),Ne.then(ft=>{ye&&ft.addEventListener("close",()=>ye()),te&&ft.addEventListener("versionchange",()=>te())}).catch(()=>{}),Ne}function Ae(q,{blocked:Ee}={}){const Y=indexedDB.deleteDatabase(q);return Ee&&Y.addEventListener("blocked",()=>Ee()),De(Y).then(()=>{})}const Ce=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],He=new Map;function Be(q,Ee){if(!(q instanceof IDBDatabase)||Ee in q||"string"!=typeof Ee)return;if(He.get(Ee))return He.get(Ee);const Y=Ee.replace(/FromIndex$/,""),oe=Ee!==Y,te=Te.includes(Y);if(!(Y in(oe?IDBIndex:IDBObjectStore).prototype)||!te&&!Ce.includes(Y))return;const ye=function(){var le=(0,u.Z)(function*(Ne,...ft){const Gt=this.transaction(Ne,te?"readwrite":"readonly");let jt=Gt.store;return oe&&(jt=jt.index(ft.shift())),(yield Promise.all([jt[Y](...ft),te&&Gt.done]))[0]});return function(ft){return le.apply(this,arguments)}}();return He.set(Ee,ye),ye}!function Re(q){Pe=q(Pe)}(q=>kO(PO({},q),{get:(Ee,Y,oe)=>Be(Ee,Y)||q.get(Ee,Y,oe),has:(Ee,Y)=>!!Be(Ee,Y)||q.has(Ee,Y)}))},5861:(nt,Ie,O)=>{function u(R,ue,se,_e,ce,ae,fe){try{var G=R[ae](fe),H=G.value}catch(ne){return void se(ne)}G.done?ue(H):Promise.resolve(H).then(_e,ce)}function ee(R){return function(){var ue=this,se=arguments;return new Promise(function(_e,ce){var ae=R.apply(ue,se);function fe(H){u(ae,_e,ce,fe,G,"next",H)}function G(H){u(ae,_e,ce,fe,G,"throw",H)}fe(void 0)})}}O.d(Ie,{Z:()=>ee})}},nt=>{nt(nt.s=988)}]);