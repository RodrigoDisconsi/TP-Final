var KF=Object.defineProperty,YF=Object.defineProperties,QF=Object.getOwnPropertyDescriptors,jx=Object.getOwnPropertySymbols,JF=Object.prototype.hasOwnProperty,XF=Object.prototype.propertyIsEnumerable,Zx=(gt,ke,P)=>ke in gt?KF(gt,ke,{enumerable:!0,configurable:!0,writable:!0,value:P}):gt[ke]=P,$x=(gt,ke)=>{for(var P in ke||(ke={}))JF.call(ke,P)&&Zx(gt,P,ke[P]);if(jx)for(var P of jx(ke))XF.call(ke,P)&&Zx(gt,P,ke[P]);return gt},Gx=(gt,ke)=>YF(gt,QF(ke));(self.webpackChunkTP_Final=self.webpackChunkTP_Final||[]).push([[179],{2011:(gt,ke,P)=>{"use strict";P.d(ke,{Dh:()=>re,GT:()=>H,cc:()=>Pe,hO:()=>Ue,on:()=>U,pX:()=>B,xv:()=>se});var d=P(5e3),a=P(127),V=P(5813);gt=P.hmd(gt);const ve=["ngOnDestroy"],B=(je,ut,pt,Be={})=>new Proxy(je,{get:(q,De)=>pt.runOutsideAngular(()=>{var ne;if(je[De])return(null===(ne=null==Be?void 0:Be.spy)||void 0===ne?void 0:ne.get)&&Be.spy.get(De,je[De]),je[De];if(ve.indexOf(De)>-1)return()=>{};const we=ut.toPromise().then(ae=>{const Ze=ae&&ae[De];return"function"==typeof Ze?Ze.bind(ae):Ze&&Ze.then?Ze.then(Ie=>pt.run(()=>Ie)):pt.run(()=>Ze)});return new Proxy(()=>{},{get:(ae,Ze)=>we[Ze],apply:(ae,Ze,Ie)=>we.then(Ve=>{var Re;const qe=Ve&&Ve(...Ie);return(null===(Re=null==Be?void 0:Be.spy)||void 0===Re?void 0:Re.apply)&&Be.spy.apply(De,Ie,qe),qe})})})}),H=(je,ut)=>{ut.forEach(pt=>{Object.getOwnPropertyNames(pt.prototype||pt).forEach(Be=>{Object.defineProperty(je.prototype,Be,Object.getOwnPropertyDescriptor(pt.prototype||pt,Be))})})};class z{constructor(ut){return ut}}const re=new d.OlP("angularfire2.app.options"),se=new d.OlP("angularfire2.app.name");function U(je,ut,pt){const q="object"==typeof pt&&pt||{};q.name=q.name||"string"==typeof pt&&pt||"[DEFAULT]";const ne=a.Z.apps.filter(we=>we&&we.name===q.name)[0]||ut.runOutsideAngular(()=>a.Z.initializeApp(je,q));try{JSON.stringify(je)!==JSON.stringify(ne.options)&&J("error",`${ne.name} Firebase App already initialized with different options${gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(we){}return new z(ne)}const J=(je,...ut)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[je](...ut)},ue={provide:z,useFactory:U,deps:[re,d.R0b,[new d.FiY,se]]};let Ue=(()=>{class je{constructor(pt){a.Z.registerVersion("angularfire",V.q4.full,"core"),a.Z.registerVersion("angularfire",V.q4.full,"app-compat"),a.Z.registerVersion("angular",d.q4F.full,pt.toString())}static initializeApp(pt,Be){return{ngModule:je,providers:[{provide:re,useValue:pt},{provide:se,useValue:Be}]}}}return je.\u0275fac=function(pt){return new(pt||je)(d.LFG(d.Lbi))},je.\u0275mod=d.oAB({type:je}),je.\u0275inj=d.cJS({providers:[ue]}),je})();function Pe(je,ut,pt,Be,q){const[,De,ne]=globalThis.\u0275AngularfireInstanceCache.find(we=>we[0]===je)||[];if(De)return function Le(je,ut){try{return je.toString()===ut.toString()}catch(pt){return je===ut}}(q,ne)||(be("error",`${ut} was already initialized on the ${pt} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:q,was:ne})),De;{const we=Be();return globalThis.\u0275AngularfireInstanceCache.push([je,we,q]),we}}const nt=!!gt.hot,be=(je,...ut)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[je](...ut)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(gt,ke,P)=>{"use strict";P.d(ke,{q4:()=>uu,iC:()=>Dd,fc:()=>jo,HU:()=>Al,vb:()=>ir,JM:()=>za});var d=P(5e3),a=P(5867),V=P(5861),ve=P(9681),B=P(2090),H=P(4859),z=P(1877),re=P(8766);const se="@firebase/installations",U="0.5.9",ue=`w:${U}`,Ue="FIS_v2",ut=new B.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pt(S){return S instanceof B.ZR&&S.code.includes("request-failed")}function Be({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function q(S){return{token:S.token,requestStatus:2,expiresIn:Ve(S.expiresIn),creationTime:Date.now()}}function De(S,O){return ne.apply(this,arguments)}function ne(){return(ne=(0,V.Z)(function*(S,O){const de=(yield O.json()).error;return ut.create("request-failed",{requestName:S,serverCode:de.code,serverMessage:de.message,serverStatus:de.status})})).apply(this,arguments)}function we({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function ae(S,{refreshToken:O}){const K=we(S);return K.append("Authorization",function Re(S){return`${Ue} ${S}`}(O)),K}function Ze(S){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,V.Z)(function*(S){const O=yield S();return O.status>=500&&O.status<600?S():O})).apply(this,arguments)}function Ve(S){return Number(S.replace("s","000"))}function qe(S,O){return He.apply(this,arguments)}function He(){return(He=(0,V.Z)(function*({appConfig:S,heartbeatServiceProvider:O},{fid:K}){const de=Be(S),Fe=we(S),$e=O.getImmediate({optional:!0});if($e){const dn=yield $e.getHeartbeatsHeader();dn&&Fe.append("x-firebase-client",dn)}const Lt={method:"POST",headers:Fe,body:JSON.stringify({fid:K,authVersion:Ue,appId:S.appId,sdkVersion:ue})},Ht=yield Ze(()=>fetch(de,Lt));if(Ht.ok){const dn=yield Ht.json();return{fid:dn.fid||K,registrationStatus:2,refreshToken:dn.refreshToken,authToken:q(dn.authToken)}}throw yield De("Create Installation",Ht)})).apply(this,arguments)}function at(S){return new Promise(O=>{setTimeout(O,S)})}const bn=/^[cdef][\w-]{21}$/;function Et(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const K=function Sn(S){return function Pt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return bn.test(K)?K:""}catch(S){return""}}function Hn(S){return`${S.appName}!${S.appId}`}const Fn=new Map;function xn(S,O){const K=Hn(S);an(K,O),function ti(S,O){const K=function ai(){return!fi&&"BroadcastChannel"in self&&(fi=new BroadcastChannel("[Firebase] FID Change"),fi.onmessage=S=>{an(S.data.key,S.data.fid)}),fi}();K&&K.postMessage({key:S,fid:O}),function pi(){0===Fn.size&&fi&&(fi.close(),fi=null)}()}(K,O)}function an(S,O){const K=Fn.get(S);if(K)for(const de of K)de(O)}let fi=null;const gi="firebase-installations-store";let Oi=null;function Ut(){return Oi||(Oi=(0,re.X3)("firebase-installations-database",1,{upgrade:(S,O)=>{0===O&&S.createObjectStore(gi)}})),Oi}function Ci(S,O){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,V.Z)(function*(S,O){const K=Hn(S),Fe=(yield Ut()).transaction(gi,"readwrite"),$e=Fe.objectStore(gi),mt=yield $e.get(K);return yield $e.put(O,K),yield Fe.done,(!mt||mt.fid!==O.fid)&&xn(S,O.fid),O})).apply(this,arguments)}function mn(S){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,V.Z)(function*(S){const O=Hn(S),de=(yield Ut()).transaction(gi,"readwrite");yield de.objectStore(gi).delete(O),yield de.done})).apply(this,arguments)}function Si(S,O){return mi.apply(this,arguments)}function mi(){return(mi=(0,V.Z)(function*(S,O){const K=Hn(S),Fe=(yield Ut()).transaction(gi,"readwrite"),$e=Fe.objectStore(gi),mt=yield $e.get(K),Lt=O(mt);return void 0===Lt?yield $e.delete(K):yield $e.put(Lt,K),yield Fe.done,Lt&&(!mt||mt.fid!==Lt.fid)&&xn(S,Lt.fid),Lt})).apply(this,arguments)}function Ge(S){return xt.apply(this,arguments)}function xt(){return(xt=(0,V.Z)(function*(S){let O;const K=yield Si(S.appConfig,de=>{const Fe=ie(de),$e=te(S,Fe);return O=$e.registrationPromise,$e.installationEntry});return""===K.fid?{installationEntry:yield O}:{installationEntry:K,registrationPromise:O}})).apply(this,arguments)}function ie(S){return yt(S||{fid:Et(),registrationStatus:0})}function te(S,O){if(0===O.registrationStatus){if(!navigator.onLine)return{installationEntry:O,registrationPromise:Promise.reject(ut.create("app-offline"))};const K={fid:O.fid,registrationStatus:1,registrationTime:Date.now()},de=function ce(S,O){return w.apply(this,arguments)}(S,K);return{installationEntry:K,registrationPromise:de}}return 1===O.registrationStatus?{installationEntry:O,registrationPromise:R(S)}:{installationEntry:O}}function w(){return(w=(0,V.Z)(function*(S,O){try{const K=yield qe(S,O);return Ci(S.appConfig,K)}catch(K){throw pt(K)&&409===K.customData.serverCode?yield mn(S.appConfig):yield Ci(S.appConfig,{fid:O.fid,registrationStatus:0}),K}})).apply(this,arguments)}function R(S){return Z.apply(this,arguments)}function Z(){return(Z=(0,V.Z)(function*(S){let O=yield ge(S.appConfig);for(;1===O.registrationStatus;)yield at(100),O=yield ge(S.appConfig);if(0===O.registrationStatus){const{installationEntry:K,registrationPromise:de}=yield Ge(S);return de||K}return O})).apply(this,arguments)}function ge(S){return Si(S,O=>{if(!O)throw ut.create("installation-not-found");return yt(O)})}function yt(S){return function dt(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Tt(S,O){return le.apply(this,arguments)}function le(){return(le=(0,V.Z)(function*({appConfig:S,heartbeatServiceProvider:O},K){const de=_e(S,K),Fe=ae(S,K),$e=O.getImmediate({optional:!0});if($e){const dn=yield $e.getHeartbeatsHeader();dn&&Fe.append("x-firebase-client",dn)}const Lt={method:"POST",headers:Fe,body:JSON.stringify({installation:{sdkVersion:ue,appId:S.appId}})},Ht=yield Ze(()=>fetch(de,Lt));if(Ht.ok)return q(yield Ht.json());throw yield De("Generate Auth Token",Ht)})).apply(this,arguments)}function _e(S,{fid:O}){return`${Be(S)}/${O}/authTokens:generate`}function ye(S){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,V.Z)(function*(S,O=!1){let K;const de=yield Si(S.appConfig,$e=>{if(!Wt($e))throw ut.create("not-registered");const mt=$e.authToken;if(!O&&Mn(mt))return $e;if(1===mt.requestStatus)return K=pe(S,O),$e;{if(!navigator.onLine)throw ut.create("app-offline");const Lt=qn($e);return K=vt(S,Lt),Lt}});return K?yield K:de.authToken})).apply(this,arguments)}function pe(S,O){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,V.Z)(function*(S,O){let K=yield it(S.appConfig);for(;1===K.authToken.requestStatus;)yield at(100),K=yield it(S.appConfig);const de=K.authToken;return 0===de.requestStatus?ye(S,O):de})).apply(this,arguments)}function it(S){return Si(S,O=>{if(!Wt(O))throw ut.create("not-registered");return function li(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(O.authToken)?Object.assign(Object.assign({},O),{authToken:{requestStatus:0}}):O})}function vt(S,O){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,V.Z)(function*(S,O){try{const K=yield Tt(S,O),de=Object.assign(Object.assign({},O),{authToken:K});return yield Ci(S.appConfig,de),K}catch(K){if(!pt(K)||401!==K.customData.serverCode&&404!==K.customData.serverCode){const de=Object.assign(Object.assign({},O),{authToken:{requestStatus:0}});yield Ci(S.appConfig,de)}else yield mn(S.appConfig);throw K}})).apply(this,arguments)}function Wt(S){return void 0!==S&&2===S.registrationStatus}function Mn(S){return 2===S.requestStatus&&!function $t(S){const O=Date.now();return O<S.creationTime||S.creationTime+S.expiresIn<O+36e5}(S)}function qn(S){const O={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:O})}function _n(){return(_n=(0,V.Z)(function*(S){const O=S,{installationEntry:K,registrationPromise:de}=yield Ge(O);return de?de.catch(console.error):ye(O).catch(console.error),K.fid})).apply(this,arguments)}function ni(){return(ni=(0,V.Z)(function*(S,O=!1){const K=S;return yield Un(K),(yield ye(K,O)).token})).apply(this,arguments)}function Un(S){return _i.apply(this,arguments)}function _i(){return(_i=(0,V.Z)(function*(S){const{registrationPromise:O}=yield Ge(S);O&&(yield O)})).apply(this,arguments)}function Ms(S){return ut.create("missing-app-config-values",{valueName:S})}const xi="installations",Rt=S=>{const O=S.getProvider("app").getImmediate(),K=function bi(S){if(!S||!S.options)throw Ms("App Configuration");if(!S.name)throw Ms("App Name");const O=["projectId","apiKey","appId"];for(const K of O)if(!S.options[K])throw Ms(K);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(O);return{app:O,appConfig:K,heartbeatServiceProvider:(0,ve._getProvider)(O,"heartbeat"),_delete:()=>Promise.resolve()}},On=S=>{const O=S.getProvider("app").getImmediate(),K=(0,ve._getProvider)(O,xi).getImmediate();return{getId:()=>function os(S){return _n.apply(this,arguments)}(K),getToken:Fe=>function Ot(S){return ni.apply(this,arguments)}(K,Fe)}};(function ci(){(0,ve._registerComponent)(new H.wA(xi,Rt,"PUBLIC")),(0,ve._registerComponent)(new H.wA("installations-internal",On,"PRIVATE"))})(),(0,ve.registerVersion)(se,U),(0,ve.registerVersion)(se,U,"esm2017");const _r="@firebase/remote-config",kn=new B.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ka{constructor(O,K,de,Fe){this.client=O,this.storage=K,this.storageCache=de,this.logger=Fe}isCachedDataFresh(O,K){if(!K)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const de=Date.now()-K,Fe=de<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${de}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${Fe}.`),Fe}fetch(O){var K=this;return(0,V.Z)(function*(){const[de,Fe]=yield Promise.all([K.storage.getLastSuccessfulFetchTimestampMillis(),K.storage.getLastSuccessfulFetchResponse()]);if(Fe&&K.isCachedDataFresh(O.cacheMaxAgeMillis,de))return Fe;O.eTag=Fe&&Fe.eTag;const $e=yield K.client.fetch(O),mt=[K.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===$e.status&&mt.push(K.storage.setLastSuccessfulFetchResponse($e)),yield Promise.all(mt),$e})()}}function xo(S=navigator){return S.languages&&S.languages[0]||S.language}class si{constructor(O,K,de,Fe,$e,mt){this.firebaseInstallations=O,this.sdkVersion=K,this.namespace=de,this.projectId=Fe,this.apiKey=$e,this.appId=mt}fetch(O){var K=this;return(0,V.Z)(function*(){const[de,Fe]=yield Promise.all([K.firebaseInstallations.getId(),K.firebaseInstallations.getToken()]),mt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${K.projectId}/namespaces/${K.namespace}:fetch?key=${K.apiKey}`,Lt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},Ht={sdk_version:K.sdkVersion,app_instance_id:de,app_instance_id_token:Fe,app_id:K.appId,language_code:xo()},dn={method:"POST",headers:Lt,body:JSON.stringify(Ht)},$n=fetch(mt,dn),vn=new Promise((Us,_o)=>{O.signal.addEventListener(()=>{const yo=new Error("The operation was aborted.");yo.name="AbortError",_o(yo)})});let Hi;try{yield Promise.race([$n,vn]),Hi=yield $n}catch(Us){let _o="fetch-client-network";throw"AbortError"===Us.name&&(_o="fetch-timeout"),kn.create(_o,{originalErrorMessage:Us.message})}let dr=Hi.status;const Ka=Hi.headers.get("ETag")||void 0;let ma,Ys;if(200===Hi.status){let Us;try{Us=yield Hi.json()}catch(_o){throw kn.create("fetch-client-parse",{originalErrorMessage:_o.message})}ma=Us.entries,Ys=Us.state}if("INSTANCE_STATE_UNSPECIFIED"===Ys?dr=500:"NO_CHANGE"===Ys?dr=304:("NO_TEMPLATE"===Ys||"EMPTY_CONFIG"===Ys)&&(ma={}),304!==dr&&200!==dr)throw kn.create("fetch-status",{httpStatus:dr});return{status:dr,eTag:Ka,config:ma}})()}}class dl{constructor(O,K){this.client=O,this.storage=K}fetch(O){var K=this;return(0,V.Z)(function*(){const de=(yield K.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return K.attemptFetch(O,de)})()}attemptFetch(O,{throttleEndTimeMillis:K,backoffCount:de}){var Fe=this;return(0,V.Z)(function*(){yield function yr(S,O){return new Promise((K,de)=>{const Fe=Math.max(O-Date.now(),0),$e=setTimeout(K,Fe);S.addEventListener(()=>{clearTimeout($e),de(kn.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,K);try{const $e=yield Fe.client.fetch(O);return yield Fe.storage.deleteThrottleMetadata(),$e}catch($e){if(!function Os(S){if(!(S instanceof B.ZR&&S.customData))return!1;const O=Number(S.customData.httpStatus);return 429===O||500===O||503===O||504===O}($e))throw $e;const mt={throttleEndTimeMillis:Date.now()+(0,B.$s)(de),backoffCount:de+1};return yield Fe.storage.setThrottleMetadata(mt),Fe.attemptFetch(O,mt)}})()}}class fl{constructor(O,K,de,Fe,$e){this.app=O,this._client=K,this._storageCache=de,this._storage=Fe,this._logger=$e,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ao(S,O){const K=S.target.error||void 0;return kn.create(O,{originalErrorMessage:K&&K.message})}const ms="app_namespace_store";class Ra{constructor(O,K,de,Fe=function Pa(){return new Promise((S,O)=>{try{const K=indexedDB.open("firebase_remote_config",1);K.onerror=de=>{O(Ao(de,"storage-open"))},K.onsuccess=de=>{S(de.target.result)},K.onupgradeneeded=de=>{0===de.oldVersion&&de.target.result.createObjectStore(ms,{keyPath:"compositeKey"})}}catch(K){O(kn.create("storage-open",{originalErrorMessage:K}))}})}()){this.appId=O,this.appName=K,this.namespace=de,this.openDbPromise=Fe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var K=this;return(0,V.Z)(function*(){const de=yield K.openDbPromise;return new Promise((Fe,$e)=>{const Lt=de.transaction([ms],"readonly").objectStore(ms),Ht=K.createCompositeKey(O);try{const dn=Lt.get(Ht);dn.onerror=$n=>{$e(Ao($n,"storage-get"))},dn.onsuccess=$n=>{const vn=$n.target.result;Fe(vn?vn.value:void 0)}}catch(dn){$e(kn.create("storage-get",{originalErrorMessage:dn&&dn.message}))}})})()}set(O,K){var de=this;return(0,V.Z)(function*(){const Fe=yield de.openDbPromise;return new Promise(($e,mt)=>{const Ht=Fe.transaction([ms],"readwrite").objectStore(ms),dn=de.createCompositeKey(O);try{const $n=Ht.put({compositeKey:dn,value:K});$n.onerror=vn=>{mt(Ao(vn,"storage-set"))},$n.onsuccess=()=>{$e()}}catch($n){mt(kn.create("storage-set",{originalErrorMessage:$n&&$n.message}))}})})()}delete(O){var K=this;return(0,V.Z)(function*(){const de=yield K.openDbPromise;return new Promise((Fe,$e)=>{const Lt=de.transaction([ms],"readwrite").objectStore(ms),Ht=K.createCompositeKey(O);try{const dn=Lt.delete(Ht);dn.onerror=$n=>{$e(Ao($n,"storage-delete"))},dn.onsuccess=()=>{Fe()}}catch(dn){$e(kn.create("storage-delete",{originalErrorMessage:dn&&dn.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class Na{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,V.Z)(function*(){const K=O.storage.getLastFetchStatus(),de=O.storage.getLastSuccessfulFetchTimestampMillis(),Fe=O.storage.getActiveConfig(),$e=yield K;$e&&(O.lastFetchStatus=$e);const mt=yield de;mt&&(O.lastSuccessfulFetchTimestampMillis=mt);const Lt=yield Fe;Lt&&(O.activeConfig=Lt)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function yn(){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,V.Z)(function*(){if(!(0,B.hl)())return!1;try{return yield(0,B.eu)()}catch(S){return!1}})).apply(this,arguments)}!function ks(){(0,ve._registerComponent)(new H.wA("remote-config",function S(O,{instanceIdentifier:K}){const de=O.getProvider("app").getImmediate(),Fe=O.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw kn.create("registration-window");if(!(0,B.hl)())throw kn.create("indexed-db-unavailable");const{projectId:$e,apiKey:mt,appId:Lt}=de.options;if(!$e)throw kn.create("registration-project-id");if(!mt)throw kn.create("registration-api-key");if(!Lt)throw kn.create("registration-app-id");const Ht=new Ra(Lt,de.name,K=K||"firebase"),dn=new Na(Ht),$n=new z.Yd(_r);$n.logLevel=z.in.ERROR;const vn=new si(Fe,ve.SDK_VERSION,K,$e,mt,Lt),Hi=new dl(vn,Ht),dr=new ka(Hi,Ht,dn,$n),Ka=new fl(de,dr,dn,Ht,$n);return function _t(S){const O=(0,B.m9)(S);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(Ka),Ka},"PUBLIC").setMultipleInstances(!0)),(0,ve.registerVersion)(_r,"0.3.8"),(0,ve.registerVersion)(_r,"0.3.8","esm2017")}();const Ps="/firebase-messaging-sw.js",Ai="/firebase-cloud-messaging-push-scope",Wr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_s="google.c.a.c_id",Fa="google.c.a.c_l",Pr="google.c.a.ts",na="google.c.a.e";var ys=(()=>{return(S=ys||(ys={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",ys;var S})();function lr(S){const O=new Uint8Array(S);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ii(S){const K=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),de=atob(K),Fe=new Uint8Array(de.length);for(let $e=0;$e<de.length;++$e)Fe[$e]=de.charCodeAt($e);return Fe}const oi="fcm_token_details_db",er="fcm_token_object_Store";function lo(S){return ko.apply(this,arguments)}function ko(){return ko=(0,V.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map($e=>$e.name).includes(oi))return null;let O=null;return(yield(0,re.X3)(oi,5,{upgrade:(de=(0,V.Z)(function*(Fe,$e,mt,Lt){var Ht;if($e<2||!Fe.objectStoreNames.contains(er))return;const dn=Lt.objectStore(er),$n=yield dn.index("fcmSenderId").get(S);if(yield dn.clear(),$n)if(2===$e){const vn=$n;if(!vn.auth||!vn.p256dh||!vn.endpoint)return;O={token:vn.fcmToken,createTime:null!==(Ht=vn.createTime)&&void 0!==Ht?Ht:Date.now(),subscriptionOptions:{auth:vn.auth,p256dh:vn.p256dh,endpoint:vn.endpoint,swScope:vn.swScope,vapidKey:"string"==typeof vn.vapidKey?vn.vapidKey:lr(vn.vapidKey)}}}else if(3===$e){const vn=$n;O={token:vn.fcmToken,createTime:vn.createTime,subscriptionOptions:{auth:lr(vn.auth),p256dh:lr(vn.p256dh),endpoint:vn.endpoint,swScope:vn.swScope,vapidKey:lr(vn.vapidKey)}}}else if(4===$e){const vn=$n;O={token:vn.fcmToken,createTime:vn.createTime,subscriptionOptions:{auth:lr(vn.auth),p256dh:lr(vn.p256dh),endpoint:vn.endpoint,swScope:vn.swScope,vapidKey:lr(vn.vapidKey)}}}}),function($e,mt,Lt,Ht){return de.apply(this,arguments)})})).close(),yield(0,re.Lj)(oi),yield(0,re.Lj)("fcm_vapid_details_db"),yield(0,re.Lj)("undefined"),ia(O)?O:null;var de}),ko.apply(this,arguments)}function ia(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:O}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}const Nr="firebase-messaging-store";let ra=null;function Zn(){return ra||(ra=(0,re.X3)("firebase-messaging-database",1,{upgrade:(S,O)=>{0===O&&S.createObjectStore(Nr)}})),ra}function M(S){return j.apply(this,arguments)}function j(){return(j=(0,V.Z)(function*(S){const O=st(S),de=yield(yield Zn()).transaction(Nr).objectStore(Nr).get(O);if(de)return de;{const Fe=yield lo(S.appConfig.senderId);if(Fe)return yield A(S,Fe),Fe}})).apply(this,arguments)}function A(S,O){return X.apply(this,arguments)}function X(){return(X=(0,V.Z)(function*(S,O){const K=st(S),Fe=(yield Zn()).transaction(Nr,"readwrite");return yield Fe.objectStore(Nr).put(O,K),yield Fe.done,O})).apply(this,arguments)}function Ee(S){return We.apply(this,arguments)}function We(){return(We=(0,V.Z)(function*(S){const O=st(S),de=(yield Zn()).transaction(Nr,"readwrite");yield de.objectStore(Nr).delete(O),yield de.done})).apply(this,arguments)}function st({appConfig:S}){return S.appId}const on=new B.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pn(S,O){return cn.apply(this,arguments)}function cn(){return(cn=(0,V.Z)(function*(S,O){const K=yield ur(S),de=br(O),Fe={method:"POST",headers:K,body:JSON.stringify(de)};let $e;try{$e=yield(yield fetch(vr(S.appConfig),Fe)).json()}catch(mt){throw on.create("token-subscribe-failed",{errorInfo:mt})}if($e.error)throw on.create("token-subscribe-failed",{errorInfo:$e.error.message});if(!$e.token)throw on.create("token-subscribe-no-token");return $e.token})).apply(this,arguments)}function An(S,O){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,V.Z)(function*(S,O){const K=yield ur(S),de=br(O.subscriptionOptions),Fe={method:"PATCH",headers:K,body:JSON.stringify(de)};let $e;try{$e=yield(yield fetch(`${vr(S.appConfig)}/${O.token}`,Fe)).json()}catch(mt){throw on.create("token-update-failed",{errorInfo:mt})}if($e.error)throw on.create("token-update-failed",{errorInfo:$e.error.message});if(!$e.token)throw on.create("token-update-no-token");return $e.token})).apply(this,arguments)}function Xn(S,O){return ei.apply(this,arguments)}function ei(){return(ei=(0,V.Z)(function*(S,O){const de={method:"DELETE",headers:yield ur(S)};try{const $e=yield(yield fetch(`${vr(S.appConfig)}/${O}`,de)).json();if($e.error)throw on.create("token-unsubscribe-failed",{errorInfo:$e.error.message})}catch(Fe){throw on.create("token-unsubscribe-failed",{errorInfo:Fe})}})).apply(this,arguments)}function vr({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function ur(S){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,V.Z)(function*({appConfig:S,installations:O}){const K=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${K}`})})).apply(this,arguments)}function br({p256dh:S,auth:O,endpoint:K,vapidKey:de}){const Fe={web:{endpoint:K,auth:O,p256dh:S}};return de!==Wr&&(Fe.web.applicationPubKey=de),Fe}const sa=6048e5;function $s(S){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,V.Z)(function*(S){const O=yield jn(S.swRegistration,S.vapidKey),K={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:O.endpoint,auth:lr(O.getKey("auth")),p256dh:lr(O.getKey("p256dh"))},de=yield M(S.firebaseDependencies);if(de){if(Bi(de.subscriptionOptions,K))return Date.now()>=de.createTime+sa?D(S,{token:de.token,createTime:Date.now(),subscriptionOptions:K}):de.token;try{yield Xn(S.firebaseDependencies,de.token)}catch(Fe){console.warn(Fe)}return me(S.firebaseDependencies,K)}return me(S.firebaseDependencies,K)})).apply(this,arguments)}function k(S){return x.apply(this,arguments)}function x(){return(x=(0,V.Z)(function*(S){const O=yield M(S.firebaseDependencies);O&&(yield Xn(S.firebaseDependencies,O.token),yield Ee(S.firebaseDependencies));const K=yield S.swRegistration.pushManager.getSubscription();return!K||K.unsubscribe()})).apply(this,arguments)}function D(S,O){return Y.apply(this,arguments)}function Y(){return(Y=(0,V.Z)(function*(S,O){try{const K=yield An(S.firebaseDependencies,O),de=Object.assign(Object.assign({},O),{token:K,createTime:Date.now()});return yield A(S.firebaseDependencies,de),K}catch(K){throw yield k(S),K}})).apply(this,arguments)}function me(S,O){return ct.apply(this,arguments)}function ct(){return(ct=(0,V.Z)(function*(S,O){const de={token:yield Pn(S,O),createTime:Date.now(),subscriptionOptions:O};return yield A(S,de),de.token})).apply(this,arguments)}function jn(S,O){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,V.Z)(function*(S,O){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ii(O)})})).apply(this,arguments)}function Bi(S,O){return O.vapidKey===S.vapidKey&&O.endpoint===S.endpoint&&O.auth===S.auth&&O.p256dh===S.p256dh}function tr(S){const O={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function nr(S,O){if(!O.notification)return;S.notification={};const K=O.notification.title;K&&(S.notification.title=K);const de=O.notification.body;de&&(S.notification.body=de);const Fe=O.notification.image;Fe&&(S.notification.image=Fe)}(O,S),function Po(S,O){!O.data||(S.data=O.data)}(O,S),function ml(S,O){if(!O.fcmOptions)return;S.fcmOptions={};const K=O.fcmOptions.link;K&&(S.fcmOptions.link=K);const de=O.fcmOptions.analytics_label;de&&(S.fcmOptions.analyticsLabel=de)}(O,S),O}function oa(S){return"object"==typeof S&&!!S&&_s in S}function ec(S,O){const K=[];for(let de=0;de<S.length;de++)K.push(S.charAt(de)),de<O.length&&K.push(O.charAt(de));return K.join("")}function Rs(S){return on.create("missing-app-config-values",{valueName:S})}ec("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ec("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class wr{constructor(O,K,de){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Fe=function Ig(S){if(!S||!S.options)throw Rs("App Configuration Object");if(!S.name)throw Rs("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:K}=S;for(const de of O)if(!K[de])throw Rs(de);return{appName:S.name,projectId:K.projectId,apiKey:K.apiKey,appId:K.appId,senderId:K.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:Fe,installations:K,analyticsProvider:de}}_delete(){return Promise.resolve()}}function Yr(S){return _l.apply(this,arguments)}function _l(){return(_l=(0,V.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(Ps,{scope:Ai}),S.swRegistration.update().catch(()=>{})}catch(O){throw on.create("failed-service-worker-registration",{browserErrorMessage:O.message})}})).apply(this,arguments)}function qs(S,O){return ds.apply(this,arguments)}function ds(){return(ds=(0,V.Z)(function*(S,O){if(!O&&!S.swRegistration&&(yield Yr(S)),O||!S.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw on.create("invalid-sw-registration");S.swRegistration=O}})).apply(this,arguments)}function tc(S,O){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,V.Z)(function*(S,O){O?S.vapidKey=O:S.vapidKey||(S.vapidKey=Wr)})).apply(this,arguments)}function nc(){return(nc=(0,V.Z)(function*(S,O){if(!navigator)throw on.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw on.create("permission-blocked");return yield tc(S,null==O?void 0:O.vapidKey),yield qs(S,null==O?void 0:O.serviceWorkerRegistration),$s(S)})).apply(this,arguments)}function yl(S,O,K){return No.apply(this,arguments)}function No(){return(No=(0,V.Z)(function*(S,O,K){const de=Fo(O);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(de,{message_id:K[_s],message_name:K[Fa],message_time:K[Pr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Fo(S){switch(S){case ys.NOTIFICATION_CLICKED:return"notification_open";case ys.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Kl(){return(Kl=(0,V.Z)(function*(S,O){const K=O.data;if(!K.isFirebaseMessaging)return;S.onMessageHandler&&K.messageType===ys.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(tr(K)):S.onMessageHandler.next(tr(K)));const de=K.data;oa(de)&&"1"===de[na]&&(yield yl(S,K.messageType,de))})).apply(this,arguments)}const bl="@firebase/messaging",Yl=S=>{const O=new wr(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",K=>function vl(S,O){return Kl.apply(this,arguments)}(O,K)),O},la=S=>{const O=S.getProvider("messaging").getImmediate();return{getToken:de=>function Wl(S,O){return nc.apply(this,arguments)}(O,de)}};function rc(){return ua.apply(this,arguments)}function ua(){return(ua=(0,V.Z)(function*(){try{yield(0,B.eu)()}catch(S){return!1}return"undefined"!=typeof window&&(0,B.hl)()&&(0,B.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ic(){(0,ve._registerComponent)(new H.wA("messaging",Yl,"PUBLIC")),(0,ve._registerComponent)(new H.wA("messaging-internal",la,"PRIVATE")),(0,ve.registerVersion)(bl,"0.9.13"),(0,ve.registerVersion)(bl,"0.9.13","esm2017")}();const oc="analytics",md="firebase_id",Cr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",da="https://www.googletagmanager.com/gtag/js",Wi=new z.Yd("@firebase/analytics");function ac(S){return Promise.all(S.map(O=>O.catch(K=>K)))}function sf(S,O){const K=document.createElement("script");K.src=`${da}?l=${S}&id=${O}`,K.async=!0,document.head.appendChild(K)}function Ns(S,O,K,de,Fe,$e){return wl.apply(this,arguments)}function wl(){return(wl=(0,V.Z)(function*(S,O,K,de,Fe,$e){const mt=de[Fe];try{if(mt)yield O[mt];else{const Ht=(yield ac(K)).find(dn=>dn.measurementId===Fe);Ht&&(yield O[Ht.appId])}}catch(Lt){Wi.error(Lt)}S("config",Fe,$e)})).apply(this,arguments)}function Ua(S,O,K,de,Fe){return ws.apply(this,arguments)}function ws(){return(ws=(0,V.Z)(function*(S,O,K,de,Fe){try{let $e=[];if(Fe&&Fe.send_to){let mt=Fe.send_to;Array.isArray(mt)||(mt=[mt]);const Lt=yield ac(K);for(const Ht of mt){const dn=Lt.find(vn=>vn.measurementId===Ht),$n=dn&&O[dn.appId];if(!$n){$e=[];break}$e.push($n)}}0===$e.length&&($e=Object.values(O)),yield Promise.all($e),S("event",de,Fe||{})}catch($e){Wi.error($e)}})).apply(this,arguments)}function yd(){const S=window.document.getElementsByTagName("script");for(const O of Object.values(S))if(O.src&&O.src.includes(da))return O;return null}const Fs=new B.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ba=new class Ls{constructor(O={},K=1e3){this.throttleMetadata=O,this.intervalMillis=K}getThrottleMetadata(O){return this.throttleMetadata[O]}setThrottleMetadata(O,K){this.throttleMetadata[O]=K}deleteThrottleMetadata(O){delete this.throttleMetadata[O]}};function Cl(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function co(S){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,V.Z)(function*(S){var O;const{appId:K,apiKey:de}=S,Fe={method:"GET",headers:Cl(de)},$e=Cr.replace("{app-id}",K),mt=yield fetch($e,Fe);if(200!==mt.status&&304!==mt.status){let Lt="";try{const Ht=yield mt.json();(null===(O=Ht.error)||void 0===O?void 0:O.message)&&(Lt=Ht.error.message)}catch(Ht){}throw Fs.create("config-fetch-failed",{httpStatus:mt.status,responseMessage:Lt})}return mt.json()})).apply(this,arguments)}function Ki(S){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,V.Z)(function*(S,O=Ba,K){const{appId:de,apiKey:Fe,measurementId:$e}=S.options;if(!de)throw Fs.create("no-app-id");if(!Fe){if($e)return{measurementId:$e,appId:de};throw Fs.create("no-api-key")}const mt=O.getThrottleMetadata(de)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Lt=new El;return setTimeout((0,V.Z)(function*(){Lt.abort()}),void 0!==K?K:6e4),Ha({appId:de,apiKey:Fe,measurementId:$e},mt,Lt,O)})).apply(this,arguments)}function Ha(S,O,K){return ho.apply(this,arguments)}function ho(){return(ho=(0,V.Z)(function*(S,{throttleEndTimeMillis:O,backoffCount:K},de,Fe=Ba){const{appId:$e,measurementId:mt}=S;try{yield lc(de,O)}catch(Lt){if(mt)return Wi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mt} provided in the "measurementId" field in the local Firebase config. [${Lt.message}]`),{appId:$e,measurementId:mt};throw Lt}try{const Lt=yield co(S);return Fe.deleteThrottleMetadata($e),Lt}catch(Lt){if(!uc(Lt)){if(Fe.deleteThrottleMetadata($e),mt)return Wi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mt} provided in the "measurementId" field in the local Firebase config. [${Lt.message}]`),{appId:$e,measurementId:mt};throw Lt}const Ht=503===Number(Lt.customData.httpStatus)?(0,B.$s)(K,Fe.intervalMillis,30):(0,B.$s)(K,Fe.intervalMillis),dn={throttleEndTimeMillis:Date.now()+Ht,backoffCount:K+1};return Fe.setThrottleMetadata($e,dn),Wi.debug(`Calling attemptFetch again in ${Ht} millis`),Ha(S,dn,de,Fe)}})).apply(this,arguments)}function lc(S,O){return new Promise((K,de)=>{const Fe=Math.max(O-Date.now(),0),$e=setTimeout(K,Fe);S.addEventListener(()=>{clearTimeout($e),de(Fs.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}function uc(S){if(!(S instanceof B.ZR&&S.customData))return!1;const O=Number(S.customData.httpStatus);return 429===O||500===O||503===O||504===O}class El{constructor(){this.listeners=[]}addEventListener(O){this.listeners.push(O)}abort(){this.listeners.forEach(O=>O())}}function cc(){return ha.apply(this,arguments)}function ha(){return(ha=(0,V.Z)(function*(){if(!(0,B.hl)())return Wi.warn(Fs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,B.eu)()}catch(S){return Wi.warn(Fs.create("indexeddb-unavailable",{errorInfo:S}).message),!1}return!0})).apply(this,arguments)}function ja(){return(ja=(0,V.Z)(function*(S,O,K,de,Fe,$e,mt){var Lt;const Ht=Ki(S);Ht.then(dr=>{K[dr.measurementId]=dr.appId,S.options.measurementId&&dr.measurementId!==S.options.measurementId&&Wi.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${dr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(dr=>Wi.error(dr)),O.push(Ht);const dn=cc().then(dr=>{if(dr)return de.getId()}),[$n,vn]=yield Promise.all([Ht,dn]);yd()||sf($e,$n.measurementId),Fe("js",new Date);const Hi=null!==(Lt=null==mt?void 0:mt.config)&&void 0!==Lt?Lt:{};return Hi.origin="firebase",Hi.update=!0,null!=vn&&(Hi[md]=vn),Fe("config",$n.measurementId,Hi),$n.measurementId})).apply(this,arguments)}class fa{constructor(O){this.app=O}_delete(){return delete Fr[this.app.options.appId],Promise.resolve()}}let Fr={},Tl=[];const eu={};let tu,Vs,Uo="dataLayer",nu=!1;function iu(S,O,K){!function pa(){const S=[];if((0,B.ru)()&&S.push("This is a browser extension environment."),(0,B.zI)()||S.push("Cookies are not available."),S.length>0){const O=S.map((de,Fe)=>`(${Fe+1}) ${de}`).join(" "),K=Fs.create("invalid-analytics-context",{errorInfo:O});Wi.warn(K.message)}}();const de=S.options.appId;if(!de)throw Fs.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Fs.create("no-api-key");Wi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fr[de])throw Fs.create("already-exists",{id:de});if(!nu){!function bs(S){let O=[];Array.isArray(window[S])?O=window[S]:window[S]=O}(Uo);const{wrappedGtag:$e,gtagCore:mt}=function _d(S,O,K,de,Fe){let $e=function(...mt){window[de].push(arguments)};return window[Fe]&&"function"==typeof window[Fe]&&($e=window[Fe]),window[Fe]=function Xl(S,O,K,de){function $e(){return($e=(0,V.Z)(function*(mt,Lt,Ht){try{"event"===mt?yield Ua(S,O,K,Lt,Ht):"config"===mt?yield Ns(S,O,K,de,Lt,Ht):S("set",Lt)}catch(dn){Wi.error(dn)}})).apply(this,arguments)}return function Fe(mt,Lt,Ht){return $e.apply(this,arguments)}}($e,S,O,K),{gtagCore:$e,wrappedGtag:window[Fe]}}(Fr,Tl,eu,Uo,"gtag");Vs=$e,tu=mt,nu=!0}return Fr[de]=function fo(S,O,K,de,Fe,$e,mt){return ja.apply(this,arguments)}(S,Tl,eu,O,tu,Uo,K),new fa(S)}function ru(){return(ru=(0,V.Z)(function*(S,O,K,de,Fe){if(Fe&&Fe.global)S("event",K,de);else{const $e=yield O;S("event",K,Object.assign(Object.assign({},de),{send_to:$e}))}})).apply(this,arguments)}function $a(){return hc.apply(this,arguments)}function hc(){return(hc=(0,V.Z)(function*(){if((0,B.ru)()||!(0,B.zI)()||!(0,B.hl)())return!1;try{return yield(0,B.eu)()}catch(S){return!1}})).apply(this,arguments)}const wd="@firebase/analytics";!function lf(){(0,ve._registerComponent)(new H.wA(oc,(O,{options:K})=>iu(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),K),"PUBLIC")),(0,ve._registerComponent)(new H.wA("analytics-internal",function S(O){try{const K=O.getProvider(oc).getImmediate();return{logEvent:(de,Fe,$e)=>function Mg(S,O,K,de){S=(0,B.m9)(S),function zs(S,O,K,de,Fe){return ru.apply(this,arguments)}(Vs,Fr[S.app.options.appId],O,K,de).catch(Fe=>Wi.error(Fe))}(K,de,Fe,$e)}}catch(K){throw Fs.create("interop-component-reg-failed",{reason:K})}},"PRIVATE")),(0,ve.registerVersion)(wd,"0.7.9"),(0,ve.registerVersion)(wd,"0.7.9","esm2017")}();var uf=P(4408),fc=P(7565);const Sl=new class Yi extends fc.v{}(class Ga extends uf.o{constructor(O,K){super(O,K),this.scheduler=O,this.work=K}schedule(O,K=0){return K>0?super.schedule(O,K):(this.delay=K,this.state=O,this.scheduler.flush(this),this)}execute(O,K){return K>0||this.closed?super.execute(O,K):this._execute(O,K)}requestAsyncId(O,K,de=0){return null!=de&&de>0||null==de&&this.delay>0?super.requestAsyncId(O,K,de):O.flush(this)}});var Cd=P(4986),Ed=P(8505),Lr=P(5363),Vr=P(9468);const uu=new d.GfV("7.3.0"),qa="__angularfire_symbol__analyticsIsSupportedValue",go="__angularfire_symbol__analyticsIsSupported",Ws="__angularfire_symbol__remoteConfigIsSupportedValue",Ks="__angularfire_symbol__remoteConfigIsSupported",xl="__angularfire_symbol__messagingIsSupportedValue",Td="__angularfire_symbol__messagingIsSupported";function za(S,O,K){if(O){if(1===O.length)return O[0];const $e=O.filter(mt=>mt.app===K);if(1===$e.length)return $e[0]}return K.container.getProvider(S).getImmediate({optional:!0})}globalThis[go]||(globalThis[go]=$a().then(S=>globalThis[qa]=S).catch(()=>globalThis[qa]=!1)),globalThis[Td]||(globalThis[Td]=rc().then(S=>globalThis[xl]=S).catch(()=>globalThis[xl]=!1)),globalThis[Ks]||(globalThis[Ks]=yn().then(S=>globalThis[Ws]=S).catch(()=>globalThis[Ws]=!1));const ir=(S,O)=>{const K=O?[O]:(0,a.C6)(),de=[];return K.forEach(Fe=>{Fe.container.getProvider(S).instances.forEach(mt=>{de.includes(mt)||de.push(mt)})}),de};function mo(){}class gc{constructor(O,K=Sl){this.zone=O,this.delegate=K}now(){return this.delegate.now()}schedule(O,K,de){const Fe=this.zone;return this.delegate.schedule(function(mt){Fe.runGuarded(()=>{O.apply(this,[mt])})},K,de)}}class Wa{constructor(O){this.zone=O,this.task=null}call(O,K){const de=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mo,{},mo,mo)),K.pipe((0,Ed.b)({next:de,complete:de,error:de})).subscribe(O).add(de)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Al=(()=>{class S{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new gc(Zone.current)),this.insideAngular=K.run(()=>new gc(Zone.current,Cd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(K){return new(K||S)(d.LFG(d.R0b))},S.\u0275prov=d.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Qr(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function jo(S){return S.pipe((0,Lr.Q)(Qr().outsideAngular))}function Dd(S){return Qr(),function Zo(S){return function(K){return(K=K.lift(new Wa(S.ngZone))).pipe((0,Vr.R)(S.outsideAngular),(0,Lr.Q)(S.insideAngular))}}(Qr())(S)}},2090:(gt,ke,P)=>{"use strict";P.d(ke,{$s:()=>ge,BH:()=>Ue,G6:()=>we,L:()=>re,LL:()=>He,Mn:()=>De,Sg:()=>Pe,UG:()=>be,US:()=>H,ZB:()=>J,ZR:()=>qe,b$:()=>pt,d:()=>Be,eu:()=>Ze,hl:()=>ae,jU:()=>je,m9:()=>Tt,ne:()=>Oi,pd:()=>Fi,r3:()=>vi,ru:()=>ut,tV:()=>se,uI:()=>nt,vZ:()=>fi,w1:()=>q,xO:()=>pi,xb:()=>an,z$:()=>Le,zI:()=>Ie,zd:()=>wi});const ve=function(le){const _e=[];let ye=0;for(let Qe=0;Qe<le.length;Qe++){let pe=le.charCodeAt(Qe);pe<128?_e[ye++]=pe:pe<2048?(_e[ye++]=pe>>6|192,_e[ye++]=63&pe|128):55296==(64512&pe)&&Qe+1<le.length&&56320==(64512&le.charCodeAt(Qe+1))?(pe=65536+((1023&pe)<<10)+(1023&le.charCodeAt(++Qe)),_e[ye++]=pe>>18|240,_e[ye++]=pe>>12&63|128,_e[ye++]=pe>>6&63|128,_e[ye++]=63&pe|128):(_e[ye++]=pe>>12|224,_e[ye++]=pe>>6&63|128,_e[ye++]=63&pe|128)}return _e},H={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(le,_e){if(!Array.isArray(le))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ye=_e?this.byteToCharMapWebSafe_:this.byteToCharMap_,Qe=[];for(let pe=0;pe<le.length;pe+=3){const Ae=le[pe],it=pe+1<le.length,vt=it?le[pe+1]:0,Bt=pe+2<le.length,Wt=Bt?le[pe+2]:0;let qn=(15&vt)<<2|Wt>>6,li=63&Wt;Bt||(li=64,it||(qn=64)),Qe.push(ye[Ae>>2],ye[(3&Ae)<<4|vt>>4],ye[qn],ye[li])}return Qe.join("")},encodeString(le,_e){return this.HAS_NATIVE_SUPPORT&&!_e?btoa(le):this.encodeByteArray(ve(le),_e)},decodeString(le,_e){return this.HAS_NATIVE_SUPPORT&&!_e?atob(le):function(le){const _e=[];let ye=0,Qe=0;for(;ye<le.length;){const pe=le[ye++];if(pe<128)_e[Qe++]=String.fromCharCode(pe);else if(pe>191&&pe<224){const Ae=le[ye++];_e[Qe++]=String.fromCharCode((31&pe)<<6|63&Ae)}else if(pe>239&&pe<365){const Bt=((7&pe)<<18|(63&le[ye++])<<12|(63&le[ye++])<<6|63&le[ye++])-65536;_e[Qe++]=String.fromCharCode(55296+(Bt>>10)),_e[Qe++]=String.fromCharCode(56320+(1023&Bt))}else{const Ae=le[ye++],it=le[ye++];_e[Qe++]=String.fromCharCode((15&pe)<<12|(63&Ae)<<6|63&it)}}return _e.join("")}(this.decodeStringToByteArray(le,_e))},decodeStringToByteArray(le,_e){this.init_();const ye=_e?this.charToByteMapWebSafe_:this.charToByteMap_,Qe=[];for(let pe=0;pe<le.length;){const Ae=ye[le.charAt(pe++)],vt=pe<le.length?ye[le.charAt(pe)]:0;++pe;const Wt=pe<le.length?ye[le.charAt(pe)]:64;++pe;const $t=pe<le.length?ye[le.charAt(pe)]:64;if(++pe,null==Ae||null==vt||null==Wt||null==$t)throw Error();Qe.push(Ae<<2|vt>>4),64!==Wt&&(Qe.push(vt<<4&240|Wt>>2),64!==$t&&Qe.push(Wt<<6&192|$t))}return Qe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let le=0;le<this.ENCODED_VALS.length;le++)this.byteToCharMap_[le]=this.ENCODED_VALS.charAt(le),this.charToByteMap_[this.byteToCharMap_[le]]=le,this.byteToCharMapWebSafe_[le]=this.ENCODED_VALS_WEBSAFE.charAt(le),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[le]]=le,le>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(le)]=le,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(le)]=le)}}},re=function(le){return function(le){const _e=ve(le);return H.encodeByteArray(_e,!0)}(le).replace(/\./g,"")},se=function(le){try{return H.decodeString(le,!0)}catch(_e){console.error("base64Decode failed: ",_e)}return null};function J(le,_e){if(!(_e instanceof Object))return _e;switch(_e.constructor){case Date:return new Date(_e.getTime());case Object:void 0===le&&(le={});break;case Array:le=[];break;default:return _e}for(const ye in _e)!_e.hasOwnProperty(ye)||!ue(ye)||(le[ye]=J(le[ye],_e[ye]));return le}function ue(le){return"__proto__"!==le}class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((_e,ye)=>{this.resolve=_e,this.reject=ye})}wrapCallback(_e){return(ye,Qe)=>{ye?this.reject(ye):this.resolve(Qe),"function"==typeof _e&&(this.promise.catch(()=>{}),1===_e.length?_e(ye):_e(ye,Qe))}}}function Pe(le,_e){if(le.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Qe=_e||"demo-project",pe=le.iat||0,Ae=le.sub||le.user_id;if(!Ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const it=Object.assign({iss:`https://securetoken.google.com/${Qe}`,aud:Qe,iat:pe,exp:pe+3600,auth_time:pe,sub:Ae,user_id:Ae,firebase:{sign_in_provider:"custom",identities:{}}},le);return[re(JSON.stringify({alg:"none",type:"JWT"})),re(JSON.stringify(it)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(le){return!1}}function je(){return"object"==typeof self&&self.self===self}function ut(){const le="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof le&&void 0!==le.id}function pt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Be(){return Le().indexOf("Electron/")>=0}function q(){const le=Le();return le.indexOf("MSIE ")>=0||le.indexOf("Trident/")>=0}function De(){return Le().indexOf("MSAppHost/")>=0}function we(){return!be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){return"object"==typeof indexedDB}function Ze(){return new Promise((le,_e)=>{try{let ye=!0;const Qe="validate-browser-context-for-indexeddb-analytics-module",pe=self.indexedDB.open(Qe);pe.onsuccess=()=>{pe.result.close(),ye||self.indexedDB.deleteDatabase(Qe),le(!0)},pe.onupgradeneeded=()=>{ye=!1},pe.onerror=()=>{var Ae;_e((null===(Ae=pe.error)||void 0===Ae?void 0:Ae.message)||"")}}catch(ye){_e(ye)}})}function Ie(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class qe extends Error{constructor(_e,ye,Qe){super(ye),this.code=_e,this.customData=Qe,this.name="FirebaseError",Object.setPrototypeOf(this,qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,He.prototype.create)}}class He{constructor(_e,ye,Qe){this.service=_e,this.serviceName=ye,this.errors=Qe}create(_e,...ye){const Qe=ye[0]||{},pe=`${this.service}/${_e}`,Ae=this.errors[_e],it=Ae?function at(le,_e){return le.replace(Pt,(ye,Qe)=>{const pe=_e[Qe];return null!=pe?String(pe):`<${Qe}?>`})}(Ae,Qe):"Error";return new qe(pe,`${this.serviceName}: ${it} (${pe}).`,Qe)}}const Pt=/\{\$([^}]+)}/g;function vi(le,_e){return Object.prototype.hasOwnProperty.call(le,_e)}function an(le){for(const _e in le)if(Object.prototype.hasOwnProperty.call(le,_e))return!1;return!0}function fi(le,_e){if(le===_e)return!0;const ye=Object.keys(le),Qe=Object.keys(_e);for(const pe of ye){if(!Qe.includes(pe))return!1;const Ae=le[pe],it=_e[pe];if(ai(Ae)&&ai(it)){if(!fi(Ae,it))return!1}else if(Ae!==it)return!1}for(const pe of Qe)if(!ye.includes(pe))return!1;return!0}function ai(le){return null!==le&&"object"==typeof le}function pi(le){const _e=[];for(const[ye,Qe]of Object.entries(le))Array.isArray(Qe)?Qe.forEach(pe=>{_e.push(encodeURIComponent(ye)+"="+encodeURIComponent(pe))}):_e.push(encodeURIComponent(ye)+"="+encodeURIComponent(Qe));return _e.length?"&"+_e.join("&"):""}function wi(le){const _e={};return le.replace(/^\?/,"").split("&").forEach(Qe=>{if(Qe){const[pe,Ae]=Qe.split("=");_e[decodeURIComponent(pe)]=decodeURIComponent(Ae)}}),_e}function Fi(le){const _e=le.indexOf("?");if(!_e)return"";const ye=le.indexOf("#",_e);return le.substring(_e,ye>0?ye:void 0)}function Oi(le,_e){const ye=new Ut(le,_e);return ye.subscribe.bind(ye)}class Ut{constructor(_e,ye){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ye,this.task.then(()=>{_e(this)}).catch(Qe=>{this.error(Qe)})}next(_e){this.forEachObserver(ye=>{ye.next(_e)})}error(_e){this.forEachObserver(ye=>{ye.error(_e)}),this.close(_e)}complete(){this.forEachObserver(_e=>{_e.complete()}),this.close()}subscribe(_e,ye,Qe){let pe;if(void 0===_e&&void 0===ye&&void 0===Qe)throw new Error("Missing Observer.");pe=function Ln(le,_e){if("object"!=typeof le||null===le)return!1;for(const ye of _e)if(ye in le&&"function"==typeof le[ye])return!0;return!1}(_e,["next","error","complete"])?_e:{next:_e,error:ye,complete:Qe},void 0===pe.next&&(pe.next=mn),void 0===pe.error&&(pe.error=mn),void 0===pe.complete&&(pe.complete=mn);const Ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?pe.error(this.finalError):pe.complete()}catch(it){}}),this.observers.push(pe),Ae}unsubscribeOne(_e){void 0===this.observers||void 0===this.observers[_e]||(delete this.observers[_e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(_e){if(!this.finalized)for(let ye=0;ye<this.observers.length;ye++)this.sendOne(ye,_e)}sendOne(_e,ye){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[_e])try{ye(this.observers[_e])}catch(Qe){"undefined"!=typeof console&&console.error&&console.error(Qe)}})}close(_e){this.finalized||(this.finalized=!0,void 0!==_e&&(this.finalError=_e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}function ge(le,_e=1e3,ye=2){const Qe=_e*Math.pow(ye,le),pe=Math.round(.5*Qe*(Math.random()-.5)*2);return Math.min(144e5,Qe+pe)}function Tt(le){return le&&le._delegate?le._delegate:le}},3225:(gt,ke,P)=>{"use strict";P.d(ke,{I:()=>V});var d=P(9808),a=P(5e3);let V=(()=>{class ve{}return ve.\u0275fac=function(H){return new(H||ve)},ve.\u0275mod=a.oAB({type:ve}),ve.\u0275inj=a.cJS({imports:[[d.ez]]}),ve})()},5784:(gt,ke,P)=>{"use strict";var d=P(9808),a=P(5e3);class V extends d.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ve extends V{static makeCurrent(){(0,d.HT)(new ve)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function H(){return B=B||document.querySelector("base"),B?B.getAttribute("href"):null}();return null==t?null:function re(n){z=z||document.createElement("a"),z.setAttribute("href",n);const e=z.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){B=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,d.Mx)(document.cookie,e)}}let z,B=null;const se=new a.OlP("TRANSITION_ID"),J=[{provide:a.ip1,useFactory:function U(n,e,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const i=(0,d.q)(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<r.length;u++)i.remove(r[u])})}},deps:[se,d.K0,a.zs3],multi:!0}];class ue{static init(){(0,a.VLi)(new ue)}addToWindow(e){a.dqk.getAngularTestability=(i,r=!0)=>{const u=e.findTestabilityInTree(i,r);if(null==u)throw new Error("Could not find testability for element.");return u},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let u=r.length,h=!1;const g=function(v){h=h||v,u--,0==u&&i(h)};r.forEach(function(v){v.whenStable(g)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?(0,d.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ue=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Pe=new a.OlP("EventManagerPlugins");let Le=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let u=0;u<r.length;u++){const h=r[u];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Pe),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class nt{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=(0,d.q)().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let be=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),je=(()=>{class n extends be{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(u=>{const h=this._doc.createElement("style");h.textContent=u,r.push(i.appendChild(h))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(ut),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ut))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(d.K0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function ut(n){(0,d.q)().remove(n)}const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Be=/%COMP%/g;function Ie(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Ie(n,r,t):(r=r.replace(Be,n),t.push(r))}return t}function Ve(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let qe=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new He(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case a.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new bn(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case a.ifc.ShadowDom:return new un(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ie(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Le),a.LFG(je),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class He{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(pt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const u=pt[r];u?e.setAttributeNS(u,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=pt[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,i,r&a.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ve(i)):this.eventManager.addEventListener(e,t,Ve(i))}}class bn extends He{constructor(e,t,i,r){super(e),this.component=i;const u=Ie(r+"-"+i.id,i.styles,[]);t.addStyles(u),this.contentAttr=function ae(n){return"_ngcontent-%COMP%".replace(Be,n)}(r+"-"+i.id),this.hostAttr=function Ze(n){return"_nghost-%COMP%".replace(Be,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class un extends He{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Ie(r.id,r.styles,[]);for(let h=0;h<u.length;h++){const g=document.createElement("style");g.textContent=u[h],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Et=(()=>{class n extends nt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(d.K0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Sn=["alt","control","meta","shift"],Fn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Dn=(()=>{class n extends nt{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const u=n.parseEventName(i),h=n.eventCallback(u.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.q)().onAndCancel(t,u.domEventName,h))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const u=n._normalizeKey(i.pop());let h="";if(Sn.forEach(v=>{const T=i.indexOf(v);T>-1&&(i.splice(T,1),h+=v+".")}),h+=u,0!=i.length||0===u.length)return null;const g={};return g.domEventName=r,g.fullKey=h,g}static getEventFullKey(t){let i="",r=function an(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&xn.hasOwnProperty(e)&&(e=xn[e]))}return Fn[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Sn.forEach(u=>{u!=r&&vi[u](t)&&(i+=u+".")}),i+=r,i}static eventCallback(t,i,r){return u=>{n.getEventFullKey(u)===t&&r.runGuarded(()=>i(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(d.K0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const wi=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:d.bD},{provide:a.g9A,useValue:function ti(){ve.makeCurrent(),ue.init()},multi:!0},{provide:d.K0,useFactory:function ai(){return(0,a.RDi)(document),document},deps:[]}]),Fi=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function fi(){return new a.qLn},deps:[]},{provide:Pe,useClass:Et,multi:!0,deps:[d.K0,a.R0b,a.Lbi]},{provide:Pe,useClass:Dn,multi:!0,deps:[d.K0]},{provide:qe,useClass:qe,deps:[Le,je,a.AFp]},{provide:a.FYo,useExisting:qe},{provide:be,useExisting:je},{provide:je,useClass:je,deps:[d.K0]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:Le,useClass:Le,deps:[Pe,a.R0b]},{provide:d.JF,useClass:Ue,deps:[]}];let gi=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId},{provide:se,useExisting:a.AFp},J]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(n,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:Fi,imports:[d.ez,a.hGG]}),n})();"undefined"!=typeof window&&window;var _n=P(8996),Ot=P(9646),ni=P(7579);class Un extends ni.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var _i=P(8306),Mr=P(4742),ui=P(4671),ar=P(3268),Zs=P(3269),zr=P(1810),Li=P(5403),mr=P(9672);function xi(n,e,t){n?(0,mr.f)(t,n,e):e()}var wt=P(576);function Rt(n,e){const t=(0,wt.m)(n)?n:()=>n,i=r=>r.error(t());return new _i.y(e?r=>e.schedule(i,0,r):i)}const ci=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var _r=P(7272),ii=P(8421);function Xi(n){return new _i.y(e=>{(0,ii.Xf)(n()).subscribe(e)})}var Vn=P(515),Vi=P(727),kn=P(4482);function sn(){return(0,kn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Li.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,u=t;t=null,r&&(!u||r===u)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Or extends _i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,kn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Vi.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Li.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Vi.w0.EMPTY)}return e}refCount(){return sn()(this)}}var nn=P(4004),he=P(3900),Ce=P(5698),W=P(8675);function Me(n,e,t,i,r){return(u,h)=>{let g=t,v=e,T=0;u.subscribe((0,Li.x)(h,L=>{const Q=T++;v=g?n(v,L,Q):(g=!0,L),i&&h.next(v)},r&&(()=>{g&&h.next(v),h.complete()})))}}function Je(n,e){return(0,kn.e)(Me(n,e,arguments.length>=2,!0))}var et=P(9300);function _t(n){return(0,kn.e)((e,t)=>{let u,i=null,r=!1;i=e.subscribe((0,Li.x)(t,void 0,void 0,h=>{u=(0,ii.Xf)(n(h,_t(n)(e))),i?(i.unsubscribe(),i=null,u.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,u.subscribe(t))})}var Jt=P(5577);function qt(n,e){return(0,wt.m)(e)?(0,Jt.z)(n,e,1):(0,Jt.z)(n,1)}function zt(n){return n<=0?()=>Vn.E:(0,kn.e)((e,t)=>{let i=[];e.subscribe((0,Li.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function ri(n=as){return(0,kn.e)((e,t)=>{let i=!1;e.subscribe((0,Li.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function as(){return new ci}function Oa(n){return(0,kn.e)((e,t)=>{let i=!1;e.subscribe((0,Li.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function zi(n,e){const t=arguments.length>=2;return i=>i.pipe(n?(0,et.h)((r,u)=>n(r,u,i)):ui.y,(0,Ce.q)(1),t?Oa(e):ri(()=>new ci))}var Ui=P(8505),xo=P(8189);class si{constructor(e,t){this.id=e,this.url=t}}class yr extends si{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Os extends si{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dl extends si{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class kr extends si{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hl extends si{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fl extends si{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ao extends si{constructor(e,t,i,r,u){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ms extends si{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pl extends si{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ta{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pa{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ra{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Na{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ks{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gl{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class us{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const yn="primary";class Mo{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ps(n){return new Mo(n)}const Ai="ngNavigationCancelingError";function Wr(n){const e=Error("NavigationCancelingError: "+n);return e[Ai]=!0,e}function _s(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let u=0;u<i.length;u++){const h=i[u],g=n[u];if(h.startsWith(":"))r[h.substring(1)]=g;else if(h!==g.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Pr(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let u=0;u<t.length;u++)if(r=t[u],!na(n[r],e[r]))return!1;return!0}function na(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,u)=>i[u]===r)}return n===e}function Rr(n){return Array.prototype.concat.apply([],n)}function ys(n){return n.length>0?n[n.length-1]:null}function Ii(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function oi(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,_n.D)(Promise.resolve(n)):(0,Ot.of)(n)}const er={exact:function vs(n,e,t){if(!Ee(n.segments,e.segments)||!Zn(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!vs(n.children[i],e.children[i],t))return!1;return!0},subset:Nr},lo={exact:function ia(n,e){return Pr(n,e)},subset:function cs(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>na(n[t],e[t]))},ignored:()=>!0};function ko(n,e,t){return er[t.paths](n.root,e.root,t.matrixParams)&&lo[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Nr(n,e,t){return ra(n,e,e.segments,t)}function ra(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Ee(r,t)||e.hasChildren()||!Zn(r,t,i))}if(n.segments.length===t.length){if(!Ee(n.segments,t)||!Zn(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Nr(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Ee(n.segments,r)&&Zn(n.segments,r,i)&&n.children[yn])&&ra(n.children[yn],e,u,i)}}function Zn(n,e,t){return e.every((i,r)=>lo[t](n[r].parameters,i.parameters))}class M{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ps(this.queryParams)),this._queryParamMap}toString(){return on.serialize(this)}}class j{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ii(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pn(this)}}class A{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ps(this.parameters)),this._parameterMap}toString(){return Yt(this)}}function Ee(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class st{}class Nt{parse(e){const t=new me(e);return new M(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${cn(e.root,!0)}`,i=function sa(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Jn(t)}=${Jn(r)}`).join("&"):`${Jn(t)}=${Jn(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Xn(n){return encodeURI(n)}(e.fragment)}`:""}`}}const on=new Nt;function Pn(n){return n.segments.map(e=>Yt(e)).join("/")}function cn(n,e){if(!n.hasChildren())return Pn(n);if(e){const t=n.children[yn]?cn(n.children[yn],!1):"",i=[];return Ii(n.children,(r,u)=>{u!==yn&&i.push(`${u}:${cn(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function We(n,e){let t=[];return Ii(n.children,(i,r)=>{r===yn&&(t=t.concat(e(i,r)))}),Ii(n.children,(i,r)=>{r!==yn&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===yn?[cn(n.children[yn],!1)]:[`${r}:${cn(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[yn]?`${Pn(n)}/${t[0]}`:`${Pn(n)}/(${t.join("//")})`}}function An(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jn(n){return An(n).replace(/%3B/gi,";")}function ei(n){return An(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vr(n){return decodeURIComponent(n)}function ur(n){return vr(n.replace(/\+/g,"%20"))}function Yt(n){return`${ei(n.path)}${function br(n){return Object.keys(n).map(e=>`;${ei(e)}=${ei(n[e])}`).join("")}(n.parameters)}`}const $s=/^[^\/()?;=#]+/;function Gs(n){const e=n.match($s);return e?e[0]:""}const k=/^[^=?&#]+/,D=/^[^&#]+/;class me{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new j([],{}):new j([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[yn]=new j(e,t)),i}parseSegment(){const e=Gs(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new A(vr(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Gs(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Gs(this.remaining);r&&(i=r,this.capture(i))}e[vr(t)]=vr(i)}parseQueryParam(e){const t=function x(n){const e=n.match(k);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const h=function Y(n){const e=n.match(D);return e?e[0]:""}(this.remaining);h&&(i=h,this.capture(i))}const r=ur(t),u=ur(i);if(e.hasOwnProperty(r)){let h=e[r];Array.isArray(h)||(h=[h],e[r]=h),h.push(u)}else e[r]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Gs(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let u;i.indexOf(":")>-1?(u=i.substr(0,i.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=yn);const h=this.parseChildren();t[u]=1===Object.keys(h).length?h[yn]:new j([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ct{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=jn(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=jn(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Rn(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Rn(e,this._root).map(t=>t.value)}}function jn(n,e){if(n===e.value)return e;for(const t of e.children){const i=jn(n,t);if(i)return i}return null}function Rn(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Rn(n,t);if(i.length)return i.unshift(e),i}return[]}class Bi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function tr(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class nr extends ct{constructor(e,t){super(e),this.snapshot=t,Yr(this,e)}toString(){return this.snapshot.toString()}}function Po(n,e){const t=function ml(n,e){const h=new Rs([],{},{},"",{},yn,e,null,n.root,-1,{});return new wr("",new Bi(h,[]))}(n,e),i=new Un([new A("",{})]),r=new Un({}),u=new Un({}),h=new Un({}),g=new Un(""),v=new oa(i,r,h,g,u,yn,e,t.root);return v.snapshot=t.root,new nr(new Bi(v,[]),t)}class oa{constructor(e,t,i,r,u,h,g,v){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=u,this.outlet=h,this.component=g,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nn.U)(e=>Ps(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nn.U)(e=>Ps(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ec(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],u=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(u.component)break;i--}}return function Ig(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Rs{constructor(e,t,i,r,u,h,g,v,T,L,Q){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=u,this.outlet=h,this.component=g,this.routeConfig=v,this._urlSegment=T,this._lastPathIndex=L,this._resolve=Q}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ps(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ps(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wr extends ct{constructor(e,t){super(t),this.url=e,Yr(this,t)}toString(){return _l(this._root)}}function Yr(n,e){e.value._routerState=n,e.children.forEach(t=>Yr(n,t))}function _l(n){const e=n.children.length>0?` { ${n.children.map(_l).join(", ")} } `:"";return`${n.value}${e}`}function qs(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Pr(e.params,t.params)||n.params.next(t.params),function Fa(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Pr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ds(n,e){const t=Pr(n.params,e.params)&&function X(n,e){return Ee(n,e)&&n.every((t,i)=>Pr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ds(n.parent,e.parent))}function Ro(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Wl(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ro(n,i,r);return Ro(n,i)})}(n,e,t);return new Bi(i,r)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const h=u.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(g=>Ro(n,g)),h}}const i=function nc(n){return new oa(new Un(n.url),new Un(n.params),new Un(n.queryParams),new Un(n.fragment),new Un(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(u=>Ro(n,u));return new Bi(i,r)}}function No(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Fo(n){return"object"==typeof n&&null!=n&&n.outlets}function vl(n,e,t,i,r){let u={};if(i&&Ii(i,(g,v)=>{u[v]=Array.isArray(g)?g.map(T=>`${T}`):`${g}`}),n===e)return new M(t,u,r);const h=Kl(n,e,t);return new M(h,u,r)}function Kl(n,e,t){const i={};return Ii(n.children,(r,u)=>{i[u]=r===e?t:Kl(r,e,t)}),new j(n.segments,i)}class bl{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&No(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Fo);if(r&&r!==ys(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yl{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function ua(n,e,t){if(n||(n=new j([],{})),0===n.segments.length&&n.hasChildren())return Ql(n,e,t);const i=function sc(n,e,t){let i=0,r=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return u;const h=n.segments[r],g=t[i];if(Fo(g))break;const v=`${g}`,T=i<t.length-1?t[i+1]:null;if(r>0&&void 0===v)break;if(v&&T&&"object"==typeof T&&void 0===T.outlets){if(!Jl(v,T,h))return u;i+=2}else{if(!Jl(v,{},h))return u;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const u=new j(n.segments.slice(0,i.pathIndex),{});return u.children[yn]=new j(n.segments.slice(i.pathIndex),n.children),Ql(u,0,r)}return i.match&&0===r.length?new j(n.segments,{}):i.match&&!n.hasChildren()?cr(n,e,t):i.match?Ql(n,0,r):cr(n,e,t)}function Ql(n,e,t){if(0===t.length)return new j(n.segments,{});{const i=function rc(n){return Fo(n[0])?n[0].outlets:{[yn]:n}}(t),r={};return Ii(i,(u,h)=>{"string"==typeof u&&(u=[u]),null!==u&&(r[h]=ua(n.children[h],e,u))}),Ii(n.children,(u,h)=>{void 0===i[h]&&(r[h]=u)}),new j(n.segments,r)}}function cr(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const u=t[r];if(Fo(u)){const v=La(u.outlets);return new j(i,v)}if(0===r&&No(t[0])){i.push(new A(n.segments[e].path,ki(t[0]))),r++;continue}const h=Fo(u)?u.outlets[yn]:`${u}`,g=r<t.length-1?t[r+1]:null;h&&g&&No(g)?(i.push(new A(h,ki(g))),r+=2):(i.push(new A(h,{})),r++)}return new j(i,{})}function La(n){const e={};return Ii(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=cr(new j([],{}),0,t))}),e}function ki(n){const e={};return Ii(n,(t,i)=>e[i]=`${t}`),e}function Jl(n,e,t){return n==t.path&&Pr(e,t.parameters)}class Dg{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),qs(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=tr(t);e.children.forEach(u=>{const h=u.value.outlet;this.deactivateRoutes(u,r[h],i),delete r[h]}),Ii(r,(u,h)=>{this.deactivateRouteAndItsChildren(u,i)})}deactivateRoutes(e,t,i){const r=e.value,u=t?t.value:null;if(r===u)if(r.component){const h=i.getContext(r.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,i);else u&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,u=tr(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],r);if(i&&i.outlet){const h=i.outlet.detach(),g=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,u=tr(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=tr(t);e.children.forEach(u=>{this.activateRoutes(u,r[u.value.outlet],i),this.forwardEvent(new gl(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Na(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,u=t?t.value:null;if(qs(r),r===u)if(r.component){const h=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const h=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const g=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),h.children.onOutletReAttached(g.contexts),h.attachRef=g.componentRef,h.route=g.route.value,h.outlet&&h.outlet.attach(g.componentRef,g.route.value),qs(g.route.value),this.activateChildRoutes(e,null,h.children)}else{const g=function oc(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),v=g?g.module.componentFactoryResolver:null;h.attachRef=null,h.route=r,h.resolver=v,h.outlet&&h.outlet.activateWith(r,v),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,i)}}class md{constructor(e,t){this.routes=e,this.module=t}}function ca(n){return"function"==typeof n}function Cr(n){return n instanceof M}const bs=Symbol("INITIAL_VALUE");function Ns(){return(0,he.w)(n=>function bi(...n){const e=(0,Zs.yG)(n),t=(0,Zs.jO)(n),{args:i,keys:r}=(0,Mr.D)(n);if(0===i.length)return(0,_n.D)([],e);const u=new _i.y(function Ms(n,e,t=ui.y){return i=>{xi(e,()=>{const{length:r}=n,u=new Array(r);let h=r,g=r;for(let v=0;v<r;v++)xi(e,()=>{const T=(0,_n.D)(n[v],e);let L=!1;T.subscribe((0,Li.x)(i,Q=>{u[v]=Q,L||(L=!0,g--),g||i.next(t(u.slice()))},()=>{--h||i.complete()}))},i)},i)}}(i,e,r?h=>(0,zr.n)(r,h):ui.y));return t?u.pipe((0,ar.Z)(t)):u}(n.map(e=>e.pipe((0,Ce.q)(1),(0,W.O)(bs)))).pipe(Je((e,t)=>{let i=!1;return t.reduce((r,u,h)=>r!==bs?r:(u===bs&&(i=!0),i||!1!==u&&h!==t.length-1&&!Cr(u)?r:u),e)},bs),(0,et.h)(e=>e!==bs),(0,nn.U)(e=>Cr(e)?e:!0===e),(0,Ce.q)(1)))}class wl{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ua,this.attachRef=null}}class Ua{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new wl,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let ws=(()=>{class n{constructor(t,i,r,u,h){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=u||yn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,v=new Xl(t,g,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ua),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Xl{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===oa?this.route:e===Ua?this.childContexts:this.parent.get(e,t)}}let _d=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&a._UZ(0,"router-outlet")},directives:[ws],encapsulation:2}),n})();function yd(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];Sg(i,Fs(e,i))}}function Sg(n,e){n.children&&yd(n.children,e)}function Fs(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function uo(n){const e=n.children&&n.children.map(uo),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==yn&&(t.component=_d),t}function Cs(n){return n.outlet||yn}function Ls(n,e){const t=n.filter(i=>Cs(i)===e);return t.push(...n.filter(i=>Cs(i)!==e)),t}const Ba={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Cl(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Ba):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||_s)(t,n,e);if(!u)return Object.assign({},Ba);const h={};Ii(u.posParams,(v,T)=>{h[T]=v.path});const g=u.consumed.length>0?Object.assign(Object.assign({},h),u.consumed[u.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:g,positionalParamSegments:null!==(i=u.posParams)&&void 0!==i?i:{}}}function co(n,e,t,i,r="corrected"){if(t.length>0&&function Vo(n,e,t){return t.some(i=>ho(n,e,i)&&Cs(i)!==yn)}(n,t,i)){const h=new j(e,function Ki(n,e,t,i){const r={};r[yn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Cs(u)!==yn){const h=new j([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,r[Cs(u)]=h}return r}(n,e,i,new j(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function Ha(n,e,t){return t.some(i=>ho(n,e,i))}(n,t,i)){const h=new j(n.segments,function Lo(n,e,t,i,r,u){const h={};for(const g of i)if(ho(n,t,g)&&!r[Cs(g)]){const v=new j([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===u?n.segments.length:e.length,h[Cs(g)]=v}return Object.assign(Object.assign({},r),h)}(n,e,t,i,n.children,r));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const u=new j(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function ho(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function lc(n,e,t,i){return!!(Cs(n)===i||i!==yn&&ho(e,t,n))&&("**"===n.path||Cl(e,n,t).matched)}function uc(n,e,t){return 0===e.length&&!n.children[t]}class El{constructor(e){this.segmentGroup=e||null}}class cc{constructor(e){this.urlTree=e}}function ha(n){return Rt(new El(n))}function fo(n){return Rt(new cc(n))}class Tl{constructor(e,t,i,r,u){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(a.h0i)}apply(){const e=co(this.urlTree.root,[],[],this.config).segmentGroup,t=new j(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,yn).pipe((0,nn.U)(u=>this.createUrlTree(Uo(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(_t(u=>{if(u instanceof cc)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof El?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,yn).pipe((0,nn.U)(r=>this.createUrlTree(Uo(r),e.queryParams,e.fragment))).pipe(_t(r=>{throw r instanceof El?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new j([],{[yn]:e}):e;return new M(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,nn.U)(u=>new j([],u))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const u of Object.keys(i.children))"primary"===u?r.unshift(u):r.push(u);return(0,_n.D)(r).pipe(qt(u=>{const h=i.children[u],g=Ls(t,u);return this.expandSegmentGroup(e,g,h,u).pipe((0,nn.U)(v=>({segment:v,outlet:u})))}),Je((u,h)=>(u[h.outlet]=h.segment,u),{}),function ls(n,e){const t=arguments.length>=2;return i=>i.pipe(n?(0,et.h)((r,u)=>n(r,u,i)):ui.y,zt(1),t?Oa(e):ri(()=>new ci))}())}expandSegment(e,t,i,r,u,h){return(0,_n.D)(i).pipe(qt(g=>this.expandSegmentAgainstRoute(e,t,i,g,r,u,h).pipe(_t(T=>{if(T instanceof El)return(0,Ot.of)(null);throw T}))),zi(g=>!!g),_t((g,v)=>{if(g instanceof ci||"EmptyError"===g.name)return uc(t,r,u)?(0,Ot.of)(new j([],{})):ha(t);throw g}))}expandSegmentAgainstRoute(e,t,i,r,u,h,g){return lc(r,t,u,h)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,u,h):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,u,h):ha(t):ha(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,u,h){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,u,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const u=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?fo(u):this.lineralizeSegments(i,u).pipe((0,Jt.z)(h=>{const g=new j(h,{});return this.expandSegment(e,g,t,h,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,u,h){const{matched:g,consumedSegments:v,remainingSegments:T,positionalParamSegments:L}=Cl(t,r,u);if(!g)return ha(t);const Q=this.applyRedirectCommands(v,r.redirectTo,L);return r.redirectTo.startsWith("/")?fo(Q):this.lineralizeSegments(r,Q).pipe((0,Jt.z)(fe=>this.expandSegment(e,t,i,fe.concat(T),h,!1)))}matchSegmentAgainstRoute(e,t,i,r,u){if("**"===i.path)return i.loadChildren?(i._loadedConfig?(0,Ot.of)(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,nn.U)(Q=>(i._loadedConfig=Q,new j(r,{})))):(0,Ot.of)(new j(r,{}));const{matched:h,consumedSegments:g,remainingSegments:v}=Cl(t,i,r);return h?this.getChildConfig(e,i,r).pipe((0,Jt.z)(L=>{const Q=L.module,fe=L.routes,{segmentGroup:Se,slicedSegments:Oe}=co(t,g,v,fe),Xe=new j(Se.segments,Se.children);if(0===Oe.length&&Xe.hasChildren())return this.expandChildren(Q,fe,Xe).pipe((0,nn.U)(Gt=>new j(g,Gt)));if(0===fe.length&&0===Oe.length)return(0,Ot.of)(new j(g,{}));const ft=Cs(i)===u;return this.expandSegment(Q,Xe,fe,Oe,ft?yn:u,!0).pipe((0,nn.U)(Xt=>new j(g.concat(Xt.segments),Xt.children)))})):ha(t)}getChildConfig(e,t,i){return t.children?(0,Ot.of)(new md(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Ot.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,Jt.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,nn.U)(u=>(t._loadedConfig=u,u))):function fa(n){return Rt(Wr(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):(0,Ot.of)(new md([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;if(!r||0===r.length)return(0,Ot.of)(!0);const u=r.map(h=>{const g=e.get(h);let v;if(function da(n){return n&&ca(n.canLoad)}(g))v=g.canLoad(t,i);else{if(!ca(g))throw new Error("Invalid CanLoad guard");v=g(t,i)}return oi(v)});return(0,Ot.of)(u).pipe(Ns(),(0,Ui.b)(h=>{if(!Cr(h))return;const g=Wr(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw g.url=h,g}),(0,nn.U)(h=>!0===h))}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,Ot.of)(i);if(r.numberOfChildren>1||!r.children[yn])return Rt(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));r=r.children[yn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const u=this.createSegmentGroup(e,t.root,i,r);return new M(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Ii(e,(r,u)=>{if("string"==typeof r&&r.startsWith(":")){const g=r.substring(1);i[u]=t[g]}else i[u]=r}),i}createSegmentGroup(e,t,i,r){const u=this.createSegments(e,t.segments,i,r);let h={};return Ii(t.children,(g,v)=>{h[v]=this.createSegmentGroup(e,g,i,r)}),new j(u,h)}createSegments(e,t,i,r){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,r):this.findOrReturn(u,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function Uo(n){const e={};for(const i of Object.keys(n.children)){const u=Uo(n.children[i]);(u.segments.length>0||u.hasChildren())&&(e[i]=u)}return function eu(n){if(1===n.numberOfChildren&&n.children[yn]){const e=n.children[yn];return new j(n.segments.concat(e.segments),e.children)}return n}(new j(n.segments,e))}class tu{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Vs{constructor(e,t){this.component=e,this.route=t}}function nu(n,e,t){const i=n._root;return zs(i,e?e._root:null,t,[i.value])}function pa(n,e,t){const i=function iu(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function zs(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const u=tr(e);return n.children.forEach(h=>{(function ru(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,h=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){const v=function vd(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ee(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ee(n.url,e.url)||!Pr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ds(n,e)||!Pr(n.queryParams,e.queryParams);default:return!ds(n,e)}}(h,u,u.routeConfig.runGuardsAndResolvers);v?r.canActivateChecks.push(new tu(i)):(u.data=h.data,u._resolvedData=h._resolvedData),zs(n,e,u.component?g?g.children:null:t,i,r),v&&g&&g.outlet&&g.outlet.isActivated&&r.canDeactivateChecks.push(new Vs(g.outlet.component,h))}else h&&Es(e,g,r),r.canActivateChecks.push(new tu(i)),zs(n,null,u.component?g?g.children:null:t,i,r)})(h,u[h.value.outlet],t,i.concat([h.value]),r),delete u[h.value.outlet]}),Ii(u,(h,g)=>Es(h,t.getContext(g),r)),r}function Es(n,e,t){const i=tr(n),r=n.value;Ii(i,(u,h)=>{Es(u,r.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Vs(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class $a{}function hc(n){return new _i.y(e=>e.error(n))}class Pi{constructor(e,t,i,r,u,h){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h}recognize(){const e=co(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,yn);if(null===t)return null;const i=new Rs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},yn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Bi(i,t),u=new wr(this.url,r);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,i=ec(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const u of Object.keys(t.children)){const h=t.children[u],g=Ls(e,u),v=this.processSegmentGroup(g,h,u);if(null===v)return null;i.push(...v)}const r=wd(i);return function Ag(n){n.sort((e,t)=>e.value.outlet===yn?-1:t.value.outlet===yn?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const u of e){const h=this.processSegmentAgainstRoute(u,t,i,r);if(null!==h)return h}return uc(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!lc(e,t,i,r))return null;let u,h=[],g=[];if("**"===e.path){const Se=i.length>0?ys(i).parameters:{};u=new Rs(i,Se,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ga(e),Cs(e),e.component,e,lf(t),uf(t)+i.length,fc(e))}else{const Se=Cl(t,e,i);if(!Se.matched)return null;h=Se.consumedSegments,g=Se.remainingSegments,u=new Rs(h,Se.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ga(e),Cs(e),e.component,e,lf(t),uf(t)+h.length,fc(e))}const v=function q_(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:T,slicedSegments:L}=co(t,h,g,v.filter(Se=>void 0===Se.redirectTo),this.relativeLinkResolution);if(0===L.length&&T.hasChildren()){const Se=this.processChildren(v,T);return null===Se?null:[new Bi(u,Se)]}if(0===v.length&&0===L.length)return[new Bi(u,[])];const Q=Cs(e)===r,fe=this.processSegment(v,T,L,Q?yn:r);return null===fe?null:[new Bi(u,fe)]}}function Mg(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function wd(n){const e=[],t=new Set;for(const i of n){if(!Mg(i)){e.push(i);continue}const r=e.find(u=>i.value.routeConfig===u.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=wd(i.children);e.push(new Bi(i.value,r))}return e.filter(i=>!t.has(i))}function lf(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function uf(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Ga(n){return n.data||{}}function fc(n){return n.resolve||{}}function Ed(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Vr(n){return(0,he.w)(e=>{const t=n(e);return t?(0,_n.D)(t).pipe((0,nn.U)(()=>e)):(0,Ot.of)(e)})}class go extends class qa{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ws=new a.OlP("ROUTES");class Ks{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,nn.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=u.create(e);return new md(Rr(h.injector.get(Ws,void 0,a.XFs.Self|a.XFs.Optional)).map(uo),h)}),_t(u=>{throw t._loader$=void 0,u}));return t._loader$=new Or(r,()=>new ni.x).pipe(sn()),t._loader$}loadModuleFactory(e){return oi(e()).pipe((0,Jt.z)(t=>t instanceof a.YKP?(0,Ot.of)(t):(0,_n.D)(this.compiler.compileModuleAsync(t))))}}class Td{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Id(n){throw n}function cf(n,e,t){return e.parse("/")}function Ur(n,e){return(0,Ot.of)(null)}const pc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},za={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ir=(()=>{class n{constructor(t,i,r,u,h,g,v){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=u,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ni.x,this.errorHandler=Id,this.malformedUriErrorHandler=cf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ur,afterPreactivation:Ur},this.urlHandlingStrategy=new Td,this.routeReuseStrategy=new go,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(a.h0i),this.console=h.get(a.c2e);const Q=h.get(a.R0b);this.isNgZoneEnabled=Q instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function Oo(){return new M(new j([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ks(h,g,fe=>this.triggerEvent(new ta(fe)),fe=>this.triggerEvent(new Pa(fe))),this.routerState=Po(this.currentUrlTree,this.rootComponentType),this.transitions=new Un({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe((0,et.h)(r=>0!==r.id),(0,nn.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),(0,he.w)(r=>{let u=!1,h=!1;return(0,Ot.of)(r).pipe((0,Ui.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,he.w)(g=>{const v=this.browserUrlTree.toString(),T=!this.navigated||g.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return gc(g.source)&&(this.browserUrlTree=g.extractedUrl),(0,Ot.of)(g).pipe((0,he.w)(Q=>{const fe=this.transitions.getValue();return i.next(new yr(Q.id,this.serializeUrl(Q.extractedUrl),Q.source,Q.restoredState)),fe!==this.transitions.getValue()?Vn.E:Promise.resolve(Q)}),function Il(n,e,t,i){return(0,he.w)(r=>function Fr(n,e,t,i,r){return new Tl(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,nn.U)(u=>Object.assign(Object.assign({},r),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ui.b)(Q=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Q.urlAfterRedirects})}),function Yi(n,e,t,i,r){return(0,Jt.z)(u=>function bd(n,e,t,i,r="emptyOnly",u="legacy"){try{const h=new Pi(n,e,t,i,r,u).recognize();return null===h?hc(new $a):(0,Ot.of)(h)}catch(h){return hc(h)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),i,r).pipe((0,nn.U)(h=>Object.assign(Object.assign({},u),{targetSnapshot:h}))))}(this.rootComponentType,this.config,Q=>this.serializeUrl(Q),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ui.b)(Q=>{if("eager"===this.urlUpdateStrategy){if(!Q.extras.skipLocationChange){const Se=this.urlHandlingStrategy.merge(Q.urlAfterRedirects,Q.rawUrl);this.setBrowserUrl(Se,Q)}this.browserUrlTree=Q.urlAfterRedirects}const fe=new hl(Q.id,this.serializeUrl(Q.extractedUrl),this.serializeUrl(Q.urlAfterRedirects),Q.targetSnapshot);i.next(fe)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:fe,extractedUrl:Se,source:Oe,restoredState:Xe,extras:ft}=g,Kt=new yr(fe,this.serializeUrl(Se),Oe,Xe);i.next(Kt);const Xt=Po(Se,this.rootComponentType).snapshot;return(0,Ot.of)(Object.assign(Object.assign({},g),{targetSnapshot:Xt,urlAfterRedirects:Se,extras:Object.assign(Object.assign({},ft),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,g.resolve(null),Vn.E}),Vr(g=>{const{targetSnapshot:v,id:T,extractedUrl:L,rawUrl:Q,extras:{skipLocationChange:fe,replaceUrl:Se}}=g;return this.hooks.beforePreactivation(v,{navigationId:T,appliedUrlTree:L,rawUrlTree:Q,skipLocationChange:!!fe,replaceUrl:!!Se})}),(0,Ui.b)(g=>{const v=new fl(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),(0,nn.U)(g=>Object.assign(Object.assign({},g),{guards:nu(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function su(n,e){return(0,Jt.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:u,canDeactivateChecks:h}}=t;return 0===h.length&&0===u.length?(0,Ot.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function Dl(n,e,t,i){return(0,_n.D)(n).pipe((0,Jt.z)(r=>function dc(n,e,t,i,r){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,Ot.of)(!0);const h=u.map(g=>{const v=pa(g,e,r);let T;if(function sf(n){return n&&ca(n.canDeactivate)}(v))T=oi(v.canDeactivate(n,e,t,i));else{if(!ca(v))throw new Error("Invalid CanDeactivate guard");T=oi(v(n,e,t,i))}return T.pipe(zi())});return(0,Ot.of)(h).pipe(Ns())}(r.component,r.route,t,e,i)),zi(r=>!0!==r,!0))}(h,i,r,n).pipe((0,Jt.z)(g=>g&&function Va(n){return"boolean"==typeof n}(g)?function ou(n,e,t,i){return(0,_n.D)(e).pipe(qt(r=>(0,_r.z)(function Za(n,e){return null!==n&&e&&e(new Ra(n)),(0,Ot.of)(!0)}(r.route.parent,i),function po(n,e){return null!==n&&e&&e(new ks(n)),(0,Ot.of)(!0)}(r.route,i),function au(n,e,t){const i=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(h=>function xg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>Xi(()=>{const g=h.guards.map(v=>{const T=pa(v,h.node,t);let L;if(function ac(n){return n&&ca(n.canActivateChild)}(T))L=oi(T.canActivateChild(i,n));else{if(!ca(T))throw new Error("Invalid CanActivateChild guard");L=oi(T(i,n))}return L.pipe(zi())});return(0,Ot.of)(g).pipe(Ns())}));return(0,Ot.of)(u).pipe(Ns())}(n,r.path,t),function Bo(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Ot.of)(!0);const r=i.map(u=>Xi(()=>{const h=pa(u,e,t);let g;if(function Wi(n){return n&&ca(n.canActivate)}(h))g=oi(h.canActivate(e,n));else{if(!ca(h))throw new Error("Invalid CanActivate guard");g=oi(h(e,n))}return g.pipe(zi())}));return(0,Ot.of)(r).pipe(Ns())}(n,r.route,t))),zi(r=>!0!==r,!0))}(i,u,n,e):(0,Ot.of)(g)),(0,nn.U)(g=>Object.assign(Object.assign({},t),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,Ui.b)(g=>{if(Cr(g.guardsResult)){const T=Wr(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw T.url=g.guardsResult,T}const v=new Ao(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(v)}),(0,et.h)(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),Vr(g=>{if(g.guards.canActivateChecks.length)return(0,Ot.of)(g).pipe((0,Ui.b)(v=>{const T=new ms(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(T)}),(0,he.w)(v=>{let T=!1;return(0,Ot.of)(v).pipe(function Sl(n,e){return(0,Jt.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,Ot.of)(t);let u=0;return(0,_n.D)(r).pipe(qt(h=>function lu(n,e,t,i){return function Cd(n,e,t,i){const r=Ed(n);if(0===r.length)return(0,Ot.of)({});const u={};return(0,_n.D)(r).pipe((0,Jt.z)(h=>function Lr(n,e,t,i){const r=pa(n,e,i);return oi(r.resolve?r.resolve(e,t):r(e,t))}(n[h],e,t,i).pipe((0,Ui.b)(g=>{u[h]=g}))),zt(1),(0,Jt.z)(()=>Ed(u).length===r.length?(0,Ot.of)(u):Vn.E))}(n._resolve,n,e,i).pipe((0,nn.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),ec(n,t).resolve),null)))}(h.route,i,n,e)),(0,Ui.b)(()=>u++),zt(1),(0,Jt.z)(h=>u===r.length?(0,Ot.of)(t):Vn.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ui.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,Ui.b)(v=>{const T=new pl(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(T)}))}),Vr(g=>{const{targetSnapshot:v,id:T,extractedUrl:L,rawUrl:Q,extras:{skipLocationChange:fe,replaceUrl:Se}}=g;return this.hooks.afterPreactivation(v,{navigationId:T,appliedUrlTree:L,rawUrlTree:Q,skipLocationChange:!!fe,replaceUrl:!!Se})}),(0,nn.U)(g=>{const v=function tc(n,e,t){const i=Ro(n,e._root,t?t._root:void 0);return new nr(i,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Object.assign(Object.assign({},g),{targetRouterState:v})}),(0,Ui.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,nn.U)(i=>(new Dg(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,Ui.b)({next(){u=!0},complete(){u=!0}}),function ka(n){return(0,kn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var g;u||h||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(g=this.currentNavigation)||void 0===g?void 0:g.id)===r.id&&(this.currentNavigation=null)}),_t(g=>{if(h=!0,function Kr(n){return n&&n[Ai]}(g)){const v=Cr(g.url);v||(this.navigated=!0,this.restoreHistory(r,!0));const T=new dl(r.id,this.serializeUrl(r.extractedUrl),g.message);i.next(T),v?setTimeout(()=>{const L=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),Q={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||gc(r.source)};this.scheduleNavigation(L,"imperative",null,Q,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const v=new kr(r.id,this.serializeUrl(r.extractedUrl),g);i.next(v);try{r.resolve(this.errorHandler(g))}catch(T){r.reject(T)}}return Vn.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const u={replaceUrl:!0},h=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(h){const v=Object.assign({},h);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(u.state=v)}const g=this.parseUrl(t.url);this.scheduleNavigation(g,i,h,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){yd(t),this.config=t.map(uo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:u,fragment:h,queryParamsHandling:g,preserveFragment:v}=i,T=r||this.routerState.root,L=v?this.currentUrlTree.fragment:h;let Q=null;switch(g){case"merge":Q=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":Q=this.currentUrlTree.queryParams;break;default:Q=u||null}return null!==Q&&(Q=this.removeEmptyProps(Q)),function yl(n,e,t,i,r){if(0===t.length)return vl(e.root,e.root,e.root,i,r);const u=function aa(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new bl(!0,0,n);let e=0,t=!1;const i=n.reduce((r,u,h)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return Ii(u.outlets,(v,T)=>{g[T]="string"==typeof v?v.split("/"):v}),[...r,{outlets:g}]}if(u.segmentPath)return[...r,u.segmentPath]}return"string"!=typeof u?[...r,u]:0===h?(u.split("/").forEach((g,v)=>{0==v&&"."===g||(0==v&&""===g?t=!0:".."===g?e++:""!=g&&r.push(g))}),r):[...r,u]},[]);return new bl(t,e,i)}(t);if(u.toRoot())return vl(e.root,e.root,new j([],{}),i,r);const h=function la(n,e,t){if(n.isAbsolute)return new Yl(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new Yl(u,u===e.root,0)}const i=No(n.commands[0])?0:1;return function ic(n,e,t){let i=n,r=e,u=t;for(;u>r;){if(u-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Yl(i,!1,r-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(u,e,n),g=h.processChildren?Ql(h.segmentGroup,h.index,u.commands):ua(h.segmentGroup,h.index,u.commands);return vl(e.root,h.segmentGroup,g,i,r)}(T,this.currentUrlTree,t,Q,null!=L?L:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Cr(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function mo(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},pc):!1===i?Object.assign({},za):i,Cr(t))return ko(this.currentUrlTree,t,r);const u=this.parseUrl(t);return ko(this.currentUrlTree,u,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const u=t[r];return null!=u&&(i[r]=u),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Os(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,u,h){var g,v;if(this.disposed)return Promise.resolve(!1);let T,L,Q;h?(T=h.resolve,L=h.reject,Q=h.promise):Q=new Promise((Oe,Xe)=>{T=Oe,L=Xe});const fe=++this.navigationId;let Se;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),Se=r&&r.\u0275routerPageId?r.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):Se=0,this.setTransition({id:fe,targetPageId:Se,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:T,reject:L,promise:Q,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Q.catch(Oe=>Promise.reject(Oe))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",u):this.location.go(r,"",u)}restoreHistory(t,i=!1){var r,u;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===h?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new dl(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function gc(n){return"imperative"!==n}let Wa=(()=>{class n{constructor(t,i,r,u,h){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=u,this.el=h,this.commands=null,this.onChanges=new ni.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Qr(this.skipLocationChange),replaceUrl:Qr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Qr(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ir),a.Y36(oa),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&a.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),n})(),Al=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new ni.x,this.subscription=t.events.subscribe(u=>{u instanceof Os&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,u,h){if(0!==t||i||r||u||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const g={skipLocationChange:Qr(this.skipLocationChange),replaceUrl:Qr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Qr(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ir),a.Y36(oa),a.Y36(d.S$))},n.\u0275dir=a.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&a.NdJ("click",function(u){return i.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&a.uIk("target",i.target)("href",i.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),n})();function Qr(n){return""===n||!!n}let cu=(()=>{class n{constructor(t,i,r,u,h,g){this.router=t,this.element=i,this.renderer=r,this.cdr=u,this.link=h,this.linkWithHref=g,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=t.events.subscribe(v=>{v instanceof Os&&this.update()})}ngAfterContentInit(){(0,Ot.of)(this.links.changes,this.linksWithHrefs.changes,(0,Ot.of)(null)).pipe((0,xo.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,_n.D)(i).pipe((0,xo.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function Ho(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ir),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(Wa,8),a.Y36(Al,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,Wa,5),a.Suo(r,Al,5)),2&t){let u;a.iGM(u=a.CRH())&&(i.links=u),a.iGM(u=a.CRH())&&(i.linksWithHrefs=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[a.TTD]}),n})();class jo{}class Dd{preload(e,t){return(0,Ot.of)(null)}}let Zo=(()=>{class n{constructor(t,i,r,u){this.router=t,this.injector=r,this.preloadingStrategy=u,this.loader=new Ks(r,i,v=>t.triggerEvent(new ta(v)),v=>t.triggerEvent(new Pa(v)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,et.h)(t=>t instanceof Os),qt(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(a.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const u of i)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const h=u._loadedConfig;r.push(this.processRoutes(h.module,h.routes))}else u.loadChildren&&!u.canLoad?r.push(this.preloadConfig(t,u)):u.children&&r.push(this.processRoutes(t,u.children));return(0,_n.D)(r).pipe((0,xo.J)(),(0,nn.U)(u=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?(0,Ot.of)(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,Jt.z)(u=>(i._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ir),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(jo))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),ga=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Os&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof us&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new us(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const S=new a.OlP("ROUTER_CONFIGURATION"),O=new a.OlP("ROUTER_FORROOT_GUARD"),K=[d.Ye,{provide:st,useClass:Nt},{provide:ir,useFactory:function dn(n,e,t,i,r,u,h={},g,v){const T=new ir(null,n,e,t,i,r,Rr(u));return g&&(T.urlHandlingStrategy=g),v&&(T.routeReuseStrategy=v),function $n(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,T),h.enableTracing&&T.events.subscribe(L=>{var Q,fe;null===(Q=console.group)||void 0===Q||Q.call(console,`Router Event: ${L.constructor.name}`),console.log(L.toString()),console.log(L),null===(fe=console.groupEnd)||void 0===fe||fe.call(console)}),T},deps:[st,Ua,d.Ye,a.zs3,a.Sil,Ws,S,[class xl{},new a.FiY],[class uu{},new a.FiY]]},Ua,{provide:oa,useFactory:function vn(n){return n.routerState.root},deps:[ir]},Zo,Dd,class mc{preload(e,t){return t().pipe(_t(()=>(0,Ot.of)(null)))}},{provide:S,useValue:{enableTracing:!1}}];function de(){return new a.PXZ("Router",ir)}let Fe=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[K,Ht(t),{provide:O,useFactory:Lt,deps:[[ir,new a.FiY,new a.tp0]]},{provide:S,useValue:i||{}},{provide:d.S$,useFactory:mt,deps:[d.lw,[new a.tBr(d.mr),new a.FiY],S]},{provide:ga,useFactory:$e,deps:[ir,d.EM,S]},{provide:jo,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Dd},{provide:a.PXZ,multi:!0,useFactory:de},[Hi,{provide:a.ip1,multi:!0,useFactory:dr,deps:[Hi]},{provide:ma,useFactory:Ka,deps:[Hi]},{provide:a.tb,multi:!0,useExisting:ma}]]}}static forChild(t){return{ngModule:n,providers:[Ht(t)]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(O,8),a.LFG(ir,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function $e(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new ga(n,e,t)}function mt(n,e,t={}){return t.useHash?new d.Do(n,e):new d.b0(n,e)}function Lt(n){return"guarded"}function Ht(n){return[{provide:a.deG,multi:!0,useValue:n},{provide:Ws,multi:!0,useValue:n}]}let Hi=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ni.x}appInitializer(){return this.injector.get(d.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(g=>i=g),u=this.injector.get(ir),h=this.injector.get(S);return"disabled"===h.initialNavigation?(u.setUpLocationChangeListener(),i(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?(0,Ot.of)(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),u.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(S),r=this.injector.get(Zo),u=this.injector.get(ga),h=this.injector.get(ir),g=this.injector.get(a.z2F);t===g.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&h.initialNavigation(),r.setUpPreloading(),u.init(),h.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function dr(n){return n.appInitializer.bind(n)}function Ka(n){return n.bootstrapListener.bind(n)}const ma=new a.OlP("Router Initializer");var _o=P(6451),yo=P(5363),df=P(3151);function Sd(n,e){return(0,wt.m)(e)?(0,he.w)(()=>n,e):(0,he.w)(()=>n)}var hu=P(9468),Ei=P(5813),Br=P(2011);P(5867);var tt=P(5861),Bs=P(9681),Ml=P(4859),fn=P(2090),_a=P(1877);const pf=new Map,Pg={activated:!1,tokenObservers:[]},K_={initialized:!1,enabled:!1};function Er(n){return pf.get(n)||Pg}function vo(n,e){pf.set(n,e)}function kd(){return K_}class Ng{constructor(e,t,i,r,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=r,r>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,tt.Z)(function*(){t.stop();try{t.pending=new fn.BH,yield function Ob(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new fn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Jr=new fn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Fg(n){if(!Er(n).activated)throw Jr.create("use-before-activation",{appName:n.name})}function pu(n,e){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,tt.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const Q=yield r.getHeartbeatsHeader();Q&&(i["X-Firebase-Client"]=Q)}const u={method:"POST",body:JSON.stringify(e),headers:i};let h,g;try{h=yield fetch(n,u)}catch(Q){throw Jr.create("fetch-network-error",{originalErrorMessage:Q.message})}if(200!==h.status)throw Jr.create("fetch-status-error",{httpStatus:h.status});try{g=yield h.json()}catch(Q){throw Jr.create("fetch-parse-error",{originalErrorMessage:Q.message})}const v=g.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Jr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const T=1e3*Number(v[1]),L=Date.now();return{token:g.token,expireTimeMillis:L+T,issuedAtTimeMillis:L}})).apply(this,arguments)}function Nd(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const gu="firebase-app-check-store";let _f=null;function mu(){return _f||(_f=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Jr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(gu,{keyPath:"compositeKey"})}}catch(t){e(Jr.create("storage-open",{originalErrorMessage:t.message}))}}),_f)}function Fd(){return(Fd=(0,tt.Z)(function*(n,e){const i=(yield mu()).transaction(gu,"readwrite"),u=i.objectStore(gu).put({compositeKey:n,value:e});return new Promise((h,g)=>{u.onsuccess=v=>{h()},i.onerror=v=>{var T;g(Jr.create("storage-set",{originalErrorMessage:null===(T=v.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const Ya=new _a.Yd("@firebase/app-check");function Vd(n,e){return(0,fn.hl)()?function vf(n,e){return function bf(n,e){return Fd.apply(this,arguments)}(function Ug(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ya.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ef(){return kd().enabled}function Bg(){return yu.apply(this,arguments)}function yu(){return(yu=(0,tt.Z)(function*(){const n=kd();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const X_={error:"UNKNOWN_ERROR"};function ey(n){return fn.US.encodeString(JSON.stringify(n),!1)}function Bd(n){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,tt.Z)(function*(n,e=!1){const t=n.app;Fg(t);const i=Er(t);let u,r=i.token;if(!r){const v=yield i.cachedTokenPromise;v&&vu(v)&&(r=v)}if(!e&&r&&vu(r))return{token:r.token};let g,h=!1;if(Ef()){i.exchangeTokenPromise||(i.exchangeTokenPromise=pu(Nd(t,yield Bg()),n.heartbeatServiceProvider).then(T=>(i.exchangeTokenPromise=void 0,T)),h=!0);const v=yield i.exchangeTokenPromise;return yield Vd(t,v),vo(t,Object.assign(Object.assign({},i),{token:v})),{token:v.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(v=>(i.exchangeTokenPromise=void 0,v)),h=!0),r=yield i.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?Ya.warn(v.message):Ya.error(v),u=v}return r?(g={token:r.token},vo(t,Object.assign(Object.assign({},i),{token:r})),yield Vd(t,r)):g=Df(u),h&&Xr(t,g),g})).apply(this,arguments)}function If(n,e){const t=Er(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),vo(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function ty(n){const{app:e}=n,t=Er(e);let i=t.tokenRefresher;i||(i=function bc(n){const{app:e}=n;return new Ng((0,tt.Z)(function*(){let i;if(i=Er(e).token?yield Bd(n,!0):yield Bd(n),i.error)throw i.error}),()=>!0,()=>{const t=Er(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),vo(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Xr(n,e){const t=Er(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function vu(n){return n.expireTimeMillis-Date.now()>0}function Df(n){return{token:ey(X_),error:n}}class Hd{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Er(this.app);for(const t of e)If(this.app,t.next);return Promise.resolve()}}const Pf="app-check-internal";!function ry(){(0,Bs._registerComponent)(new Ml.wA("app-check",n=>function Tr(n,e){return new Hd(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Pf).initialize()})),(0,Bs._registerComponent)(new Ml.wA(Pf,n=>function bu(n){return{getToken:e=>Bd(n,e),addTokenListener:e=>function Tf(n,e,t,i){const{app:r}=n,u=Er(r),h={next:t,error:i,type:e};if(vo(r,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,h]})),u.token&&vu(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),ty(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>ty(n))}(n,"INTERNAL",e),removeTokenListener:e=>If(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Bs.registerVersion)("@firebase/app-check","0.5.8")}();class zd{constructor(){return(0,Ei.vb)("app-check")}}"undefined"!=typeof window&&window;var Is=P(127);const Wd=new a.OlP("angularfire2.auth.use-emulator"),Nf=new a.OlP("angularfire2.auth.settings"),Xa=new a.OlP("angularfire2.auth.tenant-id"),Ic=new a.OlP("angularfire2.auth.langugage-code"),Dc=new a.OlP("angularfire2.auth.use-device-language"),Ff=new a.OlP("angularfire.auth.persistence"),Sc=(n,e,t,i,r,u,h,g)=>(0,Br.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),i&&(v.tenantId=i),v.languageCode=r,u&&v.useDeviceLanguage(),h)for(const[T,L]of Object.entries(h))v.settings[T]=L;return g&&v.setPersistence(g),v},[t,i,r,u,h,g]);let Cu=(()=>{class n{constructor(t,i,r,u,h,g,v,T,L,Q,fe,Se){const Oe=new ni.x,Xe=(0,Ot.of)(void 0).pipe((0,yo.Q)(h.outsideAngular),(0,he.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,8775)))),(0,nn.U)(()=>(0,Br.on)(t,u,i)),(0,nn.U)(ft=>Sc(ft,u,g,T,L,Q,v,fe)),(0,df.d)({bufferSize:1,refCount:!1}));if((0,d.PM)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ot.of)(null);else{Xe.pipe(zi()).subscribe();const Kt=Xe.pipe((0,he.w)(kt=>kt.getRedirectResult().then(wn=>wn,()=>null)),Ei.iC,(0,df.d)({bufferSize:1,refCount:!1})),Xt=Xe.pipe((0,he.w)(kt=>new _i.y(wn=>({unsubscribe:u.runOutsideAngular(()=>kt.onAuthStateChanged(Cn=>wn.next(Cn),Cn=>wn.error(Cn),()=>wn.complete()))})))),Gt=Xe.pipe((0,he.w)(kt=>new _i.y(wn=>({unsubscribe:u.runOutsideAngular(()=>kt.onIdTokenChanged(Cn=>wn.next(Cn),Cn=>wn.error(Cn),()=>wn.complete()))}))));this.authState=Kt.pipe(Sd(Xt),(0,hu.R)(h.outsideAngular),(0,yo.Q)(h.insideAngular)),this.user=Kt.pipe(Sd(Gt),(0,hu.R)(h.outsideAngular),(0,yo.Q)(h.insideAngular)),this.idToken=this.user.pipe((0,he.w)(kt=>kt?(0,_n.D)(kt.getIdToken()):(0,Ot.of)(null))),this.idTokenResult=this.user.pipe((0,he.w)(kt=>kt?(0,_n.D)(kt.getIdTokenResult()):(0,Ot.of)(null))),this.credential=(0,_o.T)(Kt,Oe,this.authState.pipe((0,et.h)(kt=>!kt))).pipe((0,nn.U)(kt=>(null==kt?void 0:kt.user)?kt:null),(0,hu.R)(h.outsideAngular),(0,yo.Q)(h.insideAngular))}return(0,Br.pX)(this,Xe,u,{spy:{apply:(ft,Kt,Xt)=>{(ft.startsWith("signIn")||ft.startsWith("createUser"))&&Xt.then(Gt=>Oe.next(Gt))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Br.Dh),a.LFG(Br.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Ei.HU),a.LFG(Wd,8),a.LFG(Nf,8),a.LFG(Xa,8),a.LFG(Ic,8),a.LFG(Dc,8),a.LFG(Ff,8),a.LFG(zd,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qg=(()=>{class n{constructor(){Is.Z.registerVersion("angularfire",Ei.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Cu]}),n})(),Go=(()=>{class n{constructor(t){this.fauth=t,this.userObs=new Un(null)}logout(){return this.fauth.signOut()}register(t,i){return this.fauth.createUserWithEmailAndPassword(t,i)}login(t,i){return this.fauth.signInWithEmailAndPassword(t,i)}refreshData(t){this.userObs.next(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Cu))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lf=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return this.authService.userObs.subscribe(r=>{null==r?this.router.navigateByUrl("Login"):"administrador"!=r.rol&&this.router.navigateByUrl("")}),!0}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Go),a.LFG(ir))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vf=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return this.authService.userObs.subscribe(r=>{null==r&&this.router.navigateByUrl("Login")}),!0}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Go),a.LFG(ir))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Vt,It=P(2382),sy=P(4986),Uf=P(1520),Fb=P(1884),Vb=(P(8775),P(3942)),sT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},el={},kl=kl||{},En=sT||self;function Bf(){}function oy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Eu(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var zg="closure_uid_"+(1e9*Math.random()>>>0),Ub=0;function Bb(n,e,t){return n.call.apply(n.bind,arguments)}function ay(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function es(n,e,t){return(es=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bb:ay).apply(null,arguments)}function xc(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ir(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,u){for(var h=Array(arguments.length-2),g=2;g<arguments.length;g++)h[g-2]=arguments[g];return e.prototype[r].apply(i,h)}}function Pl(){this.s=this.s,this.o=this.o}var Hb={};Pl.prototype.s=!1,Pl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function oT(n){return Object.prototype.hasOwnProperty.call(n,zg)&&n[zg]||(n[zg]=++Ub)}(this);delete Hb[n]}},Pl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Wg=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Kd=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let u=0;u<i;u++)u in r&&e.call(t,r[u],u,n)};function uy(n){return Array.prototype.concat.apply([],arguments)}function cy(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Kg(n){return/^[\s\xa0]*$/.test(n)}var eo,dy=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function hs(n,e){return-1!=n.indexOf(e)}function Yg(n,e){return n<e?-1:n>e?1:0}e:{var hy=En.navigator;if(hy){var jb=hy.userAgent;if(jb){eo=jb;break e}}eo=""}function Qg(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Zb(n){const e={};for(const t in n)e[t]=n[t];return e}var $b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qo(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let u=0;u<$b.length;u++)t=$b[u],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function fy(n){return fy[" "](n),n}fy[" "]=Bf;var Jg,n,lT=hs(eo,"Opera"),Yd=hs(eo,"Trident")||hs(eo,"MSIE"),qb=hs(eo,"Edge"),py=qb||Yd,gy=hs(eo,"Gecko")&&!(hs(eo.toLowerCase(),"webkit")&&!hs(eo,"Edge"))&&!(hs(eo,"Trident")||hs(eo,"MSIE"))&&!hs(eo,"Edge"),uT=hs(eo.toLowerCase(),"webkit")&&!hs(eo,"Edge");function zb(){var n=En.document;return n?n.documentMode:void 0}e:{var Tn="",Xg=(n=eo,gy?/rv:([^\);]+)(\)|;)/.exec(n):qb?/Edge\/([\d\.]+)/.exec(n):Yd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):uT?/WebKit\/(\S+)/.exec(n):lT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Xg&&(Tn=Xg?Xg[1]:""),Yd){var em=zb();if(null!=em&&em>parseFloat(Tn)){Jg=String(em);break e}}Jg=Tn}var Wb={};var cT=En.document&&Yd&&(zb()||parseInt(Jg,10))||void 0,_y=function(){if(!En.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{En.addEventListener("test",Bf,e),En.removeEventListener("test",Bf,e)}catch(t){}return n}();function Zi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Ac(n,e){if(Zi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(gy){e:{try{fy(e.nodeName);var r=!0;break e}catch(u){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Kb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ac.Z.h.call(this)}}Zi.prototype.h=function(){this.defaultPrevented=!0},Ir(Ac,Zi);var Kb={2:"touch",3:"pen",4:"mouse"};Ac.prototype.h=function(){Ac.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Mc="closure_listenable_"+(1e6*Math.random()|0),KD=0;function Yb(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++KD,this.ca=this.fa=!1}function yy(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Oc(n){this.src=n,this.g={},this.h=0}function Qd(n,e){var t=e.type;if(t in n.g){var u,i=n.g[t],r=Wg(i,e);(u=0<=r)&&Array.prototype.splice.call(i,r,1),u&&(yy(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Hf(n,e,t,i){for(var r=0;r<n.length;++r){var u=n[r];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==i)return r}return-1}Oc.prototype.add=function(n,e,t,i,r){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var h=Hf(n,e,i,r);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new Yb(e,this.src,u,!!i,r)).fa=t,n.push(e)),e};var jf="closure_lm_"+(1e6*Math.random()|0),Zf={};function dT(n,e,t,i,r){if(i&&i.once)return Jb(n,e,t,i,r);if(Array.isArray(e)){for(var u=0;u<e.length;u++)dT(n,e[u],t,i,r);return null}return t=rm(t),n&&n[Mc]?n.N(e,t,Eu(i)?!!i.capture:!!i,r):Qb(n,e,t,!1,i,r)}function Qb(n,e,t,i,r,u){if(!e)throw Error("Invalid event type");var h=Eu(r)?!!r.capture:!!r,g=ew(n);if(g||(n[jf]=g=new Oc(n)),(t=g.add(e,t,i,h,u)).proxy)return t;if(i=function hT(){var e=pT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)_y||(r=h),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(fT(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Jb(n,e,t,i,r){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Jb(n,e[u],t,i,r);return null}return t=rm(t),n&&n[Mc]?n.O(e,t,Eu(i)?!!i.capture:!!i,r):Qb(n,e,t,!0,i,r)}function Xb(n,e,t,i,r){if(Array.isArray(e))for(var u=0;u<e.length;u++)Xb(n,e[u],t,i,r);else i=Eu(i)?!!i.capture:!!i,t=rm(t),n&&n[Mc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Hf(u=n.g[e],t,i,r))&&(yy(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=ew(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Hf(e,t,i,r)),(t=-1<n?e[n]:null)&&nm(t))}function nm(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Mc])Qd(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(fT(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=ew(e))?(Qd(t,n),0==t.h&&(t.src=null,e[jf]=null)):yy(n)}}}function fT(n){return n in Zf?Zf[n]:Zf[n]="on"+n}function pT(n,e){if(n.ca)n=!0;else{e=new Ac(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&nm(n),n=t.call(i,e)}return n}function ew(n){return(n=n[jf])instanceof Oc?n:null}var im="__closure_events_fn_"+(1e9*Math.random()>>>0);function rm(n){return"function"==typeof n?n:(n[im]||(n[im]=function(e){return n.handleEvent(e)}),n[im])}function ts(){Pl.call(this),this.i=new Oc(this),this.P=this,this.I=null}function Hr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Zi(e,n);else if(e instanceof Zi)e.target=e.target||n;else{var r=e;qo(e=new Zi(i,n),r)}if(r=!0,t)for(var u=t.length-1;0<=u;u--){var h=e.g=t[u];r=vy(h,i,!0,e)&&r}if(r=vy(h=e.g=n,i,!0,e)&&r,r=vy(h,i,!1,e)&&r,t)for(u=0;u<t.length;u++)r=vy(h=e.g=t[u],i,!1,e)&&r}function vy(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,u=0;u<e.length;++u){var h=e[u];if(h&&!h.ca&&h.capture==t){var g=h.listener,v=h.ia||h.src;h.fa&&Qd(n.i,h),r=!1!==g.call(v,i)&&r}}return r&&!i.defaultPrevented}Ir(ts,Pl),ts.prototype[Mc]=!0,ts.prototype.removeEventListener=function(n,e,t,i){Xb(this,n,e,t,i)},ts.prototype.M=function(){if(ts.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)yy(t[i]);delete n.g[e],n.h--}}this.I=null},ts.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},ts.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var tw=En.JSON.stringify;function YD(){var n=sm;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var iw,gT=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new JD,n=>n.reset());class JD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function XD(n){En.setTimeout(()=>{throw n},0)}function nw(n,e){iw||function eS(){var n=En.Promise.resolve(void 0);iw=function(){n.then(mT)}}(),tl||(iw(),tl=!0),sm.add(n,e)}var tl=!1,sm=new class QD{constructor(){this.h=this.g=null}add(e,t){const i=gT.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function mT(){for(var n;n=YD();){try{n.h.call(n.g)}catch(t){XD(t)}var e=gT;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}tl=!1}function $f(n,e){ts.call(this),this.h=n||1,this.g=e||En,this.j=es(this.kb,this),this.l=Date.now()}function Gf(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function om(n,e,t){if("function"==typeof n)t&&(n=es(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=es(n.handleEvent,n)}return 2147483647<Number(e)?-1:En.setTimeout(n,e||0)}function am(n){n.g=om(()=>{n.g=null,n.i&&(n.i=!1,am(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ir($f,ts),(Vt=$f.prototype).da=!1,Vt.S=null,Vt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Hr(this,"tick"),this.da&&(Gf(this),this.start()))}},Vt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Vt.M=function(){$f.Z.M.call(this),Gf(this),delete this.g};class _T extends Pl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:am(this)}M(){super.M(),this.g&&(En.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zo(n){Pl.call(this),this.h=n,this.g={}}Ir(zo,Pl);var by=[];function rw(n,e,t,i){Array.isArray(t)||(t&&(by[0]=t.toString()),t=by);for(var r=0;r<t.length;r++){var u=dT(e,t[r],i||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function lm(n){Qg(n.g,function(e,t){this.g.hasOwnProperty(t)&&nm(e)},n),n.g={}}function um(){this.g=!0}function Jd(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Xd(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var u=r[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var h=1;h<r.length;h++)r[h]=""}}}return tw(t)}catch(g){return e}}(n,t)+(i?" "+i:"")})}zo.prototype.M=function(){zo.Z.M.call(this),lm(this)},zo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},um.prototype.Aa=function(){this.g=!1},um.prototype.info=function(){};var Rl={},kc=null;function Tu(){return kc=kc||new ts}function Pc(n){Zi.call(this,Rl.Ma,n)}function zf(n){const e=Tu();Hr(e,new Pc(e,n))}function wy(n,e){Zi.call(this,Rl.STAT_EVENT,n),this.stat=e}function Ds(n){const e=Tu();Hr(e,new wy(e,n))}function cm(n,e){Zi.call(this,Rl.Na,n),this.size=e}function Rc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return En.setTimeout(function(){n()},e)}Rl.Ma="serverreachability",Ir(Pc,Zi),Rl.STAT_EVENT="statevent",Ir(wy,Zi),Rl.Na="timingevent",Ir(cm,Zi);var Wf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Kf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Cy(){}function vT(){}Cy.prototype.h=null;var hm,eh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dm(){Zi.call(this,"d")}function Ty(){Zi.call(this,"c")}function fm(){}function Yf(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new zo(this),this.P=bT,this.W=new $f(n=py?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new to}function to(){this.i=null,this.g="",this.h=!1}Ir(dm,Zi),Ir(Ty,Zi),Ir(fm,Cy),fm.prototype.g=function(){return new XMLHttpRequest},fm.prototype.i=function(){return{}},hm=new fm;var bT=45e3,Iy={},Dy={};function ow(n,e,t){n.K=1,n.v=_m(Fl(e)),n.s=t,n.U=!0,Sy(n,null)}function Sy(n,e){n.F=Date.now(),th(n),n.A=Fl(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),Fy(t.h,"t",i),n.C=0,t=n.l.H,n.h=new to,n.g=Qy(n.l,t?e:null,!n.s),0<n.O&&(n.L=new _T(es(n.Ia,n,n.g),n.O)),rw(n.V,n.g,"readystatechange",n.gb),e=n.H?Zb(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),zf(1),function sw(n,e,t,i,r,u){n.info(function(){if(n.g)if(u)for(var h="",g=u.split("&"),v=0;v<g.length;v++){var T=g[v].split("=");if(1<T.length){var L=T[0];T=T[1];var Q=L.split("_");h=2<=Q.length&&"type"==Q[1]?h+(L+"=")+T+"&":h+(L+"=redacted&")}}else h=null;else h=u;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function wT(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function aw(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=xy(n,t),r==Dy){4==e&&(n.o=4,Ds(14),i=!1),Jd(n.j,n.m,null,"[Incomplete Response]");break}if(r==Iy){n.o=4,Ds(15),Jd(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Jd(n.j,n.m,r,null),Ay(n,r)}wT(n)&&r!=Dy&&r!=Iy&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ds(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Dm(e),e.L=!0,Ds(11))):(Jd(n.j,n.m,t,"[Invalid Chunked Response]"),Iu(n),Qf(n))}function xy(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Dy:(t=Number(e.substring(t,i)),isNaN(t)?Iy:(i+=1)+t>e.length?Dy:(e=e.substr(i,t),n.C=i+t,e))}function th(n){n.Y=Date.now()+n.P,lw(n,n.P)}function lw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Rc(es(n.eb,n),e)}function pm(n){n.B&&(En.clearTimeout(n.B),n.B=null)}function Qf(n){0==n.l.G||n.I||Wo(n.l,n)}function Iu(n){pm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Gf(n.W),lm(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Ay(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Vy(t.i,n)))if(t.I=n.N,!n.J&&Vy(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(T){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=Rc(es(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Wy(t),Em(t)}qy(t),Ds(18)}if(1>=_w(t.i)&&t.ka){try{t.ka()}catch(T){}t.ka=void 0}}else sh(t,11)}else if((n.J||t.g==n)&&Wy(t),!Kg(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let T=r[e];if(t.U=T[0],T=T[1],2==t.G)if("c"==T[0]){t.J=T[1],t.la=T[2];const L=T[3];null!=L&&(t.ma=L,t.h.info("VER="+t.ma));const Q=T[4];null!=Q&&(t.za=Q,t.h.info("SVER="+t.za));const fe=T[5];null!=fe&&"number"==typeof fe&&0<fe&&(t.K=i=1.5*fe,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const Se=n.g;if(Se){const Oe=Se.g?Se.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oe){var u=i.i;!u.g&&(hs(Oe,"spdy")||hs(Oe,"quic")||hs(Oe,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(yw(u,u.h),u.h=null))}if(i.D){const Xe=Se.g?Se.g.getResponseHeader("X-HTTP-Session-Id"):null;Xe&&(i.sa=Xe,$i(i.F,i.D,Xe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((i=t).oa=Yy(i,i.H?i.la:null,i.W),h.J){vm(i.i,h);var g=h,v=i.K;v&&g.setTimeout(v),g.B&&(pm(g),th(g)),i.g=h}else Im(i);0<t.l.length&&lp(t)}else"stop"!=T[0]&&"close"!=T[0]||sh(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?sh(t,7):$y(t):"noop"!=T[0]&&t.j&&t.j.wa(T),t.A=0)}zf(4)}catch(T){}}function My(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(oy(n)||"string"==typeof n)Kd(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(oy(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function uw(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(oy(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var u=0;u<r;u++)e.call(void 0,i[u],t&&t[u],n)}}function nh(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof nh)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function gm(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];Du(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)Du(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function Du(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Vt=Yf.prototype).setTimeout=function(n){this.P=n},Vt.gb=function(n){n=n.target;const e=this.L;e&&3==rl(n)?e.l():this.Ia(n)},Vt.Ia=function(n){try{if(n==this.g)e:{const L=rl(this.g);var e=this.g.Da();const Q=this.g.ba();if(!(3>L)&&(3!=L||py||this.g&&(this.h.h||this.g.ga()||Zy(this.g)))){this.I||4!=L||7==e||zf(8==e||0>=Q?3:2),pm(this);var t=this.g.ba();this.N=t;t:if(wT(this)){var i=Zy(this.g);n="";var r=i.length,u=4==rl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Iu(this),Qf(this);var h="";break t}this.h.i=new En.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:u&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function yT(n,e,t,i,r,u,h){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+u+" "+h})}(this.j,this.u,this.A,this.m,this.X,L,t),this.i){if(this.$&&!this.J){t:{if(this.g){var g,v=this.g;if((g=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kg(g)){var T=g;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,Ds(12),Iu(this),Qf(this);break e}Jd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ay(this,t)}this.U?(aw(this,L,h),py&&this.i&&3==L&&(rw(this.V,this.W,"tick",this.fb),this.W.start())):(Jd(this.j,this.m,h,null),Ay(this,h)),4==L&&Iu(this),this.i&&!this.I&&(4==L?Wo(this.l,this):(this.i=!1,th(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Ds(12)):(this.o=0,Ds(13)),Iu(this),Qf(this)}}}catch(L){}},Vt.fb=function(){if(this.g){var n=rl(this.g),e=this.g.ga();this.C<e.length&&(pm(this),aw(this,n,e),this.i&&4!=n&&th(this))}},Vt.cancel=function(){this.I=!0,Iu(this)},Vt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function qf(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(zf(3),Ds(17)),Iu(this),this.o=2,Qf(this)):lw(this,this.Y-n)},(Vt=nh.prototype).R=function(){gm(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Vt.T=function(){return gm(this),this.g.concat()},Vt.get=function(n,e){return Du(this.h,n)?this.h[n]:e},Vt.set=function(n,e){Du(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Vt.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],u=this.get(r);n.call(e,u,r,this)}};var cw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nl(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Nl){this.g=void 0!==e?e:n.g,mm(this,n.j),this.s=n.s,Oy(this,n.i),Jf(this,n.m),this.l=n.l,e=n.h;var t=new ym;t.i=e.i,e.g&&(t.g=new nh(e.g),t.h=e.h),dw(this,t),this.o=n.o}else n&&(t=String(n).match(cw))?(this.g=!!e,mm(this,t[1]||"",!0),this.s=Xf(t[2]||""),Oy(this,t[3]||"",!0),Jf(this,t[4]),this.l=Xf(t[5]||"",!0),dw(this,t[6]||"",!0),this.o=Xf(t[7]||"")):(this.g=!!e,this.h=new ym(null,this.g))}function Fl(n){return new Nl(n)}function mm(n,e,t){n.j=t?Xf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Oy(n,e,t){n.i=t?Xf(e,!0):e}function Jf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function dw(n,e,t){e instanceof ym?(n.h=e,function gw(n,e){e&&!n.j&&(il(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(ET(this,i),Fy(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Su(e,fw)),n.h=new ym(e,n.g))}function $i(n,e,t){n.h.set(e,t)}function _m(n){return $i(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Xf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Su(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Py),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Py(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Nl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Su(e,hw,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Su(e,hw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Su(t,"/"==t.charAt(0)?Ny:Ry,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Su(t,tS)),n.join("")};var hw=/[#\/\?@]/g,Ry=/[#\?:]/g,Ny=/[#\?]/g,fw=/[#\?@]/g,tS=/#/g;function ym(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function il(n){n.g||(n.g=new nh,n.h=0,n.i&&function nl(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var u=n[t].substring(0,i);r=n[t].substring(i+1)}else u=n[t];e(u,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ET(n,e){il(n),e=Nc(n,e),Du(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Du((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&gm(n)))}function pw(n,e){return il(n),e=Nc(n,e),Du(n.g.h,e)}function Fy(n,e,t){ET(n,e),0<t.length&&(n.i=null,n.g.set(Nc(n,e),cy(t)),n.h+=t.length)}function Nc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Ly(n){this.l=n||Ll,n=En.PerformanceNavigationTiming?0<(n=En.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(En.g&&En.g.Ea&&En.g.Ea()&&En.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Vt=ym.prototype).add=function(n,e){il(this),this.i=null,n=Nc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Vt.forEach=function(n,e){il(this),this.g.forEach(function(t,i){Kd(t,function(r){n.call(e,r,i,this)},this)},this)},Vt.T=function(){il(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],u=0;u<r.length;u++)t.push(e[i]);return t},Vt.R=function(n){il(this);var e=[];if("string"==typeof n)pw(this,n)&&(e=uy(e,this.g.get(Nc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=uy(e,n[t])}return e},Vt.set=function(n,e){return il(this),this.i=null,pw(this,n=Nc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Vt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Vt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var u=0;u<i.length;u++){var h=r;""!==i[u]&&(h+="="+encodeURIComponent(String(i[u]))),n.push(h)}}return this.i=n.join("&")};var Ll=10;function ep(n){return!!n.h||!!n.g&&n.g.size>=n.j}function _w(n){return n.h?1:n.g?n.g.size:0}function Vy(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function yw(n,e){n.g?n.g.add(e):n.h=e}function vm(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Uy(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return cy(n.i)}function tp(){}function np(){this.g=new tp}function TT(n,e,t){const i=t||"";try{My(n,function(r,u){let h=r;Eu(r)&&(h=tw(r)),e.push(i+u+"="+encodeURIComponent(h))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function ip(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(u){}}function ih(n){this.l=n.$b||null,this.j=n.ib||!1}function rp(n,e){ts.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Hy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ly.prototype.cancel=function(){if(this.i=Uy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},tp.prototype.stringify=function(n){return En.JSON.stringify(n,void 0)},tp.prototype.parse=function(n){return En.JSON.parse(n,void 0)},Ir(ih,Cy),ih.prototype.g=function(){return new rp(this.l,this.j)},ih.prototype.i=function(n){return function(){return n}}({}),Ir(rp,ts);var Hy=0;function bm(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function sp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,op(n)}function op(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Vt=rp.prototype).open=function(n,e){if(this.readyState!=Hy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,op(this)},Vt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||En).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Vt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sp(this)),this.readyState=Hy},Vt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,op(this)),this.g&&(this.readyState=3,op(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==En.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bm(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Vt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?sp(this):op(this),3==this.readyState&&bm(this)}},Vt.Ua=function(n){this.g&&(this.response=this.responseText=n,sp(this))},Vt.Ta=function(n){this.g&&(this.response=n,sp(this))},Vt.ha=function(){this.g&&sp(this)},Vt.setRequestHeader=function(n,e){this.v.append(n,e)},Vt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Vt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(rp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var vw=En.JSON.parse;function Ri(n){ts.call(this),this.headers=new nh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=jy,this.K=this.L=!1}Ir(Ri,ts);var jy="",IT=/^https?$/i,DT=["POST","PUT"];function ST(n){return"content-type"==n.toLowerCase()}function bw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ww(n),wo(n)}function ww(n){n.D||(n.D=!0,Hr(n,"complete"),Hr(n,"error"))}function Cw(n){if(n.h&&void 0!==kl&&(!n.C[1]||4!=rl(n)||2!=n.ba()))if(n.v&&4==rl(n))om(n.Fa,0,n);else if(Hr(n,"readystatechange"),4==rl(n)){n.h=!1;try{const g=n.ba();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===g){var r=String(n.H).match(cw)[1]||null;if(!r&&En.self&&En.self.location){var u=En.self.location.protocol;r=u.substr(0,u.length-1)}i=!IT.test(r?r.toLowerCase():"")}t=i}if(t)Hr(n,"complete"),Hr(n,"success");else{n.m=6;try{var h=2<rl(n)?n.g.statusText:""}catch(v){h=""}n.j=h+" ["+n.ba()+"]",ww(n)}}finally{wo(n)}}}function wo(n,e){if(n.g){wm(n);const t=n.g,i=n.C[0]?Bf:null;n.g=null,n.C=null,e||Hr(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function wm(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(En.clearTimeout(n.A),n.A=null)}function rl(n){return n.g?n.g.readyState:0}function Zy(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case jy:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Cm(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function Ew(n){let e="";return Qg(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):$i(n,e,t))}function ap(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Tw(n){this.za=0,this.l=[],this.h=new um,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ap("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ap("baseRetryDelayMs",5e3,n),this.$a=ap("retryDelaySeedMs",1e4,n),this.Ya=ap("forwardChannelMaxRetries",2,n),this.ra=ap("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Ly(n&&n.concurrentRequestLimit),this.Ca=new np,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function $y(n){if(Gy(n),3==n.G){var e=n.V++,t=Fl(n.F);$i(t,"SID",n.J),$i(t,"RID",e),$i(t,"TYPE","terminate"),Tm(n,t),(e=new Yf(n,n.h,e,void 0)).K=2,e.v=_m(Fl(t)),t=!1,En.navigator&&En.navigator.sendBeacon&&(t=En.navigator.sendBeacon(e.v.toString(),"")),!t&&En.Image&&((new Image).src=e.v,t=!0),t||(e.g=Qy(e.l,null),e.g.ea(e.v)),e.F=Date.now(),th(e)}Ky(n)}function Em(n){n.g&&(Dm(n),n.g.cancel(),n.g=null)}function Gy(n){Em(n),n.u&&(En.clearTimeout(n.u),n.u=null),Wy(n),n.i.cancel(),n.m&&("number"==typeof n.m&&En.clearTimeout(n.m),n.m=null)}function Iw(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&lp(n)}function lp(n){ep(n.i)||n.m||(n.m=!0,nw(n.Ha,n),n.C=0)}function Dw(n,e){var t;t=e?e.m:n.V++;const i=Fl(n.F);$i(i,"SID",n.J),$i(i,"RID",t),$i(i,"AID",n.U),Tm(n,i),n.o&&n.s&&Cm(i,n.o,n.s),t=new Yf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=AT(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),yw(n.i,t),ow(t,i,e)}function Tm(n,e){n.j&&My({},function(t,i){$i(e,i,t)})}function AT(n,e,t){t=Math.min(n.l.length,t);var i=n.j?es(n.j.Oa,n.j,n):null;e:{var r=n.l;let u=-1;for(;;){const h=["count="+t];-1==u?0<t?(u=r[0].h,h.push("ofs="+u)):u=0:h.push("ofs="+u);let g=!0;for(let v=0;v<t;v++){let T=r[v].h;const L=r[v].g;if(T-=u,0>T)u=Math.max(0,r[v].h-100),g=!1;else try{TT(L,h,"req"+T+"_")}catch(Q){i&&i(L)}}if(g){i=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function Im(n){n.g||n.u||(n.Y=1,nw(n.Ga,n),n.A=0)}function qy(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Rc(es(n.Ga,n),MT(n,n.A)),n.A++,0))}function Dm(n){null!=n.B&&(En.clearTimeout(n.B),n.B=null)}function zy(n){n.g=new Yf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Fl(n.oa);$i(e,"RID","rpc"),$i(e,"SID",n.J),$i(e,"CI",n.N?"0":"1"),$i(e,"AID",n.U),Tm(n,e),$i(e,"TYPE","xmlhttp"),n.o&&n.s&&Cm(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=_m(Fl(e)),t.s=null,t.U=!0,Sy(t,n)}function Wy(n){null!=n.v&&(En.clearTimeout(n.v),n.v=null)}function Wo(n,e){var t=null;if(n.g==e){Wy(n),Dm(n),n.g=null;var i=2}else{if(!Vy(n.i,e))return;t=e.D,vm(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Hr(i=Tu(),new cm(i,t,e,r)),lp(n)}else Im(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function xT(n,e){return!(_w(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Rc(es(n.Ha,n,e),MT(n,n.C)),n.C++,0)))}(n,e)||2==i&&qy(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:sh(n,5);break;case 4:sh(n,10);break;case 3:sh(n,6);break;default:sh(n,2)}}function MT(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function sh(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=es(n.jb,n);t||(t=new Nl("//www.google.com/images/cleardot.gif"),En.location&&"http"==En.location.protocol||mm(t,"https"),_m(t)),function By(n,e){const t=new um;if(En.Image){const i=new Image;i.onload=xc(ip,t,i,"TestLoadImage: loaded",!0,e),i.onerror=xc(ip,t,i,"TestLoadImage: error",!1,e),i.onabort=xc(ip,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=xc(ip,t,i,"TestLoadImage: timeout",!1,e),En.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Ds(2);n.G=0,n.j&&n.j.va(e),Ky(n),Gy(n)}function Ky(n){n.G=0,n.I=-1,n.j&&((0!=Uy(n.i).length||0!=n.l.length)&&(n.i.i.length=0,cy(n.l),n.l.length=0),n.j.ua())}function Yy(n,e,t){let i=function ky(n){return n instanceof Nl?Fl(n):new Nl(n,void 0)}(t);if(""!=i.i)e&&Oy(i,e+"."+i.i),Jf(i,i.m);else{const r=En.location;i=function CT(n,e,t,i){var r=new Nl(null,void 0);return n&&mm(r,n),e&&Oy(r,e),t&&Jf(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&Qg(n.aa,function(r,u){$i(i,u,r)}),t=n.sa,(e=n.D)&&t&&$i(i,e,t),$i(i,"VER",n.ma),Tm(n,i),i}function Qy(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ri(t&&n.Ba&&!n.qa?new ih({ib:!0}):n.qa)).L=n.H,e}function Sw(){}function Jy(){if(Yd&&!(10<=Number(cT)))throw Error("Environmental error: no available transport.")}function no(n,e){ts.call(this),this.g=new Tw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Kg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new xu(this)}function Sm(n){dm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function xw(){Ty.call(this),this.status=1}function xu(n){this.g=n}(Vt=Ri.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hm.g(),this.C=function Ey(n){return n.h||(n.h=n.i())}(this.u?this.u:hm),this.g.onreadystatechange=es(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void bw(this,u)}n=t||"";const r=new nh(this.headers);i&&My(i,function(u,h){r.set(h,u)}),i=function aT(n){e:{var e=ST;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=En.FormData&&n instanceof En.FormData,!(0<=Wg(DT,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(u,h){this.g.setRequestHeader(h,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wm(this),0<this.B&&((this.K=function rh(n){return Yd&&function tm(){return function Gb(n){var e=Wb;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=dy(String(Jg)).split("."),t=dy("9").split("."),i=Math.max(e.length,t.length);for(let h=0;0==n&&h<i;h++){var r=e[h]||"",u=t[h]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==r[0].length&&0==u[0].length)break;n=Yg(0==r[1].length?0:parseInt(r[1],10),0==u[1].length?0:parseInt(u[1],10))||Yg(0==r[2].length,0==u[2].length)||Yg(r[2],u[2]),r=r[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=es(this.pa,this)):this.A=om(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){bw(this,u)}},Vt.pa=function(){void 0!==kl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hr(this,"timeout"),this.abort(8))},Vt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Hr(this,"complete"),Hr(this,"abort"),wo(this))},Vt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wo(this,!0)),Ri.Z.M.call(this)},Vt.Fa=function(){this.s||(this.F||this.v||this.l?Cw(this):this.cb())},Vt.cb=function(){Cw(this)},Vt.ba=function(){try{return 2<rl(this)?this.g.status:-1}catch(n){return-1}},Vt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Vt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),vw(e)}},Vt.Da=function(){return this.m},Vt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Vt=Tw.prototype).ma=8,Vt.G=1,Vt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Vt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Yf(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=Zb(u),qo(u,this.P)):u=this.P),null===this.o&&(r.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=AT(this,r,e),$i(t=Fl(this.F),"RID",n),$i(t,"CVER",22),this.D&&$i(t,"X-HTTP-Session-Id",this.D),Tm(this,t),this.o&&u&&Cm(t,this.o,u),yw(this.i,r),this.Ra&&$i(t,"TYPE","init"),this.ja?($i(t,"$req",e),$i(t,"SID","null"),r.$=!0,ow(r,t,null)):ow(r,t,e),this.G=2}}else 3==this.G&&(n?Dw(this,n):0==this.l.length||ep(this.i)||Dw(this))},Vt.Ga=function(){if(this.u=null,zy(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Rc(es(this.bb,this),n)}},Vt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ds(10),Em(this),zy(this))},Vt.ab=function(){null!=this.v&&(this.v=null,Em(this),qy(this),Ds(19))},Vt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ds(2)):(this.h.info("Failed to ping google.com"),Ds(1))},(Vt=Sw.prototype).xa=function(){},Vt.wa=function(){},Vt.va=function(){},Vt.ua=function(){},Vt.Oa=function(){},Jy.prototype.g=function(n,e){return new no(n,e)},Ir(no,ts),no.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),nw(es(n.hb,n,e))),Ds(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Yy(n,null,n.W),lp(n)},no.prototype.close=function(){$y(this.g)},no.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Iw(this.g,e)}else this.v?((e={}).__data__=tw(n),Iw(this.g,e)):Iw(this.g,n)},no.prototype.M=function(){this.g.j=null,delete this.j,$y(this.g),delete this.g,no.Z.M.call(this)},Ir(Sm,dm),Ir(xw,Ty),Ir(xu,Sw),xu.prototype.xa=function(){Hr(this.g,"a")},xu.prototype.wa=function(n){Hr(this.g,new Sm(n))},xu.prototype.va=function(n){Hr(this.g,new xw(n))},xu.prototype.ua=function(){Hr(this.g,"b")},Jy.prototype.createWebChannel=Jy.prototype.g,no.prototype.send=no.prototype.u,no.prototype.open=no.prototype.m,no.prototype.close=no.prototype.close,Wf.NO_ERROR=0,Wf.TIMEOUT=8,Wf.HTTP_ERROR=6,Kf.COMPLETE="complete",vT.EventType=eh,eh.OPEN="a",eh.CLOSE="b",eh.ERROR="c",eh.MESSAGE="d",ts.prototype.listen=ts.prototype.N,Ri.prototype.listenOnce=Ri.prototype.O,Ri.prototype.getLastError=Ri.prototype.La,Ri.prototype.getLastErrorCode=Ri.prototype.Da,Ri.prototype.getStatus=Ri.prototype.ba,Ri.prototype.getResponseJson=Ri.prototype.Qa,Ri.prototype.getResponseText=Ri.prototype.ga,Ri.prototype.send=Ri.prototype.ea;var OT=el.createWebChannelTransport=function(){return new Jy},kT=el.getStatEventTarget=function(){return Tu()},Xy=el.ErrorCode=Wf,PT=el.EventType=Kf,RT=el.Event=Rl,Aw=el.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},xm=el.FetchXmlHttpFactory=ih,Vl=el.WebChannel=vT,NT=el.XhrIo=Ri;const oh="@firebase/firestore";class fs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fs.UNAUTHENTICATED=new fs(null),fs.GOOGLE_CREDENTIALS=new fs("google-credentials-uid"),fs.FIRST_PARTY=new fs("first-party-uid"),fs.MOCK_USER=new fs("mock-user");let ah="9.8.0";const sl=new _a.Yd("@firebase/firestore");function Ko(){return sl.logLevel}function ht(n,...e){if(sl.logLevel<=_a.in.DEBUG){const t=e.map(io);sl.debug(`Firestore (${ah}): ${n}`,...t)}}function Mi(n,...e){if(sl.logLevel<=_a.in.ERROR){const t=e.map(io);sl.error(`Firestore (${ah}): ${n}`,...t)}}function Au(n,...e){if(sl.logLevel<=_a.in.WARN){const t=e.map(io);sl.warn(`Firestore (${ah}): ${n}`,...t)}}function io(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function jt(n="Unexpected state"){const e=`FIRESTORE (${ah}) INTERNAL ASSERTION FAILED: `+n;throw Mi(e),new Error(e)}function hn(n,e){n||jt()}function Dt(n,e){return n}const ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends fn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Fc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fs.UNAUTHENTICATED))}shutdown(){}}class ch{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Mw{constructor(e){this.t=e,this.currentUser=fs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const u=T=>this.i!==r?(r=this.i,t(T)):Promise.resolve();let h=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Qi,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const T=h;e.enqueueRetryable((0,tt.Z)(function*(){yield T.promise,yield u(i.currentUser)}))},v=T=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(T=>v(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?v(T):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Qi)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(hn("string"==typeof i.accessToken),new Fc(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return hn(null===e||"string"==typeof e),new fs(e)}}class Ow{constructor(e,t,i){this.type="FirstParty",this.user=fs.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class kw{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new Ow(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(fs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ev{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pw{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=u=>{null!=u.error&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.p;return this.p=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const r=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>r(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?r(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(hn("string"==typeof t.token),this.p=t.token,new ev(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ro{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.I(i),this.T=i=>t.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Rw(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}ro.A=-1;class tv{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=Rw(40);for(let u=0;u<r.length;++u)i.length<20&&r[u]<t&&(i+=e.charAt(r[u]%e.length))}return i}}function Nn(n,e){return n<e?-1:n>e?1:0}function Lc(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function Nw(n){return n+"\0"}class rr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new lt(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new lt(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new lt(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rr.fromMillis(Date.now())}static fromDate(e){return rr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new rr(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nn(this.nanoseconds,e.nanoseconds):Nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class pn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pn(e)}static min(){return new pn(new rr(0,0))}static max(){return new pn(new rr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Fw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class cp{constructor(e,t,i){void 0===t?t=0:t>e.length&&jt(),void 0===i?i=e.length-t:i>e.length-t&&jt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===cp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cp?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const u=e.get(r),h=t.get(r);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class zn extends cp{construct(e,t,i){return new zn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new lt(ze.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new zn(t)}static emptyPath(){return new zn([])}}const LT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jr extends cp{construct(e,t,i){return new jr(e,t,i)}static isValidIdentifier(e){return LT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jr(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const u=()=>{if(0===i.length)throw new lt(ze.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;r<e.length;){const g=e[r];if("\\"===g){if(r+1===e.length)throw new lt(ze.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[r+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new lt(ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=v,r+=2}else"`"===g?(h=!h,r++):"."!==g||h?(i+=g,r++):(u(),r++)}if(u(),h)throw new lt(ze.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jr(t)}static emptyPath(){return new jr([])}}class dp{constructor(e){this.fields=e,e.sort(jr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Lc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class fr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new fr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let u=0;u<i.length;++u)r+=String.fromCharCode(i[u]);return r}(e);return new fr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fr.EMPTY_BYTE_STRING=new fr("");const iv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mu(n){if(hn(!!n),"string"==typeof n){let e=0;const t=iv.exec(n);if(hn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:pr(n.seconds),nanos:pr(n.nanos)}}function pr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function dh(n){return"string"==typeof n?fr.fromBase64String(n):fr.fromUint8Array(n)}function Lw(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Vw(n){const e=n.mapValue.fields.__previous_value__;return Lw(e)?Vw(e):e}function hh(n){const e=Mu(n.mapValue.fields.__local_write_time__.timestampValue);return new rr(e.seconds,e.nanos)}class nS{constructor(e,t,i,r,u,h,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.useFetchStreams=v}}class Ul{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ul("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ul&&e.projectId===this.projectId&&e.database===this.database}}function ol(n){return null==n}function hp(n){return 0===n&&1/n==-1/0}function rv(n){return"number"==typeof n&&Number.isInteger(n)&&!hp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class At{constructor(e){this.path=e}static fromPath(e){return new At(zn.fromString(e))}static fromName(e){return new At(zn.fromString(e).popFirst(5))}static empty(){return new At(zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return zn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new At(new zn(e.slice()))}}const Bl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Uc={nullValue:"NULL_VALUE"};function Bc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Lw(n)?4:Bw(n)?9007199254740991:10:jt()}function ya(n,e){if(n===e)return!0;const t=Bc(n);if(t!==Bc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hh(n).isEqual(hh(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const u=Mu(i.timestampValue),h=Mu(r.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,dh(n.bytesValue).isEqual(dh(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return pr(i.geoPointValue.latitude)===pr(r.geoPointValue.latitude)&&pr(i.geoPointValue.longitude)===pr(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return pr(i.integerValue)===pr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const u=pr(i.doubleValue),h=pr(r.doubleValue);return u===h?hp(u)===hp(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Lc(n.arrayValue.values||[],e.arrayValue.values||[],ya);case 10:return function(i,r){const u=i.mapValue.fields||{},h=r.mapValue.fields||{};if(Fw(u)!==Fw(h))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===h[g]||!ya(u[g],h[g])))return!1;return!0}(n,e);default:return jt()}var r}function fp(n,e){return void 0!==(n.values||[]).find(t=>ya(t,e))}function Ou(n,e){if(n===e)return 0;const t=Bc(n),i=Bc(e);if(t!==i)return Nn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Nn(n.booleanValue,e.booleanValue);case 2:return function(r,u){const h=pr(r.integerValue||r.doubleValue),g=pr(u.integerValue||u.doubleValue);return h<g?-1:h>g?1:h===g?0:isNaN(h)?isNaN(g)?0:-1:1}(n,e);case 3:return Uw(n.timestampValue,e.timestampValue);case 4:return Uw(hh(n),hh(e));case 5:return Nn(n.stringValue,e.stringValue);case 6:return function(r,u){const h=dh(r),g=dh(u);return h.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(r,u){const h=r.split("/"),g=u.split("/");for(let v=0;v<h.length&&v<g.length;v++){const T=Nn(h[v],g[v]);if(0!==T)return T}return Nn(h.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,u){const h=Nn(pr(r.latitude),pr(u.latitude));return 0!==h?h:Nn(pr(r.longitude),pr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,u){const h=r.values||[],g=u.values||[];for(let v=0;v<h.length&&v<g.length;++v){const T=Ou(h[v],g[v]);if(T)return T}return Nn(h.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,u){if(r===Bl.mapValue&&u===Bl.mapValue)return 0;if(r===Bl.mapValue)return 1;if(u===Bl.mapValue)return-1;const h=r.fields||{},g=Object.keys(h),v=u.fields||{},T=Object.keys(v);g.sort(),T.sort();for(let L=0;L<g.length&&L<T.length;++L){const Q=Nn(g[L],T[L]);if(0!==Q)return Q;const fe=Ou(h[g[L]],v[T[L]]);if(0!==fe)return fe}return Nn(g.length,T.length)}(n.mapValue,e.mapValue);default:throw jt()}}function Uw(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Nn(n,e);const t=Mu(n),i=Mu(e),r=Nn(t.seconds,i.seconds);return 0!==r?r:Nn(t.nanos,i.nanos)}function fh(n){return sv(n)}function sv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Mu(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?dh(n.bytesValue).toBase64():"referenceValue"in n?At.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",u=!0;for(const h of i.values||[])u?u=!1:r+=",",r+=sv(h);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const g of r)h?h=!1:u+=",",u+=`${g}:${sv(i.fields[g])}`;return u+"}"}(n.mapValue):jt();var e}function ku(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ov(n){return!!n&&"integerValue"in n}function ph(n){return!!n&&"arrayValue"in n}function av(n){return!!n&&"nullValue"in n}function Am(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lv(n){return!!n&&"mapValue"in n}function Hc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Vc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Hc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Bw(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function iS(n){return"nullValue"in n?Uc:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ku(Ul.empty(),At.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:jt()}function pp(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ku(Ul.empty(),At.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Bl:jt()}function uv(n,e){const t=Ou(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Mm(n,e){const t=Ou(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ns{constructor(e){this.value=e}static empty(){return new ns({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!lv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hc(t)}setAll(e){let t=jr.emptyPath(),i={},r=[];e.forEach((h,g)=>{if(!t.isImmediateParentOf(g)){const v=this.getFieldsMap(t);this.applyChanges(v,i,r),i={},r=[],t=g.popLast()}h?i[g.lastSegment()]=Hc(h):r.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,i,r)}delete(e){const t=this.field(e.popLast());lv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ya(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];lv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Vc(t,(r,u)=>e[r]=u);for(const r of i)delete e[r]}clone(){return new ns(Hc(this.value))}}function Hw(n){const e=[];return Vc(n.fields,(t,i)=>{const r=new jr([t]);if(lv(i)){const u=Hw(i.mapValue).fields;if(0===u.length)e.push(r);else for(const h of u)e.push(r.child(h))}else e.push(r)}),new dp(e)}class Ti{constructor(e,t,i,r,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Ti(e,0,pn.min(),pn.min(),ns.empty(),0)}static newFoundDocument(e,t,i){return new Ti(e,1,t,pn.min(),i,0)}static newNoDocument(e,t){return new Ti(e,2,t,pn.min(),ns.empty(),0)}static newUnknownDocument(e,t){return new Ti(e,3,t,pn.min(),ns.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ti&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ti(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jc{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function gp(n){return n.fields.find(e=>2===e.kind)}function gh(n){return n.fields.filter(e=>2!==e.kind)}jc.UNKNOWN_ID=-1;class Om{constructor(e,t){this.fieldPath=e,this.kind=t}}class Pu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Pu(0,Yo.min())}}function mp(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=pn.fromTimestamp(1e9===i?new rr(t+1,0):new rr(t,i));return new Yo(r,At.empty(),e)}function cv(n){return new Yo(n.readTime,n.key,-1)}class Yo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Yo(pn.min(),At.empty(),-1)}static max(){return new Yo(pn.max(),At.empty(),-1)}}function km(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=At.comparator(n.documentKey,e.documentKey),0!==t?t:Nn(n.largestBatchId,e.largestBatchId))}class sr{constructor(e,t){this.comparator=e,this.root=t||Zr.EMPTY}insert(e,t){return new sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(e){return new sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _p(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _p(this.root,e,this.comparator,!1)}getReverseIterator(){return new _p(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _p(this.root,e,this.comparator,!0)}}class _p{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,t&&r&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zr{constructor(e,t,i,r,u){this.key=e,this.value=t,this.color=null!=i?i:Zr.RED,this.left=null!=r?r:Zr.EMPTY,this.right=null!=u?u:Zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,u){return new Zr(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const u=i(e,r.key);return r=u<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===u?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Zr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Zr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw jt();const e=this.left.check();if(e!==this.right.check())throw jt();return e+(this.isRed()?0:1)}}Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1,Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw jt()}get value(){throw jt()}get color(){throw jt()}get left(){throw jt()}get right(){throw jt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Zr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Di{constructor(e){this.comparator=e,this.data=new sr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jw(this.data.getIterator())}getIteratorFrom(e){return new jw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Di)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,u=i.getNext().key;if(0!==this.comparator(r,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Di(this.comparator);return t.data=e,t}}class jw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Zc(n){return n.hasNext()?n.getNext():void 0}class Zw{constructor(e,t=null,i=[],r=[],u=null,h=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=u,this.startAt=h,this.endAt=g,this.P=null}}function Pm(n,e=null,t=[],i=[],r=null,u=null,h=null){return new Zw(n,e,t,i,r,u,h)}function Ru(n){const e=Dt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+fh(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),ol(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>fh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>fh(i)).join(",")),e.P=t}return e.P}function mh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!HT(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!ya(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!fv(n.startAt,e.startAt)&&fv(n.endAt,e.endAt)}function yp(n){return At.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function vp(n,e){return n.filters.filter(t=>t instanceof is&&t.field.isEqual(e))}function Rm(n,e,t){let i=Uc,r=!0;for(const u of vp(n,e)){let h=Uc,g=!0;switch(u.op){case"<":case"<=":h=iS(u.value);break;case"==":case"in":case">=":h=u.value;break;case">":h=u.value,g=!1;break;case"!=":case"not-in":h=Uc}uv({value:i,inclusive:r},{value:h,inclusive:g})<0&&(i=h,r=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const h=t.position[u];uv({value:i,inclusive:r},{value:h,inclusive:t.inclusive})<0&&(i=h,r=t.inclusive);break}return{value:i,inclusive:r}}function dv(n,e,t){let i=Bl,r=!0;for(const u of vp(n,e)){let h=Bl,g=!0;switch(u.op){case">=":case">":h=pp(u.value),g=!1;break;case"==":case"in":case"<=":h=u.value;break;case"<":h=u.value,g=!1;break;case"!=":case"not-in":h=Bl}Mm({value:i,inclusive:r},{value:h,inclusive:g})>0&&(i=h,r=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const h=t.position[u];Mm({value:i,inclusive:r},{value:h,inclusive:t.inclusive})>0&&(i=h,r=t.inclusive);break}return{value:i,inclusive:r}}class is extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,i):new $w(e,t,i):"array-contains"===t?new zw(e,i):"in"===t?new Ww(e,i):"not-in"===t?new rS(e,i):"array-contains-any"===t?new BT(e,i):new is(e,t,i)}static V(e,t,i){return"in"===t?new Gw(e,i):new qw(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Ou(t,this.value)):null!==t&&Bc(this.value)===Bc(t)&&this.v(Ou(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return jt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class $w extends is{constructor(e,t,i){super(e,t,i),this.key=At.fromName(i.referenceValue)}matches(e){const t=At.comparator(e.key,this.key);return this.v(t)}}class Gw extends is{constructor(e,t){super(e,"in",t),this.keys=hv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qw extends is{constructor(e,t){super(e,"not-in",t),this.keys=hv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hv(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>At.fromName(i.referenceValue))}class zw extends is{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ph(t)&&fp(t.arrayValue,this.value)}}class Ww extends is{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&fp(this.value.arrayValue,t)}}class rS extends is{constructor(e,t){super(e,"not-in",t)}matches(e){if(fp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!fp(this.value.arrayValue,t)}}class BT extends is{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ph(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>fp(this.value.arrayValue,i))}}class Nu{constructor(e,t){this.position=e,this.inclusive=t}}class $c{constructor(e,t="asc"){this.field=e,this.dir=t}}function HT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Dr(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const u=e[r],h=n.position[r];if(i=u.field.isKeyField()?At.comparator(At.fromName(h.referenceValue),t.key):Ou(h,t.data.field(u.field)),"desc"===u.dir&&(i*=-1),0!==i)break}return i}function fv(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ya(n.position[t],e.position[t]))return!1;return!0}class Hl{constructor(e,t=null,i=[],r=[],u=null,h="F",g=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=u,this.limitType=h,this.startAt=g,this.endAt=v,this.D=null,this.C=null}}function Kw(n,e,t,i,r,u,h,g){return new Hl(n,e,t,i,r,u,h,g)}function Gc(n){return new Hl(n)}function Nm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Fm(n){for(const e of n.filters)if(e.S())return e.field;return null}function Fu(n){return null!==n.collectionGroup}function _h(n){const e=Dt(n);if(null===e.D){e.D=[];const t=Fm(e),i=Nm(e);if(null!==t&&null===i)t.isKeyField()||e.D.push(new $c(t)),e.D.push(new $c(jr.keyField(),"asc"));else{let r=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(r=!0);if(!r){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new $c(jr.keyField(),u))}}}return e.D}function Qo(n){const e=Dt(n);if(!e.C)if("F"===e.limitType)e.C=Pm(e.path,e.collectionGroup,_h(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of _h(e))t.push(new $c(u.field,"desc"===u.dir?"asc":"desc"));const i=e.endAt?new Nu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Nu(e.startAt.position,e.startAt.inclusive):null;e.C=Pm(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.C}function pv(n,e,t){return new Hl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bp(n,e){return mh(Qo(n),Qo(e))&&n.limitType===e.limitType}function gv(n){return`${Ru(Qo(n))}|lt:${n.limitType}`}function Yw(n){return`Query(target=${function UT(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${fh(i.value)}`;var i}).join(", ")}]`),ol(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>fh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>fh(t)).join(",")),`Target(${e})`}(Qo(n))}; limitType=${n.limitType})`}function wp(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):At.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,u,h){const g=Dr(r,u,h);return r.inclusive?g<=0:g<0}(t.startAt,_h(t),i)||t.endAt&&!function(r,u,h){const g=Dr(r,u,h);return r.inclusive?g>=0:g>0}(t.endAt,_h(t),i)));var t,i}function Lm(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Jo(n){return(e,t)=>{let i=!1;for(const r of _h(n)){const u=ZT(r,e,t);if(0!==u)return u;i=i||r.field.isKeyField()}return 0}}function ZT(n,e,t){const i=n.field.isKeyField()?At.comparator(e.key,t.key):function(r,u,h){const g=u.data.field(r),v=h.data.field(r);return null!==g&&null!==v?Ou(g,v):jt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return jt()}}function mv(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hp(e)?"-0":e}}function va(n){return{integerValue:""+n}}function Xo(n,e){return rv(e)?va(e):mv(n,e)}class so{constructor(){this._=void 0}}function Qw(n,e,t){return n instanceof yh?function(i,r){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(u.fields.__previous_value__=r),{mapValue:u}}(t,e):n instanceof qc?eC(n,e):n instanceof jl?vh(n,e):function(i,r){const u=Xw(i,r),h=_v(u)+_v(i.k);return ov(u)&&ov(i.k)?va(h):mv(i.M,h)}(n,e)}function Jw(n,e,t){return n instanceof qc?eC(n,e):n instanceof jl?vh(n,e):t}function Xw(n,e){return n instanceof bh?ov(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class yh extends so{}class qc extends so{constructor(e){super(),this.elements=e}}function eC(n,e){const t=tC(e);for(const i of n.elements)t.some(r=>ya(r,i))||t.push(i);return{arrayValue:{values:t}}}class jl extends so{constructor(e){super(),this.elements=e}}function vh(n,e){let t=tC(e);for(const i of n.elements)t=t.filter(r=>!ya(r,i));return{arrayValue:{values:t}}}class bh extends so{constructor(e,t){super(),this.M=e,this.k=t}}function _v(n){return pr(n.integerValue||n.doubleValue)}function tC(n){return ph(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class wh{constructor(e,t){this.field=e,this.transform=t}}class Vm{constructor(e,t){this.version=e,this.transformResults=t}}class Sr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ep{}function yv(n,e,t){n instanceof Eh?function(i,r,u){const h=i.value.clone(),g=Ev(i.fieldTransforms,r,u.transformResults);h.setAll(g),r.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Lu?function(i,r,u){if(!Cp(i.precondition,r))return void r.convertToUnknownDocument(u.version);const h=Ev(i.fieldTransforms,r,u.transformResults),g=r.data;g.setAll(Cv(i)),g.setAll(h),r.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ch(n,e,t){var r;n instanceof Eh?function(i,r,u){if(!Cp(i.precondition,r))return;const h=i.value.clone(),g=Tv(i.fieldTransforms,u,r);h.setAll(g),r.convertToFoundDocument(wv(r),h).setHasLocalMutations()}(n,e,t):n instanceof Lu?function(i,r,u){if(!Cp(i.precondition,r))return;const h=Tv(i.fieldTransforms,u,r),g=r.data;g.setAll(Cv(i)),g.setAll(h),r.convertToFoundDocument(wv(r),g).setHasLocalMutations()}(n,e,t):Cp(n.precondition,r=e)&&r.convertToNoDocument(pn.min())}function vv(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),u=Xw(i.transform,r||null);null!=u&&(null==t&&(t=ns.empty()),t.set(i.field,u))}return t||null}function bv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Lc(t,i,(r,u)=>function nC(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof qc&&i instanceof qc||t instanceof jl&&i instanceof jl?Lc(t.elements,i.elements,ya):t instanceof bh&&i instanceof bh?ya(t.k,i.k):t instanceof yh&&i instanceof yh);var t,i}(r,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function wv(n){return n.isFoundDocument()?n.version:pn.min()}class Eh extends Ep{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Lu extends Ep{constructor(e,t,i,r,u=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=u,this.type=1}}function Cv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Ev(n,e,t){const i=new Map;hn(n.length===t.length);for(let r=0;r<t.length;r++){const u=n[r],h=u.transform,g=e.data.field(u.field);i.set(u.field,Jw(h,g,t[r]))}return i}function Tv(n,e,t){const i=new Map;for(const r of n){const u=r.transform,h=t.data.field(r.field);i.set(r.field,Qw(u,h,e))}return i}class Tp extends Ep{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Iv extends Ep{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class $T{constructor(e){this.count=e}}var xr,Wn;function iC(n){switch(n){default:return jt();case ze.CANCELLED:case ze.UNKNOWN:case ze.DEADLINE_EXCEEDED:case ze.RESOURCE_EXHAUSTED:case ze.INTERNAL:case ze.UNAVAILABLE:case ze.UNAUTHENTICATED:return!1;case ze.INVALID_ARGUMENT:case ze.NOT_FOUND:case ze.ALREADY_EXISTS:case ze.PERMISSION_DENIED:case ze.FAILED_PRECONDITION:case ze.ABORTED:case ze.OUT_OF_RANGE:case ze.UNIMPLEMENTED:case ze.DATA_LOSS:return!0}}function rC(n){if(void 0===n)return Mi("GRPC error has no .code"),ze.UNKNOWN;switch(n){case xr.OK:return ze.OK;case xr.CANCELLED:return ze.CANCELLED;case xr.UNKNOWN:return ze.UNKNOWN;case xr.DEADLINE_EXCEEDED:return ze.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return ze.RESOURCE_EXHAUSTED;case xr.INTERNAL:return ze.INTERNAL;case xr.UNAVAILABLE:return ze.UNAVAILABLE;case xr.UNAUTHENTICATED:return ze.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return ze.INVALID_ARGUMENT;case xr.NOT_FOUND:return ze.NOT_FOUND;case xr.ALREADY_EXISTS:return ze.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return ze.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return ze.FAILED_PRECONDITION;case xr.ABORTED:return ze.ABORTED;case xr.OUT_OF_RANGE:return ze.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return ze.UNIMPLEMENTED;case xr.DATA_LOSS:return ze.DATA_LOSS;default:return jt()}}(Wn=xr||(xr={}))[Wn.OK=0]="OK",Wn[Wn.CANCELLED=1]="CANCELLED",Wn[Wn.UNKNOWN=2]="UNKNOWN",Wn[Wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wn[Wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wn[Wn.NOT_FOUND=5]="NOT_FOUND",Wn[Wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wn[Wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wn[Wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wn[Wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wn[Wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wn[Wn.ABORTED=10]="ABORTED",Wn[Wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wn[Wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wn[Wn.INTERNAL=13]="INTERNAL",Wn[Wn.UNAVAILABLE=14]="UNAVAILABLE",Wn[Wn.DATA_LOSS=15]="DATA_LOSS";class Vu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,u]of i)if(this.equalsFn(r,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],e))return void(r[u]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Vc(this.inner,(t,i)=>{for(const[r,u]of i)e(r,u)})}isEmpty(){return nv(this.inner)}size(){return this.innerSize}}const GT=new sr(At.comparator);function ea(){return GT}const qT=new sr(At.comparator);function Dv(...n){let e=qT;for(const t of n)e=e.insert(t.key,t);return e}function Ip(){return new Vu(n=>n.toString(),(n,e)=>n.isEqual(e))}const zT=new sr(At.comparator),WT=new Di(At.comparator);function yi(...n){let e=WT;for(const t of n)e=e.add(t);return e}const KT=new Di(Nn);function Um(){return KT}class Th{constructor(e,t,i,r,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,Ih.createSynthesizedTargetChangeForCurrentChange(e,t)),new Th(pn.min(),i,Um(),ea(),yi())}}class Ih{constructor(e,t,i,r,u){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ih(fr.EMPTY_BYTE_STRING,t,yi(),yi(),yi())}}class Dp{constructor(e,t,i,r){this.O=e,this.removedTargetIds=t,this.key=i,this.F=r}}class Sv{constructor(e,t){this.targetId=e,this.$=t}}class xv{constructor(e,t,i=fr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Av{constructor(){this.B=0,this.L=Ov(),this.U=fr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=yi(),t=yi(),i=yi();return this.L.forEach((r,u)=>{switch(u){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:jt()}}),new Ih(this.U,this.q,e,t,i)}J(){this.K=!1,this.L=Ov()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class sC{constructor(e){this.nt=e,this.st=new Map,this.it=ea(),this.rt=Mv(),this.ot=new Di(Nn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const i=this.lt(t);switch(e.state){case 0:this.ft(t)&&i.W(e.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(t);break;case 3:this.ft(t)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),i.W(e.resumeToken));break;default:jt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((i,r)=>{this.ft(r)&&t(r)})}_t(e){const t=e.targetId,i=e.$.count,r=this.wt(t);if(r){const u=r.target;if(yp(u))if(0===i){const h=new At(u.path);this.ct(t,h,Ti.newNoDocument(h,pn.min()))}else hn(1===i);else this.gt(t)!==i&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,h)=>{const g=this.wt(h);if(g){if(u.current&&yp(g.target)){const v=new At(g.target.path);null!==this.it.get(v)||this.It(h,v)||this.ct(h,v,Ti.newNoDocument(v,e))}u.j&&(t.set(h,u.H()),u.J())}});let i=yi();this.rt.forEach((u,h)=>{let g=!0;h.forEachWhile(v=>{const T=this.wt(v);return!T||2===T.purpose||(g=!1,!1)}),g&&(i=i.add(u))}),this.it.forEach((u,h)=>h.setReadTime(e));const r=new Th(e,t,this.ot,this.it,i);return this.it=ea(),this.rt=Mv(),this.ot=new Di(Nn),r}at(e,t){if(!this.ft(e))return;const i=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,i),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,i){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),i&&(this.it=this.it.insert(t,i))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Av,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Di(Nn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||ht("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Av),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Mv(){return new sr(At.comparator)}function Ov(){return new sr(At.comparator)}const oC={asc:"ASCENDING",desc:"DESCENDING"},aC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class zc{constructor(e,t){this.databaseId=e,this.N=t}}function Sp(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lC(n,e){return n.N?e.toBase64():e.toUint8Array()}function Dh(n,e){return Sp(n,e.toTimestamp())}function ps(n){return hn(!!n),pn.fromTimestamp(function(e){const t=Mu(e);return new rr(t.seconds,t.nanos)}(n))}function xp(n,e){return(t=n,new zn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function YT(n){const e=zn.fromString(n);return hn(_C(e)),e}function Sh(n,e){return xp(n.databaseId,e.path)}function ba(n,e){const t=YT(e);if(t.get(1)!==n.databaseId.projectId)throw new lt(ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new lt(ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new At(cC(t))}function uC(n,e){return xp(n.databaseId,e)}function ln(n){const e=YT(n);return 4===e.length?zn.emptyPath():cC(e)}function Ap(n){return new zn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cC(n){return hn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function dC(n,e,t){return{name:Sh(n,e),fields:t.value.mapValue.fields}}function Mp(n,e,t){const i=ba(n,e.name),r=ps(e.updateTime),u=new ns({mapValue:{fields:e.fields}}),h=Ti.newFoundDocument(i,r,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Uu(n,e){let t;if(e instanceof Eh)t={update:dC(n,e.key,e.value)};else if(e instanceof Tp)t={delete:Sh(n,e.key)};else if(e instanceof Lu)t={update:dC(n,e.key,e.data),updateMask:XT(e.fieldMask)};else{if(!(e instanceof Iv))return jt();t={verify:Sh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,u){const h=u.transform;if(h instanceof yh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof qc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof jl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof bh)return{fieldPath:u.field.canonicalString(),increment:h.k};throw jt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:Dh(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:jt()),t;var r}function Gi(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Sr.updateTime(ps(r.updateTime)):void 0!==r.exists?Sr.exists(r.exists):Sr.none():Sr.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(u,h){let g=null;"setToServerValue"in h?(hn("REQUEST_TIME"===h.setToServerValue),g=new yh):"appendMissingElements"in h?g=new qc(h.appendMissingElements.values||[]):"removeAllFromArray"in h?g=new jl(h.removeAllFromArray.values||[]):"increment"in h?g=new bh(u,h.increment):jt();const v=jr.fromServerFormat(h.fieldPath);return new wh(v,g)}(n,r)):[];var r;if(e.update){const r=ba(n,e.update.name),u=new ns({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new dp((e.updateMask.fieldPaths||[]).map(T=>jr.fromServerFormat(T)));return new Lu(r,u,h,t,i)}return new Eh(r,u,t,i)}if(e.delete){const r=ba(n,e.delete);return new Tp(r,t)}if(e.verify){const r=ba(n,e.verify);return new Iv(r,t)}return jt()}function kv(n,e){return{documents:[uC(n,e.path)]}}function hC(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=uC(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=uC(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(v){if(0===v.length)return;const T=v.map(L=>function(Q){if("=="===Q.op){if(Am(Q.value))return{unaryFilter:{field:xh(Q.field),op:"IS_NAN"}};if(av(Q.value))return{unaryFilter:{field:xh(Q.field),op:"IS_NULL"}}}else if("!="===Q.op){if(Am(Q.value))return{unaryFilter:{field:xh(Q.field),op:"IS_NOT_NAN"}};if(av(Q.value))return{unaryFilter:{field:xh(Q.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xh(Q.field),op:mC(Q.op),value:Q.value}}}(L));return 1===T.length?T[0]:{compositeFilter:{op:"AND",filters:T}}}(e.filters);r&&(t.structuredQuery.where=r);const u=function(v){if(0!==v.length)return v.map(T=>{return{field:xh((L=T).field),direction:gC(L.dir)};var L})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=(T=e.limit,n.N||ol(T)?T:{value:T});var T,g,v;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function fC(n){let e=ln(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){hn(1===i);const L=t.from[0];L.allDescendants?r=L.collectionId:e=e.child(L.collectionId)}let u=[];t.where&&(u=Pv(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(L=>{return new $c(Ah((Q=L).field),function(fe){switch(fe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Q.direction));var Q}));let g=null;t.limit&&(g=function(L){let Q;return Q="object"==typeof L?L.value:L,ol(Q)?null:Q}(t.limit));let v=null;var L;t.startAt&&(v=new Nu((L=t.startAt).values||[],!!L.before));let T=null;return t.endAt&&(T=function(L){return new Nu(L.values||[],!L.before)}(t.endAt)),Kw(e,r,h,u,g,"F",v,T)}function Pv(n){return n?void 0!==n.unaryFilter?[Op(n)]:void 0!==n.fieldFilter?[JT(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Pv(e)).reduce((e,t)=>e.concat(t)):jt():[]}function gC(n){return oC[n]}function mC(n){return aC[n]}function xh(n){return{fieldPath:n.canonicalString()}}function Ah(n){return jr.fromServerFormat(n.fieldPath)}function JT(n){return is.create(Ah(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return jt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Op(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ah(n.unaryFilter.field);return is.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ah(n.unaryFilter.field);return is.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ah(n.unaryFilter.field);return is.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Ah(n.unaryFilter.field);return is.create(r,"!=",{nullValue:"NULL_VALUE"});default:return jt()}}function XT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _C(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function js(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Rv(e)),e=Hm(n.get(t),e);return Rv(e)}function Hm(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const u=n.charAt(r);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Rv(n){return n+"\x01\x01"}function wa(n){const e=n.length;if(hn(e>=2),2===e)return hn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),zn.emptyPath();const t=e-2,i=[];let r="";for(let u=0;u<e;){const h=n.indexOf("\x01",u);switch((h<0||h>t)&&jt(),n.charAt(h+1)){case"\x01":const g=n.substring(u,h);let v;0===r.length?v=g:(r+=g,v=r,r=""),i.push(v);break;case"\x10":r+=n.substring(u,h),r+="\0";break;case"\x11":r+=n.substring(u,h+1);break;default:jt()}u=h+2}return new zn(i)}const Nv=["userId","batchId"];function jm(n,e){return[n,js(e)]}function Mh(n,e,t){return[n,js(e),t]}const kp={},eI=["prefixPath","collectionGroup","readTime","documentId"],tI=["prefixPath","collectionGroup","documentId"],nI=["collectionGroup","readTime","prefixPath","documentId"],yC=["canonicalId","targetId"],vC=["targetId","path"],bC=["path","targetId"],iI=["collectionId","parent"],wC=["indexId","uid"],rI=["uid","sequenceNumber"],sI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],oS=["indexId","uid","orderedDocumentKey"],aS=["userId","collectionPath","documentId"],lS=["userId","collectionPath","largestBatchId"],uS=["userId","collectionGroup","largestBatchId"],Fv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Zm=[...Fv,"documentOverlays"],CC=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],oI=[...CC,"indexConfiguration","indexState","indexEntries"],Lv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Oh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ye((i,r)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,r)},this.catchCallback=u=>{this.wrapFailure(t,u).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ye?t:Ye.resolve(t)}catch(t){return Ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ye.reject(t)}static resolve(e){return new Ye((t,i)=>{t(e)})}static reject(e){return new Ye((t,i)=>{i(e)})}static waitFor(e){return new Ye((t,i)=>{let r=0,u=0,h=!1;e.forEach(g=>{++r,g.next(()=>{++u,h&&u===r&&t()},v=>i(v))}),h=!0,u===r&&t()})}static or(e){let t=Ye.resolve(!1);for(const i of e)t=t.next(r=>r?Ye.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,u)=>{i.push(t.call(this,r,u))}),this.waitFor(i)}}class $m{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Qi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Pp(e,t.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=Vv(i.target.error);this.At.reject(new Pp(e,r))}}static open(e,t,i,r){try{return new $m(t,e.transaction(r,i))}catch(u){throw new Pp(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(ht("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new lI(t)}}class Ca{constructor(e,t,i){this.name=e,this.version=t,this.Pt=i,12.2===Ca.Vt((0,fn.z$)())&&Mi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ht("SimpleDb","Removing database:",e),Wc(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,fn.hl)())return!1;if(Ca.St())return!0;const e=(0,fn.z$)(),t=Ca.Vt(e),i=0<t&&t<10,r=Ca.Dt(e),u=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(e){var t=this;return(0,tt.Z)(function*(){return t.db||(ht("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=h=>{i(h.target.result)},u.onblocked=()=>{r(new Pp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=h=>{const g=h.target.error;r("VersionError"===g.name?new lt(ze.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new lt(ze.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new Pp(e,g))},u.onupgradeneeded=h=>{ht("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Pt.kt(h.target.result,u.transaction,h.oldVersion,t.version).next(()=>{ht("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=i=>t.Mt(i)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var u=this;return(0,tt.Z)(function*(){const h="readonly"===t;let g=0;for(;;){++g;try{u.db=yield u.Nt(e);const v=$m.open(u.db,e,h?"readonly":"readwrite",i),T=r(v).next(L=>(v.bt(),L)).catch(L=>(v.abort(L),Ye.reject(L))).toPromise();return T.catch(()=>{}),yield v.Rt,T}catch(v){const T="FirebaseError"!==v.name&&g<3;if(ht("SimpleDb","Transaction failed with error:",v.message,"Retrying:",T),u.close(),!T)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class aI{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Wc(this.Ft.delete())}}class Pp extends lt{constructor(e,t){super(ze.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Bu(n){return"IndexedDbTransactionError"===n.name}class lI{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(ht("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(ht("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Wc(i)}add(e){return ht("SimpleDb","ADD",this.store.name,e,e),Wc(this.store.add(e))}get(e){return Wc(this.store.get(e)).next(t=>(void 0===t&&(t=null),ht("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ht("SimpleDb","DELETE",this.store.name,e),Wc(this.store.delete(e))}count(){return ht("SimpleDb","COUNT",this.store.name),Wc(this.store.count())}qt(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),u=[];return this.Kt(r,(h,g)=>{u.push(g)}).next(()=>u)}{const r=this.store.getAll(i.range);return new Ye((u,h)=>{r.onerror=g=>{h(g.target.error)},r.onsuccess=g=>{u(g.target.result)}})}}Gt(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Ye((r,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{r(h.target.result)}})}Qt(e,t){ht("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(u,h,g)=>g.delete())}Wt(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.Kt(r,t)}zt(e){const t=this.cursor({});return new Ye((i,r)=>{t.onerror=u=>{const h=Vv(u.target.error);r(h)},t.onsuccess=u=>{const h=u.target.result;h?e(h.primaryKey,h.value).next(g=>{g?h.continue():i()}):i()}})}Kt(e,t){const i=[];return new Ye((r,u)=>{e.onerror=h=>{u(h.target.error)},e.onsuccess=h=>{const g=h.target.result;if(!g)return void r();const v=new aI(g),T=t(g.primaryKey,g.value,v);if(T instanceof Ye){const L=T.catch(Q=>(v.done(),Ye.reject(Q)));i.push(L)}v.isDone?r():null===v.Lt?g.continue():g.continue(v.Lt)}}).next(()=>Ye.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.jt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wc(n){return new Ye((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Vv(i.target.error);t(r)}})}let Kc=!1;function Vv(n){const e=Ca.Vt((0,fn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new lt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Kc||(Kc=!0,setTimeout(()=>{throw i},0)),i}}return n}class Uv extends Oh{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function rs(n,e){const t=Dt(n);return Ca.xt(t.Ht,e)}class Gm{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const u=this.mutations[r];u.key.isEqual(e.key)&&yv(u,e,i[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Ch(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Ch(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(pn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),yi())}isEqual(e){return this.batchId===e.batchId&&Lc(this.mutations,e.mutations,(t,i)=>bv(t,i))&&Lc(this.baseMutations,e.baseMutations,(t,i)=>bv(t,i))}}class Bv{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){hn(e.mutations.length===i.length);let r=zT;const u=e.mutations;for(let h=0;h<u.length;h++)r=r.insert(u[h].key,i[h].version);return new Bv(e,t,i,r)}}class qm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Hu{constructor(e,t,i,r,u=pn.min(),h=pn.min(),g=fr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g}withSequenceNumber(e){return new Hu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class zm{constructor(e){this.Jt=e}}function Hv(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Rp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Sh(r=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Sp(r,u.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Yc(e.version)};else{if(!e.isUnknownDocument())return jt();i.unknownDocument={path:t.path.toArray(),version:Yc(e.version)}}var r,u;return i}function Rp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Yc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Qc(n){const e=new rr(n.seconds,n.nanoseconds);return pn.fromTimestamp(e)}function kh(n,e){const t=(e.baseMutations||[]).map(u=>Gi(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const h=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(h.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const i=e.mutations.map(u=>Gi(n.Jt,u)),r=rr.fromMillis(e.localWriteTimeMs);return new Gm(e.batchId,r,t,i)}function Jc(n){const e=Qc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Qc(n.lastLimboFreeSnapshotVersion):pn.min();let i;var r;return void 0!==n.query.documents?(hn(1===(r=n.query).documents.length),i=Qo(Gc(ln(r.documents[0])))):i=Qo(fC(n.query)),new Hu(i,n.targetId,0,n.lastListenSequenceNumber,e,t,fr.fromBase64String(n.resumeToken))}function EC(n,e){const t=Yc(e.snapshotVersion),i=Yc(e.lastLimboFreeSnapshotVersion);let r;r=yp(e.target)?kv(n.Jt,e.target):hC(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ru(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Wm(n){const e=fC({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?pv(e,e.limit,"L"):e}function jv(n,e){return new qm(e.largestBatchId,Gi(n.Jt,e.overlayMutation))}function TC(n,e){const t=e.path.lastSegment();return[n,js(e.path.popLast()),t]}class cI{getBundleMetadata(e,t){return IC(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Qc(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return IC(e).put({bundleId:(i=t).id,createTime:Yc(ps(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return DC(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:Wm(r.bundledQuery),readTime:Qc(r.readTime)};var r})}saveNamedQuery(e,t){return DC(e).put({name:(i=t).name,readTime:Yc(ps(i.readTime)),bundledQuery:i.bundledQuery});var i}}function IC(n){return rs(n,"bundles")}function DC(n){return rs(n,"namedQueries")}class Zv{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Zv(e,t.uid||"")}getOverlay(e,t){return Np(e).get(TC(this.userId,t)).next(i=>i?jv(this.M,i):null)}saveOverlays(e,t,i){const r=[];return i.forEach((u,h)=>{const g=new qm(t,h);r.push(this.Xt(e,g))}),Ye.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(h=>r.add(js(h.getCollectionPath())));const u=[];return r.forEach(h=>{const g=IDBKeyRange.bound([this.userId,h,i],[this.userId,h,i+1],!1,!0);u.push(Np(e).Qt("collectionPathOverlayIndex",g))}),Ye.waitFor(u)}getOverlaysForCollection(e,t,i){const r=Ip(),u=js(t),h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Np(e).qt("collectionPathOverlayIndex",h).next(g=>{for(const v of g){const T=jv(this.M,v);r.set(T.getKey(),T)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const u=Ip();let h;const g=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Np(e).Wt({index:"collectionGroupOverlayIndex",range:g},(v,T,L)=>{const Q=jv(this.M,T);u.size()<r||Q.largestBatchId===h?(u.set(Q.getKey(),Q),h=Q.largestBatchId):L.done()}).next(()=>u)}Xt(e,t){return Np(e).put(function(i,r,u){const[h,g,v]=TC(r,u.mutation.key);return{userId:r,collectionPath:g,documentId:v,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Uu(i.Jt,u.mutation)}}(this.M,this.userId,t))}}function Np(n){return rs(n,"documentOverlays")}class Xc{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(pr(e.integerValue));else if("doubleValue"in e){const i=pr(e.doubleValue);isNaN(i)?this.ne(t,13):(this.ne(t,15),hp(i)?t.se(0):t.se(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ne(t,20),"string"==typeof i?t.ie(i):(t.ie(`${i.seconds||""}`),t.se(i.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(dh(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Bw(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):jt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const i=e.fields||{};this.ne(t,55);for(const r of Object.keys(i))this.re(r,t),this.te(i[r],t)}he(e,t){const i=e.values||[];this.ne(t,50);for(const r of i)this.te(r,t)}ae(e,t){this.ne(t,37),At.fromName(e).path.forEach(i=>{this.ne(t,60),this.le(i,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function SC(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function $v(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const u=SC(255&t[r]);if(i+=u,8!==u)break}return i}(n);return Math.ceil(e/8)}Xc.fe=new Xc;class dI{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this._e(i.value),i=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.ge(i.value),i=t.next();this.ye()}pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(t<"\ud800"||"\udbff"<t)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=t.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=t.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(e){const t=this.Ee(e),i=$v(t);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Re(e){const t=this.Ee(e),i=$v(t);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(r){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,r,!1),new Uint8Array(u.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class hI{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class xC{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Fp{constructor(){this.De=new dI,this.Ce=new hI(this.De),this.xe=new xC(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class ed{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new ed(this.indexId,this.documentKey,this.arrayValue,i)}}function td(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Km(n.arrayValue,e.arrayValue),0!==t?t:(t=Km(n.directionalValue,e.directionalValue),0!==t?t:At.comparator(n.documentKey,e.documentKey)))}function Km(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class Gv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const i=t;i.S()?this.Fe=i:this.Oe.push(i)}}$e(e){const t=gp(e);if(void 0!==t&&!this.Be(t))return!1;const i=gh(e);let r=0,u=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const h=i[r];if(!this.Le(this.Fe,h)||!this.Ue(this.Me[u++],h))return!1;++r}for(;r<i.length;++r){const h=i[r];if(u>=this.Me.length||!this.Ue(this.Me[u++],h))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class AC{constructor(){this.qe=new Lp}addToCollectionParentIndex(e,t){return this.qe.add(t),Ye.resolve()}getCollectionParents(e,t){return Ye.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Ye.resolve()}deleteFieldIndex(e,t){return Ye.resolve()}getDocumentsMatchingTarget(e,t){return Ye.resolve(null)}getIndexType(e,t){return Ye.resolve(0)}getFieldIndexes(e,t){return Ye.resolve([])}getNextCollectionGroupToUpdate(e){return Ye.resolve(null)}getMinOffset(e,t){return Ye.resolve(Yo.min())}updateCollectionGroup(e,t,i){return Ye.resolve()}updateIndexEntries(e,t){return Ye.resolve()}}class Lp{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Di(zn.comparator),u=!r.has(i);return this.index[t]=r.add(i),u}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Di(zn.comparator)).toArray()}}const Ym=new Uint8Array(0);class fI{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Lp,this.Ge=new Vu(i=>Ru(i),(i,r)=>mh(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const u={collectionId:i,parent:js(r)};return Qm(e).put(u)}return Ye.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[Nw(t),""],!1,!0);return Qm(e).qt(r).next(u=>{for(const h of u){if(h.collectionId!==t)break;i.push(wa(h.parent))}return i})}addFieldIndex(e,t){const i=Up(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;return delete r.indexId,i.add(r).next()}deleteFieldIndex(e,t){const i=Up(e),r=Jm(e),u=Vp(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Vp(e);let r=!0;const u=new Map;return Ye.forEach(this.Qe(t),h=>this.je(e,h).next(g=>{r&&(r=!!g),u.set(h,g)})).next(()=>{if(r){let h=yi();const g=[];return Ye.forEach(u,(v,T)=>{var L;ht("IndexedDbIndexManager",`Using index ${L=v,`id=${L.indexId}|cg=${L.collectionGroup}|f=${L.fields.map(Gt=>`${Gt.fieldPath}:${Gt.kind}`).join(",")}`} to execute ${Ru(t)}`);const Q=function(Gt,kt){const wn=gp(kt);if(void 0===wn)return null;for(const Cn of vp(Gt,wn.fieldPath))switch(Cn.op){case"array-contains-any":return Cn.value.arrayValue.values||[];case"array-contains":return[Cn.value]}return null}(T,v),fe=function(Gt,kt){const wn=new Map;for(const Cn of gh(kt))for(const Qn of vp(Gt,Cn.fieldPath))switch(Qn.op){case"==":case"in":wn.set(Cn.fieldPath.canonicalString(),Qn.value);break;case"not-in":case"!=":return wn.set(Cn.fieldPath.canonicalString(),Qn.value),Array.from(wn.values())}return null}(T,v),Se=function(Gt,kt){const wn=[];let Cn=!0;for(const Qn of gh(kt)){const qr=0===Qn.kind?Rm(Gt,Qn.fieldPath,Gt.startAt):dv(Gt,Qn.fieldPath,Gt.startAt);wn.push(qr.value),Cn&&(Cn=qr.inclusive)}return new Nu(wn,Cn)}(T,v),Oe=function(Gt,kt){const wn=[];let Cn=!0;for(const Qn of gh(kt)){const qr=0===Qn.kind?dv(Gt,Qn.fieldPath,Gt.endAt):Rm(Gt,Qn.fieldPath,Gt.endAt);wn.push(qr.value),Cn&&(Cn=qr.inclusive)}return new Nu(wn,Cn)}(T,v),Xe=this.We(v,T,Se),ft=this.We(v,T,Oe),Kt=this.ze(v,T,fe),Xt=this.He(v.indexId,Q,Xe,Se.inclusive,ft,Oe.inclusive,Kt);return Ye.forEach(Xt,Gt=>i.Gt(Gt,t.limit).next(kt=>{kt.forEach(wn=>{const Cn=At.fromSegments(wn.documentKey);h.has(Cn)||(h=h.add(Cn),g.push(Cn))})}))}).next(()=>g)}return Ye.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,i,r,u,h,g){const v=(null!=t?t.length:1)*Math.max(i.length,u.length),T=v/(null!=t?t.length:1),L=[];for(let Q=0;Q<v;++Q){const fe=t?this.Je(t[Q/T]):Ym,Se=this.Ye(e,fe,i[Q%T],r),Oe=this.Xe(e,fe,u[Q%T],h),Xe=g.map(ft=>this.Ye(e,fe,ft,!0));L.push(...this.createRange(Se,Oe,Xe))}return L}Ye(e,t,i,r){const u=new ed(e,At.empty(),t,i);return r?u:u.ke()}Xe(e,t,i,r){const u=new ed(e,At.empty(),t,i);return r?u.ke():u}je(e,t){const i=new Gv(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(u=>{let h=null;for(const g of u)i.$e(g)&&(!h||g.fields.length>h.fields.length)&&(h=g);return h})}getIndexType(e,t){let i=2;return Ye.forEach(this.Qe(t),r=>this.je(e,r).next(u=>{u?0!==i&&u.fields.length<function(h){let g=new Di(jr.comparator),v=!1;for(const T of h.filters){const L=T;L.field.isKeyField()||("array-contains"===L.op||"array-contains-any"===L.op?v=!0:g=g.add(L.field))}for(const T of h.orderBy)T.field.isKeyField()||(g=g.add(T.field));return g.size+(v?1:0)}(r)&&(i=1):i=0})).next(()=>i)}Ze(e,t){const i=new Fp;for(const r of gh(e)){const u=t.data.field(r.fieldPath);if(null==u)return null;const h=i.Ne(r.kind);Xc.fe.Zt(u,h)}return i.Se()}Je(e){const t=new Fp;return Xc.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const i=new Fp;return Xc.fe.Zt(ku(this.databaseId,t),i.Ne(function(r){const u=gh(r);return 0===u.length?0:u[u.length-1].kind}(e))),i.Se()}ze(e,t,i){if(null===i)return[];let r=[];r.push(new Fp);let u=0;for(const h of gh(e)){const g=i[u++];for(const v of r)if(this.en(t,h.fieldPath)&&ph(g))r=this.nn(r,h,g);else{const T=v.Ne(h.kind);Xc.fe.Zt(g,T)}}return this.sn(r)}We(e,t,i){return this.ze(e,t,i.position)}sn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Se();return t}nn(e,t,i){const r=[...e],u=[];for(const h of i.arrayValue.values||[])for(const g of r){const v=new Fp;v.seed(g.Se()),Xc.fe.Zt(h,v.Ne(t.kind)),u.push(v)}return u}en(e,t){return!!e.filters.find(i=>i instanceof is&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Up(e),r=Jm(e);return(t?i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.qt()).next(u=>{const h=[];return Ye.forEach(u,g=>r.get([g.indexId,this.uid]).next(v=>{h.push(function(T,L){const Q=L?new Pu(L.sequenceNumber,new Yo(Qc(L.readTime),new At(wa(L.documentKey)),L.largestBatchId)):Pu.empty(),fe=T.fields.map(([Se,Oe])=>new Om(jr.fromServerFormat(Se),Oe));return new jc(T.indexId,T.collectionGroup,fe,Q)}(g,v))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const u=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==u?u:Nn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Up(e),u=Jm(e);return this.rn(e).next(h=>r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>Ye.forEach(g,v=>{return u.put({indexId:v.indexId,uid:this.user.uid||"",sequenceNumber:h,readTime:Yc((fe=i).readTime),documentKey:js(fe.documentKey.path),largestBatchId:fe.largestBatchId});var fe})))}updateIndexEntries(e,t){const i=new Map;return Ye.forEach(t,(r,u)=>{const h=i.get(r.collectionGroup);return(h?Ye.resolve(h):this.getFieldIndexes(e,r.collectionGroup)).next(g=>(i.set(r.collectionGroup,g),Ye.forEach(g,v=>this.on(e,r,v).next(T=>{const L=this.un(u,v);return T.isEqual(L)?Ye.resolve():this.an(e,u,v,T,L)}))))})}cn(e,t,i,r){return Vp(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,t.key),documentKey:t.key.path.toArray()})}hn(e,t,i,r){return Vp(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,t.key),t.key.path.toArray()])}on(e,t,i){const r=Vp(e);let u=new Di(td);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,t)])},(h,g)=>{u=u.add(new ed(i.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>u)}un(e,t){let i=new Di(td);const r=this.Ze(t,e);if(null==r)return i;const u=gp(t);if(null!=u){const h=e.data.field(u.fieldPath);if(ph(h))for(const g of h.arrayValue.values||[])i=i.add(new ed(t.indexId,e.key,this.Je(g),r))}else i=i.add(new ed(t.indexId,e.key,Ym,r));return i}an(e,t,i,r,u){ht("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const h=[];return function(g,v,T,L,Q){const fe=g.getIterator(),Se=v.getIterator();let Oe=Zc(fe),Xe=Zc(Se);for(;Oe||Xe;){let ft=!1,Kt=!1;if(Oe&&Xe){const Xt=T(Oe,Xe);Xt<0?Kt=!0:Xt>0&&(ft=!0)}else null!=Oe?Kt=!0:ft=!0;ft?(L(Xe),Xe=Zc(Se)):Kt?(Q(Oe),Oe=Zc(fe)):(Oe=Zc(fe),Xe=Zc(Se))}}(r,u,td,g=>{h.push(this.cn(e,t,i,g))},g=>{h.push(this.hn(e,t,i,g))}),Ye.waitFor(h)}rn(e){let t=1;return Jm(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,u)=>{u.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((h,g)=>td(h,g)).filter((h,g,v)=>!g||0!==td(h,v[g-1]));const r=[];r.push(e);for(const h of i){const g=td(h,e),v=td(h,t);if(0===g)r[0]=e.ke();else if(g>0&&v<0)r.push(h),r.push(h.ke());else if(v>0)break}r.push(t);const u=[];for(let h=0;h<r.length;h+=2)u.push(IDBKeyRange.bound([r[h].indexId,this.uid,r[h].arrayValue,r[h].directionalValue,Ym,[]],[r[h+1].indexId,this.uid,r[h+1].arrayValue,r[h+1].directionalValue,Ym,[]]));return u}getMinOffset(e,t){let i;return Ye.forEach(this.Qe(t),r=>this.je(e,r).next(u=>{u?(!i||km(u.indexState.offset,i)<0)&&(i=u.indexState.offset):i=Yo.min()})).next(()=>i)}}function Qm(n){return rs(n,"collectionParents")}function Vp(n){return rs(n,"indexEntries")}function Up(n){return rs(n,"indexConfiguration")}function Jm(n){return rs(n,"indexState")}const qv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class oo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new oo(e,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zv(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),u=[],h=IDBKeyRange.only(t.batchId);let g=0;const v=i.Wt({range:h},(L,Q,fe)=>(g++,fe.delete()));u.push(v.next(()=>{hn(1===g)}));const T=[];for(const L of t.mutations){const Q=Mh(e,L.key.path,t.batchId);u.push(r.delete(Q)),T.push(L.key)}return Ye.waitFor(u).next(()=>T)}function Wv(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw jt();e=n.noDocument}return JSON.stringify(e).length}oo.DEFAULT_COLLECTION_PERCENTILE=10,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oo.DEFAULT=new oo(41943040,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oo.DISABLED=new oo(-1,0,0);class Kv{constructor(e,t,i,r){this.userId=e,this.M=t,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(e,t,i,r){hn(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Kv(u,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ju(e).Wt({index:"userMutationsIndex",range:i},(r,u,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const u=Ea(e),h=ju(e);return h.add({}).next(g=>{hn("number"==typeof g);const v=new Gm(g,t,i,r),T=function(fe,Se,Oe){const Xe=Oe.baseMutations.map(Kt=>Uu(fe.Jt,Kt)),ft=Oe.mutations.map(Kt=>Uu(fe.Jt,Kt));return{userId:Se,batchId:Oe.batchId,localWriteTimeMs:Oe.localWriteTime.toMillis(),baseMutations:Xe,mutations:ft}}(this.M,this.userId,v),L=[];let Q=new Di((fe,Se)=>Nn(fe.canonicalString(),Se.canonicalString()));for(const fe of r){const Se=Mh(this.userId,fe.key.path,g);Q=Q.add(fe.key.path.popLast()),L.push(h.put(T)),L.push(u.put(Se,kp))}return Q.forEach(fe=>{L.push(this.indexManager.addToCollectionParentIndex(e,fe))}),e.addOnCommittedListener(()=>{this.ln[g]=v.keys()}),Ye.waitFor(L).next(()=>v)})}lookupMutationBatch(e,t){return ju(e).get(t).next(i=>i?(hn(i.userId===this.userId),kh(this.M,i)):null)}fn(e,t){return this.ln[t]?Ye.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.ln[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let u=null;return ju(e).Wt({index:"userMutationsIndex",range:r},(h,g,v)=>{g.userId===this.userId&&(hn(g.batchId>=i),u=kh(this.M,g)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return ju(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(r,u,h)=>{i=u.batchId,h.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ju(e).qt("userMutationsIndex",t).next(i=>i.map(r=>kh(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=jm(this.userId,t.path),r=IDBKeyRange.lowerBound(i),u=[];return Ea(e).Wt({range:r},(h,g,v)=>{const[T,L,Q]=h,fe=wa(L);if(T===this.userId&&t.path.isEqual(fe))return ju(e).get(Q).next(Se=>{if(!Se)throw jt();hn(Se.userId===this.userId),u.push(kh(this.M,Se))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Di(Nn);const r=[];return t.forEach(u=>{const h=jm(this.userId,u.path),g=IDBKeyRange.lowerBound(h),v=Ea(e).Wt({range:g},(T,L,Q)=>{const[fe,Se,Oe]=T,Xe=wa(Se);fe===this.userId&&u.path.isEqual(Xe)?i=i.add(Oe):Q.done()});r.push(v)}),Ye.waitFor(r).next(()=>this.dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,u=jm(this.userId,i),h=IDBKeyRange.lowerBound(u);let g=new Di(Nn);return Ea(e).Wt({range:h},(v,T,L)=>{const[Q,fe,Se]=v,Oe=wa(fe);Q===this.userId&&i.isPrefixOf(Oe)?Oe.length===r&&(g=g.add(Se)):L.done()}).next(()=>this.dn(e,g))}dn(e,t){const i=[],r=[];return t.forEach(u=>{r.push(ju(e).get(u).next(h=>{if(null===h)throw jt();hn(h.userId===this.userId),i.push(kh(this.M,h))}))}),Ye.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return zv(e.Ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Ye.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ye.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Ea(e).Wt({range:i},(u,h,g)=>{if(u[0]===this.userId){const v=wa(u[1]);r.push(v)}else g.done()}).next(()=>{hn(0===r.length)})})}containsKey(e,t){return Bp(e,this.userId,t)}wn(e){return Ph(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Bp(n,e,t){const i=jm(e,t.path),r=i[1],u=IDBKeyRange.lowerBound(i);let h=!1;return Ea(n).Wt({range:u,jt:!0},(g,v,T)=>{const[L,Q,fe]=g;L===e&&Q===r&&(h=!0),T.done()}).next(()=>h)}function ju(n){return rs(n,"mutations")}function Ea(n){return rs(n,"documentMutations")}function Ph(n){return rs(n,"mutationQueues")}class nd{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new nd(0)}static yn(){return new nd(-1)}}class cS{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const i=new nd(t.highestTargetId);return t.highestTargetId=i.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>pn.fromTimestamp(new rr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.pn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.In(e,r)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(i=>(i.targetCount+=1,this.En(t,i),this.In(e,i))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>id(e).delete(t.targetId)).next(()=>this.pn(e)).next(i=>(hn(i.targetCount>0),i.targetCount-=1,this.In(e,i)))}removeTargets(e,t,i){let r=0;const u=[];return id(e).Wt((h,g)=>{const v=Jc(g);v.sequenceNumber<=t&&null===i.get(v.targetId)&&(r++,u.push(this.removeTargetData(e,v)))}).next(()=>Ye.waitFor(u)).next(()=>r)}forEachTarget(e,t){return id(e).Wt((i,r)=>{const u=Jc(r);t(u)})}pn(e){return MC(e).get("targetGlobalKey").next(t=>(hn(null!==t),t))}In(e,t){return MC(e).put("targetGlobalKey",t)}Tn(e,t){return id(e).put(EC(this.M,t))}En(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Ru(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let u=null;return id(e).Wt({range:r,index:"queryTargetsIndex"},(h,g,v)=>{const T=Jc(g);mh(t,T.target)&&(u=T,v.done())}).next(()=>u)}addMatchingKeys(e,t,i){const r=[],u=Zu(e);return t.forEach(h=>{const g=js(h.path);r.push(u.put({targetId:i,path:g})),r.push(this.referenceDelegate.addReference(e,i,h))}),Ye.waitFor(r)}removeMatchingKeys(e,t,i){const r=Zu(e);return Ye.forEach(t,u=>{const h=js(u.path);return Ye.waitFor([r.delete([i,h]),this.referenceDelegate.removeReference(e,i,u)])})}removeMatchingKeysForTargetId(e,t){const i=Zu(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Zu(e);let u=yi();return r.Wt({range:i,jt:!0},(h,g,v)=>{const T=wa(h[1]),L=new At(T);u=u.add(L)}).next(()=>u)}containsKey(e,t){const i=js(t.path),r=IDBKeyRange.bound([i],[Nw(i)],!1,!0);let u=0;return Zu(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},([h,g],v,T)=>{0!==h&&(u++,T.done())}).next(()=>u>0)}Et(e,t){return id(e).get(t).next(i=>i?Jc(i):null)}}function id(n){return rs(n,"targets")}function MC(n){return rs(n,"targetGlobal")}function Zu(n){return rs(n,"targetDocuments")}function rd(n){return Yv.apply(this,arguments)}function Yv(){return Yv=(0,tt.Z)(function*(n){if(n.code!==ze.FAILED_PRECONDITION||n.message!==Lv)throw n;ht("LocalStore","Unexpectedly lost primary lease")}),Yv.apply(this,arguments)}function Qv([n,e],[t,i]){const r=Nn(n,t);return 0===r?Nn(e,i):r}class OC{constructor(e){this.An=e,this.buffer=new Di(Qv),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Qv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Jv{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const i=this.Vn?3e5:6e4;ht("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,tt.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(r){Bu(r)?ht("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield rd(r)}yield t.Sn(e)}))}}class Xm{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Ye.resolve(ro.A);const i=new OC(t);return this.Dn.forEachTarget(e,r=>i.Pn(r.sequenceNumber)).next(()=>this.Dn.xn(e,r=>i.Pn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Dn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),Ye.resolve(qv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qv):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let i,r,u,h,g,v,T;const L=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Q=>(Q>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Q}`),r=this.params.maximumSequenceNumbersToCollect):r=Q,h=Date.now(),this.nthSequenceNumber(e,r))).next(Q=>(i=Q,g=Date.now(),this.removeTargets(e,i,t))).next(Q=>(u=Q,v=Date.now(),this.removeOrphanedDocuments(e,i))).next(Q=>(T=Date.now(),Ko()<=_a.in.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-L}ms\n\tDetermined least recently used ${r} in `+(g-h)+`ms\n\tRemoved ${u} targets in `+(v-g)+`ms\n\tRemoved ${Q} documents in `+(T-v)+`ms\nTotal Duration: ${T-L}ms`),Ye.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:u,documentsRemoved:Q})))}}class Hp{constructor(e,t){this.db=e,this.garbageCollector=new Xm(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}kn(e){let t=0;return this.xn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(i,r)=>t(r))}addReference(e,t,i){return e_(e,i)}removeReference(e,t,i){return e_(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return e_(e,t)}On(e,t){return function(i,r){let u=!1;return Ph(i).zt(h=>Bp(i,h,r).next(g=>(g&&(u=!0),Ye.resolve(!g)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let u=0;return this.Mn(e,(h,g)=>{if(g<=t){const v=this.On(e,h).next(T=>{if(!T)return u++,i.getEntry(e,h).next(()=>(i.removeEntry(h,pn.min()),Zu(e).delete([0,js(h.path)])))});r.push(v)}}).next(()=>Ye.waitFor(r)).next(()=>i.apply(e)).next(()=>u)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return e_(e,t)}Mn(e,t){const i=Zu(e);let r,u=ro.A;return i.Wt({index:"documentTargetsIndex"},([h,g],{path:v,sequenceNumber:T})=>{0===h?(u!==ro.A&&t(new At(wa(r)),u),u=T,r=v):u=ro.A}).next(()=>{u!==ro.A&&t(new At(wa(r)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function e_(n,e){return Zu(n).put((i=n.currentSequenceNumber,{targetId:0,path:js(e.path),sequenceNumber:i}));var i}class Xv{constructor(){this.changes=new Vu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ti.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Ye.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kC{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Zl(e).put(i)}removeEntry(e,t,i){return Zl(e).delete(function(r,u){const h=r.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Rp(u),h[h.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Fn(e,i)))}getEntry(e,t){let i=Ti.newInvalidDocument(t);return Zl(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(jp(t))},(r,u)=>{i=this.$n(t,u)}).next(()=>i)}Bn(e,t){let i={size:0,document:Ti.newInvalidDocument(t)};return Zl(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(jp(t))},(r,u)=>{i={document:this.$n(t,u),size:Wv(u)}}).next(()=>i)}getEntries(e,t){let i=ea();return this.Ln(e,t,(r,u)=>{const h=this.$n(r,u);i=i.insert(r,h)}).next(()=>i)}Un(e,t){let i=ea(),r=new sr(At.comparator);return this.Ln(e,t,(u,h)=>{const g=this.$n(u,h);i=i.insert(u,g),r=r.insert(u,Wv(h))}).next(()=>({documents:i,qn:r}))}Ln(e,t,i){if(t.isEmpty())return Ye.resolve();let r=new Di(RC);t.forEach(v=>r=r.add(v));const u=IDBKeyRange.bound(jp(r.first()),jp(r.last())),h=r.getIterator();let g=h.getNext();return Zl(e).Wt({index:"documentKeyIndex",range:u},(v,T,L)=>{const Q=At.fromSegments([...T.prefixPath,T.collectionGroup,T.documentId]);for(;g&&RC(g,Q)<0;)i(g,null),g=h.getNext();g&&g.isEqual(Q)&&(i(g,T),g=h.hasNext()?h.getNext():null),g?L.Ut(jp(g)):L.done()}).next(()=>{for(;g;)i(g,null),g=h.hasNext()?h.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),Rp(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zl(e).qt(IDBKeyRange.bound(r,u,!0)).next(h=>{let g=ea();for(const v of h){const T=this.$n(At.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);g=g.insert(T.key,T)}return g})}getAllFromCollectionGroup(e,t,i,r){let u=ea();const h=gI(t,i),g=gI(t,Yo.max());return Zl(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,g,!0)},(v,T,L)=>{const Q=this.$n(At.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);u=u.insert(Q.key,Q),u.size===r&&L.done()}).next(()=>u)}newChangeBuffer(e){return new pI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return PC(e).get("remoteDocumentGlobalKey").next(t=>(hn(!!t),t))}Fn(e,t){return PC(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const i=function uI(n,e){let t;if(e.document)t=Mp(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=At.fromSegments(e.noDocument.path),r=Qc(e.noDocument.readTime);t=Ti.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return jt();{const i=At.fromSegments(e.unknownDocument.path),r=Qc(e.unknownDocument.version);t=Ti.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new rr(i[0],i[1]);return pn.fromTimestamp(r)}(e.readTime)),t}(this.M,t);if(!i.isNoDocument()||!i.version.isEqual(pn.min()))return i}return Ti.newInvalidDocument(e)}}class pI extends Xv{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Vu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Di((u,h)=>Nn(u.canonicalString(),h.canonicalString()));return this.changes.forEach((u,h)=>{const g=this.Gn.get(u);if(t.push(this.Kn.removeEntry(e,u,g.readTime)),h.isValidDocument()){const v=Hv(this.Kn.M,h);r=r.add(u.path.popLast()),i+=Wv(v)-g.size,t.push(this.Kn.addEntry(e,u,v))}else if(i-=g.size,this.trackRemovals){const v=Hv(this.Kn.M,h.convertToNoDocument(pn.min()));t.push(this.Kn.addEntry(e,u,v))}}),r.forEach(u=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Kn.updateMetadata(e,i)),Ye.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(i=>(this.Gn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:i,qn:r})=>(r.forEach((u,h)=>{this.Gn.set(u,{size:h,readTime:i.get(u).readTime})}),i))}}function PC(n){return rs(n,"remoteDocumentGlobal")}function Zl(n){return rs(n,"remoteDocumentsV14")}function jp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gI(n,e){const t=e.documentKey.path.toArray();return[n,Rp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function RC(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let u=0;u<t.length-2&&u<i.length-2;++u)if(r=Nn(t[u],i[u]),r)return r;return r=Nn(t.length,i.length),r||(r=Nn(t[t.length-2],i[i.length-2]),r||Nn(t[t.length-1],i[i.length-1]))}class mI{constructor(e){this.M=e}kt(e,t,i,r){const u=new $m("createOrUpgrade",t);var g;i<1&&r>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Nv,{unique:!0}),g.createObjectStore("documentMutations"),sd(e),function(g){g.createObjectStore("remoteDocuments")}(e));let h=Ye.resolve();return i<3&&r>=3&&(0!==i&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),sd(e)),h=h.next(()=>function(g){const v=g.store("targetGlobal"),T={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pn.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",T)}(u))),i<4&&r>=4&&(0!==i&&(h=h.next(()=>function(g,v){return v.store("mutations").qt().next(T=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Nv,{unique:!0});const L=v.store("mutations"),Q=T.map(fe=>L.put(fe));return Ye.waitFor(Q)})}(e,u))),h=h.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(h=h.next(()=>this.Qn(u))),i<6&&r>=6&&(h=h.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.jn(u)))),i<7&&r>=7&&(h=h.next(()=>this.Wn(u))),i<8&&r>=8&&(h=h.next(()=>this.zn(e,u))),i<9&&r>=9&&(h=h.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(h=h.next(()=>this.Hn(u))),i<11&&r>=11&&(h=h.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(h=h.next(()=>{!function(g){const v=g.createObjectStore("documentOverlays",{keyPath:aS});v.createIndex("collectionPathOverlayIndex",lS,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",uS,{unique:!1})}(e)})),i<13&&r>=13&&(h=h.next(()=>function(g){const v=g.createObjectStore("remoteDocumentsV14",{keyPath:eI});v.createIndex("documentKeyIndex",tI),v.createIndex("collectionGroupIndex",nI)}(e)).next(()=>this.Jn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(h=h.next(()=>{!function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:wC}).createIndex("sequenceNumberIndex",rI,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:sI}).createIndex("documentKeyIndex",oS,{unique:!1})}(e)})),h}jn(e){let t=0;return e.store("remoteDocuments").Wt((i,r)=>{t+=Wv(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.qt().next(r=>Ye.forEach(r,u=>{const h=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",h).next(g=>Ye.forEach(g,v=>{hn(v.userId===u.userId);const T=kh(this.M,v);return zv(e,u.userId,T).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const u=[];return i.Wt((h,g)=>{const v=new zn(h),T=[0,js(v)];u.push(t.get(T).next(L=>L?Ye.resolve():t.put({targetId:0,path:js(v),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ye.waitFor(u))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:iI});const i=t.store("collectionParents"),r=new Lp,u=h=>{if(r.add(h)){const g=h.lastSegment(),v=h.popLast();return i.put({collectionId:g,parent:js(v)})}};return t.store("remoteDocuments").Wt({jt:!0},(h,g)=>{const v=new zn(h);return u(v.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([h,g,v],T)=>{const L=wa(g);return u(L.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((i,r)=>{const u=Jc(r),h=EC(this.M,u);return t.put(h)})}Jn(e,t){const i=t.store("remoteDocuments"),r=[];return i.Wt((u,h)=>{const g=t.store("remoteDocumentsV14"),v=(T=h,T.document?new At(zn.fromString(T.document.name).popFirst(5)):T.noDocument?At.fromSegments(T.noDocument.path):T.unknownDocument?At.fromSegments(T.unknownDocument.path):jt()).path.toArray();var T;const L={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};r.push(g.put(L))}).next(()=>Ye.waitFor(r))}}function sd(n){n.createObjectStore("targetDocuments",{keyPath:vC}).createIndex("documentTargetsIndex",bC,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",yC,{unique:!0}),n.createObjectStore("targetGlobal")}const t_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $u{constructor(e,t,i,r,u,h,g,v,T,L,Q=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Yn=u,this.window=h,this.document=g,this.Xn=T,this.Zn=L,this.ts=Q,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=fe=>Promise.resolve(),!$u.vt())throw new lt(ze.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hp(this,r),this.hs=t+"main",this.M=new zm(v),this.ls=new Ca(this.hs,this.ts,new mI(this.M)),this.fs=new cS(this.referenceDelegate,this.M),this.ds=new kC(this.M),this._s=new cI,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===L&&Mi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new lt(ze.FAILED_PRECONDITION,t_);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new ro(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var i=(0,tt.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,tt.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,tt.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Zp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(Bu(e))return ht("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ht("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return n_(e).get("owner").next(t=>Ye.resolve(this.Ps(t)))}Vs(e){return Zp(e).delete(this.clientId)}vs(){var e=this;return(0,tt.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=rs(i,"clientMetadata");return r.qt().next(u=>{const h=e.Ds(u,18e5),g=u.filter(v=>-1===h.indexOf(v));return Ye.forEach(g,v=>r.delete(v.clientId)).next(()=>g)})}).catch(()=>[]);if(e.ws)for(const i of t)e.ws.removeItem(e.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Ye.resolve(!0):n_(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new lt(ze.FAILED_PRECONDITION,t_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Zp(e).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const h=!this.inForeground&&r.inForeground,g=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||h&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ht("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,tt.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Uv(t,ro.A);return e.Rs(i).next(()=>e.Vs(i))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(i=>this.Ss(i.updateTimeMs,t)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Zp(e).qt().next(t=>this.Ds(t,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return Kv.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new fI(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Zv.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,i){ht("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",u=14===(h=this.ts)?oI:13===h?CC:12===h?Zm:11===h?Fv:void jt();var h;let g;return this.ls.runTransaction(e,r,u,v=>(g=new Uv(v,this.es?this.es.next():ro.A),"readwrite-primary"===t?this.Es(g).next(T=>!!T||this.As(g)).next(T=>{if(!T)throw Mi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new lt(ze.FAILED_PRECONDITION,Lv);return i(g)}).next(T=>this.bs(g).next(()=>T)):this.$s(g).next(()=>i(g)))).then(v=>(g.raiseOnCommittedEvent(),v))}$s(e){return n_(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new lt(ze.FAILED_PRECONDITION,t_)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return n_(e).put("owner",t)}static vt(){return Ca.vt()}Rs(e){const t=n_(e);return t.get("owner").next(i=>this.Ps(i)?(ht("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ye.resolve())}Ss(e,t){const i=Date.now();return!(e<i-t||e>i&&(Mi(`Detected an update time that is in the future: ${e} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,fn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const i=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return ht("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Mi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Mi("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function n_(n){return rs(n,"owner")}function Zp(n){return rs(n,"clientMetadata")}function e0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class dS{constructor(e,t,i){this.ds=e,this.Bs=t,this.indexManager=i}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.Us(e,t,i))}Us(e,t,i){return this.ds.getEntry(e,t).next(r=>{for(const u of i)u.applyToLocalView(r);return r})}qs(e,t){e.forEach((i,r)=>{for(const u of t)u.applyToLocalView(r)})}Ks(e,t){return this.ds.getEntries(e,t).next(i=>this.Gs(e,i).next(()=>i))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.qs(t,i))}Qs(e,t,i){return At.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(e,t.path):Fu(t)?this.Ws(e,t,i):this.zs(e,t,i);var r}js(e,t){return this.Ls(e,new At(t)).next(i=>{let r=Dv();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(e,t,i){const r=t.collectionGroup;let u=Dv();return this.indexManager.getCollectionParents(e,r).next(h=>Ye.forEach(h,g=>{const v=(T=t,L=g.child(r),new Hl(L,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,L;return this.zs(e,v,i).next(T=>{T.forEach((L,Q)=>{u=u.insert(L,Q)})})}).next(()=>u))}zs(e,t,i){let r;return this.ds.getAllFromCollection(e,t.path,i).next(u=>(r=u,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const h of u)for(const g of h.mutations){const v=g.key;let T=r.get(v);null==T&&(T=Ti.newInvalidDocument(v),r=r.insert(v,T)),Ch(g,T,h.localWriteTime),T.isFoundDocument()||(r=r.remove(v))}}).next(()=>(r.forEach((u,h)=>{wp(t,h)||(r=r.remove(u))}),r))}}class i_{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Hs=i,this.Js=r}static Ys(e,t){let i=yi(),r=yi();for(const u of t.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:r=r.add(u.doc.key)}return new i_(e,t.fromCache,i,r)}}class _I{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,i,r){return this.ti(e,t).next(u=>u||this.ei(e,t,r,i)).next(u=>u||this.ni(e,t))}ti(e,t){return Ye.resolve(null)}ei(e,t,i,r){return function jT(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(pn.min())?this.ni(e,t):this.Zs.Ks(e,i).next(u=>{const h=this.si(t,u);return this.ii(t,h,i,r)?this.ni(e,t):(Ko()<=_a.in.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yw(t)),this.ri(e,h,t,mp(r,-1)))})}si(e,t){let i=new Di(Jo(e));return t.forEach((r,u)=>{wp(e,u)&&(i=i.add(u))}),i}ii(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(r)>0)}ni(e,t){return Ko()<=_a.in.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Yw(t)),this.Zs.Qs(e,t,Yo.min())}ri(e,t,i,r){return this.Zs.Qs(e,i,r).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}class NC{constructor(e,t,i,r){this.persistence=e,this.oi=t,this.M=r,this.ui=new sr(Nn),this.ai=new Vu(u=>Ru(u),mh),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(i)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new dS(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function r_(n,e,t,i){return new NC(n,e,t,i)}function t0(n,e){return s_.apply(this,arguments)}function s_(){return s_=(0,tt.Z)(function*(n,e){const t=Dt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.Bs.getAllMutationBatches(i).next(u=>(r=u,t.li(e),t.Bs.getAllMutationBatches(i))).next(u=>{const h=[],g=[];let v=yi();for(const T of r){h.push(T.batchId);for(const L of T.mutations)v=v.add(L.key)}for(const T of u){g.push(T.batchId);for(const L of T.mutations)v=v.add(L.key)}return t.fi.Ks(i,v).next(T=>({di:T,removedBatchIds:h,addedBatchIds:g}))})})}),s_.apply(this,arguments)}function FC(n,e){const t=Dt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),u=t.hi.newChangeBuffer({trackRemovals:!0});return function(h,g,v,T){const L=v.batch,Q=L.keys();let fe=Ye.resolve();return Q.forEach(Se=>{fe=fe.next(()=>T.getEntry(g,Se)).next(Oe=>{const Xe=v.docVersions.get(Se);hn(null!==Xe),Oe.version.compareTo(Xe)<0&&(L.applyToRemoteDocument(Oe,v),Oe.isValidDocument()&&(Oe.setReadTime(v.commitVersion),T.addEntry(Oe)))})}),fe.next(()=>h.Bs.removeMutationBatch(g,L))}(t,i,e,u).next(()=>u.apply(i)).next(()=>t.Bs.performConsistencyCheck(i)).next(()=>t.fi.Ks(i,r))})}function n0(n){const e=Dt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function LC(n,e){const t=Dt(n),i=e.snapshotVersion;let r=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.hi.newChangeBuffer({trackRemovals:!0});r=t.ui;const g=[];e.targetChanges.forEach((T,L)=>{const Q=r.get(L);if(!Q)return;g.push(t.fs.removeMatchingKeys(u,T.removedDocuments,L).next(()=>t.fs.addMatchingKeys(u,T.addedDocuments,L)));let fe=Q.withSequenceNumber(u.currentSequenceNumber);var Se,Oe,Xe;e.targetMismatches.has(L)?fe=fe.withResumeToken(fr.EMPTY_BYTE_STRING,pn.min()).withLastLimboFreeSnapshotVersion(pn.min()):T.resumeToken.approximateByteSize()>0&&(fe=fe.withResumeToken(T.resumeToken,i)),r=r.insert(L,fe),Oe=fe,Xe=T,(0===(Se=Q).resumeToken.approximateByteSize()||Oe.snapshotVersion.toMicroseconds()-Se.snapshotVersion.toMicroseconds()>=3e8||Xe.addedDocuments.size+Xe.modifiedDocuments.size+Xe.removedDocuments.size>0)&&g.push(t.fs.updateTargetData(u,fe))});let v=ea();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),g.push(VC(u,h,e.documentUpdates).next(T=>{v=T})),!i.isEqual(pn.min())){const T=t.fs.getLastRemoteSnapshotVersion(u).next(L=>t.fs.setTargetsMetadata(u,u.currentSequenceNumber,i));g.push(T)}return Ye.waitFor(g).next(()=>h.apply(u)).next(()=>t.fi.Gs(u,v)).next(()=>v)}).then(u=>(t.ui=r,u))}function VC(n,e,t){let i=yi();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let u=ea();return t.forEach((h,g)=>{const v=r.get(h);g.isNoDocument()&&g.version.isEqual(pn.min())?(e.removeEntry(h,g.readTime),u=u.insert(h,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||0===g.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(g),u=u.insert(h,g)):ht("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",g.version)}),u})}function UC(n,e){const t=Dt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(i,e)))}function Rh(n,e){const t=Dt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.fs.getTargetData(i,e).next(u=>u?(r=u,Ye.resolve(r)):t.fs.allocateTargetId(i).next(h=>(r=new Hu(e,h,0,i.currentSequenceNumber),t.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ui=t.ui.insert(i.targetId,i),t.ai.set(e,i.targetId)),i})}function Nh(n,e,t){return o_.apply(this,arguments)}function o_(){return o_=(0,tt.Z)(function*(n,e,t){const i=Dt(n),r=i.ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",u,h=>i.persistence.referenceDelegate.removeTarget(h,r)))}catch(h){if(!Bu(h))throw h;ht("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.ui=i.ui.remove(e),i.ai.delete(r.target)}),o_.apply(this,arguments)}function Gu(n,e,t){const i=Dt(n);let r=pn.min(),u=yi();return i.persistence.runTransaction("Execute query","readonly",h=>function(g,v,T){const L=Dt(g),Q=L.ai.get(T);return void 0!==Q?Ye.resolve(L.ui.get(Q)):L.fs.getTargetData(v,T)}(i,h,Qo(e)).next(g=>{if(g)return r=g.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(h,g.targetId).next(v=>{u=v})}).next(()=>i.oi.Qs(h,e,t?r:pn.min(),t?u:yi())).next(g=>(o0(i,Lm(e),g),{documents:g,_i:u})))}function r0(n,e){const t=Dt(n),i=Dt(t.fs),r=t.ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",u=>i.Et(u,e).next(h=>h?h.target:null))}function s0(n,e){const t=Dt(n),i=t.ci.get(e)||pn.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.hi.getAllFromCollectionGroup(r,e,mp(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(o0(t,e,r),r))}function o0(n,e,t){let i=pn.min();t.forEach((r,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),n.ci.set(e,i)}function a_(){return a_=(0,tt.Z)(function*(n,e,t,i){const r=Dt(n);let u=yi(),h=ea();for(const T of t){const L=e.wi(T.metadata.name);T.document&&(u=u.add(L));const Q=e.mi(T);Q.setReadTime(e.gi(T.metadata.readTime)),h=h.insert(L,Q)}const g=r.hi.newChangeBuffer({trackRemovals:!0}),v=yield Rh(r,(T=i,Qo(Gc(zn.fromString(`__bundle__/docs/${T}`)))));var T;return r.persistence.runTransaction("Apply bundle documents","readwrite",T=>VC(T,g,h).next(L=>(g.apply(T),L)).next(L=>r.fs.removeMatchingKeysForTargetId(T,v.targetId).next(()=>r.fs.addMatchingKeys(T,u,v.targetId)).next(()=>r.fi.Gs(T,L)).next(()=>L)))}),a_.apply(this,arguments)}function HC(n,e){return a0.apply(this,arguments)}function a0(){return a0=(0,tt.Z)(function*(n,e,t=yi()){const i=yield Rh(n,Qo(Wm(e.bundledQuery))),r=Dt(n);return r.persistence.runTransaction("Save named query","readwrite",u=>{const h=ps(e.readTime);if(i.snapshotVersion.compareTo(h)>=0)return r._s.saveNamedQuery(u,e);const g=i.withResumeToken(fr.EMPTY_BYTE_STRING,h);return r.ui=r.ui.insert(g.targetId,g),r.fs.updateTargetData(u,g).next(()=>r.fs.removeMatchingKeysForTargetId(u,i.targetId)).next(()=>r.fs.addMatchingKeys(u,t,i.targetId)).next(()=>r._s.saveNamedQuery(u,e))})}),a0.apply(this,arguments)}class jC{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return Ye.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var i;return this.yi.set(t.id,{id:(i=t).id,version:i.version,createTime:ps(i.createTime)}),Ye.resolve()}getNamedQuery(e,t){return Ye.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(i=t).name,query:Wm(i.bundledQuery),readTime:ps(i.readTime)}),Ye.resolve();var i}}class yI{constructor(){this.overlays=new sr(At.comparator),this.Ii=new Map}getOverlay(e,t){return Ye.resolve(this.overlays.get(t))}saveOverlays(e,t,i){return i.forEach((r,u)=>{this.Xt(e,t,u)}),Ye.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Ii.get(i);return void 0!==r&&(r.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ii.delete(i)),Ye.resolve()}getOverlaysForCollection(e,t,i){const r=Ip(),u=t.length+1,h=new At(t.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const v=g.getNext().value,T=v.getKey();if(!t.isPrefixOf(T.path))break;T.path.length===u&&v.largestBatchId>i&&r.set(v.getKey(),v)}return Ye.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let u=new sr((T,L)=>T-L);const h=this.overlays.getIterator();for(;h.hasNext();){const T=h.getNext().value;if(T.getKey().getCollectionGroup()===t&&T.largestBatchId>i){let L=u.get(T.largestBatchId);null===L&&(L=Ip(),u=u.insert(T.largestBatchId,L)),L.set(T.getKey(),T)}}const g=Ip(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((T,L)=>g.set(T,L)),!(g.size()>=r)););return Ye.resolve(g)}Xt(e,t,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const h=this.Ii.get(r.largestBatchId).delete(i.key);this.Ii.set(r.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new qm(t,i));let u=this.Ii.get(t);void 0===u&&(u=yi(),this.Ii.set(t,u)),this.Ii.set(t,u.add(i.key))}}class l0{constructor(){this.Ti=new Di(ss.Ei),this.Ai=new Di(ss.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const i=new ss(e,t);this.Ti=this.Ti.add(i),this.Ai=this.Ai.add(i)}bi(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Pi(new ss(e,t))}Vi(e,t){e.forEach(i=>this.removeReference(i,t))}vi(e){const t=new At(new zn([])),i=new ss(t,e),r=new ss(t,e+1),u=[];return this.Ai.forEachInRange([i,r],h=>{this.Pi(h),u.push(h.key)}),u}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new At(new zn([])),i=new ss(t,e),r=new ss(t,e+1);let u=yi();return this.Ai.forEachInRange([i,r],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new ss(e,0),i=this.Ti.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class ss{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return At.comparator(e.key,t.key)||Nn(e.Ci,t.Ci)}static Ri(e,t){return Nn(e.Ci,t.Ci)||At.comparator(e.key,t.key)}}class vI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new Di(ss.Ei)}checkEmpty(e){return Ye.resolve(0===this.Bs.length)}addMutationBatch(e,t,i,r){const u=this.xi;this.xi++;const h=new Gm(u,t,i,r);this.Bs.push(h);for(const g of r)this.Ni=this.Ni.add(new ss(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Ye.resolve(h)}lookupMutationBatch(e,t){return Ye.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Mi(t+1),u=r<0?0:r;return Ye.resolve(this.Bs.length>u?this.Bs[u]:null)}getHighestUnacknowledgedBatchId(){return Ye.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return Ye.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ss(t,0),r=new ss(t,Number.POSITIVE_INFINITY),u=[];return this.Ni.forEachInRange([i,r],h=>{const g=this.ki(h.Ci);u.push(g)}),Ye.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Di(Nn);return t.forEach(r=>{const u=new ss(r,0),h=new ss(r,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([u,h],g=>{i=i.add(g.Ci)})}),Ye.resolve(this.Oi(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let u=i;At.isDocumentKey(u)||(u=u.child(""));const h=new ss(new At(u),0);let g=new Di(Nn);return this.Ni.forEachWhile(v=>{const T=v.key.path;return!!i.isPrefixOf(T)&&(T.length===r&&(g=g.add(v.Ci)),!0)},h),Ye.resolve(this.Oi(g))}Oi(e){const t=[];return e.forEach(i=>{const r=this.ki(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){hn(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let i=this.Ni;return Ye.forEach(t.mutations,r=>{const u=new ss(r.key,t.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Ni=i})}_n(e){}containsKey(e,t){const i=new ss(t,0),r=this.Ni.firstAfterOrEqual(i);return Ye.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Ye.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class $p{constructor(e){this.$i=e,this.docs=new sr(At.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),u=r?r.size:0,h=this.$i(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ye.resolve(i?i.document.mutableCopy():Ti.newInvalidDocument(t))}getEntries(e,t){let i=ea();return t.forEach(r=>{const u=this.docs.get(r);i=i.insert(r,u?u.document.mutableCopy():Ti.newInvalidDocument(r))}),Ye.resolve(i)}getAllFromCollection(e,t,i){let r=ea();const u=new At(t.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:g,value:{document:v}}=h.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||km(cv(v),i)<=0||(r=r.insert(v.key,v.mutableCopy()))}return Ye.resolve(r)}getAllFromCollectionGroup(e,t,i,r){jt()}Bi(e,t){return Ye.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new bI(this)}getSize(e){return Ye.resolve(this.size)}}class bI extends Xv{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Kn.addEntry(e,r)):this.Kn.removeEntry(i)}),Ye.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class u0{constructor(e){this.persistence=e,this.Li=new Vu(t=>Ru(t),mh),this.lastRemoteSnapshotVersion=pn.min(),this.highestTargetId=0,this.Ui=0,this.qi=new l0,this.targetCount=0,this.Ki=nd.gn()}forEachTarget(e,t){return this.Li.forEach((i,r)=>t(r)),Ye.resolve()}getLastRemoteSnapshotVersion(e){return Ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ye.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),Ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ui&&(this.Ui=t),Ye.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new nd(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Ye.resolve()}updateTargetData(e,t){return this.Tn(t),Ye.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Ye.resolve()}removeTargets(e,t,i){let r=0;const u=[];return this.Li.forEach((h,g)=>{g.sequenceNumber<=t&&null===i.get(g.targetId)&&(this.Li.delete(h),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),r++)}),Ye.waitFor(u).next(()=>r)}getTargetCount(e){return Ye.resolve(this.targetCount)}getTargetData(e,t){const i=this.Li.get(t)||null;return Ye.resolve(i)}addMatchingKeys(e,t,i){return this.qi.bi(t,i),Ye.resolve()}removeMatchingKeys(e,t,i){this.qi.Vi(t,i);const r=this.persistence.referenceDelegate,u=[];return r&&t.forEach(h=>{u.push(r.markPotentiallyOrphaned(e,h))}),Ye.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),Ye.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qi.Di(t);return Ye.resolve(i)}containsKey(e,t){return Ye.resolve(this.qi.containsKey(t))}}class al{constructor(e,t){this.Gi={},this.overlays={},this.es=new ro(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new u0(this),this.indexManager=new AC,this.ds=new $p(i=>this.referenceDelegate.Qi(i)),this.M=new zm(t),this._s=new jC(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Gi[e.toKey()];return i||(i=new vI(t,this.referenceDelegate),this.Gi[e.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,i){ht("MemoryPersistence","Starting transaction:",e);const r=new wI(this.es.next());return this.referenceDelegate.ji(),i(r).next(u=>this.referenceDelegate.Wi(r).next(()=>u)).toPromise().then(u=>(r.raiseOnCommittedEvent(),u))}zi(e,t){return Ye.or(Object.values(this.Gi).map(i=>()=>i.containsKey(e,t)))}}class wI extends Oh{constructor(e){super(),this.currentSequenceNumber=e}}class Gp{constructor(e){this.persistence=e,this.Hi=new l0,this.Ji=null}static Yi(e){return new Gp(e)}get Xi(){if(this.Ji)return this.Ji;throw jt()}addReference(e,t,i){return this.Hi.addReference(i,t),this.Xi.delete(i.toString()),Ye.resolve()}removeReference(e,t,i){return this.Hi.removeReference(i,t),this.Xi.add(i.toString()),Ye.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),Ye.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(r=>this.Xi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(u=>this.Xi.add(u.toString()))}).next(()=>i.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ye.forEach(this.Xi,i=>{const r=At.fromPath(i);return this.Zi(e,r).next(u=>{u||t.removeEntry(r,pn.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(i=>{i?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return Ye.or([()=>Ye.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function Fh(n,e){return`firestore_clients_${n}_${e}`}function ZC(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function c0(n,e){return`firestore_targets_${n}_${e}`}class l_{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static tr(e,t,i){const r=JSON.parse(i);let u,h="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return h&&r.error&&(h="string"==typeof r.error.message&&"string"==typeof r.error.code,h&&(u=new lt(r.error.code,r.error.message))),h?new l_(e,t,r.state,u):(Mi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qu{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static tr(e,t){const i=JSON.parse(t);let r,u="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(r=new lt(i.error.code,i.error.message))),u?new qu(e,i.state,r):(Mi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class od{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,u=Um();for(let h=0;r&&h<i.activeTargetIds.length;++h)r=rv(i.activeTargetIds[h]),u=u.add(i.activeTargetIds[h]);return r?new od(e,u):(Mi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class d0{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new d0(t.clientId,t.onlineState):(Mi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class h0{constructor(){this.activeTargetIds=Um()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u_{constructor(e,t,i,r,u){this.window=e,this.Yn=t,this.persistenceKey=i,this.ir=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new sr(Nn),this.started=!1,this.cr=[];const h=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.hr=Fh(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new h0),this.dr=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,tt.Z)(function*(){const t=yield e.syncEngine.Fs();for(const r of t){if(r===e.ir)continue;const u=e.getItem(Fh(e.persistenceKey,r));if(u){const h=od.tr(r,u);h&&(e.ar=e.ar.insert(h.clientId,h))}}e.yr();const i=e.storage.getItem(e.mr);if(i){const r=e.pr(i);r&&e.Ir(r)}for(const r of e.cr)e.ur(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,i){this.Er(e,t,i),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(c0(this.persistenceKey,e));if(i){const r=qu.tr(e,i);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(c0(this.persistenceKey,e))}updateQueryState(e,t,i){this.br(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Ar(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ht("SharedClientState","READ",e,t),t}setItem(e,t){ht("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ht("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const i=e;if(i.storageArea===this.storage){if(ht("SharedClientState","EVENT",i.key,i.newValue),i.key===this.hr)return void Mi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,tt.Z)(function*(){if(t.started){if(null!==i.key)if(t.dr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Sr(r,null)}{const r=t.Dr(i.key,i.newValue);if(r)return t.Sr(r.clientId,r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Cr(i.key,i.newValue);if(r)return t.Nr(r)}}else if(t.wr.test(i.key)){if(null!==i.newValue){const r=t.kr(i.key,i.newValue);if(r)return t.Mr(r)}}else if(i.key===t.mr){if(null!==i.newValue){const r=t.pr(i.newValue);if(r)return t.Ir(r)}}else if(i.key===t.lr){const r=function(u){let h=ro.A;if(null!=u)try{const g=JSON.parse(u);hn("number"==typeof g),h=g}catch(g){Mi("SharedClientState","Failed to read sequence number from WebStorage",g)}return h}(i.newValue);r!==ro.A&&t.sequenceNumberHandler(r)}else if(i.key===t.gr){const r=t.Or(i.newValue);yield Promise.all(r.map(u=>t.syncEngine.Fr(u)))}}else t.cr.push(i)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,i){const r=new l_(this.currentUser,e,t,i),u=ZC(this.persistenceKey,this.currentUser,e);this.setItem(u,r.er())}Ar(e){const t=ZC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,i){const r=c0(this.persistenceKey,e),u=new qu(e,t,i);this.setItem(r,u.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const i=this.vr(e);return od.tr(i,t)}Cr(e,t){const i=this._r.exec(e),r=Number(i[1]);return l_.tr(new fs(void 0!==i[2]?i[2]:null),r,t)}kr(e,t){const i=this.wr.exec(e),r=Number(i[1]);return qu.tr(r,t)}pr(e){return d0.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,tt.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);ht("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const i=t?this.ar.insert(e,t):this.ar.remove(e),r=this.Tr(this.ar),u=this.Tr(i),h=[],g=[];return u.forEach(v=>{r.has(v)||h.push(v)}),r.forEach(v=>{u.has(v)||g.push(v)}),this.syncEngine.Lr(h,g).then(()=>{this.ar=i})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=Um();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class f0{constructor(){this.Ur=new h0,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,i){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new h0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class p0{Kr(e){}shutdown(){}}class g0{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){ht("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){ht("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const CI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class EI{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class hS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,i,r,u){const h=this.ho(e,t);ht("RestConnection","Sending: ",h,i);const g={};return this.lo(g,r,u),this.fo(e,h,g,i).then(v=>(ht("RestConnection","Received: ",v),v),v=>{throw Au("RestConnection",`${e} failed with error: `,v,"url: ",h,"request:",i),v})}_o(e,t,i,r,u){return this.co(e,t,i,r,u)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+ah,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,u)=>e[u]=r),i&&i.headers.forEach((r,u)=>e[u]=r)}ho(e,t){return`${this.uo}/v1/${t}:${CI[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((u,h)=>{const g=new NT;g.listenOnce(PT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Xy.NO_ERROR:const T=g.getResponseJson();ht("Connection","XHR received:",JSON.stringify(T)),u(T);break;case Xy.TIMEOUT:ht("Connection",'RPC "'+e+'" timed out'),h(new lt(ze.DEADLINE_EXCEEDED,"Request time out"));break;case Xy.HTTP_ERROR:const L=g.getStatus();if(ht("Connection",'RPC "'+e+'" failed with status:',L,"response text:",g.getResponseText()),L>0){const Q=g.getResponseJson().error;if(Q&&Q.status&&Q.message){const fe=function(Se){const Oe=Se.toLowerCase().replace(/_/g,"-");return Object.values(ze).indexOf(Oe)>=0?Oe:ze.UNKNOWN}(Q.status);h(new lt(fe,Q.message))}else h(new lt(ze.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new lt(ze.UNAVAILABLE,"Connection failed."));break;default:jt()}}finally{ht("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(r);g.send(t,"POST",v,i,15)})}wo(e,t,i){const r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=OT(),h=kT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new xm({})),this.lo(g.initMessageHeaders,t,i),(0,fn.uI)()||(0,fn.b$)()||(0,fn.d)()||(0,fn.w1)()||(0,fn.Mn)()||(0,fn.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const v=r.join("");ht("Connection","Creating WebChannel: "+v,g);const T=u.createWebChannel(v,g);let L=!1,Q=!1;const fe=new EI({Jr:Oe=>{Q?ht("Connection","Not sending because WebChannel is closed:",Oe):(L||(ht("Connection","Opening WebChannel transport."),T.open(),L=!0),ht("Connection","WebChannel sending:",Oe),T.send(Oe))},Yr:()=>T.close()}),Se=(Oe,Xe,ft)=>{Oe.listen(Xe,Kt=>{try{ft(Kt)}catch(Xt){setTimeout(()=>{throw Xt},0)}})};return Se(T,Vl.EventType.OPEN,()=>{Q||ht("Connection","WebChannel transport opened.")}),Se(T,Vl.EventType.CLOSE,()=>{Q||(Q=!0,ht("Connection","WebChannel transport closed"),fe.ro())}),Se(T,Vl.EventType.ERROR,Oe=>{Q||(Q=!0,Au("Connection","WebChannel transport errored:",Oe),fe.ro(new lt(ze.UNAVAILABLE,"The operation could not be completed")))}),Se(T,Vl.EventType.MESSAGE,Oe=>{var Xe;if(!Q){const ft=Oe.data[0];hn(!!ft);const Kt=ft,Xt=Kt.error||(null===(Xe=Kt[0])||void 0===Xe?void 0:Xe.error);if(Xt){ht("Connection","WebChannel received error:",Xt);const Gt=Xt.status;let kt=function(Cn){const Qn=xr[Cn];if(void 0!==Qn)return rC(Qn)}(Gt),wn=Xt.message;void 0===kt&&(kt=ze.INTERNAL,wn="Unknown error status: "+Gt+" with message "+Xt.message),Q=!0,fe.ro(new lt(kt,wn)),T.close()}else ht("Connection","WebChannel received:",ft),fe.oo(ft)}}),Se(h,RT.STAT_EVENT,Oe=>{Oe.stat===Aw.PROXY?ht("Connection","Detected buffering proxy"):Oe.stat===Aw.NOPROXY&&ht("Connection","Detected no buffering proxy")}),setTimeout(()=>{fe.io()},0),fe}}function c_(){return"undefined"!=typeof window?window:null}function Lh(){return"undefined"!=typeof document?document:null}function Vh(n){return new zc(n,!0)}class qp{constructor(e,t,i=1e3,r=1.5,u=6e4){this.Yn=e,this.timerId=t,this.mo=i,this.yo=r,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&ht("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class d_{constructor(e,t,i,r,u,h,g,v){this.Yn=e,this.Vo=i,this.vo=r,this.So=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new qp(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,tt.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,tt.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var i=this;return(0,tt.Z)(function*(){i.Uo(),i.qo(),i.No.cancel(),i.Do++,4!==e?i.No.reset():t&&t.code===ze.RESOURCE_EXHAUSTED?(Mi(t.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),i.No.Ao()):t&&t.code===ze.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Ko(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Do===t&&this.Qo(i,r)},i=>{e(()=>{const r=new lt(ze.UNKNOWN,"Fetching auth token failed: "+i.message);return this.jo(r)})})}Qo(e,t){const i=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{i(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(r=>{i(()=>this.jo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.No.Ro((0,tt.Z)(function*(){e.state=0,e.start()}))}jo(e){return ht("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(ht("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TI extends d_{constructor(e,t,i,r,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,h),this.M=u}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function Bm(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:jt(),r=e.targetChange.targetIds||[],u=function(v,T){return v.N?(hn(void 0===T||"string"==typeof T),fr.fromBase64String(T||"")):(hn(void 0===T||T instanceof Uint8Array),fr.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&function(v){const T=void 0===v.code?ze.UNKNOWN:rC(v.code);return new lt(T,v.message||"")}(h);t=new xv(i,r,u,g||null)}else if("documentChange"in e){const i=e.documentChange,r=ba(n,i.document.name),u=ps(i.document.updateTime),h=new ns({mapValue:{fields:i.document.fields}}),g=Ti.newFoundDocument(r,u,h);t=new Dp(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const i=e.documentDelete,r=ba(n,i.document),u=i.readTime?ps(i.readTime):pn.min(),h=Ti.newNoDocument(r,u);t=new Dp([],i.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const i=e.documentRemove,r=ba(n,i.document);t=new Dp([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return jt();{const i=e.filter,u=new $T(i.count||0);t=new Sv(i.targetId,u)}}var v;return t}(this.M,e),i=function(r){if(!("targetChange"in r))return pn.min();const u=r.targetChange;return u.targetIds&&u.targetIds.length?pn.min():u.readTime?ps(u.readTime):pn.min()}(e);return this.listener.zo(t,i)}Ho(e){const t={};t.database=Ap(this.M),t.addTarget=function(r,u){let h;const g=u.target;return h=yp(g)?{documents:kv(r,g)}:{query:hC(r,g)},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?h.resumeToken=lC(r,u.resumeToken):u.snapshotVersion.compareTo(pn.min())>0&&(h.readTime=Sp(r,u.snapshotVersion.toTimestamp())),h}(this.M,e);const i=function pC(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return jt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Lo(t)}Jo(e){const t={};t.database=Ap(this.M),t.removeTarget=e,this.Lo(t)}}class II extends d_{constructor(e,t,i,r,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,h),this.M=u,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(hn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function sS(n,e){return n&&n.length>0?(hn(void 0!==e),n.map(t=>function(i,r){let u=ps(i.updateTime?i.updateTime:r);return u.isEqual(pn.min())&&(u=ps(r)),new Vm(u,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ps(e.commitTime);return this.listener.tu(i,t)}return hn(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Ap(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Uu(this.M,i))};this.Lo(t)}}class DI extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=i,this.M=r,this.su=!1}iu(){if(this.su)throw new lt(ze.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,u])=>this.So.co(e,t,i,r,u)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new lt(ze.UNKNOWN,r.toString())})}_o(e,t,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,u])=>this.So._o(e,t,i,r,u)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new lt(ze.UNKNOWN,r.toString())})}terminate(){this.su=!0}}class SI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Mi(t),this.uu=!1):ht("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class $C{constructor(e,t,i,r,u){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=u,this.gu.Kr(g=>{i.enqueueAndForget((0,tt.Z)(function*(){var v;$l(h)&&(ht("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,tt.Z)(function*(T){const L=Dt(T);L.wu.add(4),yield ld(L),L.yu.set("Unknown"),L.wu.delete(4),yield ad(L)}),function(T){return v.apply(this,arguments)})(h))}))}),this.yu=new SI(i,r)}}function ad(n){return h_.apply(this,arguments)}function h_(){return h_=(0,tt.Z)(function*(n){if($l(n))for(const e of n.mu)yield e(!0)}),h_.apply(this,arguments)}function ld(n){return f_.apply(this,arguments)}function f_(){return f_=(0,tt.Z)(function*(n){for(const e of n.mu)yield e(!1)}),f_.apply(this,arguments)}function zp(n,e){const t=Dt(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),g_(t)?_0(t):Zh(t).Mo()&&p_(t,e))}function Wp(n,e){const t=Dt(n),i=Zh(t);t._u.delete(e),i.Mo()&&m0(t,e),0===t._u.size&&(i.Mo()?i.$o():$l(t)&&t.yu.set("Unknown"))}function p_(n,e){n.pu.Z(e.targetId),Zh(n).Ho(e)}function m0(n,e){n.pu.Z(e),Zh(n).Jo(e)}function _0(n){n.pu=new sC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),Zh(n).start(),n.yu.au()}function g_(n){return $l(n)&&!Zh(n).ko()&&n._u.size>0}function $l(n){return 0===Dt(n).wu.size}function Ss(n){n.pu=void 0}function Uh(n){return y0.apply(this,arguments)}function y0(){return y0=(0,tt.Z)(function*(n){n._u.forEach((e,t)=>{p_(n,e)})}),y0.apply(this,arguments)}function xI(n,e){return GC.apply(this,arguments)}function GC(){return GC=(0,tt.Z)(function*(n,e){Ss(n),g_(n)?(n.yu.lu(e),_0(n)):n.yu.set("Unknown")}),GC.apply(this,arguments)}function Kp(n,e,t){return v0.apply(this,arguments)}function v0(){return v0=(0,tt.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof xv&&2===e.state&&e.cause)try{yield(i=(0,tt.Z)(function*(r,u){const h=u.cause;for(const g of u.targetIds)r._u.has(g)&&(yield r.remoteSyncer.rejectListen(g,h),r._u.delete(g),r.pu.removeTarget(g))}),function(r,u){return i.apply(this,arguments)})(n,e)}catch(i){ht("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Bh(n,i)}else if(e instanceof Dp?n.pu.ut(e):e instanceof Sv?n.pu._t(e):n.pu.ht(e),!t.isEqual(pn.min()))try{const i=yield n0(n.localStore);t.compareTo(i)>=0&&(yield function(r,u){const h=r.pu.yt(u);return h.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const T=r._u.get(v);T&&r._u.set(v,T.withResumeToken(g.resumeToken,u))}}),h.targetMismatches.forEach(g=>{const v=r._u.get(g);if(!v)return;r._u.set(g,v.withResumeToken(fr.EMPTY_BYTE_STRING,v.snapshotVersion)),m0(r,g);const T=new Hu(v.target,g,1,v.sequenceNumber);p_(r,T)}),r.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(i){ht("RemoteStore","Failed to raise snapshot:",i),yield Bh(n,i)}var i}),v0.apply(this,arguments)}function Bh(n,e,t){return b0.apply(this,arguments)}function b0(){return b0=(0,tt.Z)(function*(n,e,t){if(!Bu(e))throw e;n.wu.add(1),yield ld(n),n.yu.set("Offline"),t||(t=()=>n0(n.localStore)),n.asyncQueue.enqueueRetryable((0,tt.Z)(function*(){ht("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield ad(n)}))}),b0.apply(this,arguments)}function w0(n,e){return e().catch(t=>Bh(n,t,e))}function Hh(n){return C0.apply(this,arguments)}function C0(){return C0=(0,tt.Z)(function*(n){const e=Dt(n),t=Gl(e);let i=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;E0(e);)try{const r=yield UC(e.localStore,i);if(null===r){0===e.du.length&&t.$o();break}i=r.batchId,qC(e,r)}catch(r){yield Bh(e,r)}T0(e)&&Yp(e)}),C0.apply(this,arguments)}function E0(n){return $l(n)&&n.du.length<10}function qC(n,e){n.du.push(e);const t=Gl(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function T0(n){return $l(n)&&!Gl(n).ko()&&n.du.length>0}function Yp(n){Gl(n).start()}function I0(n){return zC.apply(this,arguments)}function zC(){return zC=(0,tt.Z)(function*(n){Gl(n).nu()}),zC.apply(this,arguments)}function WC(n){return D0.apply(this,arguments)}function D0(){return D0=(0,tt.Z)(function*(n){const e=Gl(n);for(const t of n.du)e.Zo(t.mutations)}),D0.apply(this,arguments)}function KC(n,e,t){return jh.apply(this,arguments)}function jh(){return jh=(0,tt.Z)(function*(n,e,t){const i=n.du.shift(),r=Bv.from(i,e,t);yield w0(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Hh(n)}),jh.apply(this,arguments)}function YC(n,e){return S0.apply(this,arguments)}function S0(){return S0=(0,tt.Z)(function*(n,e){var t;e&&Gl(n).Xo&&(yield(t=(0,tt.Z)(function*(i,r){if(iC(u=r.code)&&u!==ze.ABORTED){const h=i.du.shift();Gl(i).Fo(),yield w0(i,()=>i.remoteSyncer.rejectFailedWrite(h.batchId,r)),yield Hh(i)}var u}),function(i,r){return t.apply(this,arguments)})(n,e)),T0(n)&&Yp(n)}),S0.apply(this,arguments)}function m_(n,e){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,tt.Z)(function*(n,e){const t=Dt(n);t.asyncQueue.verifyOperationInProgress(),ht("RemoteStore","RemoteStore received new credentials");const i=$l(t);t.wu.add(3),yield ld(t),i&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield ad(t)}),Qp.apply(this,arguments)}function QC(n,e){return x0.apply(this,arguments)}function x0(){return x0=(0,tt.Z)(function*(n,e){const t=Dt(n);e?(t.wu.delete(2),yield ad(t)):e||(t.wu.add(2),yield ld(t),t.yu.set("Unknown"))}),x0.apply(this,arguments)}function Zh(n){return n.Iu||(n.Iu=function(e,t,i){const r=Dt(e);return r.iu(),new TI(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:Uh.bind(null,n),eo:xI.bind(null,n),zo:Kp.bind(null,n)}),n.mu.push(function(){var e=(0,tt.Z)(function*(t){t?(n.Iu.Fo(),g_(n)?_0(n):n.yu.set("Unknown")):(yield n.Iu.stop(),Ss(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Gl(n){return n.Tu||(n.Tu=function(e,t,i){const r=Dt(e);return r.iu(),new II(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:I0.bind(null,n),eo:YC.bind(null,n),eu:WC.bind(null,n),tu:KC.bind(null,n)}),n.mu.push(function(){var e=(0,tt.Z)(function*(t){t?(n.Tu.Fo(),yield Hh(n)):(yield n.Tu.stop(),n.du.length>0&&(ht("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class __{constructor(e,t,i,r,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=u,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,i,r,u){const h=Date.now()+i,g=new __(e,t,h,r,u);return g.start(i),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lt(ze.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $h(n,e){if(Mi("AsyncQueue",`${e}: ${n}`),Bu(n))return new lt(ze.UNAVAILABLE,`${e}: ${n}`);throw n}class ud{constructor(e){this.comparator=e?(t,i)=>e(t,i)||At.comparator(t.key,i.key):(t,i)=>At.comparator(t.key,i.key),this.keyedMap=Dv(),this.sortedSet=new sr(this.comparator)}static emptySet(e){return new ud(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ud)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,u=i.getNext().key;if(!r.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new ud;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class A0{constructor(){this.Eu=new sr(At.comparator)}track(e){const t=e.doc.key,i=this.Eu.get(t);i?0!==e.type&&3===i.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==i.type?this.Eu=this.Eu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Eu=this.Eu.remove(t):1===e.type&&2===i.type?this.Eu=this.Eu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):jt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Gh{constructor(e,t,i,r,u,h,g,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,i,r){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Gh(e,t,ud.emptySet(t),u,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class AI{constructor(){this.Ru=void 0,this.listeners=[]}}class JC{constructor(){this.queries=new Vu(e=>gv(e),bp),this.onlineState="Unknown",this.bu=new Set}}function M0(n,e){return y_.apply(this,arguments)}function y_(){return y_=(0,tt.Z)(function*(n,e){const t=Dt(n),i=e.query;let r=!1,u=t.queries.get(i);if(u||(r=!0,u=new AI),r)try{u.Ru=yield t.onListen(i)}catch(h){const g=$h(h,`Initialization of query '${Yw(e.query)}' failed`);return void e.onError(g)}t.queries.set(i,u),u.listeners.push(e),e.Pu(t.onlineState),u.Ru&&e.Vu(u.Ru)&&O0(t)}),y_.apply(this,arguments)}function v_(n,e){return b_.apply(this,arguments)}function b_(){return b_=(0,tt.Z)(function*(n,e){const t=Dt(n),i=e.query;let r=!1;const u=t.queries.get(i);if(u){const h=u.listeners.indexOf(e);h>=0&&(u.listeners.splice(h,1),r=0===u.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),b_.apply(this,arguments)}function XC(n,e){const t=Dt(n);let i=!1;for(const r of e){const h=t.queries.get(r.query);if(h){for(const g of h.listeners)g.Vu(r)&&(i=!0);h.Ru=r}}i&&O0(t)}function MI(n,e,t){const i=Dt(n),r=i.queries.get(e);if(r)for(const u of r.listeners)u.onError(t);i.queries.delete(e)}function O0(n){n.bu.forEach(e=>{e.next()})}class eE{constructor(e,t,i){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}Vu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Gh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Gh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class tE{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class OI{constructor(e){this.M=e}wi(e){return ba(this.M,e)}mi(e){return e.metadata.exists?Mp(this.M,e.document,!1):Ti.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return ps(e)}}class fS{constructor(e,t,i){this.Ou=e,this.localStore=t,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=kI(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=zn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new OI(this.M);for(const r of e)if(r.metadata.queries){const u=i.wi(r.metadata.name);for(const h of r.metadata.queries){const g=(t.get(h)||yi()).add(u);t.set(h,g)}}return t}complete(){var e=this;return(0,tt.Z)(function*(){const t=yield function BC(n,e,t,i){return a_.apply(this,arguments)}(e.localStore,new OI(e.M),e.documents,e.Ou.id),i=e.$u(e.documents);for(const r of e.queries)yield HC(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function kI(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class PI{constructor(e){this.key=e}}class RI{constructor(e){this.key=e}}class NI{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=yi(),this.mutatedKeys=yi(),this.Gu=Jo(e),this.Qu=new ud(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new A0,r=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,h=r,g=!1;const v="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,T="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((L,Q)=>{const fe=r.get(L),Se=wp(this.query,Q)?Q:null,Oe=!!fe&&this.mutatedKeys.has(fe.key),Xe=!!Se&&(Se.hasLocalMutations||this.mutatedKeys.has(Se.key)&&Se.hasCommittedMutations);let ft=!1;fe&&Se?fe.data.isEqual(Se.data)?Oe!==Xe&&(i.track({type:3,doc:Se}),ft=!0):this.Hu(fe,Se)||(i.track({type:2,doc:Se}),ft=!0,(v&&this.Gu(Se,v)>0||T&&this.Gu(Se,T)<0)&&(g=!0)):!fe&&Se?(i.track({type:0,doc:Se}),ft=!0):fe&&!Se&&(i.track({type:1,doc:fe}),ft=!0,(v||T)&&(g=!0)),ft&&(Se?(h=h.add(Se),u=Xe?u.add(L):u.delete(L)):(h=h.delete(L),u=u.delete(L)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const L="F"===this.query.limitType?h.last():h.first();h=h.delete(L.key),u=u.delete(L.key),i.track({type:1,doc:L})}return{Qu:h,zu:i,ii:g,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Au();u.sort((T,L)=>function(Q,fe){const Se=Oe=>{switch(Oe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jt()}};return Se(Q)-Se(fe)}(T.type,L.type)||this.Gu(T.doc,L.doc)),this.Ju(i);const h=t?this.Yu():[],g=0===this.Ku.size&&this.current?1:0,v=g!==this.qu;return this.qu=g,0!==u.length||v?{snapshot:new Gh(this.query,e.Qu,r,u,e.mutatedKeys,0===g,v,!1),Xu:h}:{Xu:h}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new A0,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=yi(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new RI(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new PI(i))}),t}ta(e){this.Uu=e._i,this.Ku=yi();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Gh.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class pS{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class gS{constructor(e){this.key=e,this.na=!1}}class w_{constructor(e,t,i,r,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.sa={},this.ia=new Vu(g=>gv(g),bp),this.ra=new Map,this.oa=new Set,this.ua=new sr(At.comparator),this.aa=new Map,this.ca=new l0,this.ha={},this.la=new Map,this.fa=nd.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function mS(n,e){return C_.apply(this,arguments)}function C_(){return C_=(0,tt.Z)(function*(n,e){const t=A_(n);let i,r;const u=t.ia.get(e);if(u)i=u.targetId,t.sharedClientState.addLocalQueryTarget(i),r=u.view.ea();else{const h=yield Rh(t.localStore,Qo(e));t.isPrimaryClient&&zp(t.remoteStore,h);const g=t.sharedClientState.addLocalQueryTarget(h.targetId);i=h.targetId,r=yield Jp(t,e,i,"current"===g)}return r}),C_.apply(this,arguments)}function Jp(n,e,t,i){return E_.apply(this,arguments)}function E_(){return E_=(0,tt.Z)(function*(n,e,t,i){n._a=(L,Q,fe)=>{return(Se=(0,tt.Z)(function*(Oe,Xe,ft,Kt){let Xt=Xe.view.Wu(ft);Xt.ii&&(Xt=yield Gu(Oe.localStore,Xe.query,!1).then(({documents:wn})=>Xe.view.Wu(wn,Xt)));const Gt=Kt&&Kt.targetChanges.get(Xe.targetId),kt=Xe.view.applyChanges(Xt,Oe.isPrimaryClient,Gt);return eg(Oe,Xe.targetId,kt.Xu),kt.snapshot}),function(Oe,Xe,ft,Kt){return Se.apply(this,arguments)})(n,L,Q,fe);var Se};const r=yield Gu(n.localStore,e,!0),u=new NI(e,r._i),h=u.Wu(r.documents),g=Ih.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),v=u.applyChanges(h,n.isPrimaryClient,g);eg(n,t,v.Xu);const T=new pS(e,t,u);return n.ia.set(e,T),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),v.snapshot}),E_.apply(this,arguments)}function nE(n,e){return iE.apply(this,arguments)}function iE(){return iE=(0,tt.Z)(function*(n,e){const t=Dt(n),i=t.ia.get(e),r=t.ra.get(i.targetId);if(r.length>1)return t.ra.set(i.targetId,r.filter(u=>!bp(u,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Nh(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Wp(t.remoteStore,i.targetId),Xp(t,i.targetId)}).catch(rd))):(Xp(t,i.targetId),yield Nh(t.localStore,i.targetId,!0))}),iE.apply(this,arguments)}function T_(){return T_=(0,tt.Z)(function*(n,e,t){const i=G0(n);try{const r=yield function(u,h){const g=Dt(u),v=rr.now(),T=h.reduce((Q,fe)=>Q.add(fe.key),yi());let L;return g.persistence.runTransaction("Locally write mutations","readwrite",Q=>g.fi.Ks(Q,T).next(fe=>{L=fe;const Se=[];for(const Oe of h){const Xe=vv(Oe,L.get(Oe.key));null!=Xe&&Se.push(new Lu(Oe.key,Xe,Hw(Xe.value.mapValue),Sr.exists(!0)))}return g.Bs.addMutationBatch(Q,v,Se,h)})).then(Q=>(Q.applyToLocalDocumentSet(L),{batchId:Q.batchId,changes:L}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(u,h,g){let v=u.ha[u.currentUser.toKey()];v||(v=new sr(Nn)),v=v.insert(h,g),u.ha[u.currentUser.toKey()]=v}(i,r.batchId,t),yield ql(i,r.changes),yield Hh(i.remoteStore)}catch(r){const u=$h(r,"Failed to persist write");t.reject(u)}}),T_.apply(this,arguments)}function rE(n,e){return I_.apply(this,arguments)}function I_(){return I_=(0,tt.Z)(function*(n,e){const t=Dt(n);try{const i=yield LC(t.localStore,e);e.targetChanges.forEach((r,u)=>{const h=t.aa.get(u);h&&(hn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?h.na=!0:r.modifiedDocuments.size>0?hn(h.na):r.removedDocuments.size>0&&(hn(h.na),h.na=!1))}),yield ql(t,i,e)}catch(i){yield rd(i)}}),I_.apply(this,arguments)}function FI(n,e,t){const i=Dt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ia.forEach((u,h)=>{const g=h.view.Pu(e);g.snapshot&&r.push(g.snapshot)}),function(u,h){const g=Dt(u);g.onlineState=h;let v=!1;g.queries.forEach((T,L)=>{for(const Q of L.listeners)Q.Pu(h)&&(v=!0)}),v&&O0(g)}(i.eventManager,e),r.length&&i.sa.zo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function LI(n,e,t){return P0.apply(this,arguments)}function P0(){return P0=(0,tt.Z)(function*(n,e,t){const i=Dt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.aa.get(e),u=r&&r.key;if(u){let h=new sr(At.comparator);h=h.insert(u,Ti.newNoDocument(u,pn.min()));const g=yi().add(u),v=new Th(pn.min(),new Map,new Di(Nn),h,g);yield rE(i,v),i.ua=i.ua.remove(u),i.aa.delete(e),Co(i)}else yield Nh(i.localStore,e,!1).then(()=>Xp(i,e,t)).catch(rd)}),P0.apply(this,arguments)}function R0(n,e){return N0.apply(this,arguments)}function N0(){return N0=(0,tt.Z)(function*(n,e){const t=Dt(n),i=e.batch.batchId;try{const r=yield FC(t.localStore,e);V0(t,i,null),L0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield ql(t,r)}catch(r){yield rd(r)}}),N0.apply(this,arguments)}function _S(n,e,t){return sE.apply(this,arguments)}function sE(){return sE=(0,tt.Z)(function*(n,e,t){const i=Dt(n);try{const r=yield function(u,h){const g=Dt(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let T;return g.Bs.lookupMutationBatch(v,h).next(L=>(hn(null!==L),T=L.keys(),g.Bs.removeMutationBatch(v,L))).next(()=>g.Bs.performConsistencyCheck(v)).next(()=>g.fi.Ks(v,T))})}(i.localStore,e);V0(i,e,t),L0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield ql(i,r)}catch(r){yield rd(r)}}),sE.apply(this,arguments)}function F0(){return F0=(0,tt.Z)(function*(n,e){const t=Dt(n);$l(t.remoteStore)||ht("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(u){const h=Dt(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>h.Bs.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===i)return void e.resolve();const r=t.la.get(i)||[];r.push(e),t.la.set(i,r)}catch(i){const r=$h(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),F0.apply(this,arguments)}function L0(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function V0(n,e,t){const i=Dt(n);let r=i.ha[i.currentUser.toKey()];if(r){const u=r.get(e);u&&(t?u.reject(t):u.resolve(),r=r.remove(e)),i.ha[i.currentUser.toKey()]=r}}function Xp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ra.get(e))n.ia.delete(i),t&&n.sa.wa(i,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(i=>{n.ca.containsKey(i)||oE(n,i)})}function oE(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(Wp(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),Co(n))}function eg(n,e,t){for(const i of t)i instanceof PI?(n.ca.addReference(i.key,e),VI(n,i)):i instanceof RI?(ht("SyncEngine","Document no longer in limbo: "+i.key),n.ca.removeReference(i.key,e),n.ca.containsKey(i.key)||oE(n,i.key)):jt()}function VI(n,e){const t=e.key,i=t.path.canonicalString();n.ua.get(t)||n.oa.has(i)||(ht("SyncEngine","New document in limbo: "+t),n.oa.add(i),Co(n))}function Co(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new At(zn.fromString(e)),i=n.fa.next();n.aa.set(i,new gS(t)),n.ua=n.ua.insert(t,i),zp(n.remoteStore,new Hu(Qo(Gc(t.path)),i,2,ro.A))}}function ql(n,e,t){return tg.apply(this,arguments)}function tg(){return tg=(0,tt.Z)(function*(n,e,t){const i=Dt(n),r=[],u=[],h=[];var g;i.ia.isEmpty()||(i.ia.forEach((g,v)=>{h.push(i._a(v,e,t).then(T=>{if(T){i.isPrimaryClient&&i.sharedClientState.updateQueryState(v.targetId,T.fromCache?"not-current":"current"),r.push(T);const L=i_.Ys(v.targetId,T);u.push(L)}}))}),yield Promise.all(h),i.sa.zo(r),yield(g=(0,tt.Z)(function*(v,T){const L=Dt(v);try{yield L.persistence.runTransaction("notifyLocalViewChanges","readwrite",Q=>Ye.forEach(T,fe=>Ye.forEach(fe.Hs,Se=>L.persistence.referenceDelegate.addReference(Q,fe.targetId,Se)).next(()=>Ye.forEach(fe.Js,Se=>L.persistence.referenceDelegate.removeReference(Q,fe.targetId,Se)))))}catch(Q){if(!Bu(Q))throw Q;ht("LocalStore","Failed to update sequence numbers: "+Q)}for(const Q of T){const fe=Q.targetId;if(!Q.fromCache){const Se=L.ui.get(fe),Xe=Se.withLastLimboFreeSnapshotVersion(Se.snapshotVersion);L.ui=L.ui.insert(fe,Xe)}}}),function(v,T){return g.apply(this,arguments)})(i.localStore,u))}),tg.apply(this,arguments)}function UI(n,e){return U0.apply(this,arguments)}function U0(){return U0=(0,tt.Z)(function*(n,e){const t=Dt(n);if(!t.currentUser.isEqual(e)){ht("SyncEngine","User change. New user:",e.toKey());const i=yield t0(t.localStore,e);t.currentUser=e,(r=t).la.forEach(h=>{h.forEach(g=>{g.reject(new lt(ze.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.la.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ql(t,i.di)}var r}),U0.apply(this,arguments)}function B0(n,e){const t=Dt(n),i=t.aa.get(e);if(i&&i.na)return yi().add(i.key);{let r=yi();const u=t.ra.get(e);if(!u)return r;for(const h of u){const g=t.ia.get(h);r=r.unionWith(g.view.ju)}return r}}function aE(n,e){return D_.apply(this,arguments)}function D_(){return D_=(0,tt.Z)(function*(n,e){const t=Dt(n),i=yield Gu(t.localStore,e.query,!0),r=e.view.ta(i);return t.isPrimaryClient&&eg(t,e.targetId,r.Xu),r}),D_.apply(this,arguments)}function BI(n,e){return S_.apply(this,arguments)}function S_(){return S_=(0,tt.Z)(function*(n,e){const t=Dt(n);return s0(t.localStore,e).then(i=>ql(t,i))}),S_.apply(this,arguments)}function HI(n,e,t,i){return H0.apply(this,arguments)}function H0(){return H0=(0,tt.Z)(function*(n,e,t,i){const r=Dt(n),u=yield function(h,g){const v=Dt(h),T=Dt(v.Bs);return v.persistence.runTransaction("Lookup mutation documents","readonly",L=>T.fn(L,g).next(Q=>Q?v.fi.Ks(L,Q):Ye.resolve(null)))}(r.localStore,e);var g;null!==u?("pending"===t?yield Hh(r.remoteStore):"acknowledged"===t||"rejected"===t?(V0(r,e,i||null),L0(r,e),g=e,Dt(Dt(r.localStore).Bs)._n(g)):jt(),yield ql(r,u)):ht("SyncEngine","Cannot apply mutation batch with id: "+e)}),H0.apply(this,arguments)}function ng(){return ng=(0,tt.Z)(function*(n,e){const t=Dt(n);if(A_(t),G0(t),!0===e&&!0!==t.da){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield zu(t,i.toArray());t.da=!0,yield QC(t.remoteStore,!0);for(const u of r)zp(t.remoteStore,u)}else if(!1===e&&!1!==t.da){const i=[];let r=Promise.resolve();t.ra.forEach((u,h)=>{t.sharedClientState.isLocalQueryTarget(h)?i.push(h):r=r.then(()=>(Xp(t,h),Nh(t.localStore,h,!0))),Wp(t.remoteStore,h)}),yield r,yield zu(t,i),function(u){const h=Dt(u);h.aa.forEach((g,v)=>{Wp(h.remoteStore,v)}),h.ca.Si(),h.aa=new Map,h.ua=new sr(At.comparator)}(t),t.da=!1,yield QC(t.remoteStore,!1)}}),ng.apply(this,arguments)}function zu(n,e,t){return x_.apply(this,arguments)}function x_(){return x_=(0,tt.Z)(function*(n,e,t){const i=Dt(n),r=[],u=[];for(const h of e){let g;const v=i.ra.get(h);if(v&&0!==v.length){g=yield Rh(i.localStore,Qo(v[0]));for(const T of v){const L=i.ia.get(T),Q=yield aE(i,L);Q.snapshot&&u.push(Q.snapshot)}}else{const T=yield r0(i.localStore,h);g=yield Rh(i.localStore,T),yield Jp(i,j0(T),h,!1)}r.push(g)}return i.sa.zo(u),r}),x_.apply(this,arguments)}function j0(n){return Kw(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ZI(n){const e=Dt(n);return Dt(Dt(e.localStore).persistence).Fs()}function vS(n,e,t,i){return Z0.apply(this,arguments)}function Z0(){return Z0=(0,tt.Z)(function*(n,e,t,i){const r=Dt(n);if(r.da)return void ht("SyncEngine","Ignoring unexpected query state notification.");const u=r.ra.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const h=yield s0(r.localStore,Lm(u[0])),g=Th.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield ql(r,h,g);break}case"rejected":yield Nh(r.localStore,e,!0),Xp(r,e,i);break;default:jt()}}),Z0.apply(this,arguments)}function $I(n,e,t){return $0.apply(this,arguments)}function $0(){return $0=(0,tt.Z)(function*(n,e,t){const i=A_(n);if(i.da){for(const r of e){if(i.ra.has(r)){ht("SyncEngine","Adding an already active target "+r);continue}const u=yield r0(i.localStore,r),h=yield Rh(i.localStore,u);yield Jp(i,j0(u),h.targetId,!1),zp(i.remoteStore,h)}for(const r of t)i.ra.has(r)&&(yield Nh(i.localStore,r,!1).then(()=>{Wp(i.remoteStore,r),Xp(i,r)}).catch(rd))}}),$0.apply(this,arguments)}function A_(n){const e=Dt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=rE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LI.bind(null,e),e.sa.zo=XC.bind(null,e.eventManager),e.sa.wa=MI.bind(null,e.eventManager),e}function G0(n){const e=Dt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R0.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_S.bind(null,e),e}class qI{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,tt.Z)(function*(){t.M=Vh(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return r_(this.persistence,new _I,e.initialUser,this.M)}ya(e){return new al(Gp.Yi,this.M)}ga(e){return new f0}terminate(){var e=this;return(0,tt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class M_ extends qI{constructor(e,t,i){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,tt.Z)(function*(){yield t().call(i,e),yield i.Ta.initialize(i,e),yield G0(i.Ta.syncEngine),yield Hh(i.Ta.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Ia(e){return r_(this.persistence,new _I,e.initialUser,this.M)}pa(e){return new Jv(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=e0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?oo.withCacheSize(this.cacheSizeBytes):oo.DEFAULT;return new $u(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,c_(),Lh(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new f0}}class lE extends M_{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,tt.Z)(function*(){yield t().call(i,e);const r=i.Ta.syncEngine;i.sharedClientState instanceof u_&&(i.sharedClientState.syncEngine={$r:HI.bind(null,r),Br:vS.bind(null,r),Lr:$I.bind(null,r),Fs:ZI.bind(null,r),Fr:BI.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var u=(0,tt.Z)(function*(h){yield function jI(n,e){return ng.apply(this,arguments)}(i.Ta.syncEngine,h),i.gcScheduler&&(h&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):h||i.gcScheduler.stop())});return function(h){return u.apply(this,arguments)}}())})()}ga(e){const t=c_();if(!u_.vt(t))throw new lt(ze.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=e0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new u_(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class q0{initialize(e,t){var i=this;return(0,tt.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>FI(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=UI.bind(null,i.syncEngine),yield QC(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new JC}createDatastore(e){const t=Vh(e.databaseInfo.databaseId),i=new hS(e.databaseInfo);return new DI(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,u=g=>FI(this.syncEngine,g,0),h=g0.vt()?new g0:new p0,new $C(t,i,r,u,h);var t,i,r,u,h}createSyncEngine(e,t){return function(i,r,u,h,g,v,T){const L=new w_(i,r,u,h,g,v);return T&&(L.da=!0),L}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,tt.Z)(function*(t){const i=Dt(t);ht("RemoteStore","RemoteStore shutting down."),i.wu.add(5),yield ld(i),i.gu.shutdown(),i.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function uE(n,e=10240){let t=0;return{read:()=>(0,tt.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,tt.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ig{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class z0{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new Qi,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(i=>{i&&i.Mu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,tt.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,tt.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,tt.Z)(function*(){const t=yield e.Va();if(null===t)return null;const i=e.ba.decode(t),r=Number(i);isNaN(r)&&e.va(`length string (${i}) is not valid number`);const u=yield e.Sa(r);return new tE(JSON.parse(u),t.length+r)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,tt.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Sa(e){var t=this;return(0,tt.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const i=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,tt.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class W0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,tt.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new lt(ze.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,tt.Z)(function*(u,h){const g=Dt(u),v=Ap(g.M)+"/documents",T={documents:h.map(Se=>Sh(g.M,Se))},L=yield g._o("BatchGetDocuments",v,T),Q=new Map;L.forEach(Se=>{const Oe=function QT(n,e){return"found"in e?function(t,i){hn(!!i.found);const r=ba(t,i.found.name),u=ps(i.found.updateTime),h=new ns({mapValue:{fields:i.found.fields}});return Ti.newFoundDocument(r,u,h)}(n,e):"missing"in e?function(t,i){hn(!!i.missing),hn(!!i.readTime);const r=ba(t,i.missing),u=ps(i.readTime);return Ti.newNoDocument(r,u)}(n,e):jt()}(g.M,Se);Q.set(Oe.key.toString(),Oe)});const fe=[];return h.forEach(Se=>{const Oe=Q.get(Se.toString());hn(!!Oe),fe.push(Oe)}),fe}),function(u,h){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Tp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,tt.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const u=At.fromPath(r);e.mutations.push(new Iv(u,e.precondition(u)))}),yield(i=(0,tt.Z)(function*(r,u){const h=Dt(r),g=Ap(h.M)+"/documents",v={writes:u.map(T=>Uu(h.M,T))};yield h.co("Commit",g,v)}),function(r,u){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw jt();t=pn.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new lt(ze.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Sr.updateTime(t):Sr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(pn.min()))throw new lt(ze.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sr.updateTime(t)}return Sr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class cE{constructor(e,t,i,r,u){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=u,this.xa=i.maxAttempts,this.No=new qp(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,tt.Z)(function*(){const t=new W0(e.datastore),i=e.ka(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(u=>{e.Ma(u)}))}).catch(r=>{e.Ma(r)})}))}ka(e){try{const t=this.updateFunction(e);return!ol(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!iC(t)}return!1}}class zI{constructor(e,t,i,r){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=fs.UNAUTHENTICATED,this.clientId=tv.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var h=(0,tt.Z)(function*(g){ht("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(i,h=>(ht("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,tt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new lt(ze.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,tt.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=$h(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function K0(n,e){return O_.apply(this,arguments)}function O_(){return O_=(0,tt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ht("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,tt.Z)(function*(u){i.isEqual(u)||(yield t0(e.localStore,u),i=u)});return function(u){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),O_.apply(this,arguments)}function dE(n,e){return Y0.apply(this,arguments)}function Y0(){return Y0=(0,tt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield hE(n);ht("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>m_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,u)=>m_(e.remoteStore,u)),n.onlineComponents=e}),Y0.apply(this,arguments)}function hE(n){return fE.apply(this,arguments)}function fE(){return fE=(0,tt.Z)(function*(n){return n.offlineComponents||(ht("FirestoreClient","Using default OfflineComponentProvider"),yield K0(n,new qI)),n.offlineComponents}),fE.apply(this,arguments)}function rg(n){return Q0.apply(this,arguments)}function Q0(){return Q0=(0,tt.Z)(function*(n){return n.onlineComponents||(ht("FirestoreClient","Using default OnlineComponentProvider"),yield dE(n,new q0)),n.onlineComponents}),Q0.apply(this,arguments)}function pE(n){return hE(n).then(e=>e.persistence)}function J0(n){return hE(n).then(e=>e.localStore)}function WI(n){return rg(n).then(e=>e.remoteStore)}function gE(n){return rg(n).then(e=>e.syncEngine)}function sg(n){return mE.apply(this,arguments)}function mE(){return mE=(0,tt.Z)(function*(n){const e=yield rg(n),t=e.eventManager;return t.onListen=mS.bind(null,e.syncEngine),t.onUnlisten=nE.bind(null,e.syncEngine),t}),mE.apply(this,arguments)}function _E(n,e,t={}){const i=new Qi;return n.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return function(r,u,h,g,v){const T=new ig({next:Q=>{u.enqueueAndForget(()=>v_(r,L));const fe=Q.docs.has(h);!fe&&Q.fromCache?v.reject(new lt(ze.UNAVAILABLE,"Failed to get document because the client is offline.")):fe&&Q.fromCache&&g&&"server"===g.source?v.reject(new lt(ze.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(Q)},error:Q=>v.reject(Q)}),L=new eE(Gc(h.path),T,{includeMetadataChanges:!0,ku:!0});return M0(r,L)}(yield sg(n),n.asyncQueue,e,t,i)})),i.promise}function X0(n,e,t={}){const i=new Qi;return n.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return function(r,u,h,g,v){const T=new ig({next:Q=>{u.enqueueAndForget(()=>v_(r,L)),Q.fromCache&&"server"===g.source?v.reject(new lt(ze.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(Q)},error:Q=>v.reject(Q)}),L=new eE(h,T,{includeMetadataChanges:!0,ku:!0});return M0(r,L)}(yield sg(n),n.asyncQueue,e,t,i)})),i.promise}const vE=new Map;function og(n,e,t){if(!t)throw new lt(ze.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function P_(n,e,t,i){if(!0===e&&!0===i)throw new lt(ze.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ag(n){if(!At.isDocumentKey(n))throw new lt(ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function QI(n){if(At.isDocumentKey(n))throw new lt(ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":jt()}function Kn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new lt(ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nb(n);throw new lt(ze.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function JI(n,e){if(e<=0)throw new lt(ze.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class ib{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new lt(ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new lt(ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,P_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lg{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ib({}),this._settingsFrozen=!1,e instanceof Ul?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new lt(ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(r.options.projectId)}(e))}get app(){if(!this._app)throw new lt(ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new lt(ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ib(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new uh;switch(t.type){case"gapi":const i=t.client;return hn(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new kw(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new lt(ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=vE.get(e);t&&(ht("ComponentProvider","Removing Datastore"),vE.delete(e),t.terminate())}(this),Promise.resolve()}}class Ni{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ni(this.firestore,e,this._key)}}class xs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class Ta extends xs{constructor(e,t,i){super(e,t,Gc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ni(this.firestore,null,new At(e))}withConverter(e){return new Ta(this.firestore,e,this._path)}}function rb(n,e,...t){if(n=(0,fn.m9)(n),og("collection","path",e),n instanceof lg){const i=zn.fromString(e,...t);return QI(i),new Ta(n,null,i)}{if(!(n instanceof Ni||n instanceof Ta))throw new lt(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(zn.fromString(e,...t));return QI(i),new Ta(n.firestore,null,i)}}function R_(n,e,...t){if(n=(0,fn.m9)(n),1===arguments.length&&(e=tv.R()),og("doc","path",e),n instanceof lg){const i=zn.fromString(e,...t);return ag(i),new Ni(n,null,new At(i))}{if(!(n instanceof Ni||n instanceof Ta))throw new lt(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(zn.fromString(e,...t));return ag(i),new Ni(n.firestore,n instanceof Ta?n.converter:null,new At(i))}}function wE(n,e){return n=(0,fn.m9)(n),e=(0,fn.m9)(e),(n instanceof Ni||n instanceof Ta)&&(e instanceof Ni||e instanceof Ta)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function sb(n,e){return n=(0,fn.m9)(n),e=(0,fn.m9)(e),n instanceof xs&&e instanceof xs&&n.firestore===e.firestore&&bp(n._query,e._query)&&n.converter===e.converter}class ob{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new qp(this,"async_queue_retry"),this.Qa=()=>{const t=Lh();t&&ht("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=Lh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=Lh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new Qi;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,tt.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Bu(t))throw t;ht("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(i=>{throw this.Ua=i,this.qa=!1,Mi("INTERNAL UNHANDLED ERROR: ",function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),h}(i)),i}).then(i=>(this.qa=!1,i))));return this.Fa=t,t}enqueueAfterDelay(e,t,i){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const r=__.createAndSchedule(this,e,t,i,u=>this.Ha(u));return this.La.push(r),r}ja(){this.Ua&&jt()}verifyOperationInProgress(){}Ja(){var e=this;return(0,tt.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function CE(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class EE{constructor(){this._progressObserver={},this._taskCompletionResolver=new Qi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class qi extends lg{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new ob,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||TE(this),this._firestoreClient.terminate()}}function $r(n){return n._firestoreClient||TE(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function TE(n){var e;const t=n._freezeSettings(),i=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new nS(n._databaseId,u,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var u,g;n._firestoreClient=new zI(n._authCredentials,n._appCheckCredentials,n._queue,i)}function tD(n,e,t){const i=new Qi;return n.asyncQueue.enqueue((0,tt.Z)(function*(){try{yield K0(n,t),yield dE(n,e),i.resolve()}catch(r){if(!("FirebaseError"===(u=r).name?u.code===ze.FAILED_PRECONDITION||u.code===ze.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var u})).then(()=>i.promise)}function iD(n){if(n._initialized||n._terminated)throw new lt(ze.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class s{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new lt(ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class l{constructor(e){this._byteString=e}static fromBase64String(e){try{return new l(fr.fromBase64String(e))}catch(t){throw new lt(ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new l(fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class c{constructor(e){this._methodName=e}}class f{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new lt(ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new lt(ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nn(this._lat,e._lat)||Nn(this._long,e._long)}}const m=/^__.*__$/;class b{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Lu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Eh(e,this.data,t,this.fieldTransforms)}}class E{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Lu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function I(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jt()}}class F{constructor(e,t,i,r,u,h){this.settings=e,this.databaseId=t,this.M=i,this.ignoreUndefinedProperties=r,void 0===u&&this.tc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new F(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:i,ic:!1});return r.rc(e),r}oc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:i,ic:!1});return r.tc(),r}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return zh(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(I(this.ec)&&m.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class G{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=i||Vh(e)}lc(e,t,i,r=!1){return new F({ec:e,methodName:t,hc:i,path:jr.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function oe(n){const e=n._freezeSettings(),t=Vh(n._databaseId);return new G(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Te(n,e,t,i,r,u={}){const h=n.lc(u.merge||u.mergeFields?2:0,e,t,r);ug("Data must be an object, but it was:",h,i);const g=Wu(i,h);let v,T;if(u.merge)v=new dp(h.fieldMask),T=h.fieldTransforms;else if(u.mergeFields){const L=[];for(const Q of u.mergeFields){const fe=cg(e,Q,t);if(!h.contains(fe))throw new lt(ze.INVALID_ARGUMENT,`Field '${fe}' is specified in your field mask but missing from your input data.`);F_(L,fe)||L.push(fe)}v=new dp(L),T=h.fieldTransforms.filter(Q=>v.covers(Q.field))}else v=null,T=h.fieldTransforms;return new b(new ns(g),v,T)}class Ne extends c{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ne}}function rt(n,e,t){return new F({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class bt extends c{_toFieldTransform(e){return new wh(e.path,new yh)}isEqual(e){return e instanceof bt}}class St extends c{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=rt(this,e,!0),i=this.fc.map(u=>Gr(u,t)),r=new qc(i);return new wh(e.path,r)}isEqual(e){return this===e}}class Zt extends c{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=rt(this,e,!0),i=this.fc.map(u=>Gr(u,t)),r=new jl(i);return new wh(e.path,r)}isEqual(e){return this===e}}class ot extends c{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new bh(e.M,Xo(e.M,this.dc));return new wh(e.path,t)}isEqual(e){return this===e}}function tn(n,e,t,i){const r=n.lc(1,e,t);ug("Data must be an object, but it was:",r,i);const u=[],h=ns.empty();Vc(i,(v,T)=>{const L=qh(e,v,t);T=(0,fn.m9)(T);const Q=r.oc(L);if(T instanceof Ne)u.push(L);else{const fe=Gr(T,Q);null!=fe&&(u.push(L),h.set(L,fe))}});const g=new dp(u);return new E(h,g,r.fieldTransforms)}function Bn(n,e,t,i,r,u){const h=n.lc(1,e,t),g=[cg(e,i,t)],v=[r];if(u.length%2!=0)throw new lt(ze.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let fe=0;fe<u.length;fe+=2)g.push(cg(e,u[fe])),v.push(u[fe+1]);const T=[],L=ns.empty();for(let fe=g.length-1;fe>=0;--fe)if(!F_(T,g[fe])){const Se=g[fe];let Oe=v[fe];Oe=(0,fn.m9)(Oe);const Xe=h.oc(Se);if(Oe instanceof Ne)T.push(Se);else{const ft=Gr(Oe,Xe);null!=ft&&(T.push(Se),L.set(Se,ft))}}const Q=new dp(T);return new E(L,Q,h.fieldTransforms)}function di(n,e,t,i=!1){return Gr(t,n.lc(i?4:3,e))}function Gr(n,e){if(N_(n=(0,fn.m9)(n)))return ug("Unsupported field value:",e,n),Wu(n,e);if(n instanceof c)return function(t,i){if(!I(i.ec))throw i.ac(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ac(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,i){const r=[];let u=0;for(const h of t){let g=Gr(h,i.uc(u));null==g&&(g={nullValue:"NULL_VALUE"}),r.push(g),u++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,fn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Xo(i.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=rr.fromDate(t);return{timestampValue:Sp(i.M,r)}}if(t instanceof rr){const r=new rr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Sp(i.M,r)}}if(t instanceof f)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof l)return{bytesValue:lC(i.M,t._byteString)};if(t instanceof Ni){const r=i.databaseId,u=t.firestore._databaseId;if(!u.isEqual(r))throw i.ac(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:xp(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ac(`Unsupported field value: ${nb(t)}`)}(n,e)}function Wu(n,e){const t={};return nv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vc(n,(i,r)=>{const u=Gr(r,e.sc(i));null!=u&&(t[i]=u)}),{mapValue:{fields:t}}}function N_(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof rr||n instanceof f||n instanceof l||n instanceof Ni||n instanceof c)}function ug(n,e,t){if(!N_(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=nb(t);throw e.ac("an object"===i?n+" a custom object":n+" "+i)}var i}function cg(n,e,t){if((e=(0,fn.m9)(e))instanceof s)return e._internalPath;if("string"==typeof e)return qh(n,e);throw zh("Field path arguments must be of type string or ",n,!1,void 0,t)}const lb=new RegExp("[~\\*/\\[\\]]");function qh(n,e,t){if(e.search(lb)>=0)throw zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new s(...e.split("."))._internalPath}catch(i){throw zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zh(n,e,t,i,r){const u=i&&!i.isEmpty(),h=void 0!==r;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(u||h)&&(v+=" (found",u&&(v+=` in field ${i}`),h&&(v+=` in document ${r}`),v+=")"),new lt(ze.INVALID_ARGUMENT,g+n+v)}function F_(n,e){return n.some(t=>t.isEqual(e))}class dd{constructor(e,t,i,r,u){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ni(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ub(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(IE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ub extends dd{data(){return super.data()}}function IE(n,e){return"string"==typeof e?qh(n,e):e instanceof s?e._internalPath:e._delegate._internalPath}class dg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hd extends dd{constructor(e,t,i,r,u,h){super(e,t,i,r,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(IE("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class cb extends hd{data(e={}){return super.data(e)}}class Wh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new dg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new cb(this._firestore,this._userDataWriter,i.key,i,new dg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new lt(ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(h=>({type:"added",doc:new cb(i._firestore,i._userDataWriter,h.doc.key,h.doc,new dg(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>r||3!==h.type).map(h=>{const g=new cb(i._firestore,i._userDataWriter,h.doc.key,h.doc,new dg(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let v=-1,T=-1;return 0!==h.type&&(v=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),1!==h.type&&(u=u.add(h.doc),T=u.indexOf(h.doc.key)),{type:Wx(h.type),doc:g,oldIndex:v,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Wx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jt()}}function xS(n,e){return n instanceof hd&&e instanceof hd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Wh&&e instanceof Wh&&n._firestore===e._firestore&&sb(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function AS(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new lt(ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class db{}function Kh(n,...e){for(const t of e)n=t._apply(n);return n}class Kx extends db{constructor(e,t,i){super(),this._c=e,this.wc=t,this.mc=i,this.type="where"}_apply(e){const t=oe(e.firestore),i=function(r,u,h,g,v,T,L){let Q;if(v.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new lt(ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if("in"===T||"not-in"===T){NS(L,T);const Se=[];for(const Oe of L)Se.push(RS(g,r,Oe));Q={arrayValue:{values:Se}}}else Q=RS(g,r,L)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||NS(L,T),Q=di(h,"where",L,"in"===T||"not-in"===T);const fe=is.create(v,T,Q);return function(Se,Oe){if(Oe.S()){const ft=Fm(Se);if(null!==ft&&!ft.isEqual(Oe.field))throw new lt(ze.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ft.toString()}' and '${Oe.field.toString()}'`);const Kt=Nm(Se);null!==Kt&&FS(0,Oe.field,Kt)}const Xe=function(ft,Kt){for(const Xt of ft.filters)if(Kt.indexOf(Xt.op)>=0)return Xt.op;return null}(Se,function(ft){switch(ft){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Oe.op));if(null!==Xe)throw new lt(ze.INVALID_ARGUMENT,Xe===Oe.op?`Invalid query. You cannot use more than one '${Oe.op.toString()}' filter.`:`Invalid query. You cannot use '${Oe.op.toString()}' filters with '${Xe.toString()}' filters.`)}(r,fe),fe}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new xs(e.firestore,e.converter,function(r,u){const h=r.filters.concat([u]);return new Hl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),h,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class Qx extends db{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(i,r,u){if(null!==i.startAt)throw new lt(ze.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new lt(ze.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new $c(r,u);return function(g,v){if(null===Nm(g)){const T=Fm(g);null!==T&&FS(0,T,v.field)}}(i,h),h}(e._query,this._c,this.gc);return new xs(e.firestore,e.converter,function(i,r){const u=i.explicitOrderBy.concat([r]);return new Hl(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class MS extends db{constructor(e,t,i){super(),this.type=e,this.yc=t,this.Ic=i}_apply(e){return new xs(e.firestore,e.converter,pv(e._query,this.yc,this.Ic))}}class OS extends db{constructor(e,t,i){super(),this.type=e,this.Tc=t,this.Ec=i}_apply(e){const t=PS(e,this.type,this.Tc,this.Ec);return new xs(e.firestore,e.converter,(r=t,new Hl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class kS extends db{constructor(e,t,i){super(),this.type=e,this.Tc=t,this.Ec=i}_apply(e){const t=PS(e,this.type,this.Tc,this.Ec);return new xs(e.firestore,e.converter,(r=t,new Hl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function PS(n,e,t,i){if(t[0]=(0,fn.m9)(t[0]),t[0]instanceof dd)return function(r,u,h,g,v){if(!g)throw new lt(ze.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const T=[];for(const L of _h(r))if(L.field.isKeyField())T.push(ku(u,g.key));else{const Q=g.data.field(L.field);if(Lw(Q))throw new lt(ze.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+L.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Q){const fe=L.field.canonicalString();throw new lt(ze.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${fe}' (used as the orderBy) does not exist.`)}T.push(Q)}return new Nu(T,v)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=oe(n.firestore);return function(u,h,g,v,T,L){const Q=u.explicitOrderBy;if(T.length>Q.length)throw new lt(ze.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const fe=[];for(let Se=0;Se<T.length;Se++){const Oe=T[Se];if(Q[Se].field.isKeyField()){if("string"!=typeof Oe)throw new lt(ze.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof Oe}`);if(!Fu(u)&&-1!==Oe.indexOf("/"))throw new lt(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${Oe}' contains a slash.`);const Xe=u.path.child(zn.fromString(Oe));if(!At.isDocumentKey(Xe))throw new lt(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Xe}' is not because it contains an odd number of segments.`);const ft=new At(Xe);fe.push(ku(h,ft))}else{const Xe=di(g,v,Oe);fe.push(Xe)}}return new Nu(fe,L)}(n._query,n.firestore._databaseId,r,e,t,i)}}function RS(n,e,t){if("string"==typeof(t=(0,fn.m9)(t))){if(""===t)throw new lt(ze.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fu(e)&&-1!==t.indexOf("/"))throw new lt(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(zn.fromString(t));if(!At.isDocumentKey(i))throw new lt(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ku(n,new At(i))}if(t instanceof Ni)return ku(n,t._key);throw new lt(ze.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nb(t)}.`)}function NS(n,e){if(!Array.isArray(n)||0===n.length)throw new lt(ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new lt(ze.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function FS(n,e,t){if(!t.isEqual(e))throw new lt(ze.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const sA={maxAttempts:5};class rD{convertValue(e,t="none"){switch(Bc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(dh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw jt()}}convertObject(e,t){const i={};return Vc(e.fields,(r,u)=>{i[r]=this.convertValue(u,t)}),i}convertGeoPoint(e){return new f(pr(e.latitude),pr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Vw(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(hh(e));default:return null}}convertTimestamp(e){const t=Mu(e);return new rr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=zn.fromString(e);hn(_C(i));const r=new Ul(i.get(1),i.get(3)),u=new At(i.popFirst(5));return r.isEqual(t)||Mi(`Document ${u} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function DE(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class oA extends rD{constructor(e){super(),this.firestore=e}convertBytes(e){return new l(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ni(this.firestore,null,t)}}class LS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=oe(e)}set(e,t,i){this._verifyNotCommitted();const r=Yh(e,this._firestore),u=DE(r.converter,t,i),h=Te(this._dataReader,"WriteBatch.set",r._key,u,null!==r.converter,i);return this._mutations.push(h.toMutation(r._key,Sr.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const u=Yh(e,this._firestore);let h;return h="string"==typeof(t=(0,fn.m9)(t))||t instanceof s?Bn(this._dataReader,"WriteBatch.update",u._key,t,i,r):tn(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,Sr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Yh(e,this._firestore);return this._mutations=this._mutations.concat(new Tp(t._key,Sr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lt(ze.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yh(n,e){if((n=(0,fn.m9)(n)).firestore!==e)throw new lt(ze.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class hg extends rD{constructor(e){super(),this.firestore=e}convertBytes(e){return new l(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ni(this.firestore,null,t)}}function VS(n,e,t){n=Kn(n,Ni);const i=Kn(n.firestore,qi),r=DE(n.converter,e,t);return L_(i,[Te(oe(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Sr.none())])}function US(n,e,t,...i){n=Kn(n,Ni);const r=Kn(n.firestore,qi),u=oe(r);let h;return h="string"==typeof(e=(0,fn.m9)(e))||e instanceof s?Bn(u,"updateDoc",n._key,e,t,i):tn(u,"updateDoc",n._key,e),L_(r,[h.toMutation(n._key,Sr.exists(!0))])}function BS(n,...e){var t,i,r;n=(0,fn.m9)(n);let u={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||CE(e[h])||(u=e[h],h++);const g={includeMetadataChanges:u.includeMetadataChanges};if(CE(e[h])){const Q=e[h];e[h]=null===(t=Q.next)||void 0===t?void 0:t.bind(Q),e[h+1]=null===(i=Q.error)||void 0===i?void 0:i.bind(Q),e[h+2]=null===(r=Q.complete)||void 0===r?void 0:r.bind(Q)}let v,T,L;if(n instanceof Ni)T=Kn(n.firestore,qi),L=Gc(n._key.path),v={next:Q=>{e[h]&&e[h](sD(T,n,Q))},error:e[h+1],complete:e[h+2]};else{const Q=Kn(n,xs);T=Kn(Q.firestore,qi),L=Q._query;const fe=new hg(T);v={next:Se=>{e[h]&&e[h](new Wh(T,fe,Q,Se))},error:e[h+1],complete:e[h+2]},AS(n._query)}return function(Q,fe,Se,Oe){const Xe=new ig(Oe),ft=new eE(fe,Xe,Se);return Q.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return M0(yield sg(Q),ft)})),()=>{Xe.Aa(),Q.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return v_(yield sg(Q),ft)}))}}($r(T),L,g,v)}function L_(n,e){return function(t,i){const r=new Qi;return t.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return function k0(n,e,t){return T_.apply(this,arguments)}(yield gE(t),i,r)})),r.promise}($r(n),e)}function sD(n,e,t){const i=t.docs.get(e._key),r=new hg(n);return new hd(n,r,e._key,i,new dg(t.hasPendingWrites,t.fromCache),e.converter)}class mA extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=oe(e)}get(e){const t=Yh(e,this._firestore),i=new oA(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return jt();const u=r[0];if(u.isFoundDocument())return new dd(this._firestore,i,u.key,u,t.converter);if(u.isNoDocument())return new dd(this._firestore,i,t._key,null,t.converter);throw jt()})}set(e,t,i){const r=Yh(e,this._firestore),u=DE(r.converter,t,i),h=Te(this._dataReader,"Transaction.set",r._key,u,null!==r.converter,i);return this._transaction.set(r._key,h),this}update(e,t,i,...r){const u=Yh(e,this._firestore);let h;return h="string"==typeof(t=(0,fn.m9)(t))||t instanceof s?Bn(this._dataReader,"Transaction.update",u._key,t,i,r):tn(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,h),this}delete(e){const t=Yh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Yh(e,this._firestore),i=new hg(this._firestore);return super.get(e).then(r=>new hd(this._firestore,i,t._key,r._document,new dg(!1,!1),t.converter))}}function oD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new lt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function jS(){if("undefined"==typeof Uint8Array)throw new lt("unimplemented","Uint8Arrays are not available in this environment.")}function ZS(){if(!function VT(){return"undefined"!=typeof atob}())throw new lt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ah=Bs.SDK_VERSION,(0,Bs._registerComponent)(new Ml.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),u=new qi(r,new Mw(t.getProvider("auth-internal")),new Pw(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC")),(0,Bs.registerVersion)(oh,"3.4.9",n),(0,Bs.registerVersion)(oh,"3.4.9","esm2017")}();class hb{constructor(e){this._delegate=e}static fromBase64String(e){return ZS(),new hb(l.fromBase64String(e))}static fromUint8Array(e){return jS(),new hb(l.fromUint8Array(e))}toBase64(){return ZS(),this._delegate.toBase64()}toUint8Array(){return jS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function aD(n){return function IA(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class DA{enableIndexedDbPersistence(e,t){return function eD(n,e){iD(n=Kn(n,qi));const t=$r(n),i=n._freezeSettings(),r=new q0;return tD(t,r,new M_(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function CS(n){iD(n=Kn(n,qi));const e=$r(n),t=n._freezeSettings(),i=new q0;return tD(e,i,new lE(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function ES(n){if(n._initialized&&!n._terminated)throw new lt(ze.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Qi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,tt.Z)(function*(){try{yield(t=(0,tt.Z)(function*(i){if(!Ca.vt())return Promise.resolve();const r=i+"main";yield Ca.delete(r)}),function(i){return t.apply(this,arguments)})(e0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class $S{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ul||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Au("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function XI(n,e,t,i={}){var r;const u=(n=Kn(n,lg))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Au("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let h,g;if("string"==typeof i.mockUserToken)h=i.mockUserToken,g=fs.MOCK_USER;else{h=(0,fn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new lt(ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new fs(v)}n._authCredentials=new ch(new Fc(h,g))}}(this._delegate,e,t,i)}enableNetwork(){return function IS(n){return function bS(n){return n.asyncQueue.enqueue((0,tt.Z)(function*(){const e=yield pE(n),t=yield WI(n);return e.setNetworkEnabled(!0),function(i){const r=Dt(i);return r.wu.delete(0),ad(r)}(t)}))}($r(n=Kn(n,qi)))}(this._delegate)}disableNetwork(){return function nD(n){return function KI(n){return n.asyncQueue.enqueue((0,tt.Z)(function*(){const e=yield pE(n),t=yield WI(n);return e.setNetworkEnabled(!1),(i=(0,tt.Z)(function*(r){const u=Dt(r);u.wu.add(0),yield ld(u),u.yu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}($r(n=Kn(n,qi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,P_("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function TS(n){return function(e){const t=new Qi;return e.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return function yS(n,e){return F0.apply(this,arguments)}(yield gE(e),t)})),t.promise}($r(n=Kn(n,qi)))}(this._delegate)}onSnapshotsInSync(e){return function gA(n,e){return function cd(n,e){const t=new ig(e);return n.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return i=yield sg(n),r=t,Dt(i).bu.add(r),void r.next();var i,r})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return i=yield sg(n),r=t,void Dt(i).bu.delete(r);var i,r}))}}($r(n=Kn(n,qi)),CE(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new lt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new V_(this,rb(this._delegate,e))}catch(t){throw Eo(t,"collection()","Firestore.collection()")}}doc(e){try{return new ll(this,R_(this._delegate,e))}catch(t){throw Eo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new To(this,function bE(n,e){if(n=Kn(n,lg),og("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new lt(ze.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xs(n,null,(t=e,new Hl(zn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Eo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function _A(n,e,t){n=Kn(n,qi);const i=Object.assign(Object.assign({},sA),t);return function(r){if(r.maxAttempts<1)throw new lt(ze.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function yE(n,e,t){const i=new Qi;return n.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){const r=yield(u=n,rg(u).then(h=>h.datastore));var u;new cE(n.asyncQueue,r,t,e,i).run()})),i.promise}($r(n),r=>e(new mA(n,r)),i)}(this._delegate,t=>e(new GS(this,t)))}batch(){return $r(this._delegate),new qS(new LS(this._delegate,e=>L_(this._delegate,e)))}loadBundle(e){return function DS(n,e){const t=$r(n=Kn(n,qi)),i=new EE;return function eb(n,e,t,i){const r=function(u,h){let g;return g="string"==typeof u?(new TextEncoder).encode(u):u,v=function(v,T){if(v instanceof Uint8Array)return uE(v,T);if(v instanceof ArrayBuffer)return uE(new Uint8Array(v),T);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new z0(v,h);var v}(t,Vh(e));n.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){!function GI(n,e,t){const i=Dt(n);var r;(r=(0,tt.Z)(function*(u,h,g){try{const v=yield h.getMetadata();if(yield function(fe,Se){const Oe=Dt(fe),Xe=ps(Se.createTime);return Oe.persistence.runTransaction("hasNewerBundle","readonly",ft=>Oe._s.getBundleMetadata(ft,Se.id)).then(ft=>!!ft&&ft.createTime.compareTo(Xe)>=0)}(u.localStore,v))return yield h.close(),g._completeWith({taskState:"Success",documentsLoaded:(fe=v).totalDocuments,bytesLoaded:fe.totalBytes,totalDocuments:fe.totalDocuments,totalBytes:fe.totalBytes}),Promise.resolve(new Set);g._updateProgress(kI(v));const T=new fS(v,u.localStore,h.M);let L=yield h.ma();for(;L;){const fe=yield T.Fu(L);fe&&g._updateProgress(fe),L=yield h.ma()}const Q=yield T.complete();return yield ql(u,Q.Lu,void 0),yield function(fe,Se){const Oe=Dt(fe);return Oe.persistence.runTransaction("Save bundle","readwrite",Xe=>Oe._s.saveBundleMetadata(Xe,Se))}(u.localStore,v),g._completeWith(Q.progress),Promise.resolve(Q.Bu)}catch(v){return Au("SyncEngine",`Loading bundle failed with ${v}`),g._failWith(v),Promise.resolve(new Set)}var fe}),function(u,h,g){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield gE(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function SS(n,e){return function tb(n,e){return n.asyncQueue.enqueue((0,tt.Z)(function*(){return function(t,i){const r=Dt(t);return r.persistence.runTransaction("Get named query","readonly",u=>r._s.getNamedQuery(u,i))}(yield J0(n),e)}))}($r(n=Kn(n,qi)),e).then(t=>t?new xs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new To(this,t):null)}}class SE extends rD{constructor(e){super(),this.firestore=e}convertBytes(e){return new hb(new l(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ll.forKey(t,this.firestore,null)}}class GS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new SE(e)}get(e){const t=pg(e);return this._delegate.get(t).then(i=>new fb(this._firestore,new hd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=pg(e);return i?(oD("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const u=pg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,i,...r),this}delete(e){const t=pg(e);return this._delegate.delete(t),this}}class qS{constructor(e){this._delegate=e}set(e,t,i){const r=pg(e);return i?(oD("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const u=pg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,i,...r),this}delete(e){const t=pg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class fg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new cb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new pb(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=fg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let u=r.get(t);return u||(u=new fg(e,new SE(e),t),r.set(t,u)),u}}fg.INSTANCES=new WeakMap;class ll{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new SE(e)}static forPath(e,t,i){if(e.length%2!=0)throw new lt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ll(t,new Ni(t._delegate,i,new At(e)))}static forKey(e,t,i){return new ll(t,new Ni(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new V_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new V_(this.firestore,rb(this._delegate,e))}catch(t){throw Eo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,fn.m9)(e))instanceof Ni&&wE(this._delegate,e)}set(e,t){t=oD("DocumentReference.set",t);try{return t?VS(this._delegate,e,t):VS(this._delegate,e)}catch(i){throw Eo(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?US(this._delegate,e):US(this._delegate,e,t,...i)}catch(r){throw Eo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function fA(n){return L_(Kn(n.firestore,qi),[new Tp(n._key,Sr.none())])}(this._delegate)}onSnapshot(...e){const t=zS(e),i=WS(e,r=>new fb(this.firestore,new hd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return BS(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function lA(n){n=Kn(n,Ni);const e=Kn(n.firestore,qi),t=$r(e),i=new hg(e);return function k_(n,e){const t=new Qi;return n.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return(i=(0,tt.Z)(function*(r,u,h){try{const g=yield function(v,T){const L=Dt(v);return L.persistence.runTransaction("read document","readonly",Q=>L.fi.Ls(Q,T))}(r,u);g.isFoundDocument()?h.resolve(g):g.isNoDocument()?h.resolve(null):h.reject(new lt(ze.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const v=$h(g,`Failed to get document '${u} from cache`);h.reject(v)}}),function(r,u,h){return i.apply(this,arguments)})(yield J0(n),e,t);var i})),t.promise}(t,n._key).then(r=>new hd(e,i,n._key,r,new dg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function uA(n){n=Kn(n,Ni);const e=Kn(n.firestore,qi);return _E($r(e),n._key,{source:"server"}).then(t=>sD(e,n,t))}(this._delegate):function aA(n){n=Kn(n,Ni);const e=Kn(n.firestore,qi);return _E($r(e),n._key).then(t=>sD(e,n,t))}(this._delegate),t.then(i=>new fb(this.firestore,new hd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ll(this.firestore,this._delegate.withConverter(e?fg.getInstance(this.firestore,e):null))}}function Eo(n,e,t){return n.message=n.message.replace(e,t),n}function zS(n){for(const e of n)if("object"==typeof e&&!aD(e))return e;return{}}function WS(n,e){var t,i;let r;return r=aD(n[0])?n[0]:aD(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{r.next&&r.next(e(u))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class fb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ll(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return xS(this._delegate,e._delegate)}}class pb extends fb{data(e){const t=this._delegate.data(e);return function lh(n,e){n||jt()}(void 0!==t),t}}class To{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new SE(e)}where(e,t,i){try{return new To(this.firestore,Kh(this._delegate,function Yx(n,e,t){const i=e,r=IE("where",n);return new Kx(r,i,t)}(e,t,i)))}catch(r){throw Eo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new To(this.firestore,Kh(this._delegate,function Jx(n,e="asc"){const t=e,i=IE("orderBy",n);return new Qx(i,t)}(e,t)))}catch(i){throw Eo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new To(this.firestore,Kh(this._delegate,function Xx(n){return JI("limit",n),new MS("limit",n,"F")}(e)))}catch(t){throw Eo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new To(this.firestore,Kh(this._delegate,function eA(n){return JI("limitToLast",n),new MS("limitToLast",n,"L")}(e)))}catch(t){throw Eo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new To(this.firestore,Kh(this._delegate,function tA(...n){return new OS("startAt",n,!0)}(...e)))}catch(t){throw Eo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new To(this.firestore,Kh(this._delegate,function nA(...n){return new OS("startAfter",n,!1)}(...e)))}catch(t){throw Eo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new To(this.firestore,Kh(this._delegate,function iA(...n){return new kS("endBefore",n,!1)}(...e)))}catch(t){throw Eo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new To(this.firestore,Kh(this._delegate,function rA(...n){return new kS("endAt",n,!0)}(...e)))}catch(t){throw Eo(t,"endAt()","Query.endAt()")}}isEqual(e){return sb(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function dA(n){n=Kn(n,xs);const e=Kn(n.firestore,qi),t=$r(e),i=new hg(e);return function YI(n,e){const t=new Qi;return n.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return(i=(0,tt.Z)(function*(r,u,h){try{const g=yield Gu(r,u,!0),v=new NI(u,g._i),T=v.Wu(g.documents),L=v.applyChanges(T,!1);h.resolve(L.snapshot)}catch(g){const v=$h(g,`Failed to execute query '${u} against cache`);h.reject(v)}}),function(r,u,h){return i.apply(this,arguments)})(yield J0(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Wh(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function hA(n){n=Kn(n,xs);const e=Kn(n.firestore,qi),t=$r(e),i=new hg(e);return X0(t,n._query,{source:"server"}).then(r=>new Wh(e,i,n,r))}(this._delegate):function cA(n){n=Kn(n,xs);const e=Kn(n.firestore,qi),t=$r(e),i=new hg(e);return AS(n._query),X0(t,n._query).then(r=>new Wh(e,i,n,r))}(this._delegate),t.then(i=>new lD(this.firestore,new Wh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=zS(e),i=WS(e,r=>new lD(this.firestore,new Wh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return BS(this._delegate,t,i)}withConverter(e){return new To(this.firestore,this._delegate.withConverter(e?fg.getInstance(this.firestore,e):null))}}class xA{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new pb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lD{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new To(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new pb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new xA(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new pb(this._firestore,i))})}isEqual(e){return xS(this._delegate,e._delegate)}}class V_ extends To{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ll(this.firestore,e):null}doc(e){try{return new ll(this.firestore,void 0===e?R_(this._delegate):R_(this._delegate,e))}catch(t){throw Eo(t,"doc()","CollectionReference.doc()")}}add(e){return function pA(n,e){const t=Kn(n.firestore,qi),i=R_(n),r=DE(n.converter,e);return L_(t,[Te(oe(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Sr.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new ll(this.firestore,t))}isEqual(e){return wE(this._delegate,e._delegate)}withConverter(e){return new V_(this.firestore,this._delegate.withConverter(e?fg.getInstance(this.firestore,e):null))}}function pg(n){return Kn(n,Ni)}class uD{constructor(...e){this._delegate=new s(...e)}static documentId(){return new uD(jr.keyField().canonicalString())}isEqual(e){return(e=(0,fn.m9)(e))instanceof s&&this._delegate._internalPath.isEqual(e._internalPath)}}class gg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function vA(){return new bt("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new gg(e)}static delete(){const e=function yA(){return new Ne("deleteField")}();return e._methodName="FieldValue.delete",new gg(e)}static arrayUnion(...e){const t=function bA(...n){return new St("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new gg(t)}static arrayRemove(...e){const t=function wA(...n){return new Zt("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new gg(t)}static increment(e){const t=function CA(n){return new ot("increment",n)}(e);return t._methodName="FieldValue.increment",new gg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const AA={Firestore:$S,GeoPoint:f,Timestamp:rr,Blob:hb,Transaction:GS,WriteBatch:qS,DocumentReference:ll,DocumentSnapshot:fb,Query:To,QueryDocumentSnapshot:pb,QuerySnapshot:lD,CollectionReference:V_,FieldPath:uD,FieldValue:gg,setLogLevel:function SA(n){!function up(n){sl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function KS(n,e){return function kA(n,e=sy.z){return new _i.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function cD(n,e){return KS(n,e).pipe((0,nn.U)(t=>({payload:t,type:"query"})))}function xE(n,e){return cD(n,e).pipe((0,W.O)(void 0),(0,Uf.G)(),(0,nn.U)(([t,i])=>{const r=i.payload.docChanges(),u=r.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((h,g)=>{const v=r.find(L=>L.doc.ref.isEqual(h.ref)),T=null==t?void 0:t.payload.docs.find(L=>L.ref.isEqual(h.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(h.metadata)||!v&&T&&JSON.stringify(T.metadata)===JSON.stringify(h.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:h}})}),u}))}function YS(n,e,t){return xE(n,t).pipe(Je((i,r)=>function RA(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function NA(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return dD(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return dD(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return dD(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(u=>u.payload),e),[]),(0,Fb.x)(),(0,nn.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function dD(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function QS(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function OA(n){(function MA(n,e){n.INTERNAL.registerComponent(new Ml.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},AA)))})(n,(e,t)=>new $S(e,t,new DA)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(Vb.Z);class JS{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=xE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,nn.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe((0,W.O)(void 0),(0,Uf.G)(),(0,et.h)(([i,r])=>r.length>0||!i),(0,nn.U)(([i,r])=>r),Ei.iC)}auditTrail(e){return this.stateChanges(e).pipe(Je((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=QS(e);return YS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ei.iC)}valueChanges(e={}){return cD(this.query,this.afs.schedulers.outsideAngular).pipe((0,nn.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Ei.iC)}get(e){return(0,_n.D)(this.query.get(e)).pipe(Ei.iC)}add(e){return this.ref.add(e)}doc(e){return new XS(this.ref.doc(e),this.afs)}}class XS{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:u}=n1(i,t);return new JS(r,u,this.afs)}snapshotChanges(){return function PA(n,e){return KS(n,e).pipe((0,W.O)(void 0),(0,Uf.G)(),(0,nn.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ei.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,nn.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,_n.D)(this.ref.get(e)).pipe(Ei.iC)}}class FA{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?xE(this.query,this.afs.schedulers.outsideAngular).pipe((0,nn.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,et.h)(t=>t.length>0),Ei.iC):xE(this.query,this.afs.schedulers.outsideAngular).pipe(Ei.iC)}auditTrail(e){return this.stateChanges(e).pipe(Je((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=QS(e);return YS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ei.iC)}valueChanges(e={}){return cD(this.query,this.afs.schedulers.outsideAngular).pipe((0,nn.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Ei.iC)}get(e){return(0,_n.D)(this.query.get(e)).pipe(Ei.iC)}}const e1=new a.OlP("angularfire2.enableFirestorePersistence"),t1=new a.OlP("angularfire2.firestore.persistenceSettings"),LA=new a.OlP("angularfire2.firestore.settings"),VA=new a.OlP("angularfire2.firestore.use-emulator");function n1(n,e=(t=>t)){return{query:e(n),ref:n}}let r1=(()=>{class n{constructor(t,i,r,u,h,g,v,T,L,Q,fe,Se,Oe,Xe,ft,Kt,Xt){this.schedulers=v;const Gt=(0,Br.on)(t,g,i),kt=L;Q&&Sc(Gt,g,fe,Oe,Xe,ft,Se,Kt),[this.firestore,this.persistenceEnabled$]=(0,Br.cc)(`${Gt.name}.firestore`,"AngularFirestore",Gt.name,()=>{const wn=g.runOutsideAngular(()=>Gt.firestore());if(u&&wn.settings(u),kt&&wn.useEmulator(...kt),r&&!(0,d.PM)(h)){const Cn=()=>{try{return(0,_n.D)(wn.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(Qn){return"undefined"!=typeof console&&console.warn(Qn),(0,Ot.of)(!1)}};return[wn,g.runOutsideAngular(Cn)]}return[wn,(0,Ot.of)(!1)]},[u,kt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:h}=n1(r,i),g=this.schedulers.ngZone.run(()=>u);return new JS(g,h,this)}collectionGroup(t,i){const r=i||(h=>h),u=this.firestore.collectionGroup(t);return new FA(r(u),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new XS(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Br.Dh),a.LFG(Br.xv,8),a.LFG(e1,8),a.LFG(LA,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Ei.HU),a.LFG(t1,8),a.LFG(VA,8),a.LFG(Cu,8),a.LFG(Wd,8),a.LFG(Nf,8),a.LFG(Xa,8),a.LFG(Ic,8),a.LFG(Dc,8),a.LFG(Ff,8),a.LFG(zd,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),UA=(()=>{class n{constructor(){Is.Z.registerVersion("angularfire",Ei.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:e1,useValue:!0},{provide:t1,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[r1]}),n})();const s1="firebasestorage.googleapis.com",o1="storageBucket";class Ar extends fn.ZR{constructor(e,t){super(hD(e),`Firebase Storage: ${t} (${hD(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ar.prototype)}_codeEquals(e){return hD(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function hD(n){return"storage/"+n}function fD(){return new Ar("unknown","An unknown error occurred, please check the error payload for server response.")}function a1(){return new Ar("canceled","User canceled the upload/download.")}function l1(){return new Ar("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function U_(n){return new Ar("invalid-argument",n)}function u1(){return new Ar("app-deleted","The Firebase app was deleted.")}function c1(n){return new Ar("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gb(n,e){return new Ar("invalid-format","String does not match format '"+n+"': "+e)}function mb(n){throw new Ar("internal-error","Internal error: "+n)}class ao{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=ao.makeFromUrl(e,t)}catch(r){return new ao(e,"")}if(""===i.path)return i;throw function YA(n){return new Ar("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+r+"(/(.*))?$","i");function T(kt){kt.path_=decodeURIComponent(kt.path)}const Q=t.replace(/[.]/g,"\\."),Gt=[{regex:g,indices:{bucket:1,path:3},postModify:function u(kt){"/"===kt.path.charAt(kt.path.length-1)&&(kt.path_=kt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Q}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:T},{regex:new RegExp(`^https?://${t===s1?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:T}];for(let kt=0;kt<Gt.length;kt++){const wn=Gt[kt],Cn=wn.regex.exec(e);if(Cn){let qr=Cn[wn.indices.path];qr||(qr=""),i=new ao(Cn[wn.indices.bucket],qr),wn.postModify(i);break}}if(null==i)throw function KA(n){return new Ar("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class eM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function AE(n){return"string"==typeof n||n instanceof String}function d1(n){return pD()&&n instanceof Blob}function pD(){return"undefined"!=typeof Blob}function gD(n,e,t,i){if(i<e)throw U_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw U_(`Invalid value for '${n}'. Expected ${t} or less.`)}function fd(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function h1(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Qh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Qh||(Qh={})),Qh))();class oM{constructor(e,t,i,r,u,h,g,v,T,L,Q){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=g,this.errorCallback_=v,this.timeout_=T,this.progressCallback_=L,this.connectionFactory_=Q,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((fe,Se)=>{this.resolve_=fe,this.reject_=Se,this.start_()})}start_(){const t=(i,r)=>{const u=this.resolve_,h=this.reject_,g=r.connection;if(r.wasSuccessCode)try{const v=this.callback_(g,g.getResponse());!function iM(n){return void 0!==n}(v)?u():u(v)}catch(v){h(v)}else if(null!==g){const v=fD();v.serverResponse=g.getErrorText(),h(this.errorCallback_?this.errorCallback_(g,v):v)}else h(r.canceled?this.appDelete_?u1():a1():function WA(){return new Ar("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new ME(!1,null,!0)):this.backoffId_=function tM(n,e,t){let i=1,r=null,u=null,h=!1,g=0;function v(){return 2===g}let T=!1;function L(...ft){T||(T=!0,e.apply(null,ft))}function Q(ft){r=setTimeout(()=>{r=null,n(Se,v())},ft)}function fe(){u&&clearTimeout(u)}function Se(ft,...Kt){if(T)return void fe();if(ft)return fe(),void L.call(null,ft,...Kt);if(v()||h)return fe(),void L.call(null,ft,...Kt);let Gt;i<64&&(i*=2),1===g?(g=2,Gt=0):Gt=1e3*(i+Math.random()),Q(Gt)}let Oe=!1;function Xe(ft){Oe||(Oe=!0,fe(),!T&&(null!==r?(ft||(g=2),clearTimeout(r),Q(0)):ft||(g=1)))}return Q(0),u=setTimeout(()=>{h=!0,Xe(!0)},t),Xe}((i,r)=>{if(r)return void i(!1,new ME(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const h=g=>{null!==this.progressCallback_&&this.progressCallback_(g.loaded,g.lengthComputable?g.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const g=u.getErrorCode()===Qh.NO_ERROR,v=u.getStatus();if(!g||this.isRetryStatusCode_(v)){const L=u.getErrorCode()===Qh.ABORT;return void i(!1,new ME(!1,null,L))}const T=-1!==this.successCodes_.indexOf(v);i(!0,new ME(T,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function nM(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),u=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||u}}class ME{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function fM(...n){const e=function hM(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(pD())return new Blob(n);throw new Ar("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Ia={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class mD{constructor(e,t){this.data=e,this.contentType=t||null}}function _D(n,e){switch(n){case Ia.RAW:return new mD(f1(e));case Ia.BASE64:case Ia.BASE64URL:return new mD(p1(n,e));case Ia.DATA_URL:return new mD(function _M(n){const e=new g1(n);return e.base64?p1(Ia.BASE64,e.rest):function mM(n){let e;try{e=decodeURIComponent(n)}catch(t){throw gb(Ia.DATA_URL,"Malformed data URL.")}return f1(e)}(e.rest)}(e),function yM(n){return new g1(n).contentType}(e))}throw fD()}function f1(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function p1(n,e){switch(n){case Ia.BASE64:{const r=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(r||u)throw gb(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ia.BASE64URL:{const r=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(r||u)throw gb(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function gM(n){return atob(n)}(e)}catch(r){throw gb(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class g1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw gb(Ia.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function vM(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Ku{constructor(e,t){let i=0,r="";d1(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(d1(this.data_)){const r=function pM(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Ku(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Ku(i,!0)}}static getBlob(...e){if(pD()){const t=e.map(i=>i instanceof Ku?i.data_:i);return new Ku(fM.apply(null,t))}{const t=e.map(h=>AE(h)?_D(Ia.RAW,h).data:h.data_);let i=0;t.forEach(h=>{i+=h.byteLength});const r=new Uint8Array(i);let u=0;return t.forEach(h=>{for(let g=0;g<h.length;g++)r[u++]=h[g]}),new Ku(r,!0)}}uploadData(){return this.data_}}function yD(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function sM(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function m1(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function CM(n,e){return e}class Io{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||CM}}let OE=null;function _b(){if(OE)return OE;const n=[];n.push(new Io("bucket")),n.push(new Io("generation")),n.push(new Io("metageneration")),n.push(new Io("name","fullPath",!0));const t=new Io("name");t.xform=function e(u,h){return function EM(n){return!AE(n)||n.length<2?n:m1(n)}(h)},n.push(t);const r=new Io("size");return r.xform=function i(u,h){return void 0!==h?Number(h):h},n.push(r),n.push(new Io("timeCreated")),n.push(new Io("updated")),n.push(new Io("md5Hash",null,!0)),n.push(new Io("cacheControl",null,!0)),n.push(new Io("contentDisposition",null,!0)),n.push(new Io("contentEncoding",null,!0)),n.push(new Io("contentLanguage",null,!0)),n.push(new Io("contentType",null,!0)),n.push(new Io("metadata","customMetadata",!0)),OE=n,OE}function _1(n,e,t){const i=yD(e);return null===i?null:function IM(n,e,t){const i={type:"file"},r=t.length;for(let u=0;u<r;u++){const h=t[u];i[h.local]=h.xform(i,e[h.server])}return function TM(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new ao(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(i,n),i}(n,i,t)}function vD(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const u=e[r];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const y1="prefixes";class Yu{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Qu(n){if(!n)throw fD()}function kE(n,e){return function t(i,r){const u=_1(n,r,e);return Qu(null!==u),u}}function B_(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function qA(){return new Ar("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function GA(){return new Ar("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function $A(n){return new Ar("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function zA(n){return new Ar("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function yb(n){const e=B_(n);return function t(i,r){let u=e(i,r);return 404===i.getStatus()&&(u=function ZA(n){return new Ar("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=r.serverResponse,u}}function b1(n,e,t){const r=fd(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,g=new Yu(r,"GET",kE(n,t),h);return g.errorHandler=yb(e),g}function OM(n,e,t,i,r){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),i&&(u.pageToken=i),r&&(u.maxResults=r);const g=fd(e.bucketOnlyServerUrl(),n.host,n._protocol),T=n.maxOperationRetryTime,L=new Yu(g,"GET",function AM(n,e){return function t(i,r){const u=function xM(n,e,t){const i=yD(t);return null===i?null:function SM(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[y1])for(const r of t[y1]){const u=r.replace(/\/$/,""),h=n._makeStorageReference(new ao(e,u));i.prefixes.push(h)}if(t.items)for(const r of t.items){const u=n._makeStorageReference(new ao(e,r.name));i.items.push(u)}return i}(n,e,i)}(n,e,r);return Qu(null!==u),u}}(n,e.bucket),T);return L.urlParams=u,L.errorHandler=B_(e),L}function C1(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function NM(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class PE{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function bD(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){Qu(!1)}return Qu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const UM={STATE_CHANGED:"state_changed"},Do={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function wD(n){switch(n){case"running":case"pausing":case"canceling":return Do.RUNNING;case"paused":return Do.PAUSED;case"success":return Do.SUCCESS;case"canceled":return Do.CANCELED;default:return Do.ERROR}}class BM{constructor(e,t,i){if(function rM(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=i?i:void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function H_(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class jM extends class HM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw mb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const u in r)r.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,r[u].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw mb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw mb("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw mb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw mb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function zl(){return new jM}class D1{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=_b(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,u)=>{this._resolve=r,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function FM(n,e,t,i,r){const u=e.bucketOnlyServerUrl(),h=C1(e,i,r),g={name:h.fullPath},v=fd(u,n.host,n._protocol),L={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},Q=vD(h,t),Oe=new Yu(v,"POST",function Se(Xe){let ft;bD(Xe);try{ft=Xe.getResponseHeader("X-Goog-Upload-URL")}catch(Kt){Qu(!1)}return Qu(AE(ft)),ft},n.maxUploadRetryTime);return Oe.urlParams=g,Oe.headers=L,Oe.body=Q,Oe.errorHandler=B_(e),Oe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,zl,e,t);this._request=r,r.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function LM(n,e,t,i){const v=new Yu(t,"POST",function u(T){const L=bD(T,["active","final"]);let Q=null;try{Q=T.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Se){Qu(!1)}Q||Qu(!1);const fe=Number(Q);return Qu(!isNaN(fe)),new PE(fe,i.size(),"final"===L)},n.maxUploadRetryTime);return v.headers={"X-Goog-Upload-Command":"query"},v.errorHandler=B_(e),v}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(r,zl,t,i);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new PE(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,u)=>{let h;try{h=function VM(n,e,t,i,r,u,h,g){const v=new PE(0,0);if(h?(v.current=h.current,v.total=h.total):(v.current=0,v.total=i.size()),i.size()!==v.total)throw function JA(){return new Ar("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const T=v.total-v.current;let L=T;r>0&&(L=Math.min(L,r));const Q=v.current,Oe={"X-Goog-Upload-Command":L===T?"upload, finalize":"upload","X-Goog-Upload-Offset":`${v.current}`},Xe=i.slice(Q,Q+L);if(null===Xe)throw l1();const Gt=new Yu(t,"POST",function ft(kt,wn){const Cn=bD(kt,["active","final"]),Qn=v.current+L,qr=i.size();let Aa;return Aa="final"===Cn?kE(e,u)(kt,wn):null,new PE(Qn,qr,"final"===Cn,Aa)},e.maxUploadRetryTime);return Gt.headers=Oe,Gt.body=Xe.uploadData(),Gt.progressCallback=g||null,Gt.errorHandler=B_(n),Gt}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(v){return this._error=v,void this._transition("error")}const g=this._ref.storage._makeRequest(h,zl,r,u);this._request=g,g.getPromise().then(v=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(v.current),v.finalized?(this._metadata=v.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=b1(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,zl,e,t);this._request=r,r.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function E1(n,e,t,i,r){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},v=function g(){let Gt="";for(let kt=0;kt<2;kt++)Gt+=Math.random().toString().slice(2);return Gt}();h["Content-Type"]="multipart/related; boundary="+v;const T=C1(e,i,r),L=vD(T,t),Se=Ku.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+L+"\r\n--"+v+"\r\nContent-Type: "+T.contentType+"\r\n\r\n",i,"\r\n--"+v+"--");if(null===Se)throw l1();const Oe={name:T.fullPath},Xe=fd(u,n.host,n._protocol),Kt=n.maxUploadRetryTime,Xt=new Yu(Xe,"POST",kE(n,t),Kt);return Xt.urlParams=Oe,Xt.headers=h,Xt.body=Se.uploadData(),Xt.errorHandler=B_(e),Xt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,zl,e,t);this._request=r,r.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=a1(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=wD(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const u=new BM(t||void 0,i||void 0,r||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(wD(this._state)){case Do.SUCCESS:H_(this._resolve.bind(null,this.snapshot))();break;case Do.CANCELED:case Do.ERROR:H_(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(wD(this._state)){case Do.RUNNING:case Do.PAUSED:e.next&&H_(e.next.bind(e,this.snapshot))();break;case Do.SUCCESS:e.complete&&H_(e.complete.bind(e))();break;default:e.error&&H_(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class mg{constructor(e,t){this._service=e,this._location=t instanceof ao?t:ao.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new mg(e,t)}get root(){const e=new ao(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return m1(this._location.path)}get storage(){return this._service}get parent(){const e=function bM(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ao(this._location.bucket,e);return new mg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw c1(e)}}function x1(n,e,t){return CD.apply(this,arguments)}function CD(){return CD=(0,tt.Z)(function*(n,e,t){const r=yield A1(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield x1(n,e,r.nextPageToken))}),CD.apply(this,arguments)}function A1(n,e){null!=e&&"number"==typeof e.maxResults&&gD("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=OM(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,zl)}function eO(n){n._throwIfRoot("getDownloadURL");const e=function kM(n,e,t){const r=fd(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,g=new Yu(r,"GET",function MM(n,e){return function t(i,r){const u=_1(n,r,e);return Qu(null!==u),function DM(n,e,t,i){const r=yD(e);if(null===r||!AE(r.downloadTokens))return null;const u=r.downloadTokens;if(0===u.length)return null;const h=encodeURIComponent;return u.split(",").map(T=>{const Q=n.fullPath;return fd("/b/"+h(n.bucket)+"/o/"+h(Q),t,i)+h1({alt:"media",token:T})})[0]}(u,r,n.host,n._protocol)}}(n,t),h);return g.errorHandler=yb(e),g}(n.storage,n._location,_b());return n.storage.makeRequestWithTokens(e,zl).then(t=>{if(null===t)throw function XA(){return new Ar("no-download-url","The given file does not have any download URLs.")}();return t})}function M1(n,e){const t=function wM(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new ao(n._location.bucket,t);return new mg(n.storage,i)}function O1(n,e){if(n instanceof ED){const t=n;if(null==t._bucket)throw function QA(){return new Ar("no-default-bucket","No default bucket found. Did you set the '"+o1+"' property when initializing the app?")}();const i=new mg(t,t._bucket);return null!=e?O1(i,e):i}return void 0!==e?M1(n,e):n}function rO(n,e){if(e&&function nO(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof ED)return function iO(n,e){return new mg(n,e)}(n,e);throw U_("To use ref(service, url), the first argument must be a Storage instance.")}return O1(n,e)}function k1(n,e){const t=null==e?void 0:e[o1];return null==t?null:ao.makeFromBucketSpec(t,n)}class ED{constructor(e,t,i,r,u){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=u,this._bucket=null,this._host=s1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ao.makeFromBucketSpec(r,this._host):k1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ao.makeFromBucketSpec(this._url,e):k1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,tt.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,tt.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mg(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new eM(u1());{const u=function dM(n,e,t,i,r,u){const h=h1(n.urlParams),g=n.url+h,v=Object.assign({},n.headers);return function uM(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function aM(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function lM(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(v,u),function cM(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,i),new oM(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var i=this;return(0,tt.Z)(function*(){const[r,u]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,u).getPromise()})()}}const P1="@firebase/storage";function F1(n,e){return rO(n=(0,fn.m9)(n),e)}function gO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new ED(t,i,r,e,Bs.SDK_VERSION)}!function mO(){(0,Bs._registerComponent)(new Ml.wA("storage",gO,"PUBLIC").setMultipleInstances(!0)),(0,Bs.registerVersion)(P1,"0.9.6",""),(0,Bs.registerVersion)(P1,"0.9.6","esm2017")}();class RE{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class L1{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new RE(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new RE(i,this,this._ref))},t)}on(e,t,i,r){let u;return t&&(u="function"==typeof t?h=>t(new RE(h,this,this._ref)):{next:t.next?h=>t.next(new RE(h,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,i||void 0,r||void 0)}}class V1{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new pd(e,this._service))}get items(){return this._delegate.items.map(e=>new pd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class pd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function fO(n,e){return M1(n,e)}(this._delegate,e);return new pd(t,this.storage)}get root(){return new pd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new pd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new L1(function oO(n,e,t){return function KM(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new D1(n,new Ku(e),t)}(n=(0,fn.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Ia.RAW,i){this._throwIfRoot("putString");const r=_D(t,e),u=Object.assign({},i);return null==u.contentType&&null!=r.contentType&&(u.contentType=r.contentType),new L1(new D1(this._delegate,new Ku(r.data,!0),u),this)}listAll(){return function cO(n){return function QM(n){const e={prefixes:[],items:[]};return x1(n,e).then(()=>e)}(n=(0,fn.m9)(n))}(this._delegate).then(e=>new V1(e,this.storage))}list(e){return function uO(n,e){return A1(n=(0,fn.m9)(n),e)}(this._delegate,e||void 0).then(t=>new V1(t,this.storage))}getMetadata(){return function aO(n){return function JM(n){n._throwIfRoot("getMetadata");const e=b1(n.storage,n._location,_b());return n.storage.makeRequestWithTokens(e,zl)}(n=(0,fn.m9)(n))}(this._delegate)}updateMetadata(e){return function lO(n,e){return function XM(n,e){n._throwIfRoot("updateMetadata");const t=function PM(n,e,t,i){const u=fd(e.fullServerUrl(),n.host,n._protocol),g=vD(t,i),T=n.maxOperationRetryTime,L=new Yu(u,"PATCH",kE(n,i),T);return L.headers={"Content-Type":"application/json; charset=utf-8"},L.body=g,L.errorHandler=yb(e),L}(n.storage,n._location,e,_b());return n.storage.makeRequestWithTokens(t,zl)}(n=(0,fn.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function dO(n){return eO(n=(0,fn.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function hO(n){return function tO(n){n._throwIfRoot("deleteObject");const e=function RM(n,e){const i=fd(e.fullServerUrl(),n.host,n._protocol),g=new Yu(i,"DELETE",function h(v,T){},n.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=yb(e),g}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,zl)}(n=(0,fn.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw c1(e)}}class U1{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(B1(e))throw U_("ref() expected a child path but got a URL, use refFromURL instead.");return new pd(F1(this._delegate,e),this)}refFromURL(e){if(!B1(e))throw U_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ao.makeFromUrl(e,this._delegate.host)}catch(t){throw U_("refFromUrl() expected a valid full URL but got an invalid one.")}return new pd(F1(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function pO(n,e,t,i={}){!function sO(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,fn.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function B1(n){return/^[A-Za-z]+:\/\//.test(n)}function bO(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new U1(t,i)}function H1(n){const e=function CO(n){return new _i.y(e=>{const t=h=>e.next(h);t(n.snapshot);const u=n.on("state_changed",t);return n.then(h=>{t(h),e.complete()},h=>{t(n.snapshot),(h=>{e.error(h)})(h)}),function(){u()}}).pipe(function BA(n,e=sy.z){return(0,kn.e)((t,i)=>{let r=null,u=null,h=null;const g=()=>{if(r){r.unsubscribe(),r=null;const T=u;u=null,i.next(T)}};function v(){const T=h+n,L=e.now();if(L<T)return r=this.schedule(void 0,T-L),void i.add(r);g()}t.subscribe((0,Li.x)(i,T=>{u=T,h=e.now(),r||(r=e.schedule(v,n),i.add(r))},()=>{g(),i.complete()},void 0,()=>{u=r=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,nn.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function NE(n){return{getDownloadURL:()=>(0,Ot.of)(void 0).pipe(Ei.fc,(0,he.w)(()=>n.getDownloadURL()),Ei.iC),getMetadata:()=>(0,Ot.of)(void 0).pipe(Ei.fc,(0,he.w)(()=>n.getMetadata()),Ei.iC),delete:()=>(0,_n.D)(n.delete()),child:e=>NE(n.child(e)),updateMetadata:e=>(0,_n.D)(n.updateMetadata(e)),put:(e,t)=>H1(n.put(e,t)),putString:(e,t,i)=>H1(n.putString(e,t,i)),list:e=>(0,_n.D)(n.list(e)),listAll:()=>(0,_n.D)(n.listAll())}}!function wO(n){const e={TaskState:Do,TaskEvent:UM,StringFormat:Ia,Storage:U1,Reference:pd};n.INTERNAL.registerComponent(new Ml.wA("storage-compat",bO,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.14")}(Vb.Z);const EO=new a.OlP("angularfire2.storageBucket"),TO=new a.OlP("angularfire2.storage.maxUploadRetryTime"),IO=new a.OlP("angularfire2.storage.maxOperationRetryTime"),DO=new a.OlP("angularfire2.storage.use-emulator");let SO=(()=>{class n{constructor(t,i,r,u,h,g,v,T,L,Q){const fe=(0,Br.on)(t,h,i);this.storage=(0,Br.cc)(`${fe.name}.storage.${r}`,"AngularFireStorage",fe.name,()=>{const Se=h.runOutsideAngular(()=>fe.storage(r||void 0)),Oe=L;return Oe&&Se.useEmulator(...Oe),v&&Se.setMaxUploadRetryTime(v),T&&Se.setMaxOperationRetryTime(T),Se},[v,T])}ref(t){return NE(this.storage.ref(t))}refFromURL(t){return NE(this.storage.refFromURL(t))}upload(t,i,r){return NE(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Br.Dh),a.LFG(Br.xv,8),a.LFG(EO,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Ei.HU),a.LFG(TO,8),a.LFG(IO,8),a.LFG(DO,8),a.LFG(zd,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Jh=(()=>{class n{constructor(t,i){this.afs=t,this.storage=i}getAll(t){return this.afs.collection(t).valueChanges()}setObj(t,i,r){return this.afs.collection(t).doc(r).set(i,{merge:!0})}removeObj(t,i){return this.afs.collection(t).doc(i.id).delete()}getWithFilter(t,i,r){return this.afs.collection(t,u=>u.where(i,"==",r)).valueChanges()}getTurnoByPaciente(t){return this.afs.collection("turnos",i=>i.where("paciente.email","==",t)).valueChanges()}getTurnoByEspecialista(t){return this.afs.collection("turnos",i=>i.where("especialista.email","==",t)).valueChanges()}getUsersWithFilter(t,i){return this.afs.collection("users",r=>r.where(t,"==",i).where("habilitado","==",!0)).valueChanges()}updateUser(t,i){return this.afs.collection("users").doc(t.email).update({habilitado:i})}uploadImage(t,i){var r=this;return(0,tt.Z)(function*(){try{return yield(yield r.storage.ref("/users/"+t).putString(i,"data_url")).ref.getDownloadURL()}catch(u){return console.error(u),null}})()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(r1),a.LFG(SO))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FE=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-loading"]],decls:2,vars:0,consts:[[1,"loading-overlay"],["src","../../../assets/loading.gif","alt","Loading..."]],template:function(t,i){1&t&&(a.TgZ(0,"div",0),a._UZ(1,"img",1),a.qZA())},styles:[".loading-overlay[_ngcontent-%COMP%]{display:flex;background:rgba(255,255,255,.7);position:fixed;bottom:0;left:0;right:0;top:0;z-index:9998;align-items:center;justify-content:center}"]}),n})();function xO(n,e){1&n&&a._UZ(0,"app-loading")}const AO=function(n){return{"background-image":n}};function MO(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",14)(1,"button",15),a.NdJ("click",function(){const u=a.CHM(t).$implicit;return a.oxw().loginWithUsersDefaults(u.email,u.password)}),a.qZA()()}if(2&n){const t=e.$implicit;a.xp6(1),a.Q6J("ngStyle",a.VKq(1,AO,"url("+t.pathImg+")"))}}const j1=function(n,e){return{"is-invalid":n,"is-valid":e}};let OO=(()=>{class n{constructor(t,i,r,u){this.router=t,this.auth=i,this.afs=r,this.formBuilder=u,this.errorMsj=new ni.x,this.error=!1,this.cargando=!1,this.loginForm=this.formBuilder.group({email:["",[It.kI.required,It.kI.email]],password:["",[It.kI.required]]})}ngOnInit(){this.afs.getAll("users").subscribe(t=>{let i=t;this.users=i.filter(r=>"paciente"==r.rol).slice(0,3),this.users=this.users.concat(i.filter(r=>"especialista"==r.rol).slice(0,2)),this.users.push(i.filter(r=>"administrador"==r.rol)[0])})}get f(){return this.loginForm.controls}getErrorMessage(t){let i="";return this.f[t].hasError("required")?i="Empty.":this.f[t].getError("email")&&(i="Invalid format"),i}isNotValidField(t){return(this.f[t].touched||1==this.f[t].dirty)&&!this.f[t].valid}onLogin(){this.cargando=!0,this.error=!1,this.auth.login(this.loginForm.value.email,this.loginForm.value.password).then(t=>{if(t){let i=this.afs.getUsersWithFilter("email",this.loginForm.value.email).subscribe(r=>{r&&(this.auth.refreshData(r[0]),this.loginForm.reset(),this.router.navigateByUrl("")),i.unsubscribe()})}}).catch(t=>{this.errorMsj.next(t.message.toLowerCase().replace("firebase: ","")),this.error=!0,this.cargando=!1})}loginWithUsersDefaults(t,i){this.f.email.setValue(t),this.f.password.setValue(i),this.onLogin()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ir),a.Y36(Go),a.Y36(Jh),a.Y36(It.qu))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-login"]],decls:27,vars:17,consts:[[4,"ngIf"],[1,"form-header"],[1,"form-content"],[3,"formGroup"],[1,"form-group"],["for","email"],["type","text","formControlName","email","id","email","name","email","required","",1,"form-control","form-style",3,"ngClass"],[1,"invalid-feedback"],["for","password"],["type","password","formControlName","password","id","password","name","password","required","",1,"form-control","form-style","is-invalid",3,"ngClass"],[1,"error-text"],["type","submit",3,"disabled","click"],[1,"row"],["class","col-4 mb-1",4,"ngFor","ngForOf"],[1,"col-4","mb-1"],[1,"btn-img",3,"ngStyle","click"]],template:function(t,i){1&t&&(a.YNc(0,xO,1,0,"app-loading",0),a.TgZ(1,"div",1)(2,"h1"),a._uU(3,"Account Login"),a.qZA()(),a.TgZ(4,"div",2)(5,"form",3)(6,"div",4)(7,"label",5),a._uU(8,"Username"),a.qZA(),a._UZ(9,"input",6),a.TgZ(10,"div",7),a._uU(11),a.qZA()(),a.TgZ(12,"div",4)(13,"label",8),a._uU(14,"Password"),a.qZA(),a._UZ(15,"input",9),a.TgZ(16,"div",7),a._uU(17),a.qZA()(),a.TgZ(18,"div",4)(19,"label",10),a._uU(20),a.ALo(21,"async"),a.qZA()(),a.TgZ(22,"div",4)(23,"button",11),a.NdJ("click",function(){return i.onLogin()}),a._uU(24,"Log In"),a.qZA()()()(),a.TgZ(25,"div",12),a.YNc(26,MO,2,3,"div",13),a.qZA()),2&t&&(a.Q6J("ngIf",i.cargando),a.xp6(5),a.Q6J("formGroup",i.loginForm),a.xp6(4),a.Q6J("ngClass",a.WLB(11,j1,i.isNotValidField("email"),!i.isNotValidField("email")&&i.f.email.touched)),a.xp6(2),a.hij(" ",i.getErrorMessage("email")," "),a.xp6(4),a.Q6J("ngClass",a.WLB(14,j1,i.isNotValidField("password"),!i.isNotValidField("password")&&i.f.password.touched)),a.xp6(2),a.hij(" ",i.getErrorMessage("password")," "),a.xp6(3),a.Oqu(a.lcZ(21,9,i.errorMsj)),a.xp6(3),a.Q6J("disabled",i.loginForm.invalid),a.xp6(3),a.Q6J("ngForOf",i.users))},directives:[d.O5,FE,It._Y,It.JL,It.sg,It.Fj,It.JJ,It.u,It.Q7,d.mk,d.sg,d.PC],pipes:[d.Ov],styles:["label[_ngcontent-%COMP%]{display:block;margin:0 0 10px;color:#0009;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;letter-spacing:.2em}input[_ngcontent-%COMP%]{outline:none;display:block;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;height:100%;color:#0009;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;transition:.3s ease}button[_ngcontent-%COMP%]{outline:none;background:#4285F4;width:100%;border:0;border-radius:4px;padding:12px 20px;color:#fff;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;text-transform:uppercase;cursor:pointer}h1[_ngcontent-%COMP%]{padding:4px 0;color:#4285f4;font-size:24px;font-weight:700;text-transform:uppercase}.form-remember[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:red;letter-spacing:0;text-transform:none;text-align:center}.form-remember[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:inline-block;width:auto;margin:0 10px 0 0}.form-recovery[_ngcontent-%COMP%]{color:#4285f4;font-size:12px;text-decoration:none}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}.error-text[_ngcontent-%COMP%]{color:#dc3545}.btn-img[_ngcontent-%COMP%]{background-repeat:no-repeat;height:100px;width:120px;background-size:cover;border-radius:10px;background-position:center}"]}),n})();const kO=["file"];function PO(n,e){1&n&&a._UZ(0,"app-loading")}const Xh=function(n,e){return{"is-invalid":n,"is-valid":e}};function RO(n,e){if(1&n&&(a.TgZ(0,"div",4)(1,"label",32),a._uU(2,"Obra social"),a.qZA(),a._UZ(3,"input",33),a.TgZ(4,"div",13),a._uU(5),a.qZA()()),2&n){const t=a.oxw(2);a.xp6(3),a.Q6J("ngClass",a.WLB(2,Xh,t.isNotValidField("obraSocial"),!t.isNotValidField("obraSocial")&&t.f.obraSocial.touched)),a.xp6(2),a.hij(" ",t.getErrorMessage("obraSocial")," ")}}function NO(n,e){if(1&n&&(a.TgZ(0,"option",38),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.Q6J("value",t.value),a.xp6(1),a.Oqu(t.value)}}function FO(n,e){if(1&n&&(a.TgZ(0,"div",4)(1,"div",9)(2,"div",10)(3,"label",34),a._uU(4,"Especialidad"),a.qZA(),a.TgZ(5,"select",35),a.YNc(6,NO,2,2,"option",36),a.qZA(),a.TgZ(7,"div",13),a._uU(8),a.qZA()(),a.TgZ(9,"div",10)(10,"label"),a._uU(11,"Crear nueva"),a.qZA(),a.TgZ(12,"button",37),a._uU(13,"Agregar"),a.qZA()()()()),2&n){const t=a.oxw(2);a.xp6(5),a.Q6J("ngClass",a.WLB(3,Xh,t.isNotValidField("especialidad"),!t.isNotValidField("especialidad")&&t.f.especialidad.touched)),a.xp6(1),a.Q6J("ngForOf",t.especialidades),a.xp6(2),a.hij(" ",t.getErrorMessage("especialidad")," ")}}function LO(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div")(1,"div",9)(2,"div",10)(3,"div",4)(4,"label",11),a._uU(5,"DNI"),a.qZA(),a._UZ(6,"input",12),a.TgZ(7,"div",13),a._uU(8),a.qZA()()(),a.TgZ(9,"div",10)(10,"div",4)(11,"label",11),a._uU(12,"EDAD"),a.qZA(),a._UZ(13,"input",14),a.TgZ(14,"div",13),a._uU(15),a.qZA()()(),a.TgZ(16,"div",10)(17,"div",4)(18,"label",15),a._uU(19,"Nombre"),a.qZA(),a._UZ(20,"input",16),a.TgZ(21,"div",13),a._uU(22),a.qZA()()(),a.TgZ(23,"div",10)(24,"div",4)(25,"label",17),a._uU(26,"Apellido"),a.qZA(),a._UZ(27,"input",18),a.TgZ(28,"div",13),a._uU(29),a.qZA()()()(),a.YNc(30,RO,6,5,"div",19),a.YNc(31,FO,14,6,"div",19),a.TgZ(32,"div",4)(33,"label",20),a._uU(34,"Email"),a.qZA(),a._UZ(35,"input",21),a.TgZ(36,"div",13),a._uU(37),a.qZA()(),a.TgZ(38,"div",4)(39,"label",22),a._uU(40,"Password"),a.qZA(),a._UZ(41,"input",23),a.TgZ(42,"div",13),a._uU(43),a.qZA()(),a.TgZ(44,"div",24)(45,"div",25)(46,"div",26),a._uU(47,"Foto"),a.qZA(),a.TgZ(48,"div",27),a.NdJ("click",function(){return a.CHM(t),a.oxw().uploadFile()}),a._uU(49),a.qZA(),a.TgZ(50,"input",28,29),a.NdJ("change",function(){return a.CHM(t),a.oxw().onChangeFile()}),a.qZA()()(),a.TgZ(52,"div",4)(53,"label",30),a._uU(54),a.ALo(55,"async"),a.qZA()(),a.TgZ(56,"button",31),a.NdJ("click",function(){return a.CHM(t),a.oxw().onRegister()}),a._uU(57,"Register"),a.qZA()()}if(2&n){const t=a.oxw();a.xp6(6),a.Q6J("ngClass",a.WLB(19,Xh,t.isNotValidField("dni"),!t.isNotValidField("dni")&&t.f.dni.touched)),a.xp6(2),a.hij(" ",t.getErrorMessage("dni")," "),a.xp6(5),a.Q6J("ngClass",a.WLB(22,Xh,t.isNotValidField("edad"),!t.isNotValidField("edad")&&t.f.edad.touched)),a.xp6(2),a.hij(" ",t.getErrorMessage("edad")," "),a.xp6(5),a.Q6J("ngClass",a.WLB(25,Xh,t.isNotValidField("nombre"),!t.isNotValidField("nombre")&&t.f.nombre.touched)),a.xp6(2),a.hij(" ",t.getErrorMessage("nombre")," "),a.xp6(5),a.Q6J("ngClass",a.WLB(28,Xh,t.isNotValidField("apellido"),!t.isNotValidField("apellido")&&t.f.apellido.touched)),a.xp6(2),a.hij(" ",t.getErrorMessage("apellido")," "),a.xp6(1),a.Q6J("ngIf","paciente"==t.f.rol.value),a.xp6(1),a.Q6J("ngIf","especialista"==t.f.rol.value),a.xp6(4),a.Q6J("ngClass",a.WLB(31,Xh,t.isNotValidField("email"),!t.isNotValidField("email")&&t.f.email.touched)),a.xp6(2),a.hij(" ",t.getErrorMessage("email")," "),a.xp6(4),a.Q6J("ngClass",a.WLB(34,Xh,t.isNotValidField("password"),!t.isNotValidField("password")&&t.f.password.touched)),a.xp6(2),a.hij(" ",t.getErrorMessage("password")," "),a.xp6(6),a.Oqu(t.archivoMsj),a.xp6(5),a.Oqu(a.lcZ(55,17,t.errorMsj)),a.xp6(2),a.Q6J("disabled",t.regisForm.invalid)}}let VO=(()=>{class n{constructor(t,i,r,u){this.router=t,this.auth=i,this.afs=r,this.formBuilder=u,this.test=new a.vpe,this.errorMsj=new ni.x,this.error=!1,this.cargando=!1,this.regisForm=this.formBuilder.group({nombre:["",[It.kI.required]],apellido:["",[It.kI.required]],dni:["",[It.kI.required,It.kI.minLength(8),It.kI.maxLength(8),It.kI.pattern("^[0-9]*$")]],edad:["",[It.kI.required,It.kI.min(18),It.kI.max(150)]],obraSocial:["",[It.kI.required]],email:["",[It.kI.required,It.kI.email]],password:["",[It.kI.required]],rol:["",[It.kI.required]]}),this.archivoMsj="No file chosen..."}ngOnInit(){this.afs.getAll("especialidades").subscribe(t=>{t&&(this.especialidades=t)})}get f(){return this.regisForm.controls}getErrorMessage(t){let i="";return this.f[t].hasError("required")?i="Vac\xedo.":this.f[t].getError("email")?i="Formato de email inv\xe1lido":this.f[t].getError("minlength")||this.f[t].getError("maxlength")?i="Cantidad de caracteres inv\xe1lido":this.f[t].getError("min")?i="Tienes que ser mayor de edad":this.f[t].getError("max")?i="Lo siento, dudamos que tenga esa edad.":this.f[t].getError("pattern")&&(i="S\xf3lo valores n\xfamericos."),i}isNotValidField(t){return(this.f[t].touched||1==this.f[t].dirty)&&!this.f[t].valid}uploadFile(){this.file.nativeElement.click()}onChangeFile(){let t=this.file.nativeElement.files[0],i=new FileReader;this.archivoMsj=t.name,i.readAsDataURL(t),i.onloadend=()=>{this.archivo=i.result}}setRol(t){this.f.rol.setValue(t),"especialista"==this.f.rol.value?(this.regisForm.addControl("especialidad",new It.NI("",It.kI.required)),this.regisForm.removeControl("obraSocial")):"paciente"==this.f.rol.value&&(this.regisForm.addControl("obraSocial",new It.NI("",It.kI.required)),this.regisForm.removeControl("especialidad")),this.test.emit(!0)}onRegister(){let t=this.regisForm.value;this.cargando=!0,this.archivo?this.auth.register(t.email,t.password).then(i=>{i&&this.afs.uploadImage(t.email,this.archivo).then(r=>{t.habilitado=!0,r&&(t.pathImg=r),this.afs.setObj("users",t,t.email).then(u=>{this.auth.refreshData(t),this.router.navigate([""]),this.regisForm.reset(),this.cargando=!1})}).catch(r=>{this.errorMsj=r.message,this.error=!0,this.cargando=!1})}).catch(i=>{this.errorMsj=i.message,this.error=!0,this.cargando=!1}):(this.error=!0,this.errorMsj.next("Falta u archivo"))}showResponse(t){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ir),a.Y36(Go),a.Y36(Jh),a.Y36(It.qu))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-register"]],viewQuery:function(t,i){if(1&t&&a.Gf(kO,5),2&t){let r;a.iGM(r=a.CRH())&&(i.file=r.first)}},outputs:{test:"test"},decls:17,vars:7,consts:[[4,"ngIf"],[1,"form-header"],[1,"form-content"],[3,"formGroup"],[1,"form-group"],[1,"d-flex","justify-content-around"],[1,"text-center"],[1,"btn-paciente",3,"click"],[1,"btn-especialista",3,"click"],[1,"row"],[1,"col-6"],["for","dni"],["type","text","formControlName","dni","id","dni","name","dni","required","",1,"form-control","form-style",3,"ngClass"],[1,"invalid-feedback"],["type","number","formControlName","edad","id","edad","name","edad","required","",1,"form-control","form-style",3,"ngClass"],["for","nombre"],["type","text","formControlName","nombre","id","nombre","name","nombre","required","",1,"form-control","form-style",3,"ngClass"],["for","apellido"],["type","text","formControlName","apellido","id","apellido","name","apellido","required","",1,"form-control","form-style",3,"ngClass"],["class","form-group",4,"ngIf"],["for","email"],["type","text","formControlName","email","name","email","required","",1,"form-control","form-style",3,"ngClass"],["for","password"],["type","password","formControlName","password","name","password","required","",1,"form-control","form-style",3,"ngClass"],[1,"file-upload"],[1,"file-upload-select"],[1,"file-select-button"],[1,"file-select-name",3,"click"],["type","file","name","file-upload-input","id","file-upload-input",3,"change"],["file",""],[1,"form-remember"],["type","submit",3,"disabled","click"],["for","obraSocial"],["type","text","formControlName","obraSocial","id","obraSocial","name","obraSocial","required","",1,"form-control","form-style",3,"ngClass"],["for","especilidad"],["formControlName","especialidad","id","especialidad","required","",1,"input",3,"ngClass"],["class","input test",3,"value",4,"ngFor","ngForOf"],[2,"font-size","small"],[1,"input","test",3,"value"]],template:function(t,i){1&t&&(a.YNc(0,PO,1,0,"app-loading",0),a.TgZ(1,"div",1)(2,"h1"),a._uU(3,"Register Account"),a.qZA()(),a.TgZ(4,"div",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"div")(9,"label",6),a._uU(10,"Paciente"),a.qZA(),a.TgZ(11,"button",7),a.NdJ("click",function(){return i.setRol("paciente")}),a.qZA()(),a.TgZ(12,"div")(13,"label",6),a._uU(14,"Profesional"),a.qZA(),a.TgZ(15,"button",8),a.NdJ("click",function(){return i.setRol("especialista")}),a.qZA()()()(),a.YNc(16,LO,58,37,"div",0),a.qZA()()),2&t&&(a.Q6J("ngIf",i.cargando),a.xp6(5),a.Q6J("formGroup",i.regisForm),a.xp6(6),a.ekj("btn-active","paciente"==i.f.rol.value),a.xp6(4),a.ekj("btn-active","especialista"==i.f.rol.value),a.xp6(1),a.Q6J("ngIf",""!=i.f.rol.value))},directives:[d.O5,FE,It._Y,It.JL,It.sg,It.Fj,It.JJ,It.u,It.Q7,d.mk,It.wV,It.EJ,d.sg,It.YN,It.Kr],pipes:[d.Ov],styles:[".input[_ngcontent-%COMP%]{outline:none;display:block;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;color:#0009;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;color:#fff;transition:.3s ease}.btn-paciente[_ngcontent-%COMP%]{background-image:url(paciente.11d48024ce08dc56.webp);background-repeat:no-repeat;height:100px;width:100px;background-size:cover;border-radius:10px;background-position:center}.btn-active[_ngcontent-%COMP%]{transform:scale(.98);background-color:#dbdbdb;box-shadow:3px 2px 22px 1px #00000080}.btn-especialista[_ngcontent-%COMP%]{background-image:url(doctor.9778f8f40d5a74fa.png);background-repeat:no-repeat;height:100px;width:100px;background-size:cover;border-radius:10px;background-position:center}input[_ngcontent-%COMP%]{outline:none;display:block;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;color:#0009;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;color:#fff;transition:.3s ease}button[_ngcontent-%COMP%]{outline:none;width:100%;border:0;border-radius:4px;padding:12px 20px;background:#FFFFFF;color:#4285f4;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;text-transform:uppercase;cursor:pointer}label[_ngcontent-%COMP%]{display:block;margin:0 0 10px;color:#fff;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;letter-spacing:.2em}h1[_ngcontent-%COMP%]{padding:4px 0;position:relative;z-index:40;color:#fff;font-size:24px;font-weight:700;text-transform:uppercase}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]{display:block;color:#dbdbdb;cursor:pointer;text-align:left;background:rgba(0,0,0,.1);overflow:hidden;position:relative;border-radius:6px}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   .file-select-button[_ngcontent-%COMP%]{background:rgba(0,0,0,.1);padding:10px;display:inline-block}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   .file-select-name[_ngcontent-%COMP%]{display:inline-block;padding:10px}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]:hover{background:#FFFFFF;color:#0009;transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]:hover   .file-select-button[_ngcontent-%COMP%]{background:rgba(66,133,244,.5);color:#fff;transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}.test[_ngcontent-%COMP%]{background:rgba(66,133,244,.5)}"]}),n})();const UO=function(n){return{visible:n}},BO=function(n){return{hidden:n}},HO=function(n){return{active:n}};let jO=(()=>{class n{constructor(){this.visible=!1}ngOnInit(){this.heightPanelOne=$(".form-panel.two").height(),this.heightPanelTwo=$(".form-panel.two")[0].scrollHeight}onClick(t){t?(this.visible=!1,$(".form").animate({height:600},300)):(this.visible=!0,$(".form").animate({height:this.heightPanelTwo},300))}onTest(t){t&&(this.heightPanelTwo=780)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-auth"]],decls:6,vars:9,consts:[[1,"form"],[1,"form-toggle",3,"ngClass","click"],[1,"form-panel","one",3,"ngClass"],[1,"form-panel","two",3,"ngClass","click"],[3,"test"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1),a.NdJ("click",function(){return i.onClick(!0)}),a.qZA(),a.TgZ(2,"div",2),a._UZ(3,"app-login"),a.qZA(),a.TgZ(4,"div",3),a.NdJ("click",function(){return i.onClick(!1)}),a.TgZ(5,"app-register",4),a.NdJ("test",function(u){return i.onTest(u)}),a.qZA()()()),2&t&&(a.xp6(1),a.Q6J("ngClass",a.VKq(3,UO,i.visible)),a.xp6(1),a.Q6J("ngClass",a.VKq(5,BO,i.visible)),a.xp6(2),a.Q6J("ngClass",a.VKq(7,HO,i.visible)))},directives:[d.mk,OO,VO],styles:['.overlay[_ngcontent-%COMP%], .form-panel.one[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;display:none;background:rgba(0,0,0,.8);width:100%;height:100%}.form[_ngcontent-%COMP%]{z-index:15;position:relative;background:#FFFFFF;width:600px;border-radius:4px;box-shadow:0 0 30px #0000001a;box-sizing:border-box;margin:70px auto 10px;overflow:hidden}.form-toggle[_ngcontent-%COMP%]{z-index:10;position:absolute;top:60px;right:60px;background:#FFFFFF;width:60px;height:60px;border-radius:100%;transform-origin:center;transform:translateY(-25%) scale(0);opacity:0;cursor:pointer;transition:all .3s ease}.form-toggle[_ngcontent-%COMP%]:before, .form-toggle[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;top:50%;left:50%;width:30px;height:4px;background:#4285F4;transform:translate(-50%,-50%)}.form-toggle[_ngcontent-%COMP%]:before{transform:translate(-50%,-50%) rotate(45deg)}.form-toggle[_ngcontent-%COMP%]:after{transform:translate(-50%,-50%) rotate(-45deg)}.form-toggle.visible[_ngcontent-%COMP%]{transform:translateY(-25%) scale(1);opacity:1}.form-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin:0 0 20px}.form-group[_ngcontent-%COMP%]:last-child{margin:0}.form-panel[_ngcontent-%COMP%]{padding:60px calc(5% + 60px) 60px 60px;box-sizing:border-box}.form-panel.one[_ngcontent-%COMP%]:before{content:"";display:block;opacity:0;visibility:hidden;transition:.3s ease}.form-panel.one.hidden[_ngcontent-%COMP%]:before{display:block;opacity:1;visibility:visible}.form-panel.two[_ngcontent-%COMP%]{z-index:5;position:absolute;top:0;left:95%;background:#4285F4;width:100%;min-height:100%;padding:60px calc(10% + 60px) 60px 60px;transition:.3s ease;cursor:pointer}.form-panel.two[_ngcontent-%COMP%]:before, .form-panel.two[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;top:60px;left:1.5%;background:rgba(255,255,255,.2);height:30px;width:2px;transition:.3s ease}.form-panel.two[_ngcontent-%COMP%]:after{left:3%}.form-panel.two[_ngcontent-%COMP%]:hover{left:93%;box-shadow:0 0 10px #0003}.form-panel.two[_ngcontent-%COMP%]:hover:before, .form-panel.two[_ngcontent-%COMP%]:hover:after{opacity:0}.form-panel.two.active[_ngcontent-%COMP%]{left:10%;box-shadow:0 0 10px #0003;cursor:default}.form-panel.two.active[_ngcontent-%COMP%]:before, .form-panel.two.active[_ngcontent-%COMP%]:after{opacity:0}']}),n})();const ZO=function(){return["/Login"]};let $O=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-home"]],decls:24,vars:2,consts:[[1,"headerimgbx"],[1,"header-im"],["src","../../../assets/background.jpg","alt","",1,"headerimg"],[1,"header-rig"],[1,"headertext-bx"],[1,"title"],[1,"txt"],[1,"buttn",3,"routerLink"],[1,"socialbx"],[1,"social-item"],[1,"sctext"],[1,"iconbx"],[1,"bi","bi-linkedin"],[1,"bi","bi-github"]],template:function(t,i){1&t&&(a.TgZ(0,"header")(1,"div",0)(2,"div",1),a._UZ(3,"img",2),a.qZA()(),a.TgZ(4,"div",3)(5,"div",4)(6,"h1",5),a._uU(7,"Bienvenido "),a.qZA(),a.TgZ(8,"p",6),a._uU(9,"En nuestra clinica podra acceder de forma f\xe1cil y administrar sus turnos como usted quiera. Adem\xe1s tenemos la posibilidad de atenci\xf3n totalmente online. "),a.qZA(),a.TgZ(10,"a",7),a._uU(11,"Sign In"),a.qZA()(),a._UZ(12,"br"),a.TgZ(13,"div",8)(14,"div",9)(15,"p",10),a._uU(16,"Linkedin"),a.qZA(),a.TgZ(17,"div",11),a._UZ(18,"i",12),a.qZA()(),a.TgZ(19,"div",9)(20,"p",10),a._uU(21,"Github"),a.qZA(),a.TgZ(22,"div",11),a._UZ(23,"i",13),a.qZA()()()()()),2&t&&(a.xp6(10),a.Q6J("routerLink",a.DdM(1,ZO)))},directives:[Al],styles:[".header-im[_ngcontent-%COMP%]{width:87%;position:relative;z-index:0}img[_ngcontent-%COMP%]{width:100%;z-index:5;border-radius:3px}a[_ngcontent-%COMP%]{text-decoration:none}header[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;height:90vh;justify-content:space-around;align-items:center;overflow:hidden}.header-rig[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;width:40%;margin-right:25px}.headerimgbx[_ngcontent-%COMP%]{width:60%;display:flex;align-items:center;justify-content:center;position:relative}.textbx[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;font-size:4rem;text-overflow:ellipsis;width:45%;color:#fff;text-shadow:-4px -3px 4px #292929}.title[_ngcontent-%COMP%]{font-size:50px;width:100%;text-align:right;margin-bottom:0}.txt[_ngcontent-%COMP%]{margin:5px 0;width:100%;padding:10px;line-height:1.5;font-weight:600;text-align:right}.headertext-bx[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-end}.buttn[_ngcontent-%COMP%]{margin:0;padding:10px 25px;background:#4285F4;font-size:20px;font-weight:700;border-radius:4px;color:#fff}.social-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;margin-bottom:1rem}.socialbx[_ngcontent-%COMP%]{width:33%;margin:10px}.iconbx[_ngcontent-%COMP%]{padding:5px;background:#4285F4;width:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;color:#fff}.sctext[_ngcontent-%COMP%]{font-weight:600;text-align:right}i[_ngcontent-%COMP%]{font-size:x-large}@media only screen and (max-width: 1200px){.right[_ngcontent-%COMP%]:before{content:none}header[_ngcontent-%COMP%]{height:100vh;flex-direction:column;justify-content:flex-start;align-items:center;top:400px}.header-im[_ngcontent-%COMP%]{width:87%;position:relative;z-index:0;margin-top:25px}.textbx[_ngcontent-%COMP%]{font-size:30px;bottom:22px;top:inherit;width:100%}.header-rig[_ngcontent-%COMP%]{width:100%;margin-right:0;margin-top:35px;padding:20px}h1.title[_ngcontent-%COMP%]{font-size:35px;width:100%;text-align:center;padding:0}p.txt[_ngcontent-%COMP%]{font-size:15px;width:100%;font-weight:200;overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;max-height:60px;height:60px;text-align:center}.socialbx[_ngcontent-%COMP%]{display:none}.social-item[_ngcontent-%COMP%]{justify-content:center}.iconbx[_ngcontent-%COMP%]{border-radius:0;border:1px solid #dadada;background:none;color:#29294b;-webkit-border-radius:0;-moz-border-radius:0;-ms-border-radius:0;-o-border-radius:0}.buttn[_ngcontent-%COMP%]{background:transparent;border:2px solid #4285F4;color:#4285f4}.headertext-bx[_ngcontent-%COMP%]{align-items:center}p.sctext[_ngcontent-%COMP%]{display:none}}@media only screen and (max-width: 600px){.headerimgbx[_ngcontent-%COMP%]:after{height:160px}.header-rig[_ngcontent-%COMP%]{padding:20px 0}.txt[_ngcontent-%COMP%]{padding:10px 0}.header-im[_ngcontent-%COMP%]:after{right:-25px}}"]}),n})();var GO=P(4327);function qO(n,e){1&n&&(a.TgZ(0,"div",19),a._uU(1,"Habilitado"),a.qZA())}function zO(n,e){1&n&&(a.TgZ(0,"div",20),a._uU(1,"Inhabilitado"),a.qZA())}function WO(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"tr")(1,"td",7),a._uU(2),a.qZA(),a.TgZ(3,"td")(4,"div",8)(5,"div",9)(6,"div",10),a._UZ(7,"img",11),a.qZA(),a.TgZ(8,"div",12)(9,"div",13),a._uU(10),a.qZA(),a.TgZ(11,"div",14),a._uU(12),a.qZA()()()()(),a.TgZ(13,"td",2),a._uU(14),a.qZA(),a.TgZ(15,"td",2),a.YNc(16,qO,2,0,"div",15),a.YNc(17,zO,2,0,"ng-template",null,16,a.W1O),a.qZA(),a.TgZ(19,"td",2)(20,"div",17)(21,"input",18),a.NdJ("ngModelChange",function(r){return a.CHM(t).$implicit.seleccionado=r}),a.qZA()()()()}if(2&n){const t=e.$implicit,i=a.MAs(18);a.xp6(2),a.Oqu(t.dni),a.xp6(5),a.Q6J("src",t.pathImg,a.LSH),a.xp6(3),a.AsE("",t.nombre," ",t.apellido,""),a.xp6(2),a.Oqu(t.email),a.xp6(2),a.Oqu(t.rol),a.xp6(2),a.Q6J("ngIf",t.habilitado)("ngIfElse",i),a.xp6(5),a.Q6J("ngModel",t.seleccionado)}}let KO=(()=>{class n{constructor(t){this.afs=t}ngOnInit(){}onClick(t){let i=this.listUser.filter(r=>1==r.seleccionado);i&&i.forEach(r=>{this.afs.updateUser(r,t).then(u=>{})})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Jh))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-tabla-usuarios"]],inputs:{listUser:"listUser"},decls:21,vars:1,consts:[[1,"table-responsive"],[1,"align-middle","mb-0","table","table-borderless","table-striped","table-hover"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-block","text-center","card-footer"],[1,"mr-2","btn-icon","btn-icon-only","btn","btn-outline-danger",3,"click"],[1,"btn-wide","btn","btn-success",3,"click"],[1,"text-center","text-muted"],[1,"widget-content","p-0","text-center"],[1,"widget-content-wrapper"],[1,"widget-content-left"],["width","40",1,"rounded-circle",3,"src"],[1,"widget-content-left","flex2"],[1,"widget-heading"],[1,"widget-subheading","opacity-7"],["class","badge badge-success",4,"ngIf","ngIfElse"],["deshabilitado",""],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"badge","badge-success"],[1,"badge","badge-danger"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),a._uU(5,"DNI"),a.qZA(),a.TgZ(6,"th",2),a._uU(7,"User"),a.qZA(),a.TgZ(8,"th",2),a._uU(9,"Rol"),a.qZA(),a.TgZ(10,"th",2),a._uU(11,"Status"),a.qZA(),a.TgZ(12,"th",2),a._uU(13," - "),a.qZA()()(),a.TgZ(14,"tbody"),a.YNc(15,WO,22,9,"tr",3),a.qZA()()(),a.TgZ(16,"div",4)(17,"button",5),a.NdJ("click",function(){return i.onClick(!1)}),a._uU(18,"Deshabilitar"),a.qZA(),a.TgZ(19,"button",6),a.NdJ("click",function(){return i.onClick(!0)}),a._uU(20,"Habilitar"),a.qZA()()),2&t&&(a.xp6(15),a.Q6J("ngForOf",i.listUser))},directives:[d.sg,d.O5,It.Wl,It.JJ,It.On],styles:[""]}),n})();const YO=["file"];function QO(n,e){1&n&&a._UZ(0,"app-loading")}const j_=function(n,e){return{"is-invalid":n,"is-valid":e}};let JO=(()=>{class n{constructor(t,i,r,u){this.router=t,this.auth=i,this.afs=r,this.formBuilder=u,this.errorMsj=new ni.x,this.error=!1,this.cargando=!1,this.regisForm=this.formBuilder.group({nombre:["",[It.kI.required]],apellido:["",[It.kI.required]],dni:["",[It.kI.required,It.kI.minLength(8),It.kI.maxLength(8),It.kI.pattern("^[0-9]*$")]],edad:["",[It.kI.required,It.kI.min(18),It.kI.max(150)]],email:["",[It.kI.required,It.kI.email]],password:["",[It.kI.required]],rol:[{value:"administrador"}]}),this.archivoMsj="No file chosen..."}ngOnInit(){}get f(){return this.regisForm.controls}getErrorMessage(t){let i="";return this.f[t].hasError("required")?i="Vac\xedo.":this.f[t].getError("email")?i="Formato de email inv\xe1lido":this.f[t].getError("minlength")||this.f[t].getError("maxlength")?i="Cantidad de caracteres inv\xe1lido":this.f[t].getError("min")?i="Tienes que ser mayor de edad":this.f[t].getError("max")?i="Lo siento, dudamos que tenga esa edad.":this.f[t].getError("pattern")&&(i="S\xd3LO N\xdaMEROS."),i}isNotValidField(t){return(this.f[t].touched||1==this.f[t].dirty)&&!this.f[t].valid}uploadFile(){this.file.nativeElement.click()}onChangeFile(){let t=this.file.nativeElement.files[0];this.archivoMsj=t.name;let i=new FileReader;i.readAsDataURL(t),i.onloadend=()=>{this.archivo=i.result}}onCrear(){let t=this.regisForm.value;this.cargando=!0,this.auth.register(t.email,t.password).then(i=>{i&&this.archivo&&this.afs.uploadImage(t.email,this.archivo).then(r=>{t.habilitado=!0,r&&(t.pathImg=r),this.afs.setObj("users",t,t.email).then(u=>{this.router.navigate([""]),this.regisForm.reset(),this.cargando=!1})}).catch(r=>{this.errorMsj.next(r.message),this.error=!0,this.cargando=!1})}).catch(i=>{this.errorMsj.next(i.message),this.error=!0,this.cargando=!1})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ir),a.Y36(Go),a.Y36(Jh),a.Y36(It.qu))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-crear-usuario"]],viewQuery:function(t,i){if(1&t&&a.Gf(YO,5),2&t){let r;a.iGM(r=a.CRH())&&(i.file=r.first)}},decls:61,vars:37,consts:[[4,"ngIf"],[1,"form-header"],[1,"form-content"],[3,"formGroup"],[1,"row"],[1,"col-6"],[1,"form-group"],["for","dni"],["type","text","formControlName","dni","id","dni","name","dni","required","",1,"form-control","form-style",3,"ngClass"],[1,"invalid-feedback"],["type","number","formControlName","edad","id","edad","name","edad","required","",1,"form-control","form-style",3,"ngClass"],["for","nombre"],["type","text","formControlName","nombre","id","nombre","name","nombre","required","",1,"form-control","form-style",3,"ngClass"],["for","apellido"],["type","text","formControlName","apellido","id","apellido","name","apellido","required","",1,"form-control","form-style",3,"ngClass"],["for","email"],["type","text","formControlName","email","name","email","required","",1,"form-control","form-style",3,"ngClass"],["for","password"],["type","password","formControlName","password","name","password","required","",1,"form-control","form-style",3,"ngClass"],[1,"file-upload"],[1,"file-upload-select"],[1,"file-select-button"],[1,"file-select-name",3,"click"],["type","file","name","file-upload-input","id","file-upload-input",3,"change"],["file",""],[1,"form-remember",2,"color","red"],["type","submit",3,"disabled","click"]],template:function(t,i){1&t&&(a.YNc(0,QO,1,0,"app-loading",0),a.TgZ(1,"div",1)(2,"h1"),a._uU(3,"New Users Admin"),a.qZA()(),a.TgZ(4,"div",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),a._uU(10,"DNI"),a.qZA(),a._UZ(11,"input",8),a.TgZ(12,"div",9),a._uU(13),a.qZA()()(),a.TgZ(14,"div",5)(15,"div",6)(16,"label",7),a._uU(17,"EDAD"),a.qZA(),a._UZ(18,"input",10),a.TgZ(19,"div",9),a._uU(20),a.qZA()()(),a.TgZ(21,"div",5)(22,"div",6)(23,"label",11),a._uU(24,"Nombre"),a.qZA(),a._UZ(25,"input",12),a.TgZ(26,"div",9),a._uU(27),a.qZA()()(),a.TgZ(28,"div",5)(29,"div",6)(30,"label",13),a._uU(31,"Apellido"),a.qZA(),a._UZ(32,"input",14),a.TgZ(33,"div",9),a._uU(34),a.qZA()()()(),a.TgZ(35,"div",6)(36,"label",15),a._uU(37,"Email"),a.qZA(),a._UZ(38,"input",16),a.TgZ(39,"div",9),a._uU(40),a.qZA()(),a.TgZ(41,"div",6)(42,"label",17),a._uU(43,"Password"),a.qZA(),a._UZ(44,"input",18),a.TgZ(45,"div",9),a._uU(46),a.qZA()(),a.TgZ(47,"div",19)(48,"div",20)(49,"div",21),a._uU(50,"Foto"),a.qZA(),a.TgZ(51,"div",22),a.NdJ("click",function(){return i.uploadFile()}),a._uU(52),a.qZA(),a.TgZ(53,"input",23,24),a.NdJ("change",function(){return i.onChangeFile()}),a.qZA()()(),a.TgZ(55,"div",6)(56,"label",25),a._uU(57),a.ALo(58,"async"),a.qZA()(),a.TgZ(59,"button",26),a.NdJ("click",function(){return i.onCrear()}),a._uU(60,"Crear usuario"),a.qZA()()()),2&t&&(a.Q6J("ngIf",i.cargando),a.xp6(5),a.Q6J("formGroup",i.regisForm),a.xp6(6),a.Q6J("ngClass",a.WLB(19,j_,i.isNotValidField("dni"),!i.isNotValidField("dni")&&i.f.dni.touched)),a.xp6(2),a.hij(" ",i.getErrorMessage("dni")," "),a.xp6(5),a.Q6J("ngClass",a.WLB(22,j_,i.isNotValidField("edad"),!i.isNotValidField("edad")&&i.f.edad.touched)),a.xp6(2),a.hij(" ",i.getErrorMessage("edad")," "),a.xp6(5),a.Q6J("ngClass",a.WLB(25,j_,i.isNotValidField("nombre"),!i.isNotValidField("nombre")&&i.f.nombre.touched)),a.xp6(2),a.hij(" ",i.getErrorMessage("nombre")," "),a.xp6(5),a.Q6J("ngClass",a.WLB(28,j_,i.isNotValidField("apellido"),!i.isNotValidField("apellido")&&i.f.apellido.touched)),a.xp6(2),a.hij(" ",i.getErrorMessage("apellido")," "),a.xp6(4),a.Q6J("ngClass",a.WLB(31,j_,i.isNotValidField("email"),!i.isNotValidField("email")&&i.f.email.touched)),a.xp6(2),a.hij(" ",i.getErrorMessage("email")," "),a.xp6(4),a.Q6J("ngClass",a.WLB(34,j_,i.isNotValidField("password"),!i.isNotValidField("password")&&i.f.password.touched)),a.xp6(2),a.hij(" ",i.getErrorMessage("password")," "),a.xp6(6),a.Oqu(i.archivoMsj),a.xp6(5),a.Oqu(a.lcZ(58,17,i.errorMsj)),a.xp6(2),a.Q6J("disabled",i.regisForm.invalid))},directives:[d.O5,FE,It._Y,It.JL,It.sg,It.Fj,It.JJ,It.u,It.Q7,d.mk,It.wV],pipes:[d.Ov],styles:[".input[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{outline:none;display:block;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;color:#0009;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;transition:.3s ease}button[_ngcontent-%COMP%]{outline:none;width:100%;border:0;border-radius:4px;padding:12px 20px;background:#FFFFFF;color:#4285f4;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;text-transform:uppercase;cursor:pointer}label[_ngcontent-%COMP%]{display:block;margin:0 0 10px;color:#4285f4;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;letter-spacing:.2em}h1[_ngcontent-%COMP%]{padding:4px 0;position:relative;z-index:40;color:#4285f4;font-size:24px;font-weight:700;text-transform:uppercase}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]{display:block;color:#dbdbdb;cursor:pointer;text-align:left;background:rgba(0,0,0,.1);overflow:hidden;position:relative;border-radius:6px}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   .file-select-button[_ngcontent-%COMP%]{background:rgba(0,0,0,.1);padding:10px;display:inline-block}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   .file-select-name[_ngcontent-%COMP%]{display:inline-block;padding:10px}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]:hover{background:#FFFFFF;color:#0009;transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]:hover   .file-select-button[_ngcontent-%COMP%]{background:rgba(66,133,244,.5);color:#fff;transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}.test[_ngcontent-%COMP%]{background:rgba(66,133,244,.5)}"]}),n})();function XO(n,e){if(1&n&&a._UZ(0,"app-tabla-usuarios",10),2&n){const t=a.oxw();a.Q6J("listUser",t.users)}}function ek(n,e){1&n&&(a.TgZ(0,"div",11),a._UZ(1,"app-crear-usuario"),a.qZA())}let tk=(()=>{class n{constructor(t){this.afs=t,this.nuevoUsuario=!1}ngOnInit(){this.afs.getAll("users").subscribe(t=>{this.users=t})}onClick(){this.nuevoUsuario=!0}exportExcel(){P.e(574).then(P.bind(P,574)).then(t=>{const r={Sheets:{data:t.utils.json_to_sheet(this.users)},SheetNames:["data"]},u=t.write(r,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(u,"users")})}saveAsExcelFile(t,i){const h=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});GO.saveAs(h,i+"_export_"+(new Date).getTime()+".xlsx")}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Jh))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-master-usuarios"]],decls:11,vars:2,consts:[[1,"row"],[1,"col-md-12"],[1,"main-card","mb-3","card"],[1,"card-header"],[1,"btn-actions-pane-right"],["role","group",1,"btn-group-sm","btn-group"],[1,"btn-icon","btn-icon-only","bi","bi-person-plus-fill","btn","btn-accent",3,"click"],[1,"btn-icon","btn-icon-only","bi","bi-file-excel","btn","btn-success","ml-2",3,"click"],[3,"listUser",4,"ngIf"],["class","col mb-3",4,"ngIf"],[3,"listUser"],[1,"col","mb-3"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),a._uU(4,"Active Users "),a.TgZ(5,"div",4)(6,"div",5)(7,"button",6),a.NdJ("click",function(){return i.onClick()}),a.qZA(),a.TgZ(8,"button",7),a.NdJ("click",function(){return i.exportExcel()}),a.qZA()()()(),a.YNc(9,XO,1,1,"app-tabla-usuarios",8),a.qZA()(),a.YNc(10,ek,2,0,"div",9),a.qZA()),2&t&&(a.xp6(9),a.Q6J("ngIf",i.users),a.xp6(1),a.Q6J("ngIf",i.nuevoUsuario))},directives:[d.O5,KO,JO],styles:[".btn-accent[_ngcontent-%COMP%]{background-color:#4285f4;color:#fff}"]}),n})();var or=P(9783),gs=P(5921),_g=P(5787),Mt=P(1777);const Z1=["container"],nk=function(n,e,t,i){return{"pi-info-circle":n,"pi-exclamation-triangle":e,"pi-times-circle":t,"pi-check":i}};function ik(n,e){if(1&n&&(a.ynx(0),a._UZ(1,"span",6),a.TgZ(2,"div",7)(3,"div",8),a._uU(4),a.qZA(),a.TgZ(5,"div",9),a._uU(6),a.qZA()(),a.BQk()),2&n){const t=a.oxw();a.xp6(1),a.Tol("p-toast-message-icon pi"+(t.message.icon?" "+t.message.icon:"")),a.Q6J("ngClass",a.l5B(5,nk,"info"==t.message.severity,"warn"==t.message.severity,"error"==t.message.severity,"success"==t.message.severity)),a.xp6(3),a.Oqu(t.message.summary),a.xp6(2),a.Oqu(t.message.detail)}}function rk(n,e){1&n&&a.GkF(0)}function sk(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",10),a.NdJ("click",function(r){return a.CHM(t),a.oxw().onCloseIconClick(r)})("keydown.enter",function(r){return a.CHM(t),a.oxw().onCloseIconClick(r)}),a._UZ(1,"span",11),a.qZA()}}const ok=function(n){return[n,"p-toast-message"]},ak=function(n,e,t,i){return{showTransformParams:n,hideTransformParams:e,showTransitionParams:t,hideTransitionParams:i}},lk=function(n){return{value:"visible",params:n}},uk=function(n){return{$implicit:n}};function ck(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"p-toastItem",3),a.NdJ("onClose",function(r){return a.CHM(t),a.oxw().onMessageClose(r)})("@toastAnimation.start",function(r){return a.CHM(t),a.oxw().onAnimationStart(r)})("@toastAnimation.done",function(r){return a.CHM(t),a.oxw().onAnimationEnd(r)}),a.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=a.oxw();a.Q6J("message",t)("index",i)("template",r.template)("@toastAnimation",void 0)("showTransformOptions",r.showTransformOptions)("hideTransformOptions",r.hideTransformOptions)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}}let dk=(()=>{class n{constructor(t){this.zone=t,this.onClose=new a.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(t){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),t.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["p-toastItem"]],viewQuery:function(t,i){if(1&t&&a.Gf(Z1,5),2&t){let r;a.iGM(r=a.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0,1),a.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()}),a.TgZ(2,"div",2),a.YNc(3,ik,7,10,"ng-container",3),a.YNc(4,rk,1,0,"ng-container",4),a.YNc(5,sk,2,0,"button",5),a.qZA()()),2&t&&(a.Tol(i.message.styleClass),a.Q6J("ngClass",a.VKq(10,ok,"p-toast-message-"+i.message.severity))("@messageState",a.VKq(17,lk,a.l5B(12,ak,i.showTransformOptions,i.hideTransformOptions,i.showTransitionOptions,i.hideTransitionOptions))),a.uIk("id",i.message.id),a.xp6(2),a.Q6J("ngClass",i.message.contentStyleClass),a.xp6(1),a.Q6J("ngIf",!i.template),a.xp6(1),a.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",a.VKq(19,uk,i.message)),a.xp6(1),a.Q6J("ngIf",!1!==i.message.closable))},directives:[d.mk,d.O5,d.tP,_g.H],encapsulation:2,data:{animation:[(0,Mt.X$)("messageState",[(0,Mt.SB)("visible",(0,Mt.oB)({transform:"translateY(0)",opacity:1})),(0,Mt.eR)("void => *",[(0,Mt.oB)({transform:"{{showTransformParams}}",opacity:0}),(0,Mt.jt)("{{showTransitionParams}}")]),(0,Mt.eR)("* => void",[(0,Mt.jt)("{{hideTransitionParams}}",(0,Mt.oB)({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),n})(),hk=(()=>{class n{constructor(t,i,r){this.messageService=t,this.cd=i,this.config=r,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new a.vpe,this.id=(0,gs.Th)()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(t=>{if(t)if(t instanceof Array){const i=t.filter(r=>this.canAdd(r));this.add(i)}else this.canAdd(t)&&this.add([t])}),this.clearSubscription=this.messageService.clearObserver.subscribe(t=>{t?this.key===t&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(t){this.messages=this.messages?[...this.messages,...t]:[...t],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...t]:[...t]),this.cd.markForCheck()}canAdd(t){let i=this.key===t.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,t)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,t)),i}containsMessage(t,i){return!!t&&null!=t.find(r=>r.summary===i.summary&&r.detail==i.detail&&r.severity===i.severity)}ngAfterContentInit(){this.templates.forEach(t=>{t.getType(),this.template=t.template})}onMessageClose(t){this.messages.splice(t.index,1),this.onClose.emit({message:t.message}),this.cd.detectChanges()}onAnimationStart(t){"void"===t.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&gs.P9.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(t){"void"===t.toState&&this.autoZIndex&&gs.gb.isEmpty(this.messages)&&gs.P9.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";for(let i in this.breakpoints){let r="";for(let u in this.breakpoints[i])r+=u+":"+this.breakpoints[i][u]+" !important;";t+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-toast[${this.id}] {\n                           ${r}\n                        }\n                    }\n                `}this.styleElement.innerHTML=t}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&gs.P9.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(or.ez),a.Y36(a.sBO),a.Y36(or.b4))},n.\u0275cmp=a.Xpm({type:n,selectors:[["p-toast"]],contentQueries:function(t,i,r){if(1&t&&a.Suo(r,or.jx,4),2&t){let u;a.iGM(u=a.CRH())&&(i.templates=u)}},viewQuery:function(t,i){if(1&t&&a.Gf(Z1,5),2&t){let r;a.iGM(r=a.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0,1),a.YNc(2,ck,1,8,"p-toastItem",2),a.qZA()),2&t&&(a.Tol(i.styleClass),a.Q6J("ngClass","p-toast p-component p-toast-"+i.position)("ngStyle",i.style),a.xp6(2),a.Q6J("ngForOf",i.messages))},directives:[dk,d.mk,d.PC,d.sg],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,Mt.X$)("toastAnimation",[(0,Mt.eR)(":enter, :leave",[(0,Mt.IO)("@*",(0,Mt.pV)())])])]},changeDetection:0}),n})(),fk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[d.ez,_g.T],or.m8]}),n})();var Gn=P(5730);let pk=(()=>{class n{constructor(t){this.el=t}onkeydown(t){if(!0!==this.pFocusTrapDisabled){t.preventDefault();let i=Gn.p.getFocusableElements(this.el.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);t.shiftKey?-1==r||0===r?i[i.length-1].focus():i[r-1].focus():-1==r||r===i.length-1?i[0].focus():i[r+1].focus()}else i[0].focus()}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(t,i){1&t&&a.NdJ("keydown.tab",function(u){return i.onkeydown(u)})("keydown.shift.tab",function(u){return i.onkeydown(u)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),n})(),gk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[d.ez]]}),n})();const mk=["titlebar"],_k=["content"],yk=["footer"];function vk(n,e){if(1&n&&(a.TgZ(0,"span",17),a._uU(1),a.qZA()),2&n){const t=a.oxw(4);a.uIk("id",t.id+"-label"),a.xp6(1),a.Oqu(t.header)}}function bk(n,e){if(1&n&&(a.TgZ(0,"span",17),a.Hsn(1,1),a.qZA()),2&n){const t=a.oxw(4);a.uIk("id",t.id+"-label")}}function wk(n,e){1&n&&a.GkF(0)}const Ck=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function Ek(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",18),a.NdJ("click",function(){return a.CHM(t),a.oxw(4).maximize()})("keydown.enter",function(){return a.CHM(t),a.oxw(4).maximize()}),a._UZ(1,"span",19),a.qZA()}if(2&n){const t=a.oxw(4);a.Q6J("ngClass",a.DdM(2,Ck)),a.xp6(1),a.Q6J("ngClass",t.maximized?t.minimizeIcon:t.maximizeIcon)}}const Tk=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function Ik(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",20),a.NdJ("click",function(r){return a.CHM(t),a.oxw(4).close(r)})("keydown.enter",function(r){return a.CHM(t),a.oxw(4).close(r)}),a._UZ(1,"span",21),a.qZA()}if(2&n){const t=a.oxw(4);a.Q6J("ngClass",a.DdM(4,Tk)),a.uIk("aria-label",t.closeAriaLabel)("tabindex",t.closeTabindex),a.xp6(1),a.Q6J("ngClass",t.closeIcon)}}function Dk(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",11,12),a.NdJ("mousedown",function(r){return a.CHM(t),a.oxw(3).initDrag(r)}),a.YNc(2,vk,2,2,"span",13),a.YNc(3,bk,2,1,"span",13),a.YNc(4,wk,1,0,"ng-container",8),a.TgZ(5,"div",14),a.YNc(6,Ek,2,3,"button",15),a.YNc(7,Ik,2,5,"button",16),a.qZA()()}if(2&n){const t=a.oxw(3);a.xp6(2),a.Q6J("ngIf",!t.headerFacet&&!t.headerTemplate),a.xp6(1),a.Q6J("ngIf",t.headerFacet),a.xp6(1),a.Q6J("ngTemplateOutlet",t.headerTemplate),a.xp6(2),a.Q6J("ngIf",t.maximizable),a.xp6(1),a.Q6J("ngIf",t.closable)}}function Sk(n,e){1&n&&a.GkF(0)}function xk(n,e){1&n&&a.GkF(0)}function Ak(n,e){if(1&n&&(a.TgZ(0,"div",22,23),a.Hsn(2,2),a.YNc(3,xk,1,0,"ng-container",8),a.qZA()),2&n){const t=a.oxw(3);a.xp6(3),a.Q6J("ngTemplateOutlet",t.footerTemplate)}}function Mk(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",24),a.NdJ("mousedown",function(r){return a.CHM(t),a.oxw(3).initResize(r)}),a.qZA()}}const Ok=function(n,e,t,i){return{"p-dialog p-component":!0,"p-dialog-rtl":n,"p-dialog-draggable":e,"p-dialog-resizable":t,"p-dialog-maximized":i}},kk=function(n,e){return{transform:n,transition:e}},Pk=function(n){return{value:"visible",params:n}};function Rk(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",3,4),a.NdJ("@animation.start",function(r){return a.CHM(t),a.oxw(2).onAnimationStart(r)})("@animation.done",function(r){return a.CHM(t),a.oxw(2).onAnimationEnd(r)}),a.YNc(2,Dk,8,5,"div",5),a.TgZ(3,"div",6,7),a.Hsn(5),a.YNc(6,Sk,1,0,"ng-container",8),a.qZA(),a.YNc(7,Ak,4,1,"div",9),a.YNc(8,Mk,1,0,"div",10),a.qZA()}if(2&n){const t=a.oxw(2);a.Tol(t.styleClass),a.Q6J("ngClass",a.l5B(15,Ok,t.rtl,t.draggable,t.resizable,t.maximized))("ngStyle",t.style)("pFocusTrapDisabled",!1===t.focusTrap)("@animation",a.VKq(23,Pk,a.WLB(20,kk,t.transformOptions,t.transitionOptions))),a.uIk("aria-labelledby",t.id+"-label"),a.xp6(2),a.Q6J("ngIf",t.showHeader),a.xp6(1),a.Tol(t.contentStyleClass),a.Q6J("ngClass","p-dialog-content")("ngStyle",t.contentStyle),a.xp6(3),a.Q6J("ngTemplateOutlet",t.contentTemplate),a.xp6(1),a.Q6J("ngIf",t.footerFacet||t.footerTemplate),a.xp6(1),a.Q6J("ngIf",t.resizable)}}const Nk=function(n,e,t,i,r,u,h,g,v,T){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":n,"p-dialog-mask-scrollblocker":e,"p-dialog-left":t,"p-dialog-right":i,"p-dialog-top":r,"p-dialog-top-left":u,"p-dialog-top-right":h,"p-dialog-bottom":g,"p-dialog-bottom-left":v,"p-dialog-bottom-right":T}};function Fk(n,e){if(1&n&&(a.TgZ(0,"div",1),a.YNc(1,Rk,9,25,"div",2),a.qZA()),2&n){const t=a.oxw();a.Tol(t.maskStyleClass),a.Q6J("ngClass",a.rFY(4,Nk,[t.modal,t.modal||t.blockScroll,"left"===t.position,"right"===t.position,"top"===t.position,"topleft"===t.position||"top-left"===t.position,"topright"===t.position||"top-right"===t.position,"bottom"===t.position,"bottomleft"===t.position||"bottom-left"===t.position,"bottomright"===t.position||"bottom-right"===t.position])),a.xp6(1),a.Q6J("ngIf",t.visible)}}const Lk=["*",[["p-header"]],[["p-footer"]]],Vk=["*","p-header","p-footer"],Uk=(0,Mt.oQ)([(0,Mt.oB)({transform:"{{transform}}",opacity:0}),(0,Mt.jt)("{{transition}}")]),Bk=(0,Mt.oQ)([(0,Mt.jt)("{{transition}}",(0,Mt.oB)({transform:"{{transform}}",opacity:0}))]);let Hk=(()=>{class n{constructor(t,i,r,u,h){this.el=t,this.renderer=i,this.zone=r,this.cd=u,this.config=h,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new a.vpe,this.onHide=new a.vpe,this.visibleChange=new a.vpe,this.onResizeInit=new a.vpe,this.onResizeEnd=new a.vpe,this.onDragEnd=new a.vpe,this.onMaximize=new a.vpe,this.id=(0,gs.Th)(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(t){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(t){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(t){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(t){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(t){t&&(this._style=Object.assign({},t),this.originalStyle=t)}get position(){return this._position}set position(t){switch(this._position=t,t){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let t=Gn.p.findSingle(this.container,"[autofocus]");t&&this.zone.runOutsideAngular(()=>{setTimeout(()=>t.focus(),5)})}close(t){this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)})),this.modal&&Gn.p.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&Gn.p.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?Gn.p.addClass(document.body,"p-overflow-hidden"):Gn.p.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(gs.P9.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";for(let i in this.breakpoints)t+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[i]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=t}}initDrag(t){Gn.p.hasClass(t.target,"p-dialog-header-icon")||Gn.p.hasClass(t.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,this.container.style.margin="0",Gn.p.addClass(document.body,"p-unselectable-text"))}onKeydown(t){if(this.focusTrap&&9===t.which){t.preventDefault();let i=Gn.p.getFocusableElements(this.container);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);t.shiftKey?-1==r||0===r?i[i.length-1].focus():i[r-1].focus():-1==r||r===i.length-1?i[0].focus():i[r+1].focus()}else i[0].focus()}}onDrag(t){if(this.dragging){let i=Gn.p.getOuterWidth(this.container),r=Gn.p.getOuterHeight(this.container),u=t.pageX-this.lastPageX,h=t.pageY-this.lastPageY,g=this.container.getBoundingClientRect(),v=g.left+u,T=g.top+h,L=Gn.p.getViewport();this.container.style.position="fixed",this.keepInViewport?(v>=this.minX&&v+i<L.width&&(this._style.left=v+"px",this.lastPageX=t.pageX,this.container.style.left=v+"px"),T>=this.minY&&T+r<L.height&&(this._style.top=T+"px",this.lastPageY=t.pageY,this.container.style.top=T+"px")):(this.lastPageX=t.pageX,this.container.style.left=v+"px",this.lastPageY=t.pageY,this.container.style.top=T+"px")}}endDrag(t){this.dragging&&(this.dragging=!1,Gn.p.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(t))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(t){this.resizable&&(this.resizing=!0,this.lastPageX=t.pageX,this.lastPageY=t.pageY,Gn.p.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(t))}onResize(t){if(this.resizing){let i=t.pageX-this.lastPageX,r=t.pageY-this.lastPageY,u=Gn.p.getOuterWidth(this.container),h=Gn.p.getOuterHeight(this.container),g=Gn.p.getOuterHeight(this.contentViewChild.nativeElement),v=u+i,T=h+r,L=this.container.style.minWidth,Q=this.container.style.minHeight,fe=this.container.getBoundingClientRect(),Se=Gn.p.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(v+=i,T+=r),(!L||v>parseInt(L))&&fe.left+v<Se.width&&(this._style.width=v+"px",this.container.style.width=this._style.width),(!Q||T>parseInt(Q))&&fe.top+T<Se.height&&(this.contentViewChild.nativeElement.style.height=g+T-h+"px",this._style.height&&(this._style.height=T+"px",this.container.style.height=this._style.height)),this.lastPageX=t.pageX,this.lastPageY=t.pageY}}resizeEnd(t){this.resizing&&(this.resizing=!1,Gn.p.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(t))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{27==i.which&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):Gn.p.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&Gn.p.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&Gn.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(t){switch(t.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(Gn.p.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&Gn.p.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&gs.P9.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(or.b4))},n.\u0275cmp=a.Xpm({type:n,selectors:[["p-dialog"]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,or.h4,5),a.Suo(r,or.$_,5),a.Suo(r,or.jx,4)),2&t){let u;a.iGM(u=a.CRH())&&(i.headerFacet=u.first),a.iGM(u=a.CRH())&&(i.footerFacet=u.first),a.iGM(u=a.CRH())&&(i.templates=u)}},viewQuery:function(t,i){if(1&t&&(a.Gf(mk,5),a.Gf(_k,5),a.Gf(yk,5)),2&t){let r;a.iGM(r=a.CRH())&&(i.headerViewChild=r.first),a.iGM(r=a.CRH())&&(i.contentViewChild=r.first),a.iGM(r=a.CRH())&&(i.footerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:Vk,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"]],template:function(t,i){1&t&&(a.F$t(Lk),a.YNc(0,Fk,2,15,"div",0)),2&t&&a.Q6J("ngIf",i.maskVisible)},directives:[d.O5,d.mk,pk,d.PC,d.tP,_g.H],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translate(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0px!important;left:0px!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,Mt.X$)("animation",[(0,Mt.eR)("void => visible",[(0,Mt._7)(Uk)]),(0,Mt.eR)("visible => void",[(0,Mt._7)(Bk)])])]},changeDetection:0}),n})(),jk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[d.ez,gk,_g.T],or.m8]}),n})();var vb=P(8868),$1=P(4119);function Zk(n,e){if(1&n&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Oqu(t.label)}}function $k(n,e){1&n&&a.GkF(0)}const G1=function(n){return{height:n}},Gk=function(n,e){return{"p-highlight":n,"p-disabled":e}},qk=function(n){return{"p-highlight":n}},q1=function(n){return{"pi pi-check":n}},bb=function(n){return{$implicit:n}},zk=["container"],Wk=["filterInput"],Kk=["in"];function Yk(n,e){if(1&n&&(a.ynx(0),a._uU(1),a.BQk()),2&n){const t=a.oxw(2);a.xp6(1),a.Oqu(t.valuesAsString||"empty")}}function Qk(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"span",18),a.NdJ("click",function(r){a.CHM(t);const u=a.oxw().$implicit;return a.oxw(3).removeChip(u,r)}),a.qZA()}}function Jk(n,e){if(1&n&&(a.TgZ(0,"div",14,15)(2,"span",16),a._uU(3),a.qZA(),a.YNc(4,Qk,1,0,"span",17),a.qZA()),2&n){const t=e.$implicit,i=a.oxw(3);a.xp6(3),a.Oqu(i.findLabelByValue(t)),a.xp6(1),a.Q6J("ngIf",!i.disabled)}}function Xk(n,e){if(1&n&&(a.ynx(0),a._uU(1),a.BQk()),2&n){const t=a.oxw(3);a.xp6(1),a.Oqu(t.placeholder||t.defaultLabel||"empty")}}function eP(n,e){if(1&n&&(a.ynx(0),a.YNc(1,Jk,5,2,"div",13),a.YNc(2,Xk,2,1,"ng-container",7),a.BQk()),2&n){const t=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",t.value),a.xp6(1),a.Q6J("ngIf",!t.value||0===t.value.length)}}function tP(n,e){if(1&n&&(a.ynx(0),a.YNc(1,Yk,2,1,"ng-container",7),a.YNc(2,eP,3,2,"ng-container",7),a.BQk()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngIf","comma"===t.display),a.xp6(1),a.Q6J("ngIf","chip"===t.display)}}function nP(n,e){1&n&&a.GkF(0)}function iP(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"i",19),a.NdJ("click",function(r){return a.CHM(t),a.oxw().clear(r)}),a.qZA()}}function rP(n,e){1&n&&a.GkF(0)}const sP=function(n){return{"p-checkbox-disabled":n}},oP=function(n,e,t){return{"p-highlight":n,"p-focus":e,"p-disabled":t}};function aP(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",32)(1,"div",2)(2,"input",33),a.NdJ("focus",function(){return a.CHM(t),a.oxw(3).onHeaderCheckboxFocus()})("blur",function(){return a.CHM(t),a.oxw(3).onHeaderCheckboxBlur()})("keydown.space",function(r){return a.CHM(t),a.oxw(3).toggleAll(r)}),a.qZA()(),a.TgZ(3,"div",34),a.NdJ("click",function(r){return a.CHM(t),a.oxw(3).toggleAll(r)}),a._UZ(4,"span",35),a.qZA()()}if(2&n){const t=a.oxw(3);a.Q6J("ngClass",a.VKq(6,sP,t.disabled||t.toggleAllDisabled)),a.xp6(2),a.Q6J("checked",t.allChecked)("disabled",t.disabled||t.toggleAllDisabled),a.xp6(1),a.Q6J("ngClass",a.kEZ(8,oP,t.allChecked,t.headerCheckboxFocus,t.disabled||t.toggleAllDisabled)),a.uIk("aria-checked",t.allChecked),a.xp6(1),a.Q6J("ngClass",a.VKq(12,q1,t.allChecked))}}function lP(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",36)(1,"input",37,38),a.NdJ("input",function(r){return a.CHM(t),a.oxw(3).onFilterInputChange(r)}),a.qZA(),a._UZ(3,"span",39),a.qZA()}if(2&n){const t=a.oxw(3);a.xp6(1),a.Q6J("value",t.filterValue||"")("disabled",t.disabled),a.uIk("autocomplete",t.autocomplete)("placeholder",t.filterPlaceHolder)("aria-label",t.ariaFilterLabel)}}function uP(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",26),a.Hsn(1),a.YNc(2,rP,1,0,"ng-container",27),a.YNc(3,aP,5,14,"div",28),a.YNc(4,lP,4,5,"div",29),a.TgZ(5,"button",30),a.NdJ("click",function(r){return a.CHM(t),a.oxw(2).close(r)}),a._UZ(6,"span",31),a.qZA()()}if(2&n){const t=a.oxw(2);a.xp6(2),a.Q6J("ngTemplateOutlet",t.headerTemplate),a.xp6(1),a.Q6J("ngIf",t.showToggleAll&&!t.selectionLimit),a.xp6(1),a.Q6J("ngIf",t.filter)}}function cP(n,e){if(1&n&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&n){const t=a.oxw().$implicit,i=a.oxw(3);a.xp6(1),a.Oqu(i.getOptionGroupLabel(t)||"empty")}}function dP(n,e){1&n&&a.GkF(0)}function hP(n,e){1&n&&a.GkF(0)}function fP(n,e){if(1&n&&(a.TgZ(0,"li",41),a.YNc(1,cP,2,1,"span",7),a.YNc(2,dP,1,0,"ng-container",8),a.qZA(),a.YNc(3,hP,1,0,"ng-container",8)),2&n){const t=e.$implicit;a.oxw(2);const i=a.MAs(7),r=a.oxw();a.xp6(1),a.Q6J("ngIf",!r.groupTemplate),a.xp6(1),a.Q6J("ngTemplateOutlet",r.groupTemplate)("ngTemplateOutletContext",a.VKq(5,bb,t)),a.xp6(1),a.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",a.VKq(7,bb,r.getOptionGroupChildren(t)))}}function pP(n,e){if(1&n&&(a.ynx(0),a.YNc(1,fP,4,9,"ng-template",40),a.BQk()),2&n){const t=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",t.optionsToRender)}}function gP(n,e){1&n&&a.GkF(0)}function mP(n,e){if(1&n&&(a.ynx(0),a.YNc(1,gP,1,0,"ng-container",8),a.BQk()),2&n){a.oxw();const t=a.MAs(7),i=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",a.VKq(2,bb,i.optionsToRender))}}function _P(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"p-multiSelectItem",45),a.NdJ("onClick",function(r){return a.CHM(t),a.oxw(4).onOptionClick(r)})("onKeydown",function(r){return a.CHM(t),a.oxw(4).onOptionKeydown(r)}),a.qZA()}if(2&n){const t=e.$implicit,i=a.oxw(4);a.Q6J("option",t)("selected",i.isSelected(t))("label",i.getOptionLabel(t))("disabled",i.isOptionDisabled(t))("template",i.itemTemplate)}}function yP(n,e){if(1&n&&(a.ynx(0),a.YNc(1,_P,1,5,"ng-template",40),a.BQk()),2&n){const t=a.oxw().$implicit;a.xp6(1),a.Q6J("ngForOf",t)}}function vP(n,e){if(1&n){const t=a.EpF();a.ynx(0),a.TgZ(1,"p-multiSelectItem",50),a.NdJ("onClick",function(r){return a.CHM(t),a.oxw(5).onOptionClick(r)})("onKeydown",function(r){return a.CHM(t),a.oxw(5).onOptionKeydown(r)}),a.qZA(),a.BQk()}if(2&n){const t=e.$implicit,i=a.oxw(5);a.xp6(1),a.Q6J("option",t)("selected",i.isSelected(t))("label",i.getOptionLabel(t))("disabled",i.isOptionDisabled(t))("template",i.itemTemplate)("itemSize",i.itemSize)}}function bP(n,e){if(1&n&&(a.TgZ(0,"cdk-virtual-scroll-viewport",47,48),a.YNc(2,vP,2,6,"ng-container",49),a.qZA()),2&n){const t=a.oxw(2).$implicit,i=a.oxw(2);a.Q6J("ngStyle",a.VKq(3,G1,i.scrollHeight))("itemSize",i.itemSize),a.xp6(2),a.Q6J("cdkVirtualForOf",t)}}function wP(n,e){if(1&n&&a.YNc(0,bP,3,5,"cdk-virtual-scroll-viewport",46),2&n){const t=a.oxw(3);a.Q6J("ngIf",t.virtualScroll&&!t.emptyOptions)}}function CP(n,e){if(1&n&&(a.ynx(0),a._uU(1),a.BQk()),2&n){const t=a.oxw(4);a.xp6(1),a.hij(" ",t.emptyFilterMessageLabel," ")}}function EP(n,e){1&n&&a.GkF(0,null,52)}function TP(n,e){if(1&n&&(a.TgZ(0,"li",51),a.YNc(1,CP,2,1,"ng-container",42),a.YNc(2,EP,2,0,"ng-container",27),a.qZA()),2&n){const t=a.oxw(3);a.xp6(1),a.Q6J("ngIf",!t.emptyFilterTemplate&&!t.emptyTemplate)("ngIfElse",t.emptyFilter),a.xp6(1),a.Q6J("ngTemplateOutlet",t.emptyFilterTemplate||t.emptyTemplate)}}function IP(n,e){if(1&n&&(a.ynx(0),a._uU(1),a.BQk()),2&n){const t=a.oxw(4);a.xp6(1),a.hij(" ",t.emptyMessageLabel," ")}}function DP(n,e){1&n&&a.GkF(0,null,53)}function SP(n,e){if(1&n&&(a.TgZ(0,"li",51),a.YNc(1,IP,2,1,"ng-container",42),a.YNc(2,DP,2,0,"ng-container",27),a.qZA()),2&n){const t=a.oxw(3);a.xp6(1),a.Q6J("ngIf",!t.emptyTemplate)("ngIfElse",t.empty),a.xp6(1),a.Q6J("ngTemplateOutlet",t.emptyTemplate)}}function xP(n,e){if(1&n&&(a.YNc(0,yP,2,1,"ng-container",42),a.YNc(1,wP,1,1,"ng-template",null,43,a.W1O),a.YNc(3,TP,3,3,"li",44),a.YNc(4,SP,3,3,"li",44)),2&n){const t=a.MAs(2),i=a.oxw(2);a.Q6J("ngIf",!i.virtualScroll)("ngIfElse",t),a.xp6(3),a.Q6J("ngIf",i.hasFilter()&&i.emptyOptions),a.xp6(1),a.Q6J("ngIf",!i.hasFilter()&&i.emptyOptions)}}function AP(n,e){1&n&&a.GkF(0)}function MP(n,e){if(1&n&&(a.TgZ(0,"div",54),a.Hsn(1,1),a.YNc(2,AP,1,0,"ng-container",27),a.qZA()),2&n){const t=a.oxw(2);a.xp6(2),a.Q6J("ngTemplateOutlet",t.footerTemplate)}}const OP=function(){return["p-multiselect-panel p-component"]},kP=function(n,e){return{showTransitionParams:n,hideTransitionParams:e}},PP=function(n){return{value:"visible",params:n}},RP=function(n){return{"p-multiselect-virtualscroll":n}};function NP(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",20),a.NdJ("@overlayAnimation.start",function(r){return a.CHM(t),a.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.done",function(r){return a.CHM(t),a.oxw().onOverlayAnimationEnd(r)})("keydown",function(r){return a.CHM(t),a.oxw().onKeydown(r)})("click",function(r){return a.CHM(t),a.oxw().onOverlayClick(r)}),a.YNc(1,uP,7,3,"div",21),a.TgZ(2,"div",22)(3,"ul",23),a.YNc(4,pP,2,1,"ng-container",7),a.YNc(5,mP,2,4,"ng-container",7),a.YNc(6,xP,5,4,"ng-template",null,24,a.W1O),a.qZA()(),a.YNc(8,MP,3,1,"div",25),a.qZA()}if(2&n){const t=a.oxw();a.Tol(t.panelStyleClass),a.Q6J("ngClass",a.DdM(12,OP))("@overlayAnimation",a.VKq(16,PP,a.WLB(13,kP,t.showTransitionOptions,t.hideTransitionOptions)))("ngStyle",t.panelStyle),a.xp6(1),a.Q6J("ngIf",t.showHeader),a.xp6(1),a.Udp("max-height",t.virtualScroll?"auto":t.scrollHeight||"auto"),a.xp6(1),a.Q6J("ngClass",a.VKq(18,RP,t.virtualScroll)),a.xp6(1),a.Q6J("ngIf",t.group),a.xp6(1),a.Q6J("ngIf",!t.group),a.xp6(3),a.Q6J("ngIf",t.footerFacet||t.footerTemplate)}}const FP=[[["p-header"]],[["p-footer"]]],LP=function(n,e,t,i){return{"p-multiselect p-component":!0,"p-multiselect-open":n,"p-multiselect-chip":e,"p-focus":t,"p-disabled":i}},VP=function(n,e){return{"p-placeholder":n,"p-multiselect-label-empty":e}},UP=function(){return{"p-multiselect-trigger":!0}},BP=["p-header","p-footer"],HP={provide:It.JU,useExisting:(0,a.Gpc)(()=>z1),multi:!0};let jP=(()=>{class n{constructor(){this.onClick=new a.vpe,this.onKeydown=new a.vpe}onOptionClick(t){this.onClick.emit({originalEvent:t,option:this.option})}onOptionKeydown(t){this.onKeydown.emit({originalEvent:t,option:this.option})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick",onKeydown:"onKeydown"},decls:6,vars:20,consts:[["pRipple","",1,"p-multiselect-item",3,"ngStyle","ngClass","click","keydown"],[1,"p-checkbox","p-component"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(a.TgZ(0,"li",0),a.NdJ("click",function(u){return i.onOptionClick(u)})("keydown",function(u){return i.onOptionKeydown(u)}),a.TgZ(1,"div",1)(2,"div",2),a._UZ(3,"span",3),a.qZA()(),a.YNc(4,Zk,2,1,"span",4),a.YNc(5,$k,1,0,"ng-container",5),a.qZA()),2&t&&(a.Q6J("ngStyle",a.VKq(9,G1,i.itemSize+"px"))("ngClass",a.WLB(11,Gk,i.selected,i.disabled)),a.uIk("aria-label",i.label)("tabindex",i.disabled?null:"0"),a.xp6(2),a.Q6J("ngClass",a.VKq(14,qk,i.selected)),a.xp6(1),a.Q6J("ngClass",a.VKq(16,q1,i.selected)),a.xp6(1),a.Q6J("ngIf",!i.template),a.xp6(1),a.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",a.VKq(18,bb,i.option)))},directives:[_g.H,d.PC,d.mk,d.O5,d.tP],encapsulation:2}),n})(),z1=(()=>{class n{constructor(t,i,r,u,h,g){this.el=t,this.renderer=i,this.cd=r,this.filterService=u,this.config=h,this.overlayService=g,this.filter=!0,this.displaySelectedLabel=!0,this.maxSelectedLabels=3,this.selectedItemsLabel="ellipsis",this.showToggleAll=!0,this.emptyFilterMessage="",this.emptyMessage="",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.showHeader=!0,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.display="comma",this.autocomplete="on",this.showClear=!1,this.onChange=new a.vpe,this.onFilter=new a.vpe,this.onFocus=new a.vpe,this.onBlur=new a.vpe,this.onClick=new a.vpe,this.onClear=new a.vpe,this.onPanelShow=new a.vpe,this.onPanelHide=new a.vpe,this.scrollHeight="200px",this.onModelChange=()=>{},this.onModelTouched=()=>{}}set defaultLabel(t){this._defaultLabel=t,this.updateLabel()}get defaultLabel(){return this._defaultLabel}set placeholder(t){this._placeholder=t,this.updateLabel()}get placeholder(){return this._placeholder}get options(){return this._options}set options(t){this._options=t,this.updateLabel()}get filterValue(){return this._filterValue}set filterValue(t){this._filterValue=t,this.activateFilter()}ngOnInit(){this.updateLabel()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"selectedItems":this.selectedItemsTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.alignOverlay(),this.filtered=!1)}getOptionLabel(t){return this.optionLabel?gs.gb.resolveFieldData(t,this.optionLabel):null!=t.label?t.label:t}getOptionValue(t){return this.optionValue?gs.gb.resolveFieldData(t,this.optionValue):this.optionLabel||void 0===t.value?t:t.value}getOptionGroupLabel(t){return this.optionGroupLabel?gs.gb.resolveFieldData(t,this.optionGroupLabel):null!=t.label?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren?gs.gb.resolveFieldData(t,this.optionGroupChildren):t.items}isOptionDisabled(t){return(this.optionDisabled?gs.gb.resolveFieldData(t,this.optionDisabled):void 0!==t.disabled&&t.disabled)||this.maxSelectionLimitReached&&!this.isSelected(t)}writeValue(t){this.value=t,this.updateLabel(),this.updateFilledState(),this.checkSelectionLimit(),this.cd.markForCheck()}checkSelectionLimit(){this.maxSelectionLimitReached=!(!this.selectionLimit||!this.value||this.value.length!==this.selectionLimit)}updateFilledState(){this.filled=this.value&&this.value.length>0}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onOptionClick(t){let i=t.option;if(this.isOptionDisabled(i))return;let r=this.getOptionValue(i),u=this.findSelectionIndex(r);-1!=u?(this.value=this.value.filter((h,g)=>g!=u),this.selectionLimit&&(this.maxSelectionLimitReached=!1)):((!this.selectionLimit||!this.value||this.value.length<this.selectionLimit)&&(this.value=[...this.value||[],r]),this.checkSelectionLimit()),this.onModelChange(this.value),this.onChange.emit({originalEvent:t.originalEvent,value:this.value,itemValue:r}),this.updateLabel(),this.updateFilledState()}isSelected(t){return-1!=this.findSelectionIndex(this.getOptionValue(t))}findSelectionIndex(t){let i=-1;if(this.value)for(let r=0;r<this.value.length;r++)if(gs.gb.equals(this.value[r],t,this.dataKey)){i=r;break}return i}get toggleAllDisabled(){let t=this.optionsToRender;if(!t||0===t.length)return!0;for(let i of t)if(!this.isOptionDisabled(i))return!1;return!0}toggleAll(t){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.updateFilledState(),this.updateLabel(),t.preventDefault())}checkAll(){let i=[];this.optionsToRender.forEach(r=>{if(this.group){let u=this.getOptionGroupChildren(r);u&&u.forEach(h=>{let g=this.isOptionDisabled(h);(!g||g&&this.isSelected(h))&&i.push(this.getOptionValue(h))})}else{let u=this.isOptionDisabled(r);(!u||u&&this.isSelected(r))&&i.push(this.getOptionValue(r))}}),this.value=i}uncheckAll(){let i=[];this.optionsToRender.forEach(r=>{this.group?r.items&&r.items.forEach(u=>{this.isOptionDisabled(u)&&this.isSelected(u)&&i.push(this.getOptionValue(u))}):this.isOptionDisabled(r)&&this.isSelected(r)&&i.push(this.getOptionValue(r))}),this.value=i}show(){this.overlayVisible||(this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck())}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}onOverlayAnimationStart(t){switch(t.toState){case"visible":this.overlay=t.element,this.appendOverlay(),this.autoZIndex&&gs.P9.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(t){"void"===t.toState&&gs.P9.clear(t.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Gn.p.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=Gn.p.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.overlay&&(this.appendTo?Gn.p.absolutePosition(this.overlay,this.containerViewChild.nativeElement):Gn.p.relativePosition(this.overlay,this.containerViewChild.nativeElement))}hide(){this.overlayVisible=!1,this.unbindDocumentClickListener(),this.resetFilterOnHide&&(this.filterInputChild.nativeElement.value="",this._filterValue=null,this._filteredOptions=null),this.onPanelHide.emit(),this.cd.markForCheck()}close(t){this.hide(),t.preventDefault(),t.stopPropagation()}clear(t){this.value=null,this.updateLabel(),this.updateFilledState(),this.onClear.emit(),this.onModelChange(this.value),t.stopPropagation()}onMouseclick(t,i){this.disabled||this.readonly||t.target.isSameNode(this.accessibleViewChild.nativeElement)||(this.onClick.emit(t),!this.isOverlayClick(t)&&!Gn.p.hasClass(t.target,"p-multiselect-token-icon")&&(this.overlayVisible?this.hide():(i.focus(),this.show())))}removeChip(t,i){this.value=this.value.filter(r=>!gs.gb.equals(r,t,this.dataKey)),this.onModelChange(this.value),this.checkSelectionLimit(),this.onChange.emit({originalEvent:i,value:this.value,itemValue:t}),this.updateLabel(),this.updateFilledState()}isOverlayClick(t){let i=t.target;return!!this.overlay&&(this.overlay.isSameNode(i)||this.overlay.contains(i))}isOutsideClicked(t){return!(this.el.nativeElement.isSameNode(t.target)||this.el.nativeElement.contains(t.target)||this.isOverlayClick(t))}onInputFocus(t){this.focus=!0,this.onFocus.emit({originalEvent:t})}onInputBlur(t){this.focus=!1,this.onBlur.emit({originalEvent:t}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onOptionKeydown(t){if(!this.readonly)switch(t.originalEvent.which){case 40:var i=this.findNextItem(t.originalEvent.target.parentElement);i&&i.focus(),t.originalEvent.preventDefault();break;case 38:var r=this.findPrevItem(t.originalEvent.target.parentElement);r&&r.focus(),t.originalEvent.preventDefault();break;case 13:this.onOptionClick(t),t.originalEvent.preventDefault();break;case 9:this.hide()}}findNextItem(t){let i=t.nextElementSibling;return i?Gn.p.hasClass(i.children[0],"p-disabled")||Gn.p.isHidden(i.children[0])||Gn.p.hasClass(i,"p-multiselect-item-group")?this.findNextItem(i):i.children[0]:null}findPrevItem(t){let i=t.previousElementSibling;return i?Gn.p.hasClass(i.children[0],"p-disabled")||Gn.p.isHidden(i.children[0])||Gn.p.hasClass(i,"p-multiselect-item-group")?this.findPrevItem(i):i.children[0]:null}onKeydown(t){switch(t.which){case 40:!this.overlayVisible&&t.altKey&&(this.show(),t.preventDefault());break;case 32:this.overlayVisible||(this.show(),t.preventDefault());break;case 27:this.hide()}}updateLabel(){if(this.value&&this.options&&this.value.length&&this.displaySelectedLabel){let t="";for(let i=0;i<this.value.length;i++){let r=this.findLabelByValue(this.value[i]);r&&(t.length>0&&(t+=", "),t+=r)}if(this.value.length<=this.maxSelectedLabels||"ellipsis"===this.selectedItemsLabel)this.valuesAsString=t;else{let i=/{(.*?)}/;this.valuesAsString=i.test(this.selectedItemsLabel)?this.selectedItemsLabel.replace(this.selectedItemsLabel.match(i)[0],this.value.length+""):this.selectedItemsLabel}}else this.valuesAsString=this.placeholder||this.defaultLabel}findLabelByValue(t){if(this.group){let i=null;for(let r=0;r<this.options.length;r++){let u=this.getOptionGroupChildren(this.options[r]);if(u&&(i=this.searchLabelByValue(t,u),i))break}return i}return this.searchLabelByValue(t,this.options)}searchLabelByValue(t,i){let r=null;for(let u=0;u<i.length;u++){let h=i[u],g=this.getOptionValue(h);if(null==t&&null==g||gs.gb.equals(t,g,this.dataKey)){r=this.getOptionLabel(h);break}}return r}get allChecked(){let t=this.optionsToRender;if(!t||0===t.length)return!1;{let i=0,r=0,u=0,h=this.group?0:this.optionsToRender.length;for(let g of t)if(this.group)for(let v of this.getOptionGroupChildren(g)){let T=this.isOptionDisabled(v),L=this.isSelected(v);if(T)L?i++:r++;else{if(!L)return!1;u++}h++}else{let v=this.isOptionDisabled(g),T=this.isSelected(g);if(v)T?i++:r++;else{if(!T)return!1;u++}}return h===i||h===u||u&&h===u+r+i}}get optionsToRender(){return this._filteredOptions||this.options}get emptyOptions(){let t=this.optionsToRender;return!t||0===t.length}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(or.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(or.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}onFilterInputChange(t){this._filterValue=t.target.value,this.activateFilter(),this.onFilter.emit({originalEvent:t,filter:this._filterValue}),this.cd.detectChanges(),this.alignOverlay()}activateFilter(){if(this.hasFilter()&&this._options){let t=(this.filterBy||this.optionLabel||"label").split(",");if(this.group){let i=[];for(let r of this.options){let u=this.filterService.filter(this.getOptionGroupChildren(r),t,this.filterValue,this.filterMatchMode,this.filterLocale);u&&u.length&&i.push(Object.assign(Object.assign({},r),{[this.optionGroupChildren]:u}))}this._filteredOptions=i}else this._filteredOptions=this.filterService.filter(this.options,t,this._filterValue,this.filterMatchMode,this.filterLocale)}else this._filteredOptions=null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{!this.preventDocumentDefault&&this.isOutsideClicked(i)&&this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){Gn.p.isAndroid()||this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Gn.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&gs.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(or.iZ),a.Y36(or.b4),a.Y36(or.F0))},n.\u0275cmp=a.Xpm({type:n,selectors:[["p-multiSelect"]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,or.$_,5),a.Suo(r,or.h4,5),a.Suo(r,or.jx,4)),2&t){let u;a.iGM(u=a.CRH())&&(i.footerFacet=u.first),a.iGM(u=a.CRH())&&(i.headerFacet=u.first),a.iGM(u=a.CRH())&&(i.templates=u)}},viewQuery:function(t,i){if(1&t&&(a.Gf(zk,5),a.Gf(Wk,5),a.Gf(Kk,5)),2&t){let r;a.iGM(r=a.CRH())&&(i.containerViewChild=r.first),a.iGM(r=a.CRH())&&(i.filterInputChild=r.first),a.iGM(r=a.CRH())&&(i.accessibleViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(t,i){2&t&&a.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus||i.overlayVisible)("p-multiselect-clearable",i.showClear&&!i.disabled)},inputs:{style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:"disabled",readonly:"readonly",group:"group",filter:"filter",filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:"overlayVisible",tabindex:"tabindex",appendTo:"appendTo",dataKey:"dataKey",name:"name",label:"label",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:"selectionLimit",selectedItemsLabel:"selectedItemsLabel",showToggleAll:"showToggleAll",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:"showHeader",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",filterBy:"filterBy",virtualScroll:"virtualScroll",itemSize:"itemSize",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",display:"display",autocomplete:"autocomplete",showClear:"showClear",scrollHeight:"scrollHeight",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide"},features:[a._Bn([HP])],ngContentSelectors:BP,decls:13,vars:34,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","readonly","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[1,"p-multiselect-label-container",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[1,"p-multiselect-label",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-multiselect-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass"],[1,"p-multiselect-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","keydown","click",4,"ngIf"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],["token",""],[1,"p-multiselect-token-label"],["class","p-multiselect-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-multiselect-token-icon","pi","pi-times-circle",3,"click"],[1,"p-multiselect-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","keydown","click"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass"],["itemslist",""],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],[4,"ngTemplateOutlet"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link",3,"click"],[1,"p-multiselect-close-icon","pi","pi-times"],[1,"p-checkbox","p-component",3,"ngClass"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[1,"p-multiselect-filter-container"],["type","text","role","textbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"value","disabled","input"],["filterInput",""],[1,"p-multiselect-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-multiselect-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],["class","p-multiselect-empty-message",4,"ngIf"],[3,"option","selected","label","disabled","template","onClick","onKeydown"],[3,"ngStyle","itemSize",4,"ngIf"],[3,"ngStyle","itemSize"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[3,"option","selected","label","disabled","template","itemSize","onClick","onKeydown"],[1,"p-multiselect-empty-message"],["emptyFilter",""],["empty",""],[1,"p-multiselect-footer"]],template:function(t,i){if(1&t){const r=a.EpF();a.F$t(FP),a.TgZ(0,"div",0,1),a.NdJ("click",function(h){a.CHM(r);const g=a.MAs(4);return i.onMouseclick(h,g)}),a.TgZ(2,"div",2)(3,"input",3,4),a.NdJ("focus",function(h){return i.onInputFocus(h)})("blur",function(h){return i.onInputBlur(h)})("keydown",function(h){return i.onKeydown(h)}),a.qZA()(),a.TgZ(5,"div",5)(6,"div",6),a.YNc(7,tP,3,2,"ng-container",7),a.YNc(8,nP,1,0,"ng-container",8),a.qZA(),a.YNc(9,iP,1,0,"i",9),a.qZA(),a.TgZ(10,"div",10),a._UZ(11,"span",11),a.qZA(),a.YNc(12,NP,9,20,"div",12),a.qZA()}2&t&&(a.Tol(i.styleClass),a.Q6J("ngClass",a.l5B(23,LP,i.overlayVisible,"chip"===i.display,i.focus,i.disabled))("ngStyle",i.style),a.xp6(3),a.Q6J("disabled",i.disabled),a.uIk("label",i.label)("id",i.inputId)("name",i.name)("tabindex",i.tabindex)("aria-expanded",i.overlayVisible)("aria-labelledby",i.ariaLabelledBy),a.xp6(2),a.Q6J("pTooltip",i.tooltip)("tooltipPosition",i.tooltipPosition)("positionStyle",i.tooltipPositionStyle)("tooltipStyleClass",i.tooltipStyleClass),a.xp6(1),a.Q6J("ngClass",a.WLB(28,VP,i.valuesAsString===(i.defaultLabel||i.placeholder),!(null!=i.valuesAsString&&0!==i.valuesAsString.length||null!=i.placeholder&&0!==i.placeholder.length))),a.xp6(1),a.Q6J("ngIf",!i.selectedItemsTemplate),a.xp6(1),a.Q6J("ngTemplateOutlet",i.selectedItemsTemplate)("ngTemplateOutletContext",a.VKq(31,bb,i.value)),a.xp6(1),a.Q6J("ngIf",null!=i.value&&i.filled&&!i.disabled&&i.showClear),a.xp6(1),a.Q6J("ngClass",a.DdM(33,UP)),a.xp6(1),a.Q6J("ngClass",i.dropdownIcon),a.xp6(1),a.Q6J("ngIf",i.overlayVisible))},directives:[jP,vb.N7,d.mk,d.PC,$1.u,d.O5,d.sg,d.tP,_g.H,vb.xd,vb.x0],styles:[".p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect .p-multiselect-panel{min-width:100%}.p-multiselect-panel{position:absolute;top:0;left:0}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,Mt.X$)("overlayAnimation",[(0,Mt.eR)(":enter",[(0,Mt.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,Mt.jt)("{{showTransitionParams}}")]),(0,Mt.eR)(":leave",[(0,Mt.jt)("{{hideTransitionParams}}",(0,Mt.oB)({opacity:0}))])])]},changeDetection:0}),n})(),ZP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[d.ez,or.m8,vb.Cl,$1.z,_g.T],or.m8,vb.Cl]}),n})();var LE=P(4036),W1=P(5652),$P=P(845);let GP=(()=>{class n{constructor(){this.horarioEvent=new a.vpe,this.minTime=new Date,this.maxTime=new Date,this.days=[{name:"Lunes"},{name:"Martes"},{name:"Miercoles"},{name:"Jueves"},{name:"Viernes"},{name:"Sabados"}]}ngOnInit(){this.minTime.setHours(8),this.minTime.setMinutes(0),this.maxTime.setHours(17),this.maxTime.setMinutes(30),this.especialidades&&(this.especialidadesDisplay=this.especialidades.map(t=>({name:t})))}onSelectTime(t){t?this.desde=this.getTime(this.timeDesdeValue):this.hasta=this.getTime(this.timeHastaValue)}getTime(t){t.getMinutes()<=15||t.getMinutes()>45?t.setMinutes(0):t.getMinutes()<=45&&t.setMinutes(30);let i=t.getMinutes()<10?t.getMinutes()+"0":t.getMinutes();return(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+i}onClickSave(){let t={dias:this.selectedDay.map(i=>i.name),desde:this.desde,hasta:this.hasta,esp:this.selectedEsp};t.dias.length>0&&t.desde&&t.hasta&&this.horarioEvent.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-horarios"]],inputs:{especialidades:"especialidades"},outputs:{horarioEvent:"horarioEvent"},decls:18,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-12","mb-3"],["defaultLabel","Selecciona un d\xeda","optionLabel","name","selectedItemsLabel","{0} d\xedas seleccionados",3,"filter","options","ngModel","ngModelChange"],["optionLabel","name","optionValue","name",3,"options","ngModel","ngModelChange"],[1,"col","mb-3"],[3,"ngModel","showTime","timeOnly","minDate","maxDate","readonlyInput","defaultDate","onSelect","ngModelChange"],[1,"col-12","mt-5"],["pButton","","pRipple","","type","button","label","Guardar",1,"p-button-raised","p-button-success",3,"click"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),a._uU(4,"D\xedas"),a.qZA(),a.TgZ(5,"p-multiSelect",3),a.NdJ("ngModelChange",function(u){return i.selectedDay=u}),a.qZA()(),a.TgZ(6,"div",2)(7,"p-dropdown",4),a.NdJ("ngModelChange",function(u){return i.selectedEsp=u}),a.qZA()(),a.TgZ(8,"div",5)(9,"h5"),a._uU(10,"Desde"),a.qZA(),a.TgZ(11,"p-calendar",6),a.NdJ("onSelect",function(){return i.onSelectTime(!0)})("ngModelChange",function(u){return i.timeDesdeValue=u}),a.qZA()(),a.TgZ(12,"div",5)(13,"h5"),a._uU(14,"Hasta"),a.qZA(),a.TgZ(15,"p-calendar",6),a.NdJ("onSelect",function(){return i.onSelectTime(!1)})("ngModelChange",function(u){return i.timeHastaValue=u}),a.qZA()(),a.TgZ(16,"div",7)(17,"button",8),a.NdJ("click",function(){return i.onClickSave()}),a.qZA()()()()),2&t&&(a.xp6(5),a.Q6J("filter",!1)("options",i.days)("ngModel",i.selectedDay),a.xp6(2),a.Q6J("options",i.especialidadesDisplay)("ngModel",i.selectedEsp),a.xp6(4),a.Q6J("ngModel",i.timeDesdeValue)("showTime",!0)("timeOnly",!0)("minDate",i.minTime)("maxDate",i.maxTime)("readonlyInput",!0)("defaultDate",i.minTime),a.xp6(4),a.Q6J("ngModel",i.timeHastaValue)("showTime",!0)("timeOnly",!0)("minDate",i.minTime)("maxDate",i.maxTime)("readonlyInput",!0)("defaultDate",i.minTime))},directives:[z1,It.JJ,It.On,LE.Lt,W1.f,$P.Hq],styles:[".input[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{outline:none;display:block;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;color:#0009;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;transition:.3s ease}button[_ngcontent-%COMP%]{outline:none;width:100%;border:0;border-radius:4px;padding:12px 20px;background:#FFFFFF;color:#4285f4;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;text-transform:uppercase;cursor:pointer}label[_ngcontent-%COMP%]{display:block;margin:0 0 10px;color:#4285f4;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;letter-spacing:.2em}h1[_ngcontent-%COMP%]{padding:4px 0;position:relative;z-index:40;color:#4285f4;font-size:24px;font-weight:700;text-transform:uppercase}"]}),n})();function qP(n,e){if(1&n&&(a.TgZ(0,"li",28)(1,"div",29)(2,"span",30),a._uU(3),a.qZA(),a.TgZ(4,"span",30),a._uU(5),a.qZA()(),a.TgZ(6,"div",31)(7,"h4",32),a._uU(8),a.qZA(),a.TgZ(9,"p",33),a._uU(10),a.qZA()(),a.TgZ(11,"div",34)(12,"button",35),a._UZ(13,"i",36),a.qZA()()()),2&n){const t=e.$implicit;a.xp6(3),a.Oqu(t.desde),a.xp6(2),a.Oqu(t.hasta),a.xp6(3),a.Oqu(t.esp),a.xp6(2),a.Oqu(t.dias)}}function zP(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"app-horarios",37),a.NdJ("horarioEvent",function(r){a.CHM(t);const u=a.oxw(2).ngIf;return a.oxw().enviarHorario(r,u)}),a.qZA()}if(2&n){const t=a.oxw(2).ngIf;a.Q6J("especialidades",t.especialidad)}}const WP=function(){return{width:"500px",height:"450px"}};function KP(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",14)(1,"div",15)(2,"div",16)(3,"h3",17),a._UZ(4,"i",18),a._uU(5," D\xedas y Horarios "),a.qZA()(),a.TgZ(6,"div",19)(7,"div",20)(8,"h3",21),a._uU(9,"Tus Horarios"),a.qZA(),a.TgZ(10,"div",22)(11,"button",23),a.NdJ("click",function(){return a.CHM(t),a.oxw(2).showModalDialog()}),a._uU(12,"Nuevo"),a.qZA()()(),a.TgZ(13,"ul",24),a.YNc(14,qP,14,4,"li",25),a.qZA()()(),a.TgZ(15,"p-dialog",26),a.NdJ("visibleChange",function(r){return a.CHM(t),a.oxw(2).displayModal=r}),a.YNc(16,zP,1,1,"ng-template",27),a.qZA()()}if(2&n){const t=a.oxw().ngIf,i=a.oxw();a.xp6(14),a.Q6J("ngForOf",t.horarios),a.xp6(1),a.Akn(a.DdM(7,WP)),a.Q6J("visible",i.displayModal)("modal",!0)("draggable",!1)("resizable",!1)}}const YP=function(n){return{"background-image":n}};function QP(n,e){if(1&n&&(a.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),a._UZ(4,"div",6),a.TgZ(5,"div",7)(6,"h1"),a._uU(7),a.qZA()()(),a.TgZ(8,"div",8)(9,"a"),a._UZ(10,"i",9),a._uU(11),a.qZA(),a.TgZ(12,"a"),a._UZ(13,"i",10),a._uU(14,"+91-98XXXXXXXX "),a.qZA(),a.TgZ(15,"a"),a._UZ(16,"i",11),a._uU(17,"Hauz Khas, New Delhi "),a.qZA()()()(),a.TgZ(18,"section",12),a.YNc(19,KP,17,8,"div",13),a.qZA()()),2&n){const t=e.ngIf;a.xp6(4),a.Q6J("ngStyle",a.VKq(5,YP,"url("+t.pathImg+")")),a.xp6(3),a.AsE("",t.nombre," ",t.apellido,""),a.xp6(4),a.hij("",t.email," "),a.xp6(8),a.Q6J("ngIf","especialista"==t.rol)}}let JP=(()=>{class n{constructor(t,i,r){this.auth=t,this.afs=i,this.messageService=r,this.displayModal=!1}ngOnInit(){this.$user=this.auth.userObs}showModalDialog(){this.displayModal=!0}enviarHorario(t,i){i.horarios||(i.horarios=[t]),i.horarios.push(t),this.afs.setObj("users",i,i.email).then(r=>{this.messageService.add({severity:"success",summary:"Success",detail:"Horario agregado!"})})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Go),a.Y36(Jh),a.Y36(or.ez))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-profile"]],features:[a._Bn([or.ez])],decls:3,vars:3,consts:[["position","bottom-center"],["class","container-fluid",4,"ngIf"],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-6","align-items-center"],["id","header",1,"primary-colors","col-12"],[1,"profile-pic",3,"ngStyle"],[1,"profile-summary","ml-4"],["id","contacts",1,"secondary-colors"],[1,"fas","fa-envelope"],[1,"fas","fa-mobile-alt"],[1,"fas","fa-map-marker-alt"],[1,"my-app__body"],["class","row",4,"ngIf"],[1,"row"],[1,"col-8","offset-2"],[1,"offset-3","col-6"],[1,"primary-colors","section-head",2,"cursor","default"],[1,"fas","fa-business-time"],[1,"my-card","card"],[1,"my-card__header","card-header"],[1,"my-card__header-title","card-title"],[1,"btn-actions-pane-right"],[1,"btn-wide","btn","btn-success",3,"click"],[1,"my-list","list-group","list-group-flush"],["class","my-list-item list-group-item",4,"ngFor","ngForOf"],["header","NUEVA FECHA","styleClass","p-fluid",3,"visible","modal","draggable","resizable","visibleChange"],["pTemplate","content"],[1,"my-list-item","list-group-item"],[1,"my-list-item__date"],[1,"my-list-item__date-day"],[1,"my-list-item__text"],[1,"my-list-item__text-title"],[1,"my-list-item__text-description"],[1,"my-list-item__fee"],[1,"mr-2","btn-icon","btn-icon-only","btn","btn-outline-danger"],[1,"pe-7s-trash","btn-icon-wrapper"],[3,"especialidades","horarioEvent"]],template:function(t,i){1&t&&(a._UZ(0,"p-toast",0),a.YNc(1,QP,20,7,"div",1),a.ALo(2,"async")),2&t&&(a.xp6(1),a.Q6J("ngIf",a.lcZ(2,1,i.$user)))},directives:[hk,d.O5,d.PC,d.sg,Hk,or.jx,GP],pipes:[d.Ov],styles:[".primary-colors[_ngcontent-%COMP%]{color:#fff;background:#4285F4}.secondary-colors[_ngcontent-%COMP%]{color:#fff;background:#4d8ff8;border-bottom-left-radius:10px;border-bottom-right-radius:10px}body[_ngcontent-%COMP%]{margin:0;font-family:Bitter,serif}#header[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;border-top-left-radius:10px;border-top-right-radius:10px}#header[_ngcontent-%COMP%]   .profile-summary[_ngcontent-%COMP%]{padding:16px;flex:1}#header[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:150px;height:150px;background-size:cover;background-position:50% 50%;margin:8px;border:4px solid #fff;border-radius:50%;align-self:center;box-shadow:inset -4px -4px 16px #000000b3}#header[_ngcontent-%COMP%]   .profile-summary[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}#contacts[_ngcontent-%COMP%]{display:flex;box-shadow:0 4px 16px #0000004d}#contacts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{flex:1;padding:12px 8px;text-align:center;color:inherit;text-decoration:none}#contacts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2)}i.fas[_ngcontent-%COMP%]{margin-right:8px}.section-head[_ngcontent-%COMP%]{padding:12px 16px;border-radius:50px;margin:8px 0 0 8px;box-shadow:4px 4px 16px #0000004d;text-align:center;margin-bottom:1.875rem}.section-head.bordered[_ngcontent-%COMP%]{background:#fff;border:1px solid #000}.my-app__body[_ngcontent-%COMP%]{padding-top:1.875rem;padding-bottom:1.875rem}.my-card[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1.875rem}.my-card__header[_ngcontent-%COMP%]{display:flex;padding:1.5rem 1.875rem;border-width:0 0 1px;border-color:#00000020;background:none}.my-card__header-title[_ngcontent-%COMP%]{flex:1;margin:0;font-size:18px;font-weight:500}.my-card__header-link[_ngcontent-%COMP%]{color:#9ea0a5}.my-card__header-link[_ngcontent-%COMP%]:hover, .my-card__header-link[_ngcontent-%COMP%]:focus{color:#9ea0a5}.my-card__body[_ngcontent-%COMP%]{padding:1.5rem 1.875rem}.my-list-item[_ngcontent-%COMP%]{display:flex;padding:1rem 1.875rem}.my-list-item__date[_ngcontent-%COMP%], .my-list-item__text[_ngcontent-%COMP%], .my-list-item__fee[_ngcontent-%COMP%]{display:flex;flex-direction:column}.my-list-item__date[_ngcontent-%COMP%]{flex-direction:column;margin-right:25px;color:#9ea0a5}.my-list-item__date-day[_ngcontent-%COMP%]{font-size:18px;line-height:22px}.my-list-item__date-month[_ngcontent-%COMP%]{margin-bottom:4px;font-size:12px;font-weight:500;line-height:14px;text-transform:uppercase}.my-list-item__text[_ngcontent-%COMP%]{flex:1}.my-list-item__text-title[_ngcontent-%COMP%]{margin:0 0 7px;font-size:14px;font-weight:500}.my-list-item__text-description[_ngcontent-%COMP%]{margin:0;color:#9ea0a5;font-size:12px;line-height:14px}.my-list-item__fee[_ngcontent-%COMP%]{text-align:right}.my-list-item__fee-delta[_ngcontent-%COMP%]{color:#3bad4b;font-weight:500}.my-list-item__fee-currency[_ngcontent-%COMP%]{color:#9ea0a5;font-size:12px}.my-list-inline[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.5rem}@media (min-width: 992px){.my-dl[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{float:left;color:#9ea0a5;font-weight:400}.my-dl[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{text-align:right}}.my-text-headline[_ngcontent-%COMP%]{margin:0;font-size:30px;font-weight:400}.my-text-overline[_ngcontent-%COMP%]{margin-bottom:.75rem;color:#9ea0a5;font-size:12px;font-weight:500;text-transform:uppercase}.my-divider[_ngcontent-%COMP%]{margin:1.25rem 0}.my-input[_ngcontent-%COMP%]{max-width:186px}.my-select[_ngcontent-%COMP%]{border-color:#d8dce6;box-shadow:0 1px 2px #00000014;font-size:14px}@media (max-width: 1199px){.container[_ngcontent-%COMP%]{max-width:100%}}.my-alert[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:1.875rem;padding-top:.937rem;padding-bottom:.937rem;border:none;box-shadow:none}.my-alert.alert-info[_ngcontent-%COMP%]{background-color:#1665d8;color:#fff}.my-alert__icon[_ngcontent-%COMP%]{margin-right:1.25rem}.list__icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:64px;height:40px;border:1px solid #E2E5ED;border-radius:.25rem}"]}),n})();function XP(n,e){if(1&n&&(a.TgZ(0,"div")(1,"div",20)(2,"div",21)(3,"div",22),a._UZ(4,"img",23),a.TgZ(5,"div",24),a._uU(6),a.qZA(),a.TgZ(7,"div",25),a._uU(8),a.qZA()()()()()),2&n){const t=a.oxw().$implicit;a.xp6(4),a.Q6J("src",t.especialista.pathImg,a.LSH),a.xp6(2),a.AsE("",t.especialista.nombre," ",t.especialista.apellido,""),a.xp6(2),a.Oqu(t.especialista.email)}}function eR(n,e){if(1&n&&(a.TgZ(0,"div",20)(1,"div",21)(2,"div",22),a._UZ(3,"img",23),a.TgZ(4,"div",24),a._uU(5),a.qZA(),a.TgZ(6,"div",25),a._uU(7),a.qZA()()()()),2&n){const t=a.oxw().$implicit;a.xp6(3),a.Q6J("src",t.paciente.pathImg,a.LSH),a.xp6(2),a.AsE("",t.paciente.nombre," ",t.paciente.apellido,""),a.xp6(2),a.Oqu(t.paciente.email)}}function tR(n,e){1&n&&(a.TgZ(0,"div",26),a._uU(1,"Pendiente"),a.qZA())}function nR(n,e){1&n&&(a.TgZ(0,"div",27),a._uU(1,"Completado"),a.qZA())}function iR(n,e){1&n&&(a.TgZ(0,"div",28),a._uU(1,"Rechazado"),a.qZA())}function rR(n,e){1&n&&(a.TgZ(0,"div",29),a._uU(1,"Cancelado"),a.qZA())}function sR(n,e){1&n&&(a.TgZ(0,"div")(1,"button",30),a._uU(2,"Cancelar"),a.qZA()())}function oR(n,e){1&n&&(a.TgZ(0,"div")(1,"td",10)(2,"button",31),a._uU(3,"Ver"),a.qZA()()())}function aR(n,e){1&n&&(a.TgZ(0,"div")(1,"button",32),a._uU(2,"Calificar"),a.qZA()())}function lR(n,e){if(1&n&&(a.TgZ(0,"tr")(1,"td",10),a.YNc(2,XP,9,4,"div",12),a.YNc(3,eR,8,4,"ng-template",null,13,a.W1O),a.qZA(),a.TgZ(5,"td",14),a._uU(6),a.qZA(),a.TgZ(7,"td",10),a._uU(8),a.qZA(),a.TgZ(9,"td",10),a.YNc(10,tR,2,0,"div",15),a.YNc(11,nR,2,0,"div",16),a.YNc(12,iR,2,0,"div",17),a.YNc(13,rR,2,0,"div",18),a.qZA(),a.TgZ(14,"td",10),a.YNc(15,sR,3,0,"div",19),a.qZA(),a.TgZ(16,"td",10),a.YNc(17,oR,4,0,"div",19),a.qZA(),a.TgZ(18,"td",10),a.YNc(19,aR,3,0,"div",19),a.qZA()()),2&n){const t=e.$implicit,i=a.MAs(4),r=a.oxw();a.xp6(2),a.Q6J("ngIf","paciente"==r.user.rol)("ngIfElse",i),a.xp6(4),a.Oqu(t.especialidad),a.xp6(2),a.Oqu(t.fecha),a.xp6(2),a.Q6J("ngIf","pendiente"==t.estado),a.xp6(1),a.Q6J("ngIf","realizado"==t.estado),a.xp6(1),a.Q6J("ngIf","rechazado"==t.estado),a.xp6(1),a.Q6J("ngIf","cancelado"==t.estado),a.xp6(2),a.Q6J("ngIf","rechazado"!=t.estado&&"cancelado"!=t.estado),a.xp6(2),a.Q6J("ngIf",t.comentario),a.xp6(2),a.Q6J("ngIf","realizado"==t.estado)}}const uR=function(n){return{active:n}};let cR=(()=>{class n{constructor(t){this.afs=t,this.activeSearch=!1}ngOnInit(){"administrador"==this.user.rol||("paciente"==this.user.rol?this.afs.getTurnoByPaciente(this.user.email).subscribe(t=>{this.turnos=t,this.turnosWithoutFilter=this.turnos}):this.afs.getTurnoByEspecialista(this.user.email).subscribe(t=>{this.turnos=t,this.turnosWithoutFilter=this.turnos}))}onFilter(){this.turnos=this.turnosWithoutFilter.filter(t=>t.especialidad.toLowerCase().includes(this.filter.toLowerCase())||t.especialista.nombre.toLowerCase().includes(this.filter.toLowerCase())||t.especialista.apellido.toLowerCase().includes(this.filter.toLowerCase()))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Jh))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-tabla-turnos"]],inputs:{user:"user"},decls:26,vars:5,consts:[[1,"main-card","mb-3","card"],[1,"card-header"],[1,"btn-actions-pane-right"],[1,"search-wrapper",3,"ngClass"],[1,"input-holder"],["type","text","placeholder","Type to search",1,"search-input",3,"ngModel","ngModelChange","change"],[1,"search-icon",3,"click"],[1,"close",3,"click"],[1,"table-responsive"],[1,"align-middle","mb-0","table","table-borderless","table-striped","table-hover"],[1,"text-center"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["especialista",""],[1,"text-center","text-muted"],["class","badge badge-info",4,"ngIf"],["class","badge badge-success",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[4,"ngIf"],[1,"widget-content","p-0"],[1,"widget-content-wrapper"],[1,"widget-content-left","flex2"],["width","40",1,"rounded-circle",3,"src"],[1,"widget-heading"],[1,"widget-subheading","opacity-7"],[1,"badge","badge-info"],[1,"badge","badge-success"],[1,"badge","badge-warning"],[1,"badge","badge-danger"],[1,"mr-2","btn-icon","btn-icon-only","btn","btn-outline-danger"],[1,"mr-2","btn-icon","btn-icon-only","btn","btn-primary"],[1,"mr-2","btn-icon","btn-icon-only","btn","btn-success"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1),a._uU(2,"MIS TURNOS "),a.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"input",5),a.NdJ("ngModelChange",function(u){return i.filter=u})("change",function(){return i.onFilter()}),a.qZA(),a.TgZ(7,"button",6),a.NdJ("click",function(){return i.activeSearch=!0}),a._UZ(8,"span"),a.qZA()(),a.TgZ(9,"button",7),a.NdJ("click",function(){return i.activeSearch=!1}),a.qZA()()()(),a.TgZ(10,"div",8)(11,"table",9)(12,"thead")(13,"tr")(14,"th",10),a._uU(15,"Especialidad"),a.qZA(),a.TgZ(16,"th",10),a._uU(17,"Especialista"),a.qZA(),a.TgZ(18,"th",10),a._uU(19,"Fecha"),a.qZA(),a.TgZ(20,"th",10),a._uU(21,"Estado"),a.qZA(),a.TgZ(22,"th",10),a._uU(23," - "),a.qZA()()(),a.TgZ(24,"tbody"),a.YNc(25,lR,20,11,"tr",11),a.qZA()()()()),2&t&&(a.xp6(4),a.Q6J("ngClass",a.VKq(3,uR,i.activeSearch)),a.xp6(2),a.Q6J("ngModel",i.filter),a.xp6(19),a.Q6J("ngForOf",i.turnos))},directives:[d.mk,It.Fj,It.JJ,It.On,d.sg,d.O5],styles:[""]}),n})();function dR(n,e){if(1&n&&(a.TgZ(0,"div"),a._UZ(1,"app-tabla-turnos",3),a.qZA()),2&n){const t=e.ngIf;a.xp6(1),a.Q6J("user",t)}}let hR=(()=>{class n{constructor(t){this.auth=t}ngOnInit(){this.$currentUser=this.auth.userObs}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Go))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-mis-turnos"]],decls:4,vars:3,consts:[[1,"row"],[1,"col-12"],[4,"ngIf"],[3,"user"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1),a.YNc(2,dR,2,1,"div",2),a.ALo(3,"async"),a.qZA()()),2&t&&(a.xp6(2),a.Q6J("ngIf",a.lcZ(3,1,i.$currentUser)))},directives:[d.O5,cR],pipes:[d.Ov],styles:[""]}),n})();var fR=P(3098);const pR=["*"];let K1=(()=>{class n{constructor(){this.isActive=!1}set activeState(t){this.isActive=t===this}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-progress-step"]],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("activeStep",i.isActive)},inputs:{activeState:"activeState"},ngContentSelectors:pR,decls:1,vars:0,template:function(t,i){1&t&&(a.F$t(),a.Hsn(0))},styles:[".activeStep[_nghost-%COMP%]{display:inline-block;padding:10px;visibility:visible;opacity:1;position:absolute;top:0;left:0;right:0;width:100%;height:100%;transform:translateY(0);transition:all .6s cubic-bezier(.45,0,.55,1)}[_nghost-%COMP%]:not(.activeStep){visibility:hidden;padding:10px;transform:translateY(-8px);opacity:0}"]}),n})();var Da=(()=>(function(n){n.PENDING="pending",n.IN_PROGRESS="in progress",n.COMPLETED="completed"}(Da||(Da={})),Da))();let Y1=(()=>{class n{constructor(){this.eventHelper=new ni.x}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Q1=function(n,e){return{complete:n,active:e}};function mR(n,e){if(1&n&&(a.O4$(),a.kcU(),a.TgZ(0,"div",13),a._UZ(1,"div",14),a.qZA()),2&n){const t=a.oxw().$implicit;a.Q6J("ngClass",a.WLB(1,Q1,"completed"===t.status,"in progress"===t.status))}}const _R=function(n,e){return{completed:n,"in-progress":e}};function yR(n,e){if(1&n&&(a.ynx(0),a.TgZ(1,"div",5),a.O4$(),a.TgZ(2,"svg",6),a._UZ(3,"circle",7)(4,"polyline",8),a.qZA(),a.YNc(5,mR,2,4,"div",9),a.kcU(),a.TgZ(6,"div",10)(7,"span",11),a._uU(8),a.qZA(),a.TgZ(9,"span",12),a._uU(10),a.qZA()()(),a.BQk()),2&n){const t=e.$implicit,i=e.index,r=a.oxw();a.xp6(1),a.Q6J("ngClass",a.WLB(5,Q1,"completed"===t.status,"in progress"===t.status)),a.xp6(4),a.Q6J("ngIf",i!==r.itemLength-1),a.xp6(3),a.Oqu(r.getMessage(i)),a.xp6(1),a.Q6J("ngClass",a.WLB(8,_R,"completed"===t.status,"in progress"===t.status)),a.xp6(1),a.Oqu(t.status)}}const vR=[[["app-progress-step"]]],bR=["app-progress-step"];let wR=(()=>{class n extends class gR{constructor(e){this.progressHelper=e,this.itemProgressList=[],this.activeIndex=0}completeLastStep(){this.itemProgressList[this.activeIndex].status=Da.COMPLETED}undoLastComplete(){this.itemProgressList[this.activeIndex].status=Da.IN_PROGRESS}switchStatusNext(e){this.itemProgressList[this.activeIndex-1].status=Da.COMPLETED,this.itemProgressList[e].status=Da.IN_PROGRESS}switchStatusPrev(e){this.itemProgressList[this.activeIndex+1].status=Da.PENDING,this.itemProgressList[e].status=Da.IN_PROGRESS}}{constructor(t){super(t),this.progressHelper=t,this.stateChange=new a.vpe}set selectedIndex(t){this.activeIndex=t||0}ngOnInit(){this.progressHelper.eventHelper.subscribe({next:({prev:t,next:i})=>{i&&this.next(),t&&this.prev()}})}getMessage(t){let i="";return i=0==t?"Especialidad":1==t?"Profesional":2==t?"Fecha":"Confirmar",i}ngAfterContentInit(){this.initProgress(this.progressSteps.length),this.setActiveActiveStep(this.activeIndex),this.initStepIndex()}next(){this.increaseStep()}prev(){this.decreaseStep()}increaseStep(){this.activeIndex===this.itemLength-1&&this.itemProgressList[this.activeIndex].status!==Da.COMPLETED&&this.completeLastStep(),this.activeIndex<this.itemLength-1&&(this.activeIndex++,this.switchStatusNext(this.activeIndex),this.setActiveActiveStep(this.activeIndex),this.emitStateChange())}decreaseStep(){this.activeIndex===this.itemLength-1&&this.itemProgressList[this.activeIndex].status===Da.COMPLETED?this.undoLastComplete():this.activeIndex>0&&(this.activeIndex--,this.switchStatusPrev(this.activeIndex),this.setActiveActiveStep(this.activeIndex),this.emitStateChange())}emitStateChange(){this.stateChange.emit({activeIndex:this.activeIndex,activeStep:this.activeStep})}setActiveActiveStep(t){this.stepsExists&&(this.removeActiveStep(),this.updateActiveStep(t))}updateActiveStep(t){this.progressSteps[t].activeState=this.progressSteps[t]}removeActiveStep(){this.progressSteps.map(t=>{t.isActive&&(t.isActive=!1)})}initStepIndex(){this.progressSteps.forEach((t,i)=>t.stepIndex=i)}get activeStep(){return this.progressSteps[this.activeIndex]}get stepsExists(){return this.progressSteps&&Array.isArray(this.progressSteps)}get progressSteps(){return this.steps.toArray()}generateProgressArray(t){return[...Array(t).keys()].map(i=>({stepIndex:i,status:i===this.activeIndex?Da.IN_PROGRESS:Da.PENDING}))}initProgress(t){this.itemLength=t||0,this.itemProgressList=this.generateProgressArray(this.itemLength)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Y1))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-progress"]],contentQueries:function(t,i,r){if(1&t&&a.Suo(r,K1,4),2&t){let u;a.iGM(u=a.CRH())&&(i.steps=u)}},inputs:{selectedIndex:"selectedIndex"},outputs:{stateChange:"stateChange"},features:[a.qOj],ngContentSelectors:bR,decls:6,vars:1,consts:[[1,"step-progress"],[1,"container"],["container",""],[4,"ngFor","ngForOf"],[1,"step-content"],[1,"check-box",3,"ngClass"],["id","checkbox","viewBox","0 0 100 100"],["cx","50.5","cy","49","r","45",1,"circle"],["points","28.5,51.9 41.9,65.3 72.5,32.8 ",1,"check"],["class","progress-line",3,"ngClass",4,"ngIf"],[1,"info"],[1,"step"],[1,"progress-info",3,"ngClass"],[1,"progress-line",3,"ngClass"],[1,"progress-percent"]],template:function(t,i){1&t&&(a.F$t(vR),a.TgZ(0,"div",0)(1,"div",1,2),a.YNc(3,yR,11,11,"ng-container",3),a.qZA()(),a.TgZ(4,"div",4),a.Hsn(5),a.qZA()),2&t&&(a.xp6(3),a.Q6J("ngForOf",i.itemProgressList))},directives:[d.sg,d.mk,d.O5],styles:["[_nghost-%COMP%]{margin-top:20px;-webkit-user-select:none;user-select:none;display:grid;grid-template-rows:80px 1fr;grid-row-gap:100px;justify-content:center;grid-template-columns:min-content}[_nghost-%COMP%]   .step-progress[_ngcontent-%COMP%]{margin-top:120px;padding:15px 15px 60px 0;box-shadow:0 15px 20px #0000001a;border-radius:15px;grid-row:1/2;grid-column:1/-1;align-self:center}[_nghost-%COMP%]   .step-content[_ngcontent-%COMP%]{margin-top:40px;position:relative;align-self:start;grid-row:2/-1;grid-column:1/-1}.container[_ngcontent-%COMP%]{display:inline-flex;padding:30px;position:relative}.container[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]{width:48px;height:48px;stroke:#23c274;stroke-width:6}.container[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{stroke-dasharray:320;stroke-dashoffset:320;fill:#d2d2d2;transition:stroke-dashoffset .5s,fill .5s .3s cubic-bezier(.45,0,.55,1)}.container[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{stroke-dasharray:70;stroke-dashoffset:70;stroke:#fff;fill:none;transition:all .5s .5s cubic-bezier(.45,0,.55,1)}.check-box[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.check-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{position:absolute;bottom:-60px;display:grid;grid-template-columns:max-content}.check-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span.progress-info[_ngcontent-%COMP%]{text-transform:capitalize;font-size:11px;display:inline-block;margin-left:5px;padding:2px 10px;transform:translateY(6px);font-weight:500;color:currentColor;background:#eee;border-radius:20px;transition:background-color .1s ease-in-out}.check-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span.progress-info.in-progress[_ngcontent-%COMP%]{background-color:#234dc2;color:#fff}.check-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span.progress-info.completed[_ngcontent-%COMP%]{background-color:#23c274;color:#fff}.check-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span.step[_ngcontent-%COMP%]{margin-left:10px;text-transform:uppercase;font-weight:400;letter-spacing:.5px;font-size:10px;color:#777}.progress-line[_ngcontent-%COMP%]{width:140px;margin:0 10px;height:4px;overflow:hidden;display:inline-block;background:#d2d2d2;border-radius:10px}.progress-line[_ngcontent-%COMP%]   .progress-percent[_ngcontent-%COMP%]{height:inherit;width:0%;transition:all .5s .5s cubic-bezier(.45,0,.55,1)}.progress-line.active[_ngcontent-%COMP%]   .progress-percent[_ngcontent-%COMP%]{background:#234dc2;width:50%}.progress-line.complete[_ngcontent-%COMP%]   .progress-percent[_ngcontent-%COMP%]{width:100%;background:#23c274}.check-box.active[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{fill:#234dc2}.check-box.complete[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{stroke-dashoffset:0;fill:#23c274}.check-box.complete[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{stroke-dashoffset:0}"]}),n})();const CR=function(n){return{active:n}};function ER(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",5),a.NdJ("click",function(){const u=a.CHM(t).$implicit;return a.oxw().onClick(u)}),a.TgZ(1,"div",6),a._UZ(2,"img",7),a.qZA(),a.TgZ(3,"div",8)(4,"h4"),a._uU(5),a.qZA(),a.TgZ(6,"p"),a._uU(7),a.qZA()()()}if(2&n){const t=e.$implicit;a.Q6J("ngClass",a.VKq(5,CR,t.seleccionado)),a.xp6(2),a.Q6J("src",t.pathImg,a.LSH),a.xp6(3),a.AsE("",t.nombre," ",t.apellido,""),a.xp6(2),a.Oqu(t.especialidad)}}let TR=(()=>{class n{constructor(){this.especialista=new a.vpe}ngOnInit(){}onClick(t){let i=this.listEspecialistas.filter(r=>1==r.seleccionado);0==i.length?(t.seleccionado=!0,this.especialista.emit(t)):1==i.length&&t.seleccionado&&(t.seleccionado=!1,this.especialista.emit(null))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-tabla-users-turno"]],inputs:{listEspecialistas:"listEspecialistas"},outputs:{especialista:"especialista"},decls:5,vars:1,consts:[[1,"d-flex","justify-content-center","mb-1"],[1,"col-10","mb-3"],[1,"cont"],[1,"list"],["class","list-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"list-item",3,"ngClass","click"],[1,"image-box"],["alt","avatar",3,"src"],[1,"content"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),a.YNc(4,ER,8,7,"div",4),a.qZA()()()()),2&t&&(a.xp6(4),a.Q6J("ngForOf",i.listEspecialistas))},directives:[d.sg,d.mk],styles:['.list[_ngcontent-%COMP%]{min-width:425px;overflow:auto;height:450px;box-shadow:0 35px 50px #0000001a;background:#00bcd4;overflow-x:hidden}.list[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;right:0;width:calc(100% - 75px);height:100%;background:#fff}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;padding:10px;margin:10px 0;cursor:pointer}.active[_ngcontent-%COMP%]{background:#00bcd4}p[_ngcontent-%COMP%]{display:block;margin:0 0 10px;color:#4285f4;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;letter-spacing:.2em}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;background:#00bcd4;transform:scaleX(0);transform-origin:right;transition:transform .5s}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover:before{transform:scaleX(1);transform-origin:left;transition:transform .5s}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]{position:relative;min-width:85px;height:85px;border:4px solid #fff;box-shadow:5px 5px 15px #0000001a;margin-right:20px;margin-left:10px}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center;width:100%;color:#333}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{position:absolute;right:0;font-size:2rem;color:#fff;transform:scale(0);transition:.5s}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-weight:500;opacity:.5}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover   .content[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{transform:scale(1)}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{padding:4px 0;position:relative;z-index:40;color:#4285f4;font-size:24px;font-weight:700;text-transform:uppercase}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.8;transition:.5s}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover   .content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}']}),n})(),IR=(()=>{class n{constructor(t,i){this.progressHelper=t,this.el=i,this.methods={next:!1,prev:!1}}listen(t){this.progressHelper.eventHelper.next(this.methods)}ngOnInit(){this.initMethods()}initMethods(){"next"in this&&(this.methods=Object.assign(Object.assign({},this.methods),{next:!0})),"prev"in this&&(this.methods=Object.assign(Object.assign({},this.methods),{prev:!0}))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Y1),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","progressStepNext",""],["","progressStepPrev",""]],hostBindings:function(t,i){1&t&&a.NdJ("click",function(u){return i.listen(u)})},inputs:{next:["progressStepNext","next"],prev:["progressStepPrev","prev"]}}),n})();var J1=P(97),VE=(()=>(function(n){n[n.Lunes=1]="Lunes",n[n.Martes=2]="Martes",n[n.Miercoles=3]="Miercoles",n[n.Jueves=4]="Jueves",n[n.Viernes=5]="Viernes",n[n.Sabado=6]="Sabado"}(VE||(VE={})),VE))();let DR=(()=>{class n{constructor(){this.fechaSeleccionada=new a.vpe,this.fechaSelec="",this.horaSelec="",this.dias=[]}ngOnInit(){this.horarios.forEach(t=>{this.setHours(t),this.setDays(t)})}setDays(t){let r,i=new Date;for(let u=1;u<=15;u++)r=i.getDay(),t.dias.find(h=>h==VE[r])&&this.dias.push(i.getDate()+"/"+(i.getMonth()+1)+"/"+i.getFullYear()),i.setDate(i.getDate()+1)}setHours(t){let i=Number.parseInt(t.desde),r=Number.parseInt(t.hasta),u="";this.horas=[t.desde];for(let h=i+1;h<r;h++)u=h>=10?h.toString()+":00":"0"+h.toString()+":00",this.horas.push(u);this.horas.push(t.hasta)}onSelectDate(t){this.fechaSelec=t.value,""!=this.horaSelec&&(this.fechaSelec=this.fechaSelec+" - "+this.horaSelec,this.fechaSeleccionada.emit(this.fechaSelec))}onSelectTime(t){this.horaSelec=t.value,""!=this.fechaSelec&&(this.fechaSelec=this.fechaSelec+" - "+this.horaSelec,this.fechaSeleccionada.emit(this.fechaSelec))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-calendar"]],inputs:{horarios:"horarios"},outputs:{fechaSeleccionada:"fechaSeleccionada"},decls:11,vars:2,consts:[[1,"d-flex","justify-content-center","p-fluid","mb-1"],[1,"col-6","mb-3"],["for","dni"],["placeholder","Selccione una...",3,"options","onChange"],[1,"col-12","mb-3"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"label",2),a._uU(3,"Fecha"),a.qZA(),a.TgZ(4,"p-dropdown",3),a.NdJ("onChange",function(u){return i.onSelectDate(u)}),a.qZA()(),a.TgZ(5,"div",1)(6,"label",2),a._uU(7,"Hora"),a.qZA(),a.TgZ(8,"p-dropdown",3),a.NdJ("onChange",function(u){return i.onSelectTime(u)}),a.qZA()()(),a.TgZ(9,"div",4),a._UZ(10,"p-messages"),a.qZA()),2&t&&(a.xp6(4),a.Q6J("options",i.dias),a.xp6(4),a.Q6J("options",i.horas))},directives:[LE.Lt,J1.V],styles:["label[_ngcontent-%COMP%]{display:block;margin:0 0 10px;color:#4285f4;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;letter-spacing:.2em}"]}),n})(),SR=(()=>{class n{constructor(){this.turnoEmit=new a.vpe}ngOnInit(){"paciente"==this.paciente.rol&&(this.turno.paciente=this.paciente,this.turnoEmit.emit(this.turno))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-completar-soli-turno"]],inputs:{paciente:"paciente",turno:"turno"},outputs:{turnoEmit:"turnoEmit"},decls:17,vars:3,consts:[[1,"form-content"],[1,"row"],[1,"col-12"],[1,"form-group"],["type","text","id","dni","name","dni","readonly","",1,"form-control","form-style",3,"value"],[1,"col-6"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label"),a._uU(5,"Especialista"),a.qZA(),a._UZ(6,"input",4),a.qZA()(),a.TgZ(7,"div",5)(8,"div",3)(9,"label"),a._uU(10,"Especialidad"),a.qZA(),a._UZ(11,"input",4),a.qZA()(),a.TgZ(12,"div",5)(13,"div",3)(14,"label"),a._uU(15,"Fecha"),a.qZA(),a._UZ(16,"input",4),a.qZA()()()()),2&t&&(a.xp6(6),a.Q6J("value",i.turno.especialista.nombre+" "+i.turno.especialista.apellido),a.xp6(5),a.Q6J("value",i.turno.especialidad),a.xp6(5),a.Q6J("value",i.turno.fecha))},styles:[".input[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{outline:none;display:block;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;color:#0009;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;transition:.3s ease}button[_ngcontent-%COMP%]{outline:none;width:100%;border:0;border-radius:4px;padding:12px 20px;background:#FFFFFF;color:#4285f4;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;text-transform:uppercase;cursor:pointer}label[_ngcontent-%COMP%]{display:block;margin:0 0 10px;color:#4285f4;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;letter-spacing:.2em}h1[_ngcontent-%COMP%]{padding:4px 0;position:relative;z-index:40;color:#4285f4;font-size:24px;font-weight:700;text-transform:uppercase}"]}),n})();function xR(n,e){1&n&&a._UZ(0,"app-loading")}function AR(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"app-tabla-users-turno",12),a.NdJ("especialista",function(r){a.CHM(t);const u=a.oxw(),h=a.MAs(3);return u.onSelecEspecialista(r,h)}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("listEspecialistas",t.listEspecialistas)}}const MR=function(){return{width:"100%"}};function OR(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",7)(1,"label"),a._uU(2,"Seleccione una especialidad..."),a.qZA(),a.TgZ(3,"p-dropdown",13),a.NdJ("onChange",function(){a.CHM(t);const r=a.oxw(),u=a.MAs(3);return r.onChangeEsp(u)}),a.qZA()()}if(2&n){const t=a.oxw();a.xp6(3),a.Akn(a.DdM(3,MR)),a.Q6J("options",t.especialidades)}}function kR(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"app-calendar",14),a.NdJ("fechaSeleccionada",function(r){return a.CHM(t),a.oxw().onSelecFecha(r)}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("horarios",t.horarios)}}function PR(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"app-completar-soli-turno",19),a.NdJ("turnoEmit",function(r){return a.CHM(t),a.oxw(2).getTurnoConPaciente(r)}),a.qZA()}if(2&n){const t=a.oxw().ngIf,i=a.oxw();a.Q6J("paciente",t)("turno",i.turno)}}function RR(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div")(1,"h1",15),a._uU(2,"Confirmar datos"),a.qZA(),a.YNc(3,PR,1,2,"app-completar-soli-turno",16),a.TgZ(4,"div",5)(5,"div",10)(6,"button",17),a._uU(7,"Volver"),a.qZA()(),a.TgZ(8,"div",10)(9,"button",18),a.NdJ("click",function(){return a.CHM(t),a.oxw().enviarTurno()}),a._uU(10,"Confirmar"),a.qZA()()(),a.TgZ(11,"div",7),a._UZ(12,"p-messages"),a.qZA()()}if(2&n){const t=a.oxw();a.xp6(3),a.Q6J("ngIf",t.turno.fecha)}}const NR=[{path:"",component:$O,data:{animation:"homePage"}},{path:"Login",component:jO,loadChildren:()=>P.e(541).then(P.bind(P,541)).then(n=>n.AuthModule),data:{animation:"fadePage"}},{path:"Usuarios",component:tk,canActivate:[Lf]},{path:"MisTurnos",component:hR,canActivate:[Vf],loadChildren:()=>P.e(757).then(P.bind(P,7757)).then(n=>n.TurnosModule)},{path:"Turno",component:(()=>{class n{constructor(t,i,r,u){this.auth=t,this.afs=i,this.formBuilder=r,this.messageService=u,this.cargando=!1,this.turnoForm=this.formBuilder.group({especialidad:["",[It.kI.required]],especialista:["",[It.kI.required]],fecha:["",[It.kI.required]],estado:["pendiente"]})}ngOnInit(){this.paciente=this.auth.userObs,this.cargando=!0,this.afs.getWithFilter("users","rol","especialista").subscribe(t=>{t&&(this.listEspecialistas=t,this.listEspecialistas=this.listEspecialistas.filter(i=>Array.isArray(i.horarios)&&i.horarios.length>0),this.cargando=!1)})}get f(){return this.turnoForm.controls}getErrorMessage(t){let i="";return this.f[t].hasError("required")&&(i="Vac\xedo."),i}isNotValidField(t){return(this.f[t].touched||1==this.f[t].dirty)&&!this.f[t].valid}onSelecEspecialista(t,i){t&&(this.f.especialista.setValue(t),t.especialidad&&(this.especialidades=t.especialidad),i.next())}onChangeEsp(t){let i=this.f.especialista.value,r=this.f.especialidad.value;i.horarios&&(this.horarios=i.horarios.filter(u=>u.esp==r),t.next())}onSelecFecha(t){this.f.fecha.setValue(t)}getTurnoConPaciente(t){this.turnoAEnviar=t}get turno(){return this.turnoForm.value}enviarTurno(){this.cargando=!0,this.turnoAEnviar.id=fR.i.create().toString(),this.afs.setObj("turnos",this.turnoAEnviar,this.turnoAEnviar.id).then(t=>{this.messageService.clear(),this.messageService.add({severity:"success",summary:"Success",detail:"Su turno se envi\xf3 correctamente!"}),this.cargando=!1})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Go),a.Y36(Jh),a.Y36(It.qu),a.Y36(or.ez))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-solicitar"]],features:[a._Bn([or.ez])],decls:34,vars:8,consts:[[4,"ngIf"],[3,"formGroup"],["progress",""],[1,"text-center","mb-4"],[3,"listEspecialistas","especialista",4,"ngIf"],[1,"d-flex","justify-content-center"],["class","col-12 mb-3",4,"ngIf"],[1,"col-12","mb-3"],["progressStepPrev","",3,"click"],[3,"horarios","fechaSeleccionada",4,"ngIf"],[1,"col-6","mb-3"],["progressStepNext",""],[3,"listEspecialistas","especialista"],["placeholder","Selccione una...","formControlName","especialidad",3,"options","onChange"],[3,"horarios","fechaSeleccionada"],[1,"text-center"],[3,"paciente","turno","turnoEmit",4,"ngIf"],["progressStepPrev",""],["progressStepNext","",3,"click"],[3,"paciente","turno","turnoEmit"]],template:function(t,i){1&t&&(a.YNc(0,xR,1,0,"app-loading",0),a.TgZ(1,"form",1)(2,"app-progress",null,2)(4,"app-progress-step")(5,"div",3)(6,"h1"),a._uU(7,"Profesionales"),a.qZA()(),a.YNc(8,AR,1,1,"app-tabla-users-turno",4),a.qZA(),a.TgZ(9,"app-progress-step")(10,"div",3)(11,"h1"),a._uU(12,"Empecemos"),a.qZA()(),a.TgZ(13,"div",5),a.YNc(14,OR,4,4,"div",6),a.qZA(),a.TgZ(15,"div",5)(16,"div",7)(17,"button",8),a.NdJ("click",function(){return i.especialidades=null}),a._uU(18,"Volver"),a.qZA()()()(),a.TgZ(19,"app-progress-step")(20,"div",3)(21,"h1"),a._uU(22,"Porfavor seleccione una fecha..."),a.qZA()(),a.YNc(23,kR,1,1,"app-calendar",9),a.TgZ(24,"div",5)(25,"div",10)(26,"button",8),a.NdJ("click",function(){return i.horarios=null}),a._uU(27,"Volver"),a.qZA()(),a.TgZ(28,"div",10)(29,"button",11),a._uU(30,"Siguiente"),a.qZA()()()(),a.TgZ(31,"app-progress-step"),a.YNc(32,RR,13,1,"div",0),a.ALo(33,"async"),a.qZA()()()),2&t&&(a.Q6J("ngIf",i.cargando),a.xp6(1),a.Q6J("formGroup",i.turnoForm),a.xp6(7),a.Q6J("ngIf",i.listEspecialistas),a.xp6(6),a.Q6J("ngIf",null!=i.especialidades),a.xp6(9),a.Q6J("ngIf",null!=i.horarios),a.xp6(9),a.Q6J("ngIf",a.lcZ(33,6,i.paciente)))},directives:[d.O5,FE,It._Y,It.JL,It.sg,wR,K1,TR,LE.Lt,It.JJ,It.u,IR,DR,SR,J1.V],pipes:[d.Ov],styles:["button[_ngcontent-%COMP%]{outline:none;width:100%;border:0;border-radius:4px;padding:12px 20px;background:#FFFFFF;color:#4285f4;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;text-transform:uppercase;cursor:pointer}label[_ngcontent-%COMP%]{display:block;margin:0 0 10px;color:#4285f4;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;letter-spacing:.2em}h1[_ngcontent-%COMP%]{padding:4px 0;position:relative;z-index:40;color:#4285f4;font-size:24px;font-weight:700;text-transform:uppercase}"]}),n})(),canActivate:[Vf],loadChildren:()=>P.e(757).then(P.bind(P,7757)).then(n=>n.TurnosModule)},{path:"Profile",component:JP,canActivate:[Vf],data:{animation:"fadePage"}}];let FR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Fe.forRoot(NR)],Fe]}),n})();function LR(n,e){if(1&n&&a._UZ(0,"img",24),2&n){const t=a.oxw().ngIf;a.Q6J("src",t.pathImg,a.LSH)}}function VR(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"a",15),a.YNc(4,LR,1,1,"img",16),a.qZA(),a.TgZ(5,"div",17)(6,"button",18),a._uU(7,"User Account"),a.qZA(),a._UZ(8,"div",19),a.TgZ(9,"button",20),a.NdJ("click",function(){return a.CHM(t),a.oxw().onLogout()}),a._uU(10,"Log Out"),a.qZA()()()(),a.TgZ(11,"div",21)(12,"div",22),a._uU(13),a.qZA(),a.TgZ(14,"div",23),a._uU(15),a.qZA()()()}if(2&n){const t=e.ngIf;a.xp6(4),a.Q6J("ngIf",t.pathImg),a.xp6(2),a.Q6J("routerLink","/Profile"),a.xp6(7),a.AsE(" ",t.nombre," ",t.apellido," "),a.xp6(2),a.hij(" ",t.email," ")}}let UR=(()=>{class n{constructor(t,i){this.auth=t,this.router=i}ngOnInit(){this.$user=this.auth.userObs}onLogout(){this.auth.logout().then(()=>{this.auth.refreshData(null),this.router.navigateByUrl("")})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Go),a.Y36(ir))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-navbar"]],decls:14,vars:3,consts:[[1,"app-header","header-shadow",2,"background-image","radial-gradient(circle 248px at center,#46aef7 0%,#30c7ec 47%,#4285F4 100%)!important"],[1,"app-header__logo"],["src","../assets/logo.png",1,"logo"],[1,"app-header__mobile-menu"],["type","button",1,"hamburger","hamburger--elastic","mobile-toggle-nav"],[1,"hamburger-box"],[1,"hamburger-inner"],[1,"app-header__content"],[1,"app-header-right"],[1,"header-btn-lg","pr-0"],[1,"widget-content","p-0"],["class","widget-content-wrapper",4,"ngIf"],[1,"widget-content-wrapper"],[1,"widget-content-left"],[1,"btn-group"],["data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"p-0","btn"],["alt","","class","rounded-circle","width","42",3,"src",4,"ngIf"],["role","menu","aria-hidden","true",1,"dropdown-menu","dropdown-menu-right"],["type","button",1,"dropdown-item",3,"routerLink"],[1,"dropdown-divider"],["type","button",1,"dropdown-item","dropdown-header",3,"click"],[1,"widget-content-left","ml-3","header-user-info"],[1,"widget-heading"],[1,"widget-subheading"],["alt","","width","42",1,"rounded-circle",3,"src"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"img",2),a.qZA(),a.TgZ(3,"div",3)(4,"div")(5,"button",4)(6,"span",5),a._UZ(7,"span",6),a.qZA()()()(),a.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10),a.YNc(12,VR,16,5,"div",11),a.ALo(13,"async"),a.qZA()()()()()),2&t&&(a.xp6(12),a.Q6J("ngIf",a.lcZ(13,1,i.$user)))},directives:[d.O5,Wa],pipes:[d.Ov],styles:[".logo[_ngcontent-%COMP%]{height:50px;width:130px;background-repeat:no-repeat;background-size:cover}img[_ngcontent-%COMP%]{width:50px;height:50px}.dropdown-header[_ngcontent-%COMP%]{color:#dc3545}"]}),n})();const BR=function(){return["Usuarios"]};function HR(n,e){1&n&&(a.TgZ(0,"div")(1,"li",14),a._uU(2,"Usuarios"),a.qZA(),a.TgZ(3,"li")(4,"a",15),a._UZ(5,"i",16),a._uU(6," Administrar "),a.qZA()()()),2&n&&(a.xp6(4),a.Q6J("routerLink",a.DdM(1,BR)))}const jR=function(){return["Turno"]},ZR=function(){return["MisTurnos"]};function $R(n,e){1&n&&(a.TgZ(0,"div")(1,"li",14),a._uU(2,"Turnos"),a.qZA(),a.TgZ(3,"li")(4,"a",15),a._UZ(5,"i",17),a._uU(6," Solicitar turno "),a.qZA()(),a.TgZ(7,"li")(8,"a",15),a._UZ(9,"i",18),a._uU(10," Mist turnos "),a.qZA()()()),2&n&&(a.xp6(4),a.Q6J("routerLink",a.DdM(2,jR)),a.xp6(4),a.Q6J("routerLink",a.DdM(3,ZR)))}function GR(n,e){if(1&n&&(a.TgZ(0,"div",1)(1,"div",2)(2,"div")(3,"button",3)(4,"span",4),a._UZ(5,"span",5),a.qZA()()()(),a.TgZ(6,"div",6)(7,"span")(8,"button",7)(9,"span",8),a._UZ(10,"i",9),a.qZA()()()(),a.TgZ(11,"div",10)(12,"div",11)(13,"ul",12),a.YNc(14,HR,7,2,"div",13),a.YNc(15,$R,11,4,"div",13),a.qZA()()()()),2&n){const t=e.ngIf;a.xp6(14),a.Q6J("ngIf","administrador"==t.rol),a.xp6(1),a.Q6J("ngIf","paciente"==t.rol||"administrador"==t.rol)}}let qR=(()=>{class n{constructor(t){this.auth=t}ngOnInit(){this.$user=this.auth.userObs}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Go))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-sidebar"]],decls:2,vars:3,consts:[["class","app-sidebar sidebar-shadow",4,"ngIf"],[1,"app-sidebar","sidebar-shadow"],[1,"app-header__mobile-menu"],["type","button",1,"hamburger","hamburger--elastic","mobile-toggle-nav"],[1,"hamburger-box"],[1,"hamburger-inner"],[1,"app-header__menu"],["type","button",1,"btn-icon","btn-icon-only","btn","btn-primary","btn-sm","mobile-toggle-header-nav"],[1,"btn-icon-wrapper"],[1,"fa","fa-ellipsis-v","fa-w-6"],[1,"scrollbar-sidebar"],[1,"app-sidebar__inner"],[1,"vertical-nav-menu"],[4,"ngIf"],[1,"app-sidebar__heading"],["routerLinkActive","mm-active",3,"routerLink"],[1,"metismenu-icon","bi","bi-people"],[1,"metismenu-icon","bi","bi-clipboard-pulse"],[1,"metismenu-icon","bi","bi-journal-plus"]],template:function(t,i){1&t&&(a.YNc(0,GR,16,2,"div",0),a.ALo(1,"async")),2&t&&a.Q6J("ngIf",a.lcZ(1,1,i.$user))},directives:[d.O5,Al,cu],pipes:[d.Ov],styles:[""]}),n})(),zR=(()=>{class n{constructor(t){this.contexts=t}ngOnInit(){}getRouteAnimationData(){var t,i,r,u;return null===(u=null===(r=null===(i=null===(t=this.contexts.getContext("primary"))||void 0===t?void 0:t.route)||void 0===i?void 0:i.snapshot)||void 0===r?void 0:r.data)||void 0===u?void 0:u.animation}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ua))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-main"]],decls:7,vars:1,consts:[[1,"app-container","app-theme-white","body-tabs-shadow","fixed-sidebar","fixed-header","closed-sidebar"],[1,"app-main"],[1,"app-main__outer"],[1,"app-main__inner"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0),a._UZ(1,"app-navbar"),a.TgZ(2,"div",1),a._UZ(3,"app-sidebar"),a.TgZ(4,"div",2)(5,"div",3),a._UZ(6,"router-outlet"),a.qZA()()()()),2&t&&(a.xp6(5),a.Q6J("@routeAnimations",i.getRouteAnimationData()))},directives:[UR,qR,ws],styles:[""],data:{animation:[(0,Mt.X$)("routeAnimations",[(0,Mt.eR)("* => homePage",[(0,Mt.oB)({position:"relative"}),(0,Mt.IO)(":enter, :leave",[(0,Mt.oB)({position:"absolute",bottom:0,left:0,width:"100%"})]),(0,Mt.IO)(":enter",[(0,Mt.oB)({bottom:"-100%"})]),(0,Mt.IO)(":leave",(0,Mt.pV)()),(0,Mt.ru)([(0,Mt.IO)(":leave",[(0,Mt.jt)("300ms ease-out",(0,Mt.oB)({bottom:"100%"}))]),(0,Mt.IO)(":enter",[(0,Mt.jt)("300ms ease-out",(0,Mt.oB)({bottom:"0%"}))])])]),(0,Mt.eR)("* => fadePage",[(0,Mt.IO)(":enter, :leave",[(0,Mt.oB)({position:"absolute",left:0,width:"100%",opacity:0,transform:"scale(0) translateY(100%)"})]),(0,Mt.IO)(":enter",[(0,Mt.jt)("600ms ease",(0,Mt.oB)({opacity:1,transform:"scale(1) translateY(0)"}))])])])]}}),n})(),WR=(()=>{class n{constructor(){this.title="TP-Final"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&a._UZ(0,"app-main")},directives:[zR],styles:[""]}),n})();const Yn=!1;function X1(n){return new a.vHH(3e3,Yn)}function xN(){return"undefined"!=typeof window&&void 0!==window.document}function TD(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ef(n){switch(n.length){case 0:return new Mt.ZN;case 1:return n[0];default:return new Mt.ZE(n)}}function ex(n,e,t,i,r={},u={}){const h=[],g=[];let v=-1,T=null;if(i.forEach(L=>{const Q=L.offset,fe=Q==v,Se=fe&&T||{};Object.keys(L).forEach(Oe=>{let Xe=Oe,ft=L[Oe];if("offset"!==Oe)switch(Xe=e.normalizePropertyName(Xe,h),ft){case Mt.k1:ft=r[Oe];break;case Mt.l3:ft=u[Oe];break;default:ft=e.normalizeStyleValue(Oe,Xe,ft,h)}Se[Xe]=ft}),fe||g.push(Se),T=Se,v=Q}),h.length)throw function _N(n){return new a.vHH(3502,Yn)}();return g}function ID(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&DD(t,"start",n)));break;case"done":n.onDone(()=>i(t&&DD(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&DD(t,"destroy",n)))}}function DD(n,e,t){const i=t.totalTime,u=SD(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),h=n._data;return null!=h&&(u._data=h),u}function SD(n,e,t,i,r="",u=0,h){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:u,disabled:!!h}}function Sa(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function tx(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let xD=(n,e)=>!1,nx=(n,e,t)=>[],ix=null;function AD(n){const e=n.parentNode||n.host;return e===ix?null:e}(TD()||"undefined"!=typeof Element)&&(xN()?(ix=(()=>document.documentElement)(),xD=(n,e)=>{for(;e;){if(e===n)return!0;e=AD(e)}return!1}):xD=(n,e)=>n.contains(e),nx=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let yg=null,rx=!1;function sx(n){yg||(yg=function MN(){return"undefined"!=typeof document?document.body:null}()||{},rx=!!yg.style&&"WebkitAppearance"in yg.style);let e=!0;return yg.style&&!function AN(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in yg.style,!e&&rx&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in yg.style)),e}const ox=xD,ax=nx;let lx=(()=>{class n{validateStyleProperty(t){return sx(t)}matchesElement(t,i){return!1}containsElement(t,i){return ox(t,i)}getParentElement(t){return AD(t)}query(t,i,r){return ax(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,u,h,g=[],v){return new Mt.ZN(r,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),MD=(()=>{class n{}return n.NOOP=new lx,n})();const OD="ng-enter",BE="ng-leave",HE="ng-trigger",jE=".ng-trigger",cx="ng-animating",kD=".ng-animating";function vg(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:PD(parseFloat(e[1]),e[2])}function PD(n,e){return"s"===e?1e3*n:n}function ZE(n,e,t){return n.hasOwnProperty("duration")?n:function PN(n,e,t){let r,u=0,h="";if("string"==typeof n){const g=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return e.push(X1()),{duration:0,delay:0,easing:""};r=PD(parseFloat(g[1]),g[2]);const v=g[3];null!=v&&(u=PD(parseFloat(v),g[4]));const T=g[5];T&&(h=T)}else r=n;if(!t){let g=!1,v=e.length;r<0&&(e.push(function KR(){return new a.vHH(3100,Yn)}()),g=!0),u<0&&(e.push(function YR(){return new a.vHH(3101,Yn)}()),g=!0),g&&e.splice(v,0,X1())}return{duration:r,delay:u,easing:h}}(n,e,t)}function Z_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function tf(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else Z_(n,t);return t}function hx(n,e,t){return t?e+":"+t+";":""}function fx(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=hx(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=hx(0,FN(t),n.style[t]));n.setAttribute("style",e)}function Ju(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=ND(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),TD()&&fx(n))}function bg(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=ND(t);n.style[i]=""}),TD()&&fx(n))}function wb(n){return Array.isArray(n)?1==n.length?n[0]:(0,Mt.vP)(n):n}const RD=new RegExp("{{\\s*(.+?)\\s*}}","g");function px(n){let e=[];if("string"==typeof n){let t;for(;t=RD.exec(n);)e.push(t[1]);RD.lastIndex=0}return e}function $E(n,e,t){const i=n.toString(),r=i.replace(RD,(u,h)=>{let g=e[h];return e.hasOwnProperty(h)||(t.push(function JR(n){return new a.vHH(3003,Yn)}()),g=""),g.toString()});return r==i?n:r}function GE(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const NN=/-+([a-z0-9])/g;function ND(n){return n.replace(NN,(...e)=>e[1].toUpperCase())}function FN(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xa(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function XR(n){return new a.vHH(3004,Yn)}()}}function gx(n,e){return window.getComputedStyle(n)[e]}function jN(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function ZN(n,e,t){if(":"==n[0]){const v=function $N(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function fN(n){return new a.vHH(3016,Yn)}()),"* => *"}}(n,t);if("function"==typeof v)return void e.push(v);n=v}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function hN(n){return new a.vHH(3015,Yn)}()),e;const r=i[1],u=i[2],h=i[3];e.push(mx(r,h));"<"==u[0]&&!("*"==r&&"*"==h)&&e.push(mx(h,r))}(i,t,e)):t.push(n),t}const KE=new Set(["true","1"]),YE=new Set(["false","0"]);function mx(n,e){const t=KE.has(n)||YE.has(n),i=KE.has(e)||YE.has(e);return(r,u)=>{let h="*"==n||n==r,g="*"==e||e==u;return!h&&t&&"boolean"==typeof r&&(h=r?KE.has(n):YE.has(n)),!g&&i&&"boolean"==typeof u&&(g=u?KE.has(e):YE.has(e)),h&&g}}const GN=new RegExp("s*:selfs*,?","g");function FD(n,e,t,i){return new qN(n).build(e,t,i)}class qN{constructor(e){this._driver=e}build(e,t,i){const r=new KN(t);this._resetContextStyleTimingState(r);const u=xa(this,wb(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),u}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const u=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push(function tN(){return new a.vHH(3006,Yn)}()),e.definitions.forEach(g=>{if(this._resetContextStyleTimingState(t),0==g.type){const v=g,T=v.name;T.toString().split(/\s*,\s*/).forEach(L=>{v.name=L,u.push(this.visitState(v,t))}),v.name=T}else if(1==g.type){const v=this.visitTransition(g,t);i+=v.queryCount,r+=v.depCount,h.push(v)}else t.errors.push(function nN(){return new a.vHH(3007,Yn)}())}),{type:7,name:e.name,states:u,transitions:h,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const u=new Set,h=r||{};i.styles.forEach(g=>{if(QE(g)){const v=g;Object.keys(v).forEach(T=>{px(v[T]).forEach(L=>{h.hasOwnProperty(L)||u.add(L)})})}}),u.size&&(GE(u.values()),t.errors.push(function iN(n,e){return new a.vHH(3008,Yn)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=xa(this,wb(e.animation),t);return{type:1,matchers:jN(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:wg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>xa(this,i,t)),options:wg(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const u=e.steps.map(h=>{t.currentTime=i;const g=xa(this,h,t);return r=Math.max(r,t.currentTime),g});return t.currentTime=r,{type:3,steps:u,options:wg(e.options)}}visitAnimate(e,t){const i=function QN(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return LD(ZE(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=LD(0,0,"");return u.dynamic=!0,u.strValue=t,u}const r=ZE(t,e);return LD(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,u=e.styles?e.styles:(0,Mt.oB)({});if(5==u.type)r=this.visitKeyframes(u,t);else{let h=e.styles,g=!1;if(!h){g=!0;const T={};i.easing&&(T.easing=i.easing),h=(0,Mt.oB)(T)}t.currentTime+=i.duration+i.delay;const v=this.visitStyle(h,t);v.isEmptyStep=g,r=v}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(h=>{"string"==typeof h?h==Mt.l3?i.push(h):t.errors.push(function rN(n){return new a.vHH(3002,Yn)}()):i.push(h)}):i.push(e.styles);let r=!1,u=null;return i.forEach(h=>{if(QE(h)){const g=h,v=g.easing;if(v&&(u=v,delete g.easing),!r)for(let T in g)if(g[T].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,u=t.currentTime;i&&u>0&&(u-=i.duration+i.delay),e.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(g=>{if(!this._driver.validateStyleProperty(g))return delete h[g],void t.unsupportedCSSPropertiesFound.add(g);const v=t.collectedStyles[t.currentQuerySelector],T=v[g];let L=!0;T&&(u!=r&&u>=T.startTime&&r<=T.endTime&&(t.errors.push(function sN(n,e,t,i,r){return new a.vHH(3010,Yn)}()),L=!1),u=T.startTime),L&&(v[g]={startTime:u,endTime:r}),t.options&&function RN(n,e,t){const i=e.params||{},r=px(n);r.length&&r.forEach(u=>{i.hasOwnProperty(u)||t.push(function QR(n){return new a.vHH(3001,Yn)}())})}(h[g],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function oN(){return new a.vHH(3011,Yn)}()),i;let u=0;const h=[];let g=!1,v=!1,T=0;const L=e.steps.map(Kt=>{const Xt=this._makeStyleAst(Kt,t);let Gt=null!=Xt.offset?Xt.offset:function YN(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(QE(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(QE(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Xt.styles),kt=0;return null!=Gt&&(u++,kt=Xt.offset=Gt),v=v||kt<0||kt>1,g=g||kt<T,T=kt,h.push(kt),Xt});v&&t.errors.push(function aN(){return new a.vHH(3012,Yn)}()),g&&t.errors.push(function lN(){return new a.vHH(3200,Yn)}());const Q=e.steps.length;let fe=0;u>0&&u<Q?t.errors.push(function uN(){return new a.vHH(3202,Yn)}()):0==u&&(fe=1/(Q-1));const Se=Q-1,Oe=t.currentTime,Xe=t.currentAnimateTimings,ft=Xe.duration;return L.forEach((Kt,Xt)=>{const Gt=fe>0?Xt==Se?1:fe*Xt:h[Xt],kt=Gt*ft;t.currentTime=Oe+Xe.delay+kt,Xe.duration=kt,this._validateStyleAst(Kt,t),Kt.offset=Gt,i.styles.push(Kt)}),i}visitReference(e,t){return{type:8,animation:xa(this,wb(e.animation),t),options:wg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:wg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:wg(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[u,h]=function zN(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(GN,"")),n=n.replace(/@\*/g,jE).replace(/@\w+/g,t=>jE+"-"+t.substr(1)).replace(/:animating/g,kD),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+u:u,Sa(t.collectedStyles,t.currentQuerySelector,{});const g=xa(this,wb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:u,limit:r.limit||0,optional:!!r.optional,includeSelf:h,animation:g,originalSelector:e.selector,options:wg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function cN(){return new a.vHH(3013,Yn)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:ZE(e.timings,t.errors,!0);return{type:12,animation:xa(this,wb(e.animation),t),timings:i,options:null}}}class KN{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function QE(n){return!Array.isArray(n)&&"object"==typeof n}function wg(n){return n?(n=Z_(n)).params&&(n.params=function WN(n){return n?Z_(n):null}(n.params)):n={},n}function LD(n,e,t){return{duration:n,delay:e,easing:t}}function VD(n,e,t,i,r,u,h=null,g=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:u,totalTime:r+u,easing:h,subTimeline:g}}class JE{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const eF=new RegExp(":enter","g"),nF=new RegExp(":leave","g");function UD(n,e,t,i,r,u={},h={},g,v,T=[]){return(new iF).buildKeyframes(n,e,t,i,r,u,h,g,v,T)}class iF{buildKeyframes(e,t,i,r,u,h,g,v,T,L=[]){T=T||new JE;const Q=new BD(e,t,T,r,u,L,[]);Q.options=v,Q.currentTimeline.setStyles([h],null,Q.errors,v),xa(this,i,Q);const fe=Q.timelines.filter(Se=>Se.containsAnimation());if(Object.keys(g).length){let Se;for(let Oe=fe.length-1;Oe>=0;Oe--){const Xe=fe[Oe];if(Xe.element===t){Se=Xe;break}}Se&&!Se.allowOnlyTimelineStyles()&&Se.setStyles([g],null,Q.errors,v)}return fe.length?fe.map(Se=>Se.buildKeyframes()):[VD(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),u=t.currentTimeline.currentTime,h=this._visitSubInstructions(i,r,r.options);u!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let u=t.currentTimeline.currentTime;const h=null!=i.duration?vg(i.duration):null,g=null!=i.delay?vg(i.delay):null;return 0!==h&&e.forEach(v=>{const T=t.appendInstructionToTimeline(v,h,g);u=Math.max(u,T.duration+T.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),xa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const u=e.options;if(u&&(u.params||u.delay)&&(r=t.createSubContext(u),r.transformIntoNewTimeline(),null!=u.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=XE);const h=vg(u.delay);r.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>xa(this,h,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?vg(e.options.delay):0;e.steps.forEach(h=>{const g=t.createSubContext(e.options);u&&g.delayNextStep(u),xa(this,h,g),r=Math.max(r,g.currentTimeline.currentTime),i.push(g.currentTimeline)}),i.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return ZE(t.params?$E(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(i.duration),this.visitStyle(u,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const u=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(u):i.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,u=i.duration,g=t.createSubContext().currentTimeline;g.easing=i.easing,e.styles.forEach(v=>{g.forwardTime((v.offset||0)*u),g.setStyles(v.styles,v.easing,t.errors,t.options),g.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(g),t.transformIntoNewTimeline(r+u),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},u=r.delay?vg(r.delay):0;u&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=XE);let h=i;const g=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=g.length;let v=null;g.forEach((T,L)=>{t.currentQueryIndex=L;const Q=t.createSubContext(e.options,T);u&&Q.delayNextStep(u),T===t.element&&(v=Q.currentTimeline),xa(this,e.animation,Q),Q.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,Q.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,u=e.timings,h=Math.abs(u.duration),g=h*(t.currentQueryTotal-1);let v=h*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":v=g-v;break;case"full":v=i.currentStaggerTime}const L=t.currentTimeline;v&&L.delayNextStep(v);const Q=L.currentTime;xa(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-Q+(r.startTime-i.currentTimeline.startTime)}}const XE={};class BD{constructor(e,t,i,r,u,h,g,v){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=u,this.errors=h,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=XE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new eT(this._driver,t,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=vg(i.duration)),null!=i.delay&&(r.delay=vg(i.delay));const u=i.params;if(u){let h=r.params;h||(h=this.options.params={}),Object.keys(u).forEach(g=>{(!t||!h.hasOwnProperty(g))&&(h[g]=$E(u[g],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,u=new BD(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=XE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},u=new rF(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(u),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,u,h){let g=[];if(r&&g.push(this.element),e.length>0){e=(e=e.replace(eF,"."+this._enterClassName)).replace(nF,"."+this._leaveClassName);let T=this._driver.query(this.element,e,1!=i);0!==i&&(T=i<0?T.slice(T.length+i,T.length):T.slice(0,i)),g.push(...T)}return!u&&0==g.length&&h.push(function dN(n){return new a.vHH(3014,Yn)}()),g}}class eT{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new eT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Mt.l3,this._currentKeyframe[t]=Mt.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const u=r&&r.params||{},h=function sF(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(u=>{t[u]=Mt.l3})):tf(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(h).forEach(g=>{const v=$E(h[g],u,i);this._pendingStyles[g]=v,this._localTimelineStyles.hasOwnProperty(g)||(this._backFill[g]=this._globalTimelineStyles.hasOwnProperty(g)?this._globalTimelineStyles[g]:Mt.l3),this._updateStyle(g,v)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((g,v)=>{const T=tf(g,!0);Object.keys(T).forEach(L=>{const Q=T[L];Q==Mt.k1?e.add(L):Q==Mt.l3&&t.add(L)}),i||(T.offset=v/this.duration),r.push(T)});const u=e.size?GE(e.values()):[],h=t.size?GE(t.values()):[];if(i){const g=r[0],v=Z_(g);g.offset=0,v.offset=1,r=[g,v]}return VD(this.element,r,u,h,this.duration,this.startTime,this.easing,!1)}}class rF extends eT{constructor(e,t,i,r,u,h,g=!1){super(e,t,h.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=u,this._stretchStartingKeyframe=g,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],h=i+t,g=t/h,v=tf(e[0],!1);v.offset=0,u.push(v);const T=tf(e[0],!1);T.offset=vx(g),u.push(T);const L=e.length-1;for(let Q=1;Q<=L;Q++){let fe=tf(e[Q],!1);fe.offset=vx((t+fe.offset*i)/h),u.push(fe)}i=h,t=0,r="",e=u}return VD(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function vx(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class HD{}class oF extends HD{normalizePropertyName(e,t){return ND(e)}normalizeStyleValue(e,t,i,r){let u="";const h=i.toString().trim();if(aF[t]&&0!==i&&"0"!==i)if("number"==typeof i)u="px";else{const g=i.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&r.push(function eN(n,e){return new a.vHH(3005,Yn)}())}return h+u}}const aF=(()=>function lF(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function bx(n,e,t,i,r,u,h,g,v,T,L,Q,fe){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:u,toState:i,toStyles:h,timelines:g,queriedElements:v,preStyleProps:T,postStyleProps:L,totalTime:Q,errors:fe}}const jD={};class wx{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function uF(n,e,t,i,r){return n.some(u=>u(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],u=this._stateStyles[e],h=r?r.buildStyles(t,i):{};return u?u.buildStyles(t,i):h}build(e,t,i,r,u,h,g,v,T,L){const Q=[],fe=this.ast.options&&this.ast.options.params||jD,Oe=this.buildStyles(i,g&&g.params||jD,Q),Xe=v&&v.params||jD,ft=this.buildStyles(r,Xe,Q),Kt=new Set,Xt=new Map,Gt=new Map,kt="void"===r,wn={params:Object.assign(Object.assign({},fe),Xe)},Cn=L?[]:UD(e,t,this.ast.animation,u,h,Oe,ft,wn,T,Q);let Qn=0;if(Cn.forEach(Aa=>{Qn=Math.max(Aa.duration+Aa.delay,Qn)}),Q.length)return bx(t,this._triggerName,i,r,kt,Oe,ft,[],[],Xt,Gt,Qn,Q);Cn.forEach(Aa=>{const gd=Aa.element,Vx=Sa(Xt,gd,{});Aa.preStyleProps.forEach(Cg=>Vx[Cg]=!0);const Eb=Sa(Gt,gd,{});Aa.postStyleProps.forEach(Cg=>Eb[Cg]=!0),gd!==t&&Kt.add(gd)});const qr=GE(Kt.values());return bx(t,this._triggerName,i,r,kt,Oe,ft,Cn,qr,Xt,Gt,Qn)}}class cF{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=Z_(this.defaultParams);return Object.keys(e).forEach(u=>{const h=e[u];null!=h&&(r[u]=h)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const h=u;Object.keys(h).forEach(g=>{let v=h[g];v.length>1&&(v=$E(v,r,t));const T=this.normalizer.normalizePropertyName(g,t);v=this.normalizer.normalizeStyleValue(g,T,v,t),i[T]=v})}}),i}}class hF{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new cF(r.style,r.options&&r.options.params||{},i)}),Cx(this.states,"true","1"),Cx(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new wx(e,r,this.states))}),this.fallbackTransition=function fF(n,e,t){return new wx(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,g)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(h=>h.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Cx(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const pF=new JE;class gF{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],u=FD(this._driver,t,i,[]);if(i.length)throw function yN(n){return new a.vHH(3503,Yn)}();this._animations[e]=u}_buildPlayer(e,t,i){const r=e.element,u=ex(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],u=this._animations[e];let h;const g=new Map;if(u?(h=UD(this._driver,t,u,OD,BE,{},{},i,pF,r),h.forEach(L=>{const Q=Sa(g,L.element,{});L.postStyleProps.forEach(fe=>Q[fe]=null)})):(r.push(function vN(){return new a.vHH(3300,Yn)}()),h=[]),r.length)throw function bN(n){return new a.vHH(3504,Yn)}();g.forEach((L,Q)=>{Object.keys(L).forEach(fe=>{L[fe]=this._driver.computeStyle(Q,fe,Mt.l3)})});const T=ef(h.map(L=>{const Q=g.get(L.element);return this._buildPlayer(L,{},Q)}));return this._playersById[e]=T,T.onDestroy(()=>this.destroy(e)),this.players.push(T),T}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function wN(n){return new a.vHH(3301,Yn)}();return t}listen(e,t,i,r){const u=SD(t,"","","");return ID(this._getPlayer(e),i,u,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const u=this._getPlayer(e);switch(i){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Ex="ng-animate-queued",ZD="ng-animate-disabled",bF=[],Tx={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wF={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ul="__ng_removed";class $D{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function IF(n){return null!=n?n:null}(i?e.value:e),i){const u=Z_(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Cb="void",GD=new $D(Cb);class CF{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,cl(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function CN(n,e){return new a.vHH(3302,Yn)}();if(null==i||0==i.length)throw function EN(n){return new a.vHH(3303,Yn)}();if(!function DF(n){return"start"==n||"done"==n}(i))throw function TN(n,e){return new a.vHH(3400,Yn)}();const u=Sa(this._elementListeners,e,[]),h={name:t,phase:i,callback:r};u.push(h);const g=Sa(this._engine.statesByElement,e,{});return g.hasOwnProperty(t)||(cl(e,HE),cl(e,HE+"-"+t),g[t]=GD),()=>{this._engine.afterFlush(()=>{const v=u.indexOf(h);v>=0&&u.splice(v,1),this._triggers[t]||delete g[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function IN(n){return new a.vHH(3401,Yn)}();return t}trigger(e,t,i,r=!0){const u=this._getTrigger(t),h=new qD(this.id,t,e);let g=this._engine.statesByElement.get(e);g||(cl(e,HE),cl(e,HE+"-"+t),this._engine.statesByElement.set(e,g={}));let v=g[t];const T=new $D(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&v&&T.absorbOptions(v.options),g[t]=T,v||(v=GD),T.value!==Cb&&v.value===T.value){if(!function AF(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const u=t[r];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(v.params,T.params)){const Xe=[],ft=u.matchStyles(v.value,v.params,Xe),Kt=u.matchStyles(T.value,T.params,Xe);Xe.length?this._engine.reportError(Xe):this._engine.afterFlush(()=>{bg(e,ft),Ju(e,Kt)})}return}const fe=Sa(this._engine.playersByElement,e,[]);fe.forEach(Xe=>{Xe.namespaceId==this.id&&Xe.triggerName==t&&Xe.queued&&Xe.destroy()});let Se=u.matchTransition(v.value,T.value,e,T.params),Oe=!1;if(!Se){if(!r)return;Se=u.fallbackTransition,Oe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:Se,fromState:v,toState:T,player:h,isFallbackTransition:Oe}),Oe||(cl(e,Ex),h.onStart(()=>{$_(e,Ex)})),h.onDone(()=>{let Xe=this.players.indexOf(h);Xe>=0&&this.players.splice(Xe,1);const ft=this._engine.playersByElement.get(e);if(ft){let Kt=ft.indexOf(h);Kt>=0&&ft.splice(Kt,1)}}),this.players.push(h),fe.push(h),h}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,jE,!0);i.forEach(r=>{if(r[ul])return;const u=this._engine.fetchNamespacesByElement(r);u.size?u.forEach(h=>h.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const u=this._engine.statesByElement.get(e),h=new Map;if(u){const g=[];if(Object.keys(u).forEach(v=>{if(h.set(v,u[v].value),this._triggers[v]){const T=this.trigger(e,v,Cb,r);T&&g.push(T)}}),g.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,h),i&&ef(g).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(u=>{const h=u.name;if(r.has(h))return;r.add(h);const v=this._triggers[h].fallbackTransition,T=i[h]||GD,L=new $D(Cb),Q=new qD(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:v,fromState:T,toState:L,player:Q,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const u=i.players.length?i.playersByQueriedElement.get(e):[];if(u&&u.length)r=!0;else{let h=e;for(;h=h.parentNode;)if(i.statesByElement.get(h)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const u=e[ul];(!u||u===Tx)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){cl(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const u=i.element,h=this._elementListeners.get(u);h&&h.forEach(g=>{if(g.name==i.triggerName){const v=SD(u,i.triggerName,i.fromState.value,i.toState.value);v._data=e,ID(i.player,g.phase,v,g.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const u=i.transition.ast.depCount,h=r.transition.ast.depCount;return 0==u||0==h?u-h:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class EF{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new CF(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,u=i.length-1;if(u>=0){let h=!1;if(void 0!==this.driver.getParentElement){let g=this.driver.getParentElement(t);for(;g;){const v=r.get(g);if(v){const T=i.indexOf(v);i.splice(T+1,0,e),h=!0;break}g=this.driver.getParentElement(g)}}else for(let g=u;g>=0;g--)if(this.driver.containsElement(i[g].hostElement,t)){i.splice(g+1,0,e),h=!0;break}h||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let u=0;u<r.length;u++){const h=i[r[u]].namespaceId;if(h){const g=this._fetchNamespace(h);g&&t.add(g)}}}return t}trigger(e,t,i,r){if(tT(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!tT(t))return;const u=t[ul];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),cl(e,ZD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),$_(e,ZD))}removeNode(e,t,i,r){if(tT(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,u){this.collectedLeaveElements.push(t),t[ul]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,i,r,u){return tT(t)?this._fetchNamespace(e).listen(t,i,r,u):()=>{}}_buildInstruction(e,t,i,r,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,jE,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,kD,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ef(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[ul];if(i&&i.setForRemoval){if(e[ul]=Tx,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(ZD))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)cl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?ef(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function DN(n){return new a.vHH(3402,Yn)}()}_flushAnimations(e,t){const i=new JE,r=[],u=new Map,h=[],g=new Map,v=new Map,T=new Map,L=new Set;this.disabledNodes.forEach(Qt=>{L.add(Qt);const gn=this.driver.query(Qt,".ng-animate-queued",!0);for(let In=0;In<gn.length;In++)L.add(gn[In])});const Q=this.bodyNode,fe=Array.from(this.statesByElement.keys()),Se=Sx(fe,this.collectedEnterElements),Oe=new Map;let Xe=0;Se.forEach((Qt,gn)=>{const In=OD+Xe++;Oe.set(gn,In),Qt.forEach(hi=>cl(hi,In))});const ft=[],Kt=new Set,Xt=new Set;for(let Qt=0;Qt<this.collectedLeaveElements.length;Qt++){const gn=this.collectedLeaveElements[Qt],In=gn[ul];In&&In.setForRemoval&&(ft.push(gn),Kt.add(gn),In.hasAnimation?this.driver.query(gn,".ng-star-inserted",!0).forEach(hi=>Kt.add(hi)):Xt.add(gn))}const Gt=new Map,kt=Sx(fe,Array.from(Kt));kt.forEach((Qt,gn)=>{const In=BE+Xe++;Gt.set(gn,In),Qt.forEach(hi=>cl(hi,In))}),e.push(()=>{Se.forEach((Qt,gn)=>{const In=Oe.get(gn);Qt.forEach(hi=>$_(hi,In))}),kt.forEach((Qt,gn)=>{const In=Gt.get(gn);Qt.forEach(hi=>$_(hi,In))}),ft.forEach(Qt=>{this.processLeaveNode(Qt)})});const wn=[],Cn=[];for(let Qt=this._namespaceList.length-1;Qt>=0;Qt--)this._namespaceList[Qt].drainQueuedTransitions(t).forEach(In=>{const hi=In.player,As=In.element;if(wn.push(hi),this.collectedEnterElements.length){const So=As[ul];if(So&&So.setForMove){if(So.previousTriggersValues&&So.previousTriggersValues.has(In.triggerName)){const Eg=So.previousTriggersValues.get(In.triggerName),rf=this.statesByElement.get(In.element);rf&&rf[In.triggerName]&&(rf[In.triggerName].value=Eg)}return void hi.destroy()}}const Xu=!Q||!this.driver.containsElement(Q,As),Ma=Gt.get(As),nf=Oe.get(As),gr=this._buildInstruction(In,i,nf,Ma,Xu);if(gr.errors&&gr.errors.length)return void Cn.push(gr);if(Xu)return hi.onStart(()=>bg(As,gr.fromStyles)),hi.onDestroy(()=>Ju(As,gr.toStyles)),void r.push(hi);if(In.isFallbackTransition)return hi.onStart(()=>bg(As,gr.fromStyles)),hi.onDestroy(()=>Ju(As,gr.toStyles)),void r.push(hi);const Hx=[];gr.timelines.forEach(So=>{So.stretchStartingKeyframe=!0,this.disabledNodes.has(So.element)||Hx.push(So)}),gr.timelines=Hx,i.append(As,gr.timelines),h.push({instruction:gr,player:hi,element:As}),gr.queriedElements.forEach(So=>Sa(g,So,[]).push(hi)),gr.preStyleProps.forEach((So,Eg)=>{const rf=Object.keys(So);if(rf.length){let Tg=v.get(Eg);Tg||v.set(Eg,Tg=new Set),rf.forEach(WD=>Tg.add(WD))}}),gr.postStyleProps.forEach((So,Eg)=>{const rf=Object.keys(So);let Tg=T.get(Eg);Tg||T.set(Eg,Tg=new Set),rf.forEach(WD=>Tg.add(WD))})});if(Cn.length){const Qt=[];Cn.forEach(gn=>{Qt.push(function SN(n,e){return new a.vHH(3505,Yn)}())}),wn.forEach(gn=>gn.destroy()),this.reportError(Qt)}const Qn=new Map,qr=new Map;h.forEach(Qt=>{const gn=Qt.element;i.has(gn)&&(qr.set(gn,gn),this._beforeAnimationBuild(Qt.player.namespaceId,Qt.instruction,Qn))}),r.forEach(Qt=>{const gn=Qt.element;this._getPreviousPlayers(gn,!1,Qt.namespaceId,Qt.triggerName,null).forEach(hi=>{Sa(Qn,gn,[]).push(hi),hi.destroy()})});const Aa=ft.filter(Qt=>Ax(Qt,v,T)),gd=new Map;Dx(gd,this.driver,Xt,T,Mt.l3).forEach(Qt=>{Ax(Qt,v,T)&&Aa.push(Qt)});const Eb=new Map;Se.forEach((Qt,gn)=>{Dx(Eb,this.driver,new Set(Qt),v,Mt.k1)}),Aa.forEach(Qt=>{const gn=gd.get(Qt),In=Eb.get(Qt);gd.set(Qt,Object.assign(Object.assign({},gn),In))});const Cg=[],Ux=[],Bx={};h.forEach(Qt=>{const{element:gn,player:In,instruction:hi}=Qt;if(i.has(gn)){if(L.has(gn))return In.onDestroy(()=>Ju(gn,hi.toStyles)),In.disabled=!0,In.overrideTotalTime(hi.totalTime),void r.push(In);let As=Bx;if(qr.size>1){let Ma=gn;const nf=[];for(;Ma=Ma.parentNode;){const gr=qr.get(Ma);if(gr){As=gr;break}nf.push(Ma)}nf.forEach(gr=>qr.set(gr,As))}const Xu=this._buildAnimation(In.namespaceId,hi,Qn,u,Eb,gd);if(In.setRealPlayer(Xu),As===Bx)Cg.push(In);else{const Ma=this.playersByElement.get(As);Ma&&Ma.length&&(In.parentPlayer=ef(Ma)),r.push(In)}}else bg(gn,hi.fromStyles),In.onDestroy(()=>Ju(gn,hi.toStyles)),Ux.push(In),L.has(gn)&&r.push(In)}),Ux.forEach(Qt=>{const gn=u.get(Qt.element);if(gn&&gn.length){const In=ef(gn);Qt.setRealPlayer(In)}}),r.forEach(Qt=>{Qt.parentPlayer?Qt.syncPlayerEvents(Qt.parentPlayer):Qt.destroy()});for(let Qt=0;Qt<ft.length;Qt++){const gn=ft[Qt],In=gn[ul];if($_(gn,BE),In&&In.hasAnimation)continue;let hi=[];if(g.size){let Xu=g.get(gn);Xu&&Xu.length&&hi.push(...Xu);let Ma=this.driver.query(gn,kD,!0);for(let nf=0;nf<Ma.length;nf++){let gr=g.get(Ma[nf]);gr&&gr.length&&hi.push(...gr)}}const As=hi.filter(Xu=>!Xu.destroyed);As.length?SF(this,gn,As):this.processLeaveNode(gn)}return ft.length=0,Cg.forEach(Qt=>{this.players.push(Qt),Qt.onDone(()=>{Qt.destroy();const gn=this.players.indexOf(Qt);this.players.splice(gn,1)}),Qt.play()}),Cg}elementContainsData(e,t){let i=!1;const r=t[ul];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,u){let h=[];if(t){const g=this.playersByQueriedElement.get(e);g&&(h=g)}else{const g=this.playersByElement.get(e);if(g){const v=!u||u==Cb;g.forEach(T=>{T.queued||!v&&T.triggerName!=r||h.push(T)})}}return(i||r)&&(h=h.filter(g=>!(i&&i!=g.namespaceId||r&&r!=g.triggerName))),h}_beforeAnimationBuild(e,t,i){const u=t.element,h=t.isRemovalTransition?void 0:e,g=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const T=v.element,L=T!==u,Q=Sa(i,T,[]);this._getPreviousPlayers(T,L,h,g,t.toState).forEach(Se=>{const Oe=Se.getRealPlayer();Oe.beforeDestroy&&Oe.beforeDestroy(),Se.destroy(),Q.push(Se)})}bg(u,t.fromStyles)}_buildAnimation(e,t,i,r,u,h){const g=t.triggerName,v=t.element,T=[],L=new Set,Q=new Set,fe=t.timelines.map(Oe=>{const Xe=Oe.element;L.add(Xe);const ft=Xe[ul];if(ft&&ft.removedBeforeQueried)return new Mt.ZN(Oe.duration,Oe.delay);const Kt=Xe!==v,Xt=function xF(n){const e=[];return xx(n,e),e}((i.get(Xe)||bF).map(Qn=>Qn.getRealPlayer())).filter(Qn=>!!Qn.element&&Qn.element===Xe),Gt=u.get(Xe),kt=h.get(Xe),wn=ex(0,this._normalizer,0,Oe.keyframes,Gt,kt),Cn=this._buildPlayer(Oe,wn,Xt);if(Oe.subTimeline&&r&&Q.add(Xe),Kt){const Qn=new qD(e,g,Xe);Qn.setRealPlayer(Cn),T.push(Qn)}return Cn});T.forEach(Oe=>{Sa(this.playersByQueriedElement,Oe.element,[]).push(Oe),Oe.onDone(()=>function TF(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,Oe.element,Oe))}),L.forEach(Oe=>cl(Oe,cx));const Se=ef(fe);return Se.onDestroy(()=>{L.forEach(Oe=>$_(Oe,cx)),Ju(v,t.toStyles)}),Q.forEach(Oe=>{Sa(r,Oe,[]).push(Se)}),Se}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Mt.ZN(e.duration,e.delay)}}class qD{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Mt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>ID(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Sa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function tT(n){return n&&1===n.nodeType}function Ix(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Dx(n,e,t,i,r){const u=[];t.forEach(v=>u.push(Ix(v)));const h=[];i.forEach((v,T)=>{const L={};v.forEach(Q=>{const fe=L[Q]=e.computeStyle(T,Q,r);(!fe||0==fe.length)&&(T[ul]=wF,h.push(T))}),n.set(T,L)});let g=0;return t.forEach(v=>Ix(v,u[g++])),h}function Sx(n,e){const t=new Map;if(n.forEach(g=>t.set(g,[])),0==e.length)return t;const r=new Set(e),u=new Map;function h(g){if(!g)return 1;let v=u.get(g);if(v)return v;const T=g.parentNode;return v=t.has(T)?T:r.has(T)?1:h(T),u.set(g,v),v}return e.forEach(g=>{const v=h(g);1!==v&&t.get(v).push(g)}),t}function cl(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function $_(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function SF(n,e,t){ef(t).onDone(()=>n.processLeaveNode(e))}function xx(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Mt.ZE?xx(i.players,e):e.push(i)}}function Ax(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(u=>r.add(u)):e.set(n,i),t.delete(n),!0}class nT{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,u)=>{},this._transitionEngine=new EF(e,t,i),this._timelineEngine=new gF(e,t,i),this._transitionEngine.onRemovalComplete=(r,u)=>this.onRemovalComplete(r,u)}registerTrigger(e,t,i,r,u){const h=e+"-"+r;let g=this._triggerCache[h];if(!g){const v=[],L=FD(this._driver,u,v,[]);if(v.length)throw function mN(n,e){return new a.vHH(3404,Yn)}();g=function dF(n,e,t){return new hF(n,e,t)}(r,L,this._normalizer),this._triggerCache[h]=g}this._transitionEngine.registerTrigger(t,r,g)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[u,h]=tx(i);this._timelineEngine.command(u,t,h,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,u){if("@"==i.charAt(0)){const[h,g]=tx(i);return this._timelineEngine.listen(h,t,g,u)}return this._transitionEngine.listen(e,t,i,r,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let OF=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Ju(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ju(this._element,this._initialStyles),this._endStyles&&(Ju(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(bg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bg(this._element,this._endStyles),this._endStyles=null),Ju(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function zD(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];kF(r)&&(e=e||{},e[r]=n[r])}return e}function kF(n){return"display"===n||"position"===n}class Mx{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:gx(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class PF{validateStyleProperty(e){return sx(e)}matchesElement(e,t){return!1}containsElement(e,t){return ox(e,t)}getParentElement(e){return AD(e)}query(e,t,i){return ax(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,u,h=[]){const v={duration:i,delay:r,fill:0==r?"both":"forwards"};u&&(v.easing=u);const T={},L=h.filter(fe=>fe instanceof Mx);(function LN(n,e){return 0===n||0===e})(i,r)&&L.forEach(fe=>{let Se=fe.currentSnapshot;Object.keys(Se).forEach(Oe=>T[Oe]=Se[Oe])}),t=function VN(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let u=e[0],h=[];if(i.forEach(g=>{u.hasOwnProperty(g)||h.push(g),u[g]=t[g]}),h.length)for(var r=1;r<e.length;r++){let g=e[r];h.forEach(function(v){g[v]=gx(n,v)})}}return e}(e,t=t.map(fe=>tf(fe,!1)),T);const Q=function MF(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=zD(e[0]),e.length>1&&(i=zD(e[e.length-1]))):e&&(t=zD(e)),t||i?new OF(n,t,i):null}(e,t);return new Mx(e,t,v,Q)}}let RF=(()=>{class n extends Mt._j{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?(0,Mt.vP)(t):t;return Ox(this._renderer,null,i,"register",[r]),new NF(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(d.K0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class NF extends Mt.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new FF(this._id,e,t||{},this._renderer)}}class FF{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Ox(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Ox(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const kx="@.disabled";let LF=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(u,h)=>{const g=null==h?void 0:h.parentNode(u);g&&h.removeChild(g,u)}}createRenderer(t,i){const u=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let L=this._rendererCache.get(u);return L||(L=new Px("",u,this.engine),this._rendererCache.set(u,L)),L}const h=i.id,g=i.id+"-"+this._currentId;this._currentId++,this.engine.register(g,t);const v=L=>{Array.isArray(L)?L.forEach(v):this.engine.registerTrigger(h,g,t,L.name,L)};return i.data.animation.forEach(v),new VF(this,g,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[h,g]=u;h(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(nT),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Px{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==kx?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class VF extends Px{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==kx?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function UF(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.substr(1),h="";return"@"!=u.charAt(0)&&([u,h]=function BF(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,r,u,h,g=>{this.factory.scheduleListenerCallback(g._data||-1,i,g)})}return this.delegate.listen(e,t,i)}}let HF=(()=>{class n extends nT{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(d.K0),a.LFG(MD),a.LFG(HD))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Rx=new a.OlP("AnimationModuleType"),Nx=[{provide:Mt._j,useClass:RF},{provide:HD,useFactory:function jF(){return new oF}},{provide:nT,useClass:HF},{provide:a.FYo,useFactory:function ZF(n,e,t){return new LF(n,e,t)},deps:[qe,nT,a.R0b]}],Fx=[{provide:MD,useFactory:()=>new PF},{provide:Rx,useValue:"BrowserAnimations"},...Nx],$F=[{provide:MD,useClass:lx},{provide:Rx,useValue:"NoopAnimations"},...Nx];let GF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?$F:Fx}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:Fx,imports:[gi]}),n})();const Lx_firebaseConfig={apiKey:"AIzaSyBq_C_lTF6K178q3o07aBZ3-66myRE3oPo",authDomain:"tp-final-d0a0b.firebaseapp.com",projectId:"tp-final-d0a0b",storageBucket:"tp-final-d0a0b.appspot.com",messagingSenderId:"1006238279954",appId:"1:1006238279954:web:9ed9505ae56c35a33aebcb"};var qF=P(3225);let zF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[WR]}),n.\u0275inj=a.cJS({providers:[],imports:[[gi,FR,Br.hO.initializeApp(Lx_firebaseConfig),qg,UA,It.u5,It.UX,GF,jk,ZP,fk,LE.kW,qF.I,W1._8]]}),n})();(0,a.G48)(),wi().bootstrapModule(zF).catch(n=>console.error(n))},4327:function(gt,ke){var a;void 0!==(a=function(){"use strict";function ve(U,J,ue){var Ue=new XMLHttpRequest;Ue.open("GET",U),Ue.responseType="blob",Ue.onload=function(){se(Ue.response,J,ue)},Ue.onerror=function(){console.error("could not download file")},Ue.send()}function B(U){var J=new XMLHttpRequest;J.open("HEAD",U,!1);try{J.send()}catch(ue){}return 200<=J.status&&299>=J.status}function H(U){try{U.dispatchEvent(new MouseEvent("click"))}catch(ue){var J=document.createEvent("MouseEvents");J.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),U.dispatchEvent(J)}}var z="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,re=z.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),se=z.saveAs||("object"!=typeof window||window!==z?function(){}:"download"in HTMLAnchorElement.prototype&&!re?function(U,J,ue){var Ue=z.URL||z.webkitURL,Pe=document.createElement("a");Pe.download=J=J||U.name||"download",Pe.rel="noopener","string"==typeof U?(Pe.href=U,Pe.origin===location.origin?H(Pe):B(Pe.href)?ve(U,J,ue):H(Pe,Pe.target="_blank")):(Pe.href=Ue.createObjectURL(U),setTimeout(function(){Ue.revokeObjectURL(Pe.href)},4e4),setTimeout(function(){H(Pe)},0))}:"msSaveOrOpenBlob"in navigator?function(U,J,ue){if(J=J||U.name||"download","string"!=typeof U)navigator.msSaveOrOpenBlob(function V(U,J){return void 0===J?J={autoBom:!1}:"object"!=typeof J&&(console.warn("Deprecated: Expected third argument to be a object"),J={autoBom:!J}),J.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(U.type)?new Blob(["\ufeff",U],{type:U.type}):U}(U,ue),J);else if(B(U))ve(U,J,ue);else{var Ue=document.createElement("a");Ue.href=U,Ue.target="_blank",setTimeout(function(){H(Ue)})}}:function(U,J,ue,Ue){if((Ue=Ue||open("","_blank"))&&(Ue.document.title=Ue.document.body.innerText="downloading..."),"string"==typeof U)return ve(U,J,ue);var Pe="application/octet-stream"===U.type,Le=/constructor/i.test(z.HTMLElement)||z.safari,nt=/CriOS\/[\d]+/.test(navigator.userAgent);if((nt||Pe&&Le||re)&&"undefined"!=typeof FileReader){var be=new FileReader;be.onloadend=function(){var pt=be.result;pt=nt?pt:pt.replace(/^data:[^;]*;/,"data:attachment/file;"),Ue?Ue.location.href=pt:location=pt,Ue=null},be.readAsDataURL(U)}else{var je=z.URL||z.webkitURL,ut=je.createObjectURL(U);Ue?Ue.location=ut:location.href=ut,Ue=null,setTimeout(function(){je.revokeObjectURL(ut)},4e4)}});z.saveAs=se.saveAs=se,gt.exports=se}.apply(ke,[]))&&(gt.exports=a)},5867:(gt,ke,P)=>{"use strict";P.d(ke,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=P(9681);(0,d.registerVersion)("firebase","9.8.2","app")},127:(gt,ke,P)=>{"use strict";P.d(ke,{Z:()=>d.Z});var d=P(3942);d.Z.registerVersion("firebase","9.8.2","app-compat")},8775:(gt,ke,P)=>{"use strict";P.r(ke);var d=P(5861),a=P(3942),V=P(2090),ve=P(9681),B=P(655),H=P(1877),z=P(4859);const Le=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},nt=function Pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},be=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ut=new H.Yd("@firebase/auth");function pt(y,...p){ut.logLevel<=H.in.ERROR&&ut.error(`Auth (${ve.SDK_VERSION}): ${y}`,...p)}function Be(y,...p){throw we(y,...p)}function q(y,...p){return we(y,...p)}function De(y,p,_){const C=Object.assign(Object.assign({},nt()),{[p]:_});return new V.LL("auth","Firebase",C).create(p,{appName:y.name})}function ne(y,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Be(y,"argument-error"),De(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function we(y,...p){if("string"!=typeof y){const _=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(_,...C)}return be.create(y,...p)}function ae(y,p,..._){if(!y)throw we(p,..._)}function Ze(y){const p="INTERNAL ASSERTION FAILED: "+y;throw pt(p),new Error(p)}function Ie(y,p){y||Ze(p)}const Ve=new Map;function Re(y){Ie(y instanceof Function,"Expected a class definition");let p=Ve.get(y);return p?(Ie(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,Ve.set(y,p),p)}function at(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Pt(){return"http:"===bn()||"https:"===bn()}function bn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Sn{constructor(p,_){this.shortDelay=p,this.longDelay=_,Ie(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function un(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pt()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hn(y,p){Ie(y.emulator,"Emulator should always be set here");const{url:_}=y.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class Fn{static initialize(p,_,C){this.fetchImpl=p,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},vi=new Sn(3e4,6e4);function Dn(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function an(y,p,_,C){return ti.apply(this,arguments)}function ti(){return(ti=(0,d.Z)(function*(y,p,_,C,N={}){return fi(y,N,(0,d.Z)(function*(){let ee={},xe={};C&&("GET"===p?xe=C:ee={body:JSON.stringify(C)});const Ke=(0,V.xO)(Object.assign({key:y.config.apiKey},xe)).slice(1),Ct=yield y._getAdditionalHeaders();return Ct["Content-Type"]="application/json",y.languageCode&&(Ct["X-Firebase-Locale"]=y.languageCode),Fn.fetch()(Fi(y,y.config.apiHost,_,Ke),Object.assign({method:p,headers:Ct,referrerPolicy:"no-referrer"},ee))}))})).apply(this,arguments)}function fi(y,p,_){return ai.apply(this,arguments)}function ai(){return(ai=(0,d.Z)(function*(y,p,_){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},xn),p);try{const N=new gi(y),ee=yield Promise.race([_(),N.promise]);N.clearNetworkTimeout();const xe=yield ee.json();if("needConfirmation"in xe)throw Oi(y,"account-exists-with-different-credential",xe);if(ee.ok&&!("errorMessage"in xe))return xe;{const Ke=ee.ok?xe.errorMessage:xe.error.message,[Ct,Ft]=Ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ct)throw Oi(y,"credential-already-in-use",xe);if("EMAIL_EXISTS"===Ct)throw Oi(y,"email-already-in-use",xe);if("USER_DISABLED"===Ct)throw Oi(y,"user-disabled",xe);const rn=C[Ct]||Ct.toLowerCase().replace(/[_\s]+/g,"-");if(Ft)throw De(y,rn,Ft);Be(y,rn)}}catch(N){if(N instanceof V.ZR)throw N;Be(y,"network-request-failed")}})).apply(this,arguments)}function pi(y,p,_,C){return wi.apply(this,arguments)}function wi(){return(wi=(0,d.Z)(function*(y,p,_,C,N={}){const ee=yield an(y,p,_,C,N);return"mfaPendingCredential"in ee&&Be(y,"multi-factor-auth-required",{_serverResponse:ee}),ee})).apply(this,arguments)}function Fi(y,p,_,C){const N=`${p}${_}?${C}`;return y.config.emulator?Hn(y.config,N):`${y.config.apiScheme}://${N}`}class gi{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(q(this.auth,"network-request-failed")),vi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oi(y,p,_){const C={appName:y.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const N=q(y,p,C);return N.customData._tokenResponse=_,N}function Ci(){return(Ci=(0,d.Z)(function*(y,p){return an(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ln(y,p){return mn.apply(this,arguments)}function mn(){return(mn=(0,d.Z)(function*(y,p){return an(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ji(y,p){return Si.apply(this,arguments)}function Si(){return(Si=(0,d.Z)(function*(y,p){return an(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function mi(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function ie(){return(ie=(0,d.Z)(function*(y,p=!1){const _=(0,V.m9)(y),C=yield _.getIdToken(p),N=ce(C);ae(N&&N.exp&&N.auth_time&&N.iat,_.auth,"internal-error");const ee="object"==typeof N.firebase?N.firebase:void 0,xe=null==ee?void 0:ee.sign_in_provider;return{claims:N,token:C,authTime:mi(te(N.auth_time)),issuedAtTime:mi(te(N.iat)),expirationTime:mi(te(N.exp)),signInProvider:xe||null,signInSecondFactor:(null==ee?void 0:ee.sign_in_second_factor)||null}})).apply(this,arguments)}function te(y){return 1e3*Number(y)}function ce(y){const[p,_,C]=y.split(".");if(void 0===p||void 0===_||void 0===C)return pt("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,V.tV)(_);return N?JSON.parse(N):(pt("Failed to decode base64 JWT payload"),null)}catch(N){return pt("Caught error parsing JWT payload as JSON",N),null}}function R(y,p){return Z.apply(this,arguments)}function Z(){return(Z=(0,d.Z)(function*(y,p,_=!1){if(_)return p;try{return yield p}catch(C){throw C instanceof V.ZR&&ge(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function ge({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class yt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const N=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield _.iteration()}),C)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&p.schedule(!0))}p.schedule()})()}}class dt{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=mi(this.lastLoginAt),this.creationTime=mi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tt(y){return le.apply(this,arguments)}function le(){return(le=(0,d.Z)(function*(y){var p;const _=y.auth,C=yield y.getIdToken(),N=yield R(y,Ji(_,{idToken:C}));ae(null==N?void 0:N.users.length,_,"internal-error");const ee=N.users[0];y._notifyReloadListener(ee);const xe=(null===(p=ee.providerUserInfo)||void 0===p?void 0:p.length)?pe(ee.providerUserInfo):[],Ke=Qe(y.providerData,xe),rn=!!y.isAnonymous&&!(y.email&&ee.passwordHash||(null==Ke?void 0:Ke.length)),en={uid:ee.localId,displayName:ee.displayName||null,photoURL:ee.photoUrl||null,email:ee.email||null,emailVerified:ee.emailVerified||!1,phoneNumber:ee.phoneNumber||null,tenantId:ee.tenantId||null,providerData:Ke,metadata:new dt(ee.createdAt,ee.lastLoginAt),isAnonymous:rn};Object.assign(y,en)})).apply(this,arguments)}function ye(){return(ye=(0,d.Z)(function*(y){const p=(0,V.m9)(y);yield Tt(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Qe(y,p){return[...y.filter(C=>!p.some(N=>N.providerId===C.providerId)),...p]}function pe(y){return y.map(p=>{var{providerId:_}=p,C=(0,B._T)(p,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function it(){return(it=(0,d.Z)(function*(y,p){const _=yield fi(y,{},(0,d.Z)(function*(){const C=(0,V.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:N,apiKey:ee}=y.config,xe=Fi(y,N,"/v1/token",`key=${ee}`),Ke=yield y._getAdditionalHeaders();return Ke["Content-Type"]="application/x-www-form-urlencoded",Fn.fetch()(xe,{method:"POST",headers:Ke,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class vt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ae(p.idToken,"internal-error"),ae(void 0!==p.idToken,"internal-error"),ae(void 0!==p.refreshToken,"internal-error");const _="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function w(y){const p=ce(y);return ae(p,"internal-error"),ae(void 0!==p.exp,"internal-error"),ae(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var C=this;return(0,d.Z)(function*(){return ae(!C.accessToken||C.refreshToken,p,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var C=this;return(0,d.Z)(function*(){const{accessToken:N,refreshToken:ee,expiresIn:xe}=yield function Ae(y,p){return it.apply(this,arguments)}(p,_);C.updateTokensAndExpiration(N,ee,Number(xe))})()}updateTokensAndExpiration(p,_,C){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,_){const{refreshToken:C,accessToken:N,expirationTime:ee}=_,xe=new vt;return C&&(ae("string"==typeof C,"internal-error",{appName:p}),xe.refreshToken=C),N&&(ae("string"==typeof N,"internal-error",{appName:p}),xe.accessToken=N),ee&&(ae("number"==typeof ee,"internal-error",{appName:p}),xe.expirationTime=ee),xe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new vt,this.toJSON())}_performRefresh(){return Ze("not implemented")}}function Bt(y,p){ae("string"==typeof y||void 0===y,"internal-error",{appName:p})}class Wt{constructor(p){var{uid:_,auth:C,stsTokenManager:N}=p,ee=(0,B._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=ee.displayName||null,this.email=ee.email||null,this.emailVerified=ee.emailVerified||!1,this.phoneNumber=ee.phoneNumber||null,this.photoURL=ee.photoURL||null,this.isAnonymous=ee.isAnonymous||!1,this.tenantId=ee.tenantId||null,this.providerData=ee.providerData?[...ee.providerData]:[],this.metadata=new dt(ee.createdAt||void 0,ee.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,d.Z)(function*(){const C=yield R(_,_.stsTokenManager.getToken(_.auth,p));return ae(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(p){return function xt(y){return ie.apply(this,arguments)}(this,p)}reload(){return function _e(y){return ye.apply(this,arguments)}(this)}_assign(p){this!==p&&(ae(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Wt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var C=this;return(0,d.Z)(function*(){let N=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),N=!0),_&&(yield Tt(C)),yield C.auth._persistUserIfCurrent(C),N&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,d.Z)(function*(){const _=yield p.getIdToken();return yield R(p,function Ut(y,p){return Ci.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var C,N,ee,xe,Ke,Ct,Ft,rn;const en=null!==(C=_.displayName)&&void 0!==C?C:void 0,hr=null!==(N=_.email)&&void 0!==N?N:void 0,Is=null!==(ee=_.phoneNumber)&&void 0!==ee?ee:void 0,wu=null!==(xe=_.photoURL)&&void 0!==xe?xe:void 0,Wd=null!==(Ke=_.tenantId)&&void 0!==Ke?Ke:void 0,Nf=null!==(Ct=_._redirectEventId)&&void 0!==Ct?Ct:void 0,Xa=null!==(Ft=_.createdAt)&&void 0!==Ft?Ft:void 0,Ic=null!==(rn=_.lastLoginAt)&&void 0!==rn?rn:void 0,{uid:Dc,emailVerified:Ff,isAnonymous:Sc,providerData:Cu,stsTokenManager:qg}=_;ae(Dc&&qg,p,"internal-error");const Go=vt.fromJSON(this.name,qg);ae("string"==typeof Dc,p,"internal-error"),Bt(en,p.name),Bt(hr,p.name),ae("boolean"==typeof Ff,p,"internal-error"),ae("boolean"==typeof Sc,p,"internal-error"),Bt(Is,p.name),Bt(wu,p.name),Bt(Wd,p.name),Bt(Nf,p.name),Bt(Xa,p.name),Bt(Ic,p.name);const Lf=new Wt({uid:Dc,auth:p,email:hr,emailVerified:Ff,displayName:en,isAnonymous:Sc,photoURL:wu,phoneNumber:Is,tenantId:Wd,stsTokenManager:Go,createdAt:Xa,lastLoginAt:Ic});return Cu&&Array.isArray(Cu)&&(Lf.providerData=Cu.map(Vf=>Object.assign({},Vf))),Nf&&(Lf._redirectEventId=Nf),Lf}static _fromIdTokenResponse(p,_,C=!1){return(0,d.Z)(function*(){const N=new vt;N.updateFromServerResponse(_);const ee=new Wt({uid:_.localId,auth:p,stsTokenManager:N,isAnonymous:C});return yield Tt(ee),ee})()}}const $t=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(_,C){var N=this;return(0,d.Z)(function*(){N.storage[_]=C})()}_get(_){var C=this;return(0,d.Z)(function*(){const N=C.storage[_];return void 0===N?null:N})()}_remove(_){var C=this;return(0,d.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return y.type="NONE",y})();function qn(y,p,_){return`firebase:${y}:${p}:${_}`}class li{constructor(p,_,C){this.persistence=p,this.auth=_,this.userKey=C;const{config:N,name:ee}=this.auth;this.fullUserKey=qn(this.userKey,N.apiKey,ee),this.fullPersistenceKey=qn("persistence",N.apiKey,ee),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?Wt._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,d.Z)(function*(){if(_.persistence===p)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,C="authUser"){return(0,d.Z)(function*(){if(!_.length)return new li(Re($t),p,C);const N=(yield Promise.all(_.map(function(){var Ft=(0,d.Z)(function*(rn){if(yield rn._isAvailable())return rn});return function(rn){return Ft.apply(this,arguments)}}()))).filter(Ft=>Ft);let ee=N[0]||Re($t);const xe=qn(C,p.config.apiKey,p.name);let Ke=null;for(const Ft of _)try{const rn=yield Ft._get(xe);if(rn){const en=Wt._fromJSON(p,rn);Ft!==ee&&(Ke=en),ee=Ft;break}}catch(rn){}const Ct=N.filter(Ft=>Ft._shouldAllowMigration);return ee._shouldAllowMigration&&Ct.length?(ee=Ct[0],Ke&&(yield ee._set(xe,Ke.toJSON())),yield Promise.all(_.map(function(){var Ft=(0,d.Z)(function*(rn){if(rn!==ee)try{yield rn._remove(xe)}catch(en){}});return function(rn){return Ft.apply(this,arguments)}}())),new li(ee,p,C)):new li(ee,p,C)})()}}function os(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Un(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(_n(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Mr(p))return"Blackberry";if(ui(p))return"Webos";if(Ot(p))return"Safari";if((p.includes("chrome/")||ni(p))&&!p.includes("edge/"))return"Chrome";if(_i(p))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function _n(y=(0,V.z$)()){return/firefox\//i.test(y)}function Ot(y=(0,V.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function ni(y=(0,V.z$)()){return/crios\//i.test(y)}function Un(y=(0,V.z$)()){return/iemobile/i.test(y)}function _i(y=(0,V.z$)()){return/android/i.test(y)}function Mr(y=(0,V.z$)()){return/blackberry/i.test(y)}function ui(y=(0,V.z$)()){return/webos/i.test(y)}function ar(y=(0,V.z$)()){return/iphone|ipad|ipod/i.test(y)}function mr(y=(0,V.z$)()){return ar(y)||_i(y)||ui(y)||Mr(y)||/windows phone/i.test(y)||Un(y)}function Ms(y,p=[]){let _;switch(y){case"Browser":_=os((0,V.z$)());break;case"Worker":_=`${os((0,V.z$)())}-${y}`;break;default:_=y}const C=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${ve.SDK_VERSION}/${C}`}class xi{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const C=ee=>new Promise((xe,Ke)=>{try{xe(p(ee))}catch(Ct){Ke(Ct)}});C.onAbort=_,this.queue.push(C);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,d.Z)(function*(){if(_.auth.currentUser===p)return;const C=[];try{for(const N of _.queue)yield N(p),N.onAbort&&C.push(N.onAbort)}catch(N){C.reverse();for(const ee of C)try{ee()}catch(xe){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:N.message})}})()}}class wt{constructor(p,_,C){this.app=p,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new On(this),this.idTokenSubscription=new On(this),this.beforeStateQueue=new xi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=be,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(p,_){var C=this;return _&&(this._popupRedirectResolver=Re(_)),this._initializationPromise=this.queue((0,d.Z)(function*(){var N,ee;if(!C._deleted&&(C.persistenceManager=yield li.create(C,p),!C._deleted)){if(null===(N=C._popupRedirectResolver)||void 0===N?void 0:N._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch(xe){}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(ee=C.currentUser)||void 0===ee?void 0:ee.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,d.Z)(function*(){var C;const N=yield _.assertedPersistence.getCurrentUser();let ee=N,xe=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Ke=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,Ct=null==ee?void 0:ee._redirectEventId,Ft=yield _.tryRedirectSignIn(p);(!Ke||Ke===Ct)&&(null==Ft?void 0:Ft.user)&&(ee=Ft.user,xe=!0)}if(!ee)return _.directlySetCurrentUser(null);if(!ee._redirectEventId){if(xe)try{yield _.beforeStateQueue.runMiddleware(ee)}catch(Ke){ee=N,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Ke))}return ee?_.reloadAndSetCurrentUserOrClear(ee):_.directlySetCurrentUser(null)}return ae(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===ee._redirectEventId?_.directlySetCurrentUser(ee):_.reloadAndSetCurrentUserOrClear(ee)})()}tryRedirectSignIn(p){var _=this;return(0,d.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch(N){yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,d.Z)(function*(){try{yield Tt(p)}catch(C){if("auth/network-request-failed"!==C.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Et(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,d.Z)(function*(){const C=p?(0,V.m9)(p):null;return C&&ae(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(p,_=!1){var C=this;return(0,d.Z)(function*(){if(!C._deleted)return p&&ae(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),_||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,d.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,d.Z)(function*(){yield _.assertedPersistence.setPersistence(Re(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new V.LL("auth","Firebase",p())}onAuthStateChanged(p,_,C){return this.registerStateListener(this.authStateSubscription,p,_,C)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,C){return this.registerStateListener(this.idTokenSubscription,p,_,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var C=this;return(0,d.Z)(function*(){const N=yield C.getOrInitRedirectPersistenceManager(_);return null===p?N.removeCurrentUser():N.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,d.Z)(function*(){if(!_.redirectPersistenceManager){const C=p&&Re(p)||_._popupRedirectResolver;ae(C,_,"argument-error"),_.redirectPersistenceManager=yield li.create(_,[Re(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,d.Z)(function*(){var C,N;return _._isInitialized&&(yield _.queue((0,d.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===p?_._currentUser:(null===(N=_.redirectUser)||void 0===N?void 0:N._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,d.Z)(function*(){if(p===_.currentUser)return _.queue((0,d.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,C,N){if(this._deleted)return()=>{};const ee="function"==typeof _?_:_.next.bind(_),xe=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(xe,this,"internal-error"),xe.then(()=>ee(this.currentUser)),"function"==typeof _?p.addObserver(_,C,N):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,d.Z)(function*(){_.currentUser&&_.currentUser!==p&&(_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh()),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ms(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.Z)(function*(){var _;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const N=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return N&&(C["X-Firebase-Client"]=N),C})()}}function Rt(y){return(0,V.m9)(y)}class On{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,V.ne)(_=>this.observer=_)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _r(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Xi(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Vi{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return Ze("not implemented")}_getIdTokenResponse(p){return Ze("not implemented")}_linkToIdToken(p,_){return Ze("not implemented")}_getReauthenticationResolver(p){return Ze("not implemented")}}function kn(y,p){return sn.apply(this,arguments)}function sn(){return(sn=(0,d.Z)(function*(y,p){return an(y,"POST","/v1/accounts:resetPassword",Dn(y,p))})).apply(this,arguments)}function Or(y,p){return nn.apply(this,arguments)}function nn(){return(nn=(0,d.Z)(function*(y,p){return an(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function he(y,p){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,d.Z)(function*(y,p){return an(y,"POST","/v1/accounts:update",Dn(y,p))})).apply(this,arguments)}function Me(){return(Me=(0,d.Z)(function*(y,p){return pi(y,"POST","/v1/accounts:signInWithPassword",Dn(y,p))})).apply(this,arguments)}function Je(y,p){return et.apply(this,arguments)}function et(){return(et=(0,d.Z)(function*(y,p){return an(y,"POST","/v1/accounts:sendOobCode",Dn(y,p))})).apply(this,arguments)}function _t(y,p){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,d.Z)(function*(y,p){return Je(y,p)})).apply(this,arguments)}function qt(y,p){return zt.apply(this,arguments)}function zt(){return(zt=(0,d.Z)(function*(y,p){return Je(y,p)})).apply(this,arguments)}function ri(y,p){return as.apply(this,arguments)}function as(){return(as=(0,d.Z)(function*(y,p){return Je(y,p)})).apply(this,arguments)}function Oa(y,p){return ls.apply(this,arguments)}function ls(){return(ls=(0,d.Z)(function*(y,p){return Je(y,p)})).apply(this,arguments)}function Ui(){return(Ui=(0,d.Z)(function*(y,p){return pi(y,"POST","/v1/accounts:signInWithEmailLink",Dn(y,p))})).apply(this,arguments)}function xo(){return(xo=(0,d.Z)(function*(y,p){return pi(y,"POST","/v1/accounts:signInWithEmailLink",Dn(y,p))})).apply(this,arguments)}class si extends Vi{constructor(p,_,C,N=null){super("password",C),this._email=p,this._password=_,this._tenantId=N}static _fromEmailAndPassword(p,_){return new si(p,_,"password")}static _fromEmailAndCode(p,_,C=null){return new si(p,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,d.Z)(function*(){switch(_.signInMethod){case"password":return function W(y,p){return Me.apply(this,arguments)}(p,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function zi(y,p){return Ui.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Be(p,"internal-error")}})()}_linkToIdToken(p,_){var C=this;return(0,d.Z)(function*(){switch(C.signInMethod){case"password":return Or(p,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function ka(y,p){return xo.apply(this,arguments)}(p,{idToken:_,email:C._email,oobCode:C._password});default:Be(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function yr(y,p){return Os.apply(this,arguments)}function Os(){return(Os=(0,d.Z)(function*(y,p){return pi(y,"POST","/v1/accounts:signInWithIdp",Dn(y,p))})).apply(this,arguments)}class kr extends Vi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new kr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Be("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:N}=_,ee=(0,B._T)(_,["providerId","signInMethod"]);if(!C||!N)return null;const xe=new kr(C,N);return xe.idToken=ee.idToken||void 0,xe.accessToken=ee.accessToken||void 0,xe.secret=ee.secret,xe.nonce=ee.nonce,xe.pendingToken=ee.pendingToken||null,xe}_getIdTokenResponse(p){return yr(p,this.buildRequest())}_linkToIdToken(p,_){const C=this.buildRequest();return C.idToken=_,yr(p,C)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,yr(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,V.xO)(_)}return p}}function hl(y,p){return fl.apply(this,arguments)}function fl(){return(fl=(0,d.Z)(function*(y,p){return an(y,"POST","/v1/accounts:sendVerificationCode",Dn(y,p))})).apply(this,arguments)}function ms(){return(ms=(0,d.Z)(function*(y,p){return pi(y,"POST","/v1/accounts:signInWithPhoneNumber",Dn(y,p))})).apply(this,arguments)}function ta(){return(ta=(0,d.Z)(function*(y,p){const _=yield pi(y,"POST","/v1/accounts:signInWithPhoneNumber",Dn(y,p));if(_.temporaryProof)throw Oi(y,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Pa={USER_NOT_FOUND:"user-not-found"};function Na(){return(Na=(0,d.Z)(function*(y,p){return pi(y,"POST","/v1/accounts:signInWithPhoneNumber",Dn(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Pa)})).apply(this,arguments)}class ks extends Vi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new ks({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new ks({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function Ao(y,p){return ms.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function pl(y,p){return ta.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Ra(y,p){return Na.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:C,verificationCode:N}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:C,code:N}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:C,phoneNumber:N,temporaryProof:ee}=p;return C||_||N||ee?new ks({verificationId:_,verificationCode:C,phoneNumber:N,temporaryProof:ee}):null}}class yn{constructor(p){var _,C,N,ee,xe,Ke;const Ct=(0,V.zd)((0,V.pd)(p)),Ft=null!==(_=Ct.apiKey)&&void 0!==_?_:null,rn=null!==(C=Ct.oobCode)&&void 0!==C?C:null,en=function gl(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=Ct.mode)&&void 0!==N?N:null);ae(Ft&&rn&&en,"argument-error"),this.apiKey=Ft,this.operation=en,this.code=rn,this.continueUrl=null!==(ee=Ct.continueUrl)&&void 0!==ee?ee:null,this.languageCode=null!==(xe=Ct.languageCode)&&void 0!==xe?xe:null,this.tenantId=null!==(Ke=Ct.tenantId)&&void 0!==Ke?Ke:null}static parseLink(p){const _=function us(y){const p=(0,V.zd)((0,V.pd)(y)).link,_=p?(0,V.zd)((0,V.pd)(p)).deep_link_id:null,C=(0,V.zd)((0,V.pd)(y)).deep_link_id;return(C?(0,V.zd)((0,V.pd)(C)).link:null)||C||_||p||y}(p);try{return new yn(_)}catch(C){return null}}}let Ps=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(_,C){return si._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const N=yn.parseLink(C);return ae(N,"argument-error"),si._fromEmailAndCode(_,N.code,N.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ai{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Wr extends Ai{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Kr extends Wr{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return ae("providerId"in _&&"signInMethod"in _,"argument-error"),kr._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ae(p.idToken||p.accessToken,"argument-error"),kr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Kr.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Kr.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:N,pendingToken:ee,nonce:xe,providerId:Ke}=p;if(!C&&!N&&!_&&!ee||!Ke)return null;try{return new Kr(Ke)._credential({idToken:_,accessToken:C,nonce:xe,pendingToken:ee})}catch(Ct){return null}}}let _s=(()=>{class y extends Wr{constructor(){super("facebook.com")}static credential(_){return kr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return y.credential(_.oauthAccessToken)}catch(C){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Fa=(()=>{class y extends Wr{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return kr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:N}=_;if(!C&&!N)return null;try{return y.credential(C,N)}catch(ee){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Pr=(()=>{class y extends Wr{constructor(){super("github.com")}static credential(_){return kr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return y.credential(_.oauthAccessToken)}catch(C){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Rr extends Vi{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return yr(p,this.buildRequest())}_linkToIdToken(p,_){const C=this.buildRequest();return C.idToken=_,yr(p,C)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,yr(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:N,pendingToken:ee}=_;return C&&N&&ee&&C===N?new Rr(C,ee):null}static _create(p,_){return new Rr(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class lr extends Ai{constructor(p){ae(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return lr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return lr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=Rr.fromJSON(p);return ae(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:C}=p;if(!_||!C)return null;try{return Rr._create(C,_)}catch(N){return null}}}let Ii=(()=>{class y extends Wr{constructor(){super("twitter.com")}static credential(_,C){return kr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:N}=_;if(!C||!N)return null;try{return y.credential(C,N)}catch(ee){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function oi(y,p){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,d.Z)(function*(y,p){return pi(y,"POST","/v1/accounts:signUp",Dn(y,p))})).apply(this,arguments)}class er{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,C,N=!1){return(0,d.Z)(function*(){const ee=yield Wt._fromIdTokenResponse(p,C,N),xe=lo(C);return new er({user:ee,providerId:xe,_tokenResponse:C,operationType:_})})()}static _forOperation(p,_,C){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const N=lo(C);return new er({user:p,providerId:N,_tokenResponse:C,operationType:_})})()}}function lo(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function ia(){return(ia=(0,d.Z)(function*(y){var p;const _=Rt(y);if(yield _._initializationPromise,null===(p=_.currentUser)||void 0===p?void 0:p.isAnonymous)return new er({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield oi(_,{returnSecureToken:!0}),N=yield er._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(N.user),N})).apply(this,arguments)}class vs extends V.ZR{constructor(p,_,C,N){var ee;super(_.code,_.message),this.operationType=C,this.user=N,Object.setPrototypeOf(this,vs.prototype),this.customData={appName:p.name,tenantId:null!==(ee=p.tenantId)&&void 0!==ee?ee:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,_,C,N){return new vs(p,_,C,N)}}function cs(y,p,_,C){return("reauthenticate"===p?_._getReauthenticationResolver(y):_._getIdTokenResponse(y)).catch(ee=>{throw"auth/multi-factor-auth-required"===ee.code?vs._fromErrorAndOperation(y,ee,p,C):ee})}function Nr(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Zn(){return(Zn=(0,d.Z)(function*(y,p){const _=(0,V.m9)(y);yield A(!0,_,p);const{providerUserInfo:C}=yield Ln(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),N=Nr(C||[]);return _.providerData=_.providerData.filter(ee=>N.has(ee.providerId)),N.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function M(y,p){return j.apply(this,arguments)}function j(){return(j=(0,d.Z)(function*(y,p,_=!1){const C=yield R(y,p._linkToIdToken(y.auth,yield y.getIdToken()),_);return er._forOperation(y,"link",C)})).apply(this,arguments)}function A(y,p,_){return X.apply(this,arguments)}function X(){return(X=(0,d.Z)(function*(y,p,_){yield Tt(p);const N=!1===y?"provider-already-linked":"no-such-provider";ae(Nr(p.providerData).has(_)===y,p.auth,N)})).apply(this,arguments)}function Ee(y,p){return We.apply(this,arguments)}function We(){return(We=(0,d.Z)(function*(y,p,_=!1){const{auth:C}=y,N="reauthenticate";try{const ee=yield R(y,cs(C,N,p,y),_);ae(ee.idToken,C,"internal-error");const xe=ce(ee.idToken);ae(xe,C,"internal-error");const{sub:Ke}=xe;return ae(y.uid===Ke,C,"user-mismatch"),er._forOperation(y,N,ee)}catch(ee){throw"auth/user-not-found"===(null==ee?void 0:ee.code)&&Be(C,"user-mismatch"),ee}})).apply(this,arguments)}function st(y,p){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,d.Z)(function*(y,p,_=!1){const C="signIn",N=yield cs(y,C,p),ee=yield er._fromIdTokenResponse(y,C,N);return _||(yield y._updateCurrentUser(ee.user)),ee})).apply(this,arguments)}function on(y,p){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,d.Z)(function*(y,p){return st(Rt(y),p)})).apply(this,arguments)}function cn(y,p){return An.apply(this,arguments)}function An(){return(An=(0,d.Z)(function*(y,p){const _=(0,V.m9)(y);return yield A(!1,_,p.providerId),M(_,p)})).apply(this,arguments)}function Jn(y,p){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,d.Z)(function*(y,p){return Ee((0,V.m9)(y),p)})).apply(this,arguments)}function ei(y,p){return vr.apply(this,arguments)}function vr(){return(vr=(0,d.Z)(function*(y,p){return pi(y,"POST","/v1/accounts:signInWithCustomToken",Dn(y,p))})).apply(this,arguments)}function Yt(){return(Yt=(0,d.Z)(function*(y,p){const _=Rt(y),C=yield ei(_,{token:p,returnSecureToken:!0}),N=yield er._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(N.user),N})).apply(this,arguments)}class br{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?sa._fromServerResponse(p,_):Be(p,"internal-error")}}class sa extends br{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new sa(_)}}function $s(y,p,_){var C;ae((null===(C=_.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),ae(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ae(_.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(ae(_.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function k(){return(k=(0,d.Z)(function*(y,p,_){const C=(0,V.m9)(y),N={requestType:"PASSWORD_RESET",email:p};_&&$s(C,N,_),yield qt(C,N)})).apply(this,arguments)}function D(){return(D=(0,d.Z)(function*(y,p,_){yield kn((0,V.m9)(y),{oobCode:p,newPassword:_})})).apply(this,arguments)}function me(){return(me=(0,d.Z)(function*(y,p){yield he((0,V.m9)(y),{oobCode:p})})).apply(this,arguments)}function ct(y,p){return jn.apply(this,arguments)}function jn(){return(jn=(0,d.Z)(function*(y,p){const _=(0,V.m9)(y),C=yield kn(_,{oobCode:p}),N=C.requestType;switch(ae(N,_,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(C.mfaInfo,_,"internal-error");default:ae(C.email,_,"internal-error")}let ee=null;return C.mfaInfo&&(ee=br._fromServerResponse(Rt(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:ee},operation:N}})).apply(this,arguments)}function Bi(){return(Bi=(0,d.Z)(function*(y,p){const{data:_}=yield ct((0,V.m9)(y),p);return _.email})).apply(this,arguments)}function nr(){return(nr=(0,d.Z)(function*(y,p,_){const C=Rt(y),N=yield oi(C,{returnSecureToken:!0,email:p,password:_}),ee=yield er._fromIdTokenResponse(C,"signIn",N);return yield C._updateCurrentUser(ee.user),ee})).apply(this,arguments)}function oa(){return(oa=(0,d.Z)(function*(y,p,_){const C=(0,V.m9)(y),N={requestType:"EMAIL_SIGNIN",email:p};ae(_.handleCodeInApp,C,"argument-error"),_&&$s(C,N,_),yield ri(C,N)})).apply(this,arguments)}function Rs(){return(Rs=(0,d.Z)(function*(y,p,_){const C=(0,V.m9)(y),N=Ps.credentialWithLink(p,_||at());return ae(N._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),on(C,N)})).apply(this,arguments)}function wr(y,p){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,d.Z)(function*(y,p){return an(y,"POST","/v1/accounts:createAuthUri",Dn(y,p))})).apply(this,arguments)}function qs(){return(qs=(0,d.Z)(function*(y,p){const C={identifier:p,continueUri:Pt()?at():"http://localhost"},{signinMethods:N}=yield wr((0,V.m9)(y),C);return N||[]})).apply(this,arguments)}function tc(){return(tc=(0,d.Z)(function*(y,p){const _=(0,V.m9)(y),N={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&$s(_.auth,N,p);const{email:ee}=yield _t(_.auth,N);ee!==y.email&&(yield y.reload())})).apply(this,arguments)}function Wl(){return(Wl=(0,d.Z)(function*(y,p,_){const C=(0,V.m9)(y),ee={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};_&&$s(C.auth,ee,_);const{email:xe}=yield Oa(C.auth,ee);xe!==y.email&&(yield y.reload())})).apply(this,arguments)}function nc(y,p){return yl.apply(this,arguments)}function yl(){return(yl=(0,d.Z)(function*(y,p){return an(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Fo(){return(Fo=(0,d.Z)(function*(y,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const C=(0,V.m9)(y),ee={idToken:yield C.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},xe=yield R(C,nc(C.auth,ee));C.displayName=xe.displayName||null,C.photoURL=xe.photoUrl||null;const Ke=C.providerData.find(({providerId:Ct})=>"password"===Ct);Ke&&(Ke.displayName=C.displayName,Ke.photoURL=C.photoURL),yield C._updateTokensIfNecessary(xe)})).apply(this,arguments)}function bl(y,p,_){return aa.apply(this,arguments)}function aa(){return(aa=(0,d.Z)(function*(y,p,_){const{auth:C}=y,ee={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(ee.email=p),_&&(ee.password=_);const xe=yield R(y,Or(C,ee));yield y._updateTokensIfNecessary(xe,!0)})).apply(this,arguments)}class la{constructor(p,_,C={}){this.isNewUser=p,this.providerId=_,this.profile=C}}class ic extends la{constructor(p,_,C,N){super(p,_,C),this.username=N}}class rc extends la{constructor(p,_){super(p,"facebook.com",_)}}class ua extends ic{constructor(p,_){super(p,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Ql extends la{constructor(p,_){super(p,"google.com",_)}}class sc extends ic{constructor(p,_,C){super(p,"twitter.com",_,C)}}function cr(y){const{user:p,_tokenResponse:_}=y;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Yl(y){var p,_;if(!y)return null;const{providerId:C}=y,N=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},ee=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&(null==y?void 0:y.idToken)){const xe=null===(_=null===(p=ce(y.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(xe)return new la(ee,"anonymous"!==xe&&"custom"!==xe?xe:null)}if(!C)return null;switch(C){case"facebook.com":return new rc(ee,N);case"github.com":return new ua(ee,N);case"google.com":return new Ql(ee,N);case"twitter.com":return new sc(ee,N,y.screenName||null);case"custom":case"anonymous":return new la(ee,null);default:return new la(ee,C,N)}}(_)}class Cr{constructor(p,_){this.type=p,this.credential=_}static _fromIdtoken(p){return new Cr("enroll",p)}static _fromMfaPendingCredential(p){return new Cr("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,C;if(null==p?void 0:p.multiFactorSession){if(null===(_=p.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Cr._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(C=p.multiFactorSession)||void 0===C?void 0:C.idToken)return Cr._fromIdtoken(p.multiFactorSession.idToken)}return null}}class da{constructor(p,_,C){this.session=p,this.hints=_,this.signInResolver=C}static _fromError(p,_){const C=Rt(p),N=_.customData._serverResponse,ee=(N.mfaInfo||[]).map(Ke=>br._fromServerResponse(C,Ke));ae(N.mfaPendingCredential,C,"internal-error");const xe=Cr._fromMfaPendingCredential(N.mfaPendingCredential);return new da(xe,ee,function(){var Ke=(0,d.Z)(function*(Ct){const Ft=yield Ct._process(C,xe);delete N.mfaInfo,delete N.mfaPendingCredential;const rn=Object.assign(Object.assign({},N),{idToken:Ft.idToken,refreshToken:Ft.refreshToken});switch(_.operationType){case"signIn":const en=yield er._fromIdTokenResponse(C,_.operationType,rn);return yield C._updateCurrentUser(en.user),en;case"reauthenticate":return ae(_.user,C,"internal-error"),er._forOperation(_.user,_.operationType,rn);default:Be(C,"internal-error")}});return function(Ct){return Ke.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,d.Z)(function*(){return _.signInResolver(p)})()}}function ac(y,p){return an(y,"POST","/v2/accounts/mfaEnrollment:start",Dn(y,p))}class Ns{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>br._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new Ns(p)}getSession(){var p=this;return(0,d.Z)(function*(){return Cr._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,_){var C=this;return(0,d.Z)(function*(){const N=p,ee=yield C.getSession(),xe=yield R(C.user,N._process(C.user.auth,ee,_));return yield C.user._updateTokensIfNecessary(xe),C.user.reload()})()}unenroll(p){var _=this;return(0,d.Z)(function*(){const C="string"==typeof p?p:p.uid,N=yield _.user.getIdToken(),ee=yield R(_.user,function bs(y,p){return an(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Dn(y,p))}(_.user.auth,{idToken:N,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:xe})=>xe!==C),yield _.user._updateTokensIfNecessary(ee);try{yield _.user.reload()}catch(xe){if("auth/user-token-expired"!==xe.code)throw xe}})()}}const wl=new WeakMap,ws="__sak";class Xl{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ws,"1"),this.storage.removeItem(ws),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const uo=(()=>{class y extends Xl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function _d(){const y=(0,V.z$)();return Ot(y)||ar(y)}()&&function bi(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=mr(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const N=this.storage.getItem(C),ee=this.localCache[C];N!==ee&&_(C,ee,N)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((Ke,Ct,Ft)=>{this.notifyListeners(Ke,Ft)});const N=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ke=this.storage.getItem(N);if(_.newValue!==Ke)null!==_.newValue?this.storage.setItem(N,_.newValue):this.storage.removeItem(N);else if(this.localCache[N]===_.newValue&&!C)return}const ee=()=>{const Ke=this.storage.getItem(N);!C&&this.localCache[N]===Ke||this.notifyListeners(N,Ke)},xe=this.storage.getItem(N);!function Li(){return(0,V.w1)()&&10===document.documentMode}()||xe===_.newValue||_.newValue===_.oldValue?ee():setTimeout(ee,10)}notifyListeners(_,C){this.localCache[_]=C;const N=this.listeners[_];if(N)for(const ee of Array.from(N))ee(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var N=()=>super._set,ee=this;return(0,d.Z)(function*(){yield N().call(ee,_,C),ee.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,N=this;return(0,d.Z)(function*(){const ee=yield C().call(N,_);return N.localCache[_]=JSON.stringify(ee),ee})()}_remove(_){var C=()=>super._remove,N=this;return(0,d.Z)(function*(){yield C().call(N,_),delete N.localCache[_]})()}}return y.type="LOCAL",y})(),Ls=(()=>{class y extends Xl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return y.type="SESSION",y})();let Cl=(()=>{class y{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(ee=>ee.isListeningto(_));if(C)return C;const N=new y(_);return this.receivers.push(N),N}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,d.Z)(function*(){const N=_,{eventId:ee,eventType:xe,data:Ke}=N.data,Ct=C.handlersMap[xe];if(!(null==Ct?void 0:Ct.size))return;N.ports[0].postMessage({status:"ack",eventId:ee,eventType:xe});const Ft=Array.from(Ct).map(function(){var en=(0,d.Z)(function*(hr){return hr(N.origin,Ke)});return function(hr){return en.apply(this,arguments)}}()),rn=yield function Ba(y){return Promise.all(y.map(function(){var p=(0,d.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return p.apply(this,arguments)}}()))}(Ft);N.ports[0].postMessage({status:"done",eventId:ee,eventType:xe,response:rn})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function co(y="",p=10){let _="";for(let C=0;C<p;C++)_+=Math.floor(10*Math.random());return y+_}class Lo{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,C=50){var N=this;return(0,d.Z)(function*(){const ee="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ee)throw new Error("connection_unavailable");let xe,Ke;return new Promise((Ct,Ft)=>{const rn=co("",20);ee.port1.start();const en=setTimeout(()=>{Ft(new Error("unsupported_event"))},C);Ke={messageChannel:ee,onMessage(hr){const Is=hr;if(Is.data.eventId===rn)switch(Is.data.status){case"ack":clearTimeout(en),xe=setTimeout(()=>{Ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(xe),Ct(Is.data.response);break;default:clearTimeout(en),clearTimeout(xe),Ft(new Error("invalid_response"))}}},N.handlers.add(Ke),ee.port1.addEventListener("message",Ke.onMessage),N.target.postMessage({eventType:p,eventId:rn,data:_},[ee.port2])}).finally(()=>{Ke&&N.removeMessageHandler(Ke)})})()}}function Ki(){return window}function Ha(){return void 0!==Ki().WorkerGlobalScope&&"function"==typeof Ki().importScripts}function lc(){return(lc=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const cc="firebaseLocalStorageDb",fo="firebaseLocalStorage",ja="fbase_key";class fa{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Fr(y,p){return y.transaction([fo],p?"readwrite":"readonly").objectStore(fo)}function eu(){const y=indexedDB.open(cc,1);return new Promise((p,_)=>{y.addEventListener("error",()=>{_(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(fo,{keyPath:ja})}catch(N){_(N)}}),y.addEventListener("success",(0,d.Z)(function*(){const C=y.result;C.objectStoreNames.contains(fo)?p(C):(C.close(),yield function Tl(){const y=indexedDB.deleteDatabase(cc);return new fa(y).toPromise()}(),p(yield eu()))}))})}function Uo(y,p,_){return Il.apply(this,arguments)}function Il(){return(Il=(0,d.Z)(function*(y,p,_){const C=Fr(y,!0).put({[ja]:p,value:_});return new fa(C).toPromise()})).apply(this,arguments)}function Vs(){return(Vs=(0,d.Z)(function*(y,p){const _=Fr(y,!1).get(p),C=yield new fa(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function nu(y,p){const _=Fr(y,!0).delete(p);return new fa(_).toPromise()}const zs=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,d.Z)(function*(){return _.db||(_.db=yield eu()),_.db})()}_withRetries(_){var C=this;return(0,d.Z)(function*(){let N=0;for(;;)try{const ee=yield C._openDb();return yield _(ee)}catch(ee){if(N++>3)throw ee;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,d.Z)(function*(){return Ha()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,d.Z)(function*(){_.receiver=Cl._getInstance(function El(){return Ha()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,d.Z)(function*(N,ee){return{keyProcessed:(yield _._poll()).includes(ee.key)}});return function(N,ee){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,d.Z)(function*(N,ee){return["keyChanged"]});return function(N,ee){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,d.Z)(function*(){var C,N;if(_.activeServiceWorker=yield function ho(){return lc.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Lo(_.activeServiceWorker);const ee=yield _.sender._send("ping",{},800);!ee||(null===(C=ee[0])||void 0===C?void 0:C.fulfilled)&&(null===(N=ee[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,d.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function uc(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch(N){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const _=yield eu();return yield Uo(_,ws,"1"),yield nu(_,ws),!0}catch(_){}return!1})()}_withPendingWrite(_){var C=this;return(0,d.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var N=this;return(0,d.Z)(function*(){return N._withPendingWrite((0,d.Z)(function*(){return yield N._withRetries(ee=>Uo(ee,_,C)),N.localCache[_]=C,N.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,d.Z)(function*(){const N=yield C._withRetries(ee=>function tu(y,p){return Vs.apply(this,arguments)}(ee,_));return C.localCache[_]=N,N})()}_remove(_){var C=this;return(0,d.Z)(function*(){return C._withPendingWrite((0,d.Z)(function*(){return yield C._withRetries(N=>nu(N,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,d.Z)(function*(){const C=yield _._withRetries(xe=>{const Ke=Fr(xe,!1).getAll();return new fa(Ke).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const N=[],ee=new Set;for(const{fbase_key:xe,value:Ke}of C)ee.add(xe),JSON.stringify(_.localCache[xe])!==JSON.stringify(Ke)&&(_.notifyListeners(xe,Ke),N.push(xe));for(const xe of Object.keys(_.localCache))_.localCache[xe]&&!ee.has(xe)&&(_.notifyListeners(xe,null),N.push(xe));return N})()}notifyListeners(_,C){this.localCache[_]=C;const N=this.listeners[_];if(N)for(const ee of Array.from(N))ee(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function ru(y,p){return an(y,"POST","/v2/accounts/mfaSignIn:start",Dn(y,p))}function su(){return(su=(0,d.Z)(function*(y){return(yield an(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ou(y){return new Promise((p,_)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=p,C.onerror=N=>{const ee=q("internal-error");ee.customData=N,_(ee)},C.type="text/javascript",C.charset="UTF-8",function Dl(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(C)})}function po(y){return`__${y}${Math.floor(1e6*Math.random())}`}const au=1e12;class dc{constructor(p){this.auth=p,this.counter=au,this._widgets=new Map}render(p,_){const C=this.counter;return this._widgets.set(C,new $a(p,this.auth.name,_||{})),this.counter++,C}reset(p){var _;const C=p||au;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(p){var _;return(null===(_=this._widgets.get(p||au))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,d.Z)(function*(){var C;return null===(C=_._widgets.get(p||au))||void 0===C||C.execute(),""})()}}class $a{constructor(p,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof p?document.getElementById(p):p;ae(N,"argument-error",{appName:_}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function hc(y){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<y;C++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bd=po("rcb"),Pi=new Sn(3e4,6e4);class q_{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ki().grecaptcha}load(p,_=""){return ae(function Mg(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(_),p,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Ki().grecaptcha):new Promise((C,N)=>{const ee=Ki().setTimeout(()=>{N(q(p,"network-request-failed"))},Pi.get());Ki()[bd]=()=>{Ki().clearTimeout(ee),delete Ki()[bd];const Ke=Ki().grecaptcha;if(!Ke)return void N(q(p,"internal-error"));const Ct=Ke.render;Ke.render=(Ft,rn)=>{const en=Ct(Ft,rn);return this.counter++,en},this.hostLanguage=_,C(Ke)},ou(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:bd,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(ee),N(q(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Ki().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class wd{load(p){return(0,d.Z)(function*(){return new dc(p)})()}clearedOneInstance(){}}const af="recaptcha",lf={theme:"light",type:"image"};class uf{constructor(p,_=Object.assign({},lf),C){this.parameters=_,this.type=af,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rt(C),this.isInvisible="invisible"===this.parameters.size,ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof p?document.getElementById(p):p;ae(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wd:new q_,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(_)||new Promise(ee=>{const xe=Ke=>{!Ke||(p.tokenChangeListeners.delete(xe),ee(Ke))};p.tokenChangeListeners.add(xe),p.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof p)p(_);else if("string"==typeof p){const C=Ki()[p];"function"==typeof C&&C(_)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){ae(Pt()&&!Ha(),p.auth,"internal-error"),yield function Ga(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function Es(y){return su.apply(this,arguments)}(p.auth);ae(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fc{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=ks._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function Sl(){return(Sl=(0,d.Z)(function*(y,p,_){const C=Rt(y),N=yield Vr(C,p,(0,V.m9)(_));return new fc(N,ee=>on(C,ee))})).apply(this,arguments)}function Cd(){return(Cd=(0,d.Z)(function*(y,p,_){const C=(0,V.m9)(y);yield A(!1,C,"phone");const N=yield Vr(C.auth,p,(0,V.m9)(_));return new fc(N,ee=>cn(C,ee))})).apply(this,arguments)}function Lr(){return(Lr=(0,d.Z)(function*(y,p,_){const C=(0,V.m9)(y),N=yield Vr(C.auth,p,(0,V.m9)(_));return new fc(N,ee=>Jn(C,ee))})).apply(this,arguments)}function Vr(y,p,_){return uu.apply(this,arguments)}function uu(){return(uu=(0,d.Z)(function*(y,p,_){var C;const N=yield _.verify();try{let ee;if(ae("string"==typeof N,y,"argument-error"),ae(_.type===af,y,"argument-error"),ee="string"==typeof p?{phoneNumber:p}:p,"session"in ee){const xe=ee.session;if("phoneNumber"in ee)return ae("enroll"===xe.type,y,"internal-error"),(yield ac(y,{idToken:xe.credential,phoneEnrollmentInfo:{phoneNumber:ee.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{ae("signin"===xe.type,y,"internal-error");const Ke=(null===(C=ee.multiFactorHint)||void 0===C?void 0:C.uid)||ee.multiFactorUid;return ae(Ke,y,"missing-multi-factor-info"),(yield ru(y,{mfaPendingCredential:xe.credential,mfaEnrollmentId:Ke,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:xe}=yield hl(y,{phoneNumber:ee.phoneNumber,recaptchaToken:N});return xe}}finally{_._reset()}})).apply(this,arguments)}function go(){return(go=(0,d.Z)(function*(y,p){yield M((0,V.m9)(y),p)})).apply(this,arguments)}let Ws=(()=>{class y{constructor(_){this.providerId=y.PROVIDER_ID,this.auth=Rt(_)}verifyPhoneNumber(_,C){return Vr(this.auth,_,(0,V.m9)(C))}static credential(_,C){return ks._fromVerification(_,C)}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:N}=_;return C&&N?ks._fromTokenResponse(C,N):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ks(y,p){return p?Re(p):(ae(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class xl extends Vi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return yr(p,this._buildIdpRequest())}_linkToIdToken(p,_){return yr(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return yr(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function Td(y){return st(y.auth,new xl(y),y.bypassAuthState)}function Id(y){const{auth:p,user:_}=y;return ae(_,p,"internal-error"),Ee(_,new xl(y),y.bypassAuthState)}function cf(y){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,d.Z)(function*(y){const{auth:p,user:_}=y;return ae(_,p,"internal-error"),M(_,new xl(y),y.bypassAuthState)})).apply(this,arguments)}class pc{constructor(p,_,C,N,ee=!1){this.auth=p,this.resolver=C,this.user=N,this.bypassAuthState=ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,d.Z)(function*(C,N){p.pendingPromise={resolve:C,reject:N};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(ee){p.reject(ee)}});return function(C,N){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,d.Z)(function*(){const{urlResponse:C,sessionId:N,postBody:ee,tenantId:xe,error:Ke,type:Ct}=p;if(Ke)return void _.reject(Ke);const Ft={auth:_.auth,requestUri:C,sessionId:N,tenantId:xe||void 0,postBody:ee||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Ct)(Ft))}catch(rn){_.reject(rn)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Td;case"linkViaPopup":case"linkViaRedirect":return cf;case"reauthViaPopup":case"reauthViaRedirect":return Id;default:Be(this.auth,"internal-error")}}resolve(p){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const za=new Sn(2e3,1e4);function mo(){return(mo=(0,d.Z)(function*(y,p,_){const C=Rt(y);ne(y,p,Ai);const N=Ks(C,_);return new cu(C,"signInViaPopup",p,N).executeNotNull()})).apply(this,arguments)}function Wa(){return(Wa=(0,d.Z)(function*(y,p,_){const C=(0,V.m9)(y);ne(C.auth,p,Ai);const N=Ks(C.auth,_);return new cu(C.auth,"reauthViaPopup",p,N,C).executeNotNull()})).apply(this,arguments)}function Qr(){return(Qr=(0,d.Z)(function*(y,p,_){const C=(0,V.m9)(y);ne(C.auth,p,Ai);const N=Ks(C.auth,_);return new cu(C.auth,"linkViaPopup",p,N,C).executeNotNull()})).apply(this,arguments)}let cu=(()=>{class y extends pc{constructor(_,C,N,ee,xe){super(_,C,ee,xe),this.provider=N,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var _=this;return(0,d.Z)(function*(){const C=yield _.execute();return ae(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,d.Z)(function*(){Ie(1===_.filter.length,"Popup operations only handle one event");const C=co();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(N=>{_.reject(N)}),_.resolver._isIframeWebStorageSupported(_.auth,N=>{N||_.reject(q(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(q(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,N;this.pollId=(null===(N=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===N?void 0:N.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(q(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,za.get())};_()}}return y.currentPopupAction=null,y})();const jo=new Map;class mc extends pc{constructor(p,_,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,d.Z)(function*(){let C=jo.get(_.auth._key());if(!C){try{const ee=(yield function Dd(y,p){return Zo.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;C=()=>Promise.resolve(ee)}catch(N){C=()=>Promise.reject(N)}jo.set(_.auth._key(),C)}return _.bypassAuthState||jo.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,C=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(C,p);if("unknown"!==p.type){if(p.eventId){const N=yield C.auth._redirectUserForId(p.eventId);if(N)return C.user=N,_().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Zo(){return(Zo=(0,d.Z)(function*(y,p){const _=de(p),C=K(y);if(!(yield C._isAvailable()))return!1;const N="true"===(yield C._get(_));return yield C._remove(_),N})).apply(this,arguments)}function ga(y,p){return du.apply(this,arguments)}function du(){return(du=(0,d.Z)(function*(y,p){return K(y)._set(de(p),"true")})).apply(this,arguments)}function O(y,p){jo.set(y._key(),p)}function K(y){return Re(y._redirectPersistence)}function de(y){return qn("pendingRedirect",y.config.apiKey,y.name)}function mt(){return(mt=(0,d.Z)(function*(y,p,_){const C=Rt(y);ne(y,p,Ai);const N=Ks(C,_);return yield ga(N,C),N._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function dn(){return(dn=(0,d.Z)(function*(y,p,_){const C=(0,V.m9)(y);ne(C.auth,p,Ai);const N=Ks(C.auth,_);yield ga(N,C.auth);const ee=yield Us(C);return N._openRedirect(C.auth,p,"reauthViaRedirect",ee)})).apply(this,arguments)}function Hi(){return(Hi=(0,d.Z)(function*(y,p,_){const C=(0,V.m9)(y);ne(C.auth,p,Ai);const N=Ks(C.auth,_);yield A(!1,C,p.providerId),yield ga(N,C.auth);const ee=yield Us(C);return N._openRedirect(C.auth,p,"linkViaRedirect",ee)})).apply(this,arguments)}function Ka(){return(Ka=(0,d.Z)(function*(y,p){return yield Rt(y)._initializationPromise,ma(y,p,!1)})).apply(this,arguments)}function ma(y,p){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,d.Z)(function*(y,p,_=!1){const C=Rt(y),N=Ks(C,p),xe=yield new mc(C,N,_).execute();return xe&&!_&&(delete xe.user._redirectEventId,yield C._persistUserIfCurrent(xe.user),yield C._setRedirectUser(null,p)),xe})).apply(this,arguments)}function Us(y){return _o.apply(this,arguments)}function _o(){return(_o=(0,d.Z)(function*(y){const p=co(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class df{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(_=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Ei(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hu(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var C;if(p.error&&!hu(p)){const N=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(q(this.auth,N))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const C=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sd(p))}saveEventToCache(p){this.cachedEventUids.add(Sd(p)),this.lastProcessedEventTime=Date.now()}}function Sd(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function hu({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Br(y){return xd.apply(this,arguments)}function xd(){return(xd=(0,d.Z)(function*(y,p={}){return an(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Ad=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fu=/^https?/;function hf(){return(hf=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Br(y);for(const _ of p)try{if(Og(_))return}catch(C){}Be(y,"unauthorized-domain")})).apply(this,arguments)}function Og(y){const p=at(),{protocol:_,hostname:C}=new URL(p);if(y.startsWith("chrome-extension://")){const xe=new URL(y);return""===xe.hostname&&""===C?"chrome-extension:"===_&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&xe.hostname===C}if(!fu.test(_))return!1;if(Ad.test(y))return C===y;const N=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(C)}const z_=new Sn(3e4,6e4);function W_(){const y=Ki().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let _=0;_<y.CP.length;_++)y.CP[_]=null}let Od=null;function Ib(y){return Od=Od||function Tb(y){return new Promise((p,_)=>{var C,N,ee;function xe(){W_(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{W_(),_(q(y,"network-request-failed"))},timeout:z_.get()})}if(null===(N=null===(C=Ki().gapi)||void 0===C?void 0:C.iframes)||void 0===N?void 0:N.Iframe)p(gapi.iframes.getContext());else{if(!(null===(ee=Ki().gapi)||void 0===ee?void 0:ee.load)){const Ke=po("iframefcb");return Ki()[Ke]=()=>{gapi.load?xe():_(q(y,"network-request-failed"))},ou(`https://apis.google.com/js/api.js?onload=${Ke}`).catch(Ct=>_(Ct))}xe()}}).catch(p=>{throw Od=null,p})}(y),Od}const Db=new Sn(5e3,15e3),_c={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xb(y){const p=y.config;ae(p.authDomain,y,"auth-domain-config-required");const _=p.emulator?Hn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:y.name,v:ve.SDK_VERSION},N=Sb.get(y.config.apiHost);N&&(C.eid=N);const ee=y._getFrameworks();return ee.length&&(C.fw=ee.join(",")),`${_}?${(0,V.xO)(C).slice(1)}`}function tt(){return tt=(0,d.Z)(function*(y){const p=yield Ib(y),_=Ki().gapi;return ae(_,y,"internal-error"),p.open({where:document.body,url:xb(y),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_c,dontclear:!0},C=>new Promise(function(){var N=(0,d.Z)(function*(ee,xe){yield C.restyle({setHideOnLeave:!1});const Ke=q(y,"network-request-failed"),Ct=Ki().setTimeout(()=>{xe(Ke)},Db.get());function Ft(){Ki().clearTimeout(Ct),ee(C)}C.ping(Ft).then(Ft,()=>{xe(Ke)})});return function(ee,xe){return N.apply(this,arguments)}}()))}),tt.apply(this,arguments)}const Bs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pg{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Qs(y,p,_,C,N,ee){ae(y.config.authDomain,y,"auth-domain-config-required"),ae(y.config.apiKey,y,"invalid-api-key");const xe={apiKey:y.config.apiKey,appName:y.name,authType:_,redirectUrl:C,v:ve.SDK_VERSION,eventId:N};if(p instanceof Ai){p.setDefaultLanguage(y.languageCode),xe.providerId=p.providerId||"",(0,V.xb)(p.getCustomParameters())||(xe.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ct,Ft]of Object.entries(ee||{}))xe[Ct]=Ft}if(p instanceof Wr){const Ct=p.getScopes().filter(Ft=>""!==Ft);Ct.length>0&&(xe.scopes=Ct.join(","))}y.tenantId&&(xe.tid=y.tenantId);const Ke=xe;for(const Ct of Object.keys(Ke))void 0===Ke[Ct]&&delete Ke[Ct];return`${function yc({config:y}){return y.emulator?Hn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,V.xO)(Ke).slice(1)}`}const gf="webStorageSupport";class Ng extends class Mb{constructor(p){this.factorId=p}_process(p,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,C);case"signin":return this._finalizeSignIn(p,_.credential);default:return Ze("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ng(p)}_finalizeEnroll(p,_,C){return function sf(y,p){return an(y,"POST","/v2/accounts/mfaEnrollment:finalize",Dn(y,p))}(p,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function vd(y,p){return an(y,"POST","/v2/accounts/mfaSignIn:finalize",Dn(y,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ob=(()=>{class y{constructor(){}static assertion(_){return Ng._fromCredential(_)}}return y.FACTOR_ID="phone",y})();var mf="@firebase/auth";class Pd{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,d.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(C=>{var N;p((null===(N=C)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);!_||(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $o(){return window}function Js(){return(Js=(0,d.Z)(function*(y,p,_){var C;const{BuildInfo:N}=$o();Ie(p.sessionId,"AuthEvent did not contain a session ID");const ee=yield _f(p.sessionId),xe={};return ar()?xe.ibi=N.packageName:_i()?xe.apn=N.packageName:Be(y,"operation-not-supported-in-this-environment"),N.displayName&&(xe.appDisplayName=N.displayName),xe.sessionId=ee,Qs(y,_,p.type,void 0,null!==(C=p.eventId)&&void 0!==C?C:void 0,xe)})).apply(this,arguments)}function Nd(){return(Nd=(0,d.Z)(function*(y){const{BuildInfo:p}=$o(),_={};ar()?_.iosBundleId=p.packageName:_i()?_.androidPackageName=p.packageName:Be(y,"operation-not-supported-in-this-environment"),yield Br(y,_)})).apply(this,arguments)}function gu(){return(gu=(0,d.Z)(function*(y,p,_){const{cordova:C}=$o();let N=()=>{};try{yield new Promise((ee,xe)=>{let Ke=null;function Ct(){var en;ee();const hr=null===(en=C.plugins.browsertab)||void 0===en?void 0:en.close;"function"==typeof hr&&hr(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function Ft(){Ke||(Ke=window.setTimeout(()=>{xe(q(y,"redirect-cancelled-by-user"))},2e3))}function rn(){"visible"===(null==document?void 0:document.visibilityState)&&Ft()}p.addPassiveListener(Ct),document.addEventListener("resume",Ft,!1),_i()&&document.addEventListener("visibilitychange",rn,!1),N=()=>{p.removePassiveListener(Ct),document.removeEventListener("resume",Ft,!1),document.removeEventListener("visibilitychange",rn,!1),Ke&&window.clearTimeout(Ke)}})}finally{N()}})).apply(this,arguments)}function _f(y){return mu.apply(this,arguments)}function mu(){return(mu=(0,d.Z)(function*(y){const p=yf(y),_=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(_)).map(N=>N.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function yf(y){if(Ie(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),_=new Uint8Array(p);for(let C=0;C<y.length;C++)_[C]=y.charCodeAt(C);return _}!function Y_(y){(0,ve._registerComponent)(new z.wA("auth",(p,{options:_})=>{const C=p.getProvider("app").getImmediate(),N=p.getProvider("heartbeat"),{apiKey:ee,authDomain:xe}=C.options;return((Ke,Ct)=>{ae(ee&&!ee.includes(":"),"invalid-api-key",{appName:Ke.name}),ae(!(null==xe?void 0:xe.includes(":")),"argument-error",{appName:Ke.name});const Ft={apiKey:ee,authDomain:xe,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ms(y)},rn=new wt(Ke,Ct,Ft);return function He(y,p){const _=(null==p?void 0:p.persistence)||[],C=(Array.isArray(_)?_:[_]).map(Re);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(C,null==p?void 0:p.popupRedirectResolver)}(rn,_),rn})(C,N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,C)=>{p.getProvider("auth-internal").initialize()})),(0,ve._registerComponent)(new z.wA("auth-internal",p=>{const _=Rt(p.getProvider("auth").getImmediate());return new Pd(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ve.registerVersion)(mf,"0.20.2",function Fg(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ve.registerVersion)(mf,"0.20.2","esm2017")}("Browser");class kb extends df{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(p)),super.onEvent(p)}initialized(){var p=this;return(0,d.Z)(function*(){yield p.initPromise})()}}function Fd(y){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,d.Z)(function*(y){const p=yield Ya()._get(_u(y));return p&&(yield Ya()._remove(_u(y))),p})).apply(this,arguments)}function Ug(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const C=Math.floor(Math.random()*p.length);y.push(p.charAt(C))}return y.join("")}function Ya(){return Re(uo)}function _u(y){return qn("authEvent",y.config.apiKey,y.name)}function Ud(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,..._]=y.split("?");return(0,V.zd)(_.join("?"))}function yu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:q("no-auth-event")}}function Ol(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function If(y=(0,V.z$)()){return!("file:"!==Ol()&&"ionic:"!==Ol()&&"capacitor:"!==Ol()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Df(){try{const y=self.localStorage,p=co();if(y)return y.setItem(p,"1"),y.removeItem(p),!function vu(y=(0,V.z$)()){return function bc(){return(0,V.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Xr(y=(0,V.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,V.hl)()}catch(y){return Hd()&&(0,V.hl)()}return!1}function Hd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Tr(){return(function Tf(){return"http:"===Ol()||"https:"===Ol()}()||(0,V.ru)()||If())&&!function ty(){return(0,V.b$)()||(0,V.UG)()}()&&Df()&&!Hd()}function bu(){return If()&&"undefined"!=typeof document}function xf(){return(xf=(0,d.Z)(function*(){return!!bu()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Ts={LOCAL:"local",NONE:"none",SESSION:"session"},wc=ae,Af="persistence";function Cc(y){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,d.Z)(function*(y){yield y._initializationPromise;const p=$d(),_=qn(Af,y.config.apiKey,y.name);p&&p.setItem(_,y._getPersistence())})).apply(this,arguments)}function $d(){var y;try{return(null===(y=function ny(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const iy=ae;class Qa{constructor(){this.browserResolver=Re(class Ab{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ls,this._completeRedirectFn=ma,this._overrideRedirectResult=O}_openPopup(p,_,C,N){var ee=this;return(0,d.Z)(function*(){var xe;Ie(null===(xe=ee.eventManagers[p._key()])||void 0===xe?void 0:xe.manager,"_initialize() not called before _openPopup()");const Ke=Qs(p,_,C,at(),N);return function K_(y,p,_,C=500,N=600){const ee=Math.max((window.screen.availHeight-N)/2,0).toString(),xe=Math.max((window.screen.availWidth-C)/2,0).toString();let Ke="";const Ct=Object.assign(Object.assign({},Bs),{width:C.toString(),height:N.toString(),top:ee,left:xe}),Ft=(0,V.z$)().toLowerCase();_&&(Ke=ni(Ft)?"_blank":_),_n(Ft)&&(p=p||"http://localhost",Ct.scrollbars="yes");const rn=Object.entries(Ct).reduce((hr,[Is,wu])=>`${hr}${Is}=${wu},`,"");if(function zr(y=(0,V.z$)()){var p;return ar(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Ft)&&"_self"!==Ke)return function Er(y,p){const _=document.createElement("a");_.href=y,_.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(p||"",Ke),new Pg(null);const en=window.open(p||"",Ke,rn);ae(en,y,"popup-blocked");try{en.focus()}catch(hr){}return new Pg(en)}(p,Ke,co())})()}_openRedirect(p,_,C,N){var ee=this;return(0,d.Z)(function*(){return yield ee._originValidation(p),function Vo(y){Ki().location.href=y}(Qs(p,_,C,at(),N)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:N,promise:ee}=this.eventManagers[_];return N?Promise.resolve(N):(Ie(ee,"If manager is not set, promise should be"),ee)}const C=this.initAndGetManager(p);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(p){var _=this;return(0,d.Z)(function*(){const C=yield function rT(y){return tt.apply(this,arguments)}(p),N=new df(p);return C.register("authEvent",ee=>(ae(null==ee?void 0:ee.authEvent,p,"invalid-auth-event"),{status:N.onEvent(ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:N},_.iframes[p._key()]=C,N})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(gf,{type:gf},N=>{var ee;const xe=null===(ee=null==N?void 0:N[0])||void 0===ee?void 0:ee[gf];void 0!==xe&&_(!!xe),Be(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Md(y){return hf.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return mr()||Ot()||ar()}}),this.cordovaResolver=Re(class Ef{constructor(){this._redirectPersistence=Ls,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ma,this._overrideRedirectResult=O}_initialize(p){var _=this;return(0,d.Z)(function*(){const C=p._key();let N=_.eventManagers.get(C);return N||(N=new kb(p),_.eventManagers.set(C,N),_.attachCallbackListeners(p,N)),N})()}_openPopup(p){Be(p,"operation-not-supported-in-this-environment")}_openRedirect(p,_,C,N){var ee=this;return(0,d.Z)(function*(){!function J_(y){var p,_,C,N,ee,xe,Ke,Ct,Ft,rn;const en=$o();ae("function"==typeof(null===(p=null==en?void 0:en.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ae(void 0!==(null===(_=null==en?void 0:en.BuildInfo)||void 0===_?void 0:_.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ae("function"==typeof(null===(ee=null===(N=null===(C=null==en?void 0:en.cordova)||void 0===C?void 0:C.plugins)||void 0===N?void 0:N.browsertab)||void 0===ee?void 0:ee.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(Ct=null===(Ke=null===(xe=null==en?void 0:en.cordova)||void 0===xe?void 0:xe.plugins)||void 0===Ke?void 0:Ke.browsertab)||void 0===Ct?void 0:Ct.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(rn=null===(Ft=null==en?void 0:en.cordova)||void 0===Ft?void 0:Ft.InAppBrowser)||void 0===rn?void 0:rn.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const xe=yield ee._initialize(p);yield xe.initialized(),xe.resetRedirect(),function S(){jo.clear()}(),yield ee._originValidation(p);const Ke=function Pb(y,p,_=null){return{type:p,eventId:_,urlResponse:null,sessionId:Ug(),postBody:null,tenantId:y.tenantId,error:q(y,"no-auth-event")}}(p,C,N);yield function bf(y,p){return Ya()._set(_u(y),p)}(p,Ke);const Ct=yield function Rd(y,p,_){return Js.apply(this,arguments)}(p,Ke,_),Ft=yield function Lg(y){const{cordova:p}=$o();return new Promise(_=>{p.plugins.browsertab.isAvailable(C=>{let N=null;C?p.plugins.browsertab.openUrl(y):N=p.InAppBrowser.open(y,function Zs(y=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),_(N)})})}(Ct);return function Vg(y,p,_){return gu.apply(this,arguments)}(p,xe,Ft)})()}_isIframeWebStorageSupported(p,_){throw new Error("Method not implemented.")}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function vc(y){return Nd.apply(this,arguments)}(p)),this.originValidationPromises[_]}attachCallbackListeners(p,_){const{universalLinks:C,handleOpenURL:N,BuildInfo:ee}=$o(),xe=setTimeout((0,d.Z)(function*(){yield Fd(p),_.onEvent(yu())}),500),Ke=function(){var rn=(0,d.Z)(function*(en){clearTimeout(xe);const hr=yield Fd(p);let Is=null;hr&&(null==en?void 0:en.url)&&(Is=function wf(y,p){var _,C;const N=function Vd(y){const p=Ud(y),_=p.link?decodeURIComponent(p.link):void 0,C=Ud(_).link,N=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Ud(N).link||N||C||_||y}(p);if(N.includes("/__/auth/callback")){const ee=Ud(N),xe=ee.firebaseError?function Cf(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(ee.firebaseError)):null,Ke=null===(C=null===(_=null==xe?void 0:xe.code)||void 0===_?void 0:_.split("auth/"))||void 0===C?void 0:C[1],Ct=Ke?q(Ke):null;return Ct?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ct,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:N,postBody:null}}return null}(hr,en.url)),_.onEvent(Is||yu())});return function(hr){return rn.apply(this,arguments)}}();void 0!==C&&"function"==typeof C.subscribe&&C.subscribe(null,Ke);const Ct=N,Ft=`${ee.packageName.toLowerCase()}://`;$o().handleOpenURL=function(){var rn=(0,d.Z)(function*(en){if(en.toLowerCase().startsWith(Ft)&&Ke({url:en}),"function"==typeof Ct)try{Ct(en)}catch(hr){console.error(hr)}});return function(en){return rn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ls,this._completeRedirectFn=ma,this._overrideRedirectResult=O}_initialize(p){var _=this;return(0,d.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,_,C,N){var ee=this;return(0,d.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openPopup(p,_,C,N)})()}_openRedirect(p,_,C,N){var ee=this;return(0,d.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openRedirect(p,_,C,N)})()}_isIframeWebStorageSupported(p,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,_)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return bu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return iy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,d.Z)(function*(){if(p.underlyingResolver)return;const _=yield function Sf(){return xf.apply(this,arguments)}();p.underlyingResolver=_?p.cordovaResolver:p.browserResolver})()}}function Ec(y){return y.unwrap()}function Zg(y){return Of(y)}function Of(y){const{_tokenResponse:p}=y instanceof V.ZR?y.customData:y;if(!p)return null;if(!(y instanceof V.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Ws.credentialFromResult(y);const _=p.providerId;if(!_||"password"===_)return null;let C;switch(_){case"google.com":C=Fa;break;case"facebook.com":C=_s;break;case"github.com":C=Pr;break;case"twitter.com":C=Ii;break;default:const{oauthIdToken:N,oauthAccessToken:ee,oauthTokenSecret:xe,pendingToken:Ke,nonce:Ct}=p;return ee||xe||N||Ke?Ke?_.startsWith("saml.")?Rr._create(_,Ke):kr._fromParams({providerId:_,signInMethod:_,pendingToken:Ke,idToken:N,accessToken:ee}):new Kr(_).credential({idToken:N,accessToken:ee,rawNonce:Ct}):null}return y instanceof V.ZR?C.credentialFromError(y):C.credentialFromResult(y)}function Hs(y,p){return p.catch(_=>{throw _ instanceof V.ZR&&function Tc(y,p){var _;const C=null===(_=p.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Rb(y,function Wi(y,p){var _;const C=(0,V.m9)(y),N=p;return ae(p.customData.operationType,C,"argument-error"),ae(null===(_=N.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),da._fromError(C,N)}(y,p));else if(C){const N=Of(p),ee=p;N&&(ee.credential=N,ee.tenantId=C.tenantId||void 0,ee.email=C.email||void 0,ee.phoneNumber=C.phoneNumber||void 0)}}(y,_),_}).then(_=>{const N=_.user;return{operationType:_.operationType,credential:Zg(_),additionalUserInfo:cr(_),user:Xs.getOrCreate(N)}})}function kf(y,p){return $g.apply(this,arguments)}function $g(){return($g=(0,d.Z)(function*(y,p){const _=yield p;return{verificationId:_.verificationId,confirm:C=>Hs(y,_.confirm(C))}})).apply(this,arguments)}class Rb{constructor(p,_){this.resolver=_,this.auth=function jg(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Hs(Ec(this.auth),this.resolver.resolveSignIn(p))}}class Xs{constructor(p){this._delegate=p,this.multiFactor=function Ua(y){const p=(0,V.m9)(y);return wl.has(p)||wl.set(p,Ns._fromUser(p)),wl.get(p)}(p)}static getOrCreate(p){return Xs.USER_MAP.has(p)||Xs.USER_MAP.set(p,new Xs(p)),Xs.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var _=this;return(0,d.Z)(function*(){return Hs(_.auth,cn(_._delegate,p))})()}linkWithPhoneNumber(p,_){var C=this;return(0,d.Z)(function*(){return kf(C.auth,function lu(y,p,_){return Cd.apply(this,arguments)}(C._delegate,p,_))})()}linkWithPopup(p){var _=this;return(0,d.Z)(function*(){return Hs(_.auth,function Al(y,p,_){return Qr.apply(this,arguments)}(_._delegate,p,Qa))})()}linkWithRedirect(p){var _=this;return(0,d.Z)(function*(){return yield Cc(Rt(_.auth)),function $n(y,p,_){return function vn(y,p,_){return Hi.apply(this,arguments)}(y,p,_)}(_._delegate,p,Qa)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var _=this;return(0,d.Z)(function*(){return Hs(_.auth,Jn(_._delegate,p))})()}reauthenticateWithPhoneNumber(p,_){return kf(this.auth,function Ed(y,p,_){return Lr.apply(this,arguments)}(this._delegate,p,_))}reauthenticateWithPopup(p){return Hs(this.auth,function gc(y,p,_){return Wa.apply(this,arguments)}(this._delegate,p,Qa))}reauthenticateWithRedirect(p){var _=this;return(0,d.Z)(function*(){return yield Cc(Rt(_.auth)),function Lt(y,p,_){return function Ht(y,p,_){return dn.apply(this,arguments)}(y,p,_)}(_._delegate,p,Qa)})()}sendEmailVerification(p){return function ds(y,p){return tc.apply(this,arguments)}(this._delegate,p)}unlink(p){var _=this;return(0,d.Z)(function*(){return yield function ra(y,p){return Zn.apply(this,arguments)}(_._delegate,p),_})()}updateEmail(p){return function vl(y,p){return bl((0,V.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Kl(y,p){return bl((0,V.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function qa(y,p){return go.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function No(y,p){return Fo.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,_){return function Ro(y,p,_){return Wl.apply(this,arguments)}(this._delegate,p,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Xs.USER_MAP=new WeakMap;const Gd=ae;let Gg=(()=>{class y{constructor(_,C){if(this.app=_,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:N}=_.options;Gd(N,"invalid-api-key",{appName:_.name}),Gd(N,"invalid-api-key",{appName:_.name});const ee="undefined"!=typeof window?Qa:void 0;this._delegate=C.initialize({options:{persistence:ry(N,_.name),popupRedirectResolver:ee}}),this._delegate._updateErrorMap(Le),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Xs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,C){!function ci(y,p,_){const C=Rt(y);ae(C._canInitEmulator,C,"emulator-config-failed"),ae(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const N=!!(null==_?void 0:_.disableWarnings),ee=_r(p),{host:xe,port:Ke}=function ii(y){const p=_r(y),_=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(C);if(N){const ee=N[1];return{host:ee,port:Xi(C.substr(ee.length+1))}}{const[ee,xe]=C.split(":");return{host:ee,port:Xi(xe)}}}(p);C.config.emulator={url:`${ee}//${xe}${null===Ke?"":`:${Ke}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:xe,port:Ke,protocol:ee.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function Vn(){function y(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,_,C)}applyActionCode(_){return function Y(y,p){return me.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return ct(this._delegate,_)}confirmPasswordReset(_,C){return function x(y,p,_){return D.apply(this,arguments)}(this._delegate,_,C)}createUserWithEmailAndPassword(_,C){var N=this;return(0,d.Z)(function*(){return Hs(N._delegate,function tr(y,p,_){return nr.apply(this,arguments)}(N._delegate,_,C))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function _l(y,p){return qs.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function ec(y,p){const _=yn.parseLink(p);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,d.Z)(function*(){Gd(Tr(),_._delegate,"operation-not-supported-in-this-environment");const C=yield function dr(y,p){return Ka.apply(this,arguments)}(_._delegate,Qa);return C?Hs(_._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Hg(y,p){Rt(y)._logFramework(p)}(this._delegate,_)}onAuthStateChanged(_,C,N){const{next:ee,error:xe,complete:Ke}=Pf(_,C,N);return this._delegate.onAuthStateChanged(ee,xe,Ke)}onIdTokenChanged(_,C,N){const{next:ee,error:xe,complete:Ke}=Pf(_,C,N);return this._delegate.onIdTokenChanged(ee,xe,Ke)}sendSignInLinkToEmail(_,C){return function ml(y,p,_){return oa.apply(this,arguments)}(this._delegate,_,C)}sendPasswordResetEmail(_,C){return function Gs(y,p,_){return k.apply(this,arguments)}(this._delegate,_,C||void 0)}setPersistence(_){var C=this;return(0,d.Z)(function*(){let N;switch(function jd(y,p){wc(Object.values(Ts).includes(p),y,"invalid-persistence-type"),(0,V.b$)()?wc(p!==Ts.SESSION,y,"unsupported-persistence-type"):(0,V.UG)()?wc(p===Ts.NONE,y,"unsupported-persistence-type"):Hd()?wc(p===Ts.NONE||p===Ts.LOCAL&&(0,V.hl)(),y,"unsupported-persistence-type"):wc(p===Ts.NONE||Df(),y,"unsupported-persistence-type")}(C._delegate,_),_){case Ts.SESSION:N=Ls;break;case Ts.LOCAL:N=(yield Re(zs)._isAvailable())?zs:uo;break;case Ts.NONE:N=$t;break;default:return Be("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(N)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Hs(this._delegate,function ko(y){return ia.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Hs(this._delegate,on(this._delegate,_))}signInWithCustomToken(_){return Hs(this._delegate,function ur(y,p){return Yt.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,C){return Hs(this._delegate,function Po(y,p,_){return on((0,V.m9)(y),Ps.credential(p,_))}(this._delegate,_,C))}signInWithEmailLink(_,C){return Hs(this._delegate,function Ig(y,p,_){return Rs.apply(this,arguments)}(this._delegate,_,C))}signInWithPhoneNumber(_,C){return kf(this._delegate,function Yi(y,p,_){return Sl.apply(this,arguments)}(this._delegate,_,C))}signInWithPopup(_){var C=this;return(0,d.Z)(function*(){return Gd(Tr(),C._delegate,"operation-not-supported-in-this-environment"),Hs(C._delegate,function ir(y,p,_){return mo.apply(this,arguments)}(C._delegate,_,Qa))})()}signInWithRedirect(_){var C=this;return(0,d.Z)(function*(){return Gd(Tr(),C._delegate,"operation-not-supported-in-this-environment"),yield Cc(C._delegate),function Fe(y,p,_){return function $e(y,p,_){return mt.apply(this,arguments)}(y,p,_)}(C._delegate,_,Qa)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Rn(y,p){return Bi.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ts,y})();function Pf(y,p,_){let C=y;"function"!=typeof y&&({next:C,error:p,complete:_}=y);const N=C;return{next:xe=>N(xe&&Xs.getOrCreate(xe)),error:p,complete:_}}function ry(y,p){const _=function Mf(y,p){const _=$d();if(!_)return[];const C=qn(Af,y,p);switch(_.getItem(C)){case Ts.NONE:return[$t];case Ts.LOCAL:return[zs,Ls];case Ts.SESSION:return[Ls];default:return[]}}(y,p);if("undefined"!=typeof self&&!_.includes(zs)&&_.push(zs),"undefined"!=typeof window)for(const C of[uo,Ls])_.includes(C)||_.push(C);return _.includes($t)||_.push($t),_}class qd{constructor(){this.providerId="phone",this._delegate=new Ws(Ec(a.Z.auth()))}static credential(p,_){return Ws.credential(p,_)}verifyPhoneNumber(p,_){return this._delegate.verifyPhoneNumber(p,_)}unwrap(){return this._delegate}}qd.PHONE_SIGN_IN_METHOD=Ws.PHONE_SIGN_IN_METHOD,qd.PROVIDER_ID=Ws.PROVIDER_ID;const Rf=ae;class zd{constructor(p,_,C=a.Z.app()){var N;Rf(null===(N=C.options)||void 0===N?void 0:N.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new uf(p,_,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ja(y){y.INTERNAL.registerComponent(new z.wA("auth-compat",p=>{const _=p.getProvider("app-compat").getImmediate(),C=p.getProvider("auth");return new Gg(_,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ps,FacebookAuthProvider:_s,GithubAuthProvider:Pr,GoogleAuthProvider:Fa,OAuthProvider:Kr,SAMLAuthProvider:lr,PhoneAuthProvider:qd,PhoneMultiFactorGenerator:Ob,RecaptchaVerifier:zd,TwitterAuthProvider:Ii,Auth:Gg,AuthCredential:Vi,Error:V.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.15")}(a.Z)},3098:(gt,ke)=>{"use strict";var d=function(){function a(V){if(!V)throw new TypeError("Invalid argument; `value` has no value.");this.value=a.EMPTY,V&&a.isGuid(V)&&(this.value=V)}return a.isGuid=function(V){var ve=V.toString();return V&&(V instanceof a||a.validator.test(ve))},a.create=function(){return new a([a.gen(2),a.gen(1),a.gen(1),a.gen(1),a.gen(3)].join("-"))},a.createEmpty=function(){return new a("emptyguid")},a.parse=function(V){return new a(V)},a.raw=function(){return[a.gen(2),a.gen(1),a.gen(1),a.gen(1),a.gen(3)].join("-")},a.gen=function(V){for(var ve="",B=0;B<V;B++)ve+=(65536*(1+Math.random())|0).toString(16).substring(1);return ve},a.prototype.equals=function(V){return a.isGuid(V)&&this.value===V.toString()},a.prototype.isEmpty=function(){return this.value===a.EMPTY},a.prototype.toString=function(){return this.value},a.prototype.toJSON=function(){return{value:this.value}},a.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),a.EMPTY="00000000-0000-0000-0000-000000000000",a}();ke.i=d},8306:(gt,ke,P)=>{"use strict";P.d(ke,{y:()=>U});var d=P(930),a=P(727),V=P(8822),ve=P(4671);var z=P(2416),re=P(576),se=P(2806);let U=(()=>{class Pe{constructor(nt){nt&&(this._subscribe=nt)}lift(nt){const be=new Pe;return be.source=this,be.operator=nt,be}subscribe(nt,be,je){const ut=function Ue(Pe){return Pe&&Pe instanceof d.Lv||function ue(Pe){return Pe&&(0,re.m)(Pe.next)&&(0,re.m)(Pe.error)&&(0,re.m)(Pe.complete)}(Pe)&&(0,a.Nn)(Pe)}(nt)?nt:new d.Hp(nt,be,je);return(0,se.x)(()=>{const{operator:pt,source:Be}=this;ut.add(pt?pt.call(ut,Be):Be?this._subscribe(ut):this._trySubscribe(ut))}),ut}_trySubscribe(nt){try{return this._subscribe(nt)}catch(be){nt.error(be)}}forEach(nt,be){return new(be=J(be))((je,ut)=>{const pt=new d.Hp({next:Be=>{try{nt(Be)}catch(q){ut(q),pt.unsubscribe()}},error:ut,complete:je});this.subscribe(pt)})}_subscribe(nt){var be;return null===(be=this.source)||void 0===be?void 0:be.subscribe(nt)}[V.L](){return this}pipe(...nt){return function H(Pe){return 0===Pe.length?ve.y:1===Pe.length?Pe[0]:function(nt){return Pe.reduce((be,je)=>je(be),nt)}}(nt)(this)}toPromise(nt){return new(nt=J(nt))((be,je)=>{let ut;this.subscribe(pt=>ut=pt,pt=>je(pt),()=>be(ut))})}}return Pe.create=Le=>new Pe(Le),Pe})();function J(Pe){var Le;return null!==(Le=null!=Pe?Pe:z.v.Promise)&&void 0!==Le?Le:Promise}},7579:(gt,ke,P)=>{"use strict";P.d(ke,{x:()=>z});var d=P(8306),a=P(727);const ve=(0,P(3888).d)(se=>function(){se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var B=P(8737),H=P(2806);let z=(()=>{class se extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(J){const ue=new re(this,this);return ue.operator=J,ue}_throwIfClosed(){if(this.closed)throw new ve}next(J){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ue of this.currentObservers)ue.next(J)}})}error(J){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=J;const{observers:ue}=this;for(;ue.length;)ue.shift().error(J)}})}complete(){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:J}=this;for(;J.length;)J.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var J;return(null===(J=this.observers)||void 0===J?void 0:J.length)>0}_trySubscribe(J){return this._throwIfClosed(),super._trySubscribe(J)}_subscribe(J){return this._throwIfClosed(),this._checkFinalizedStatuses(J),this._innerSubscribe(J)}_innerSubscribe(J){const{hasError:ue,isStopped:Ue,observers:Pe}=this;return ue||Ue?a.Lc:(this.currentObservers=null,Pe.push(J),new a.w0(()=>{this.currentObservers=null,(0,B.P)(Pe,J)}))}_checkFinalizedStatuses(J){const{hasError:ue,thrownError:Ue,isStopped:Pe}=this;ue?J.error(Ue):Pe&&J.complete()}asObservable(){const J=new d.y;return J.source=this,J}}return se.create=(U,J)=>new re(U,J),se})();class re extends z{constructor(U,J){super(),this.destination=U,this.source=J}next(U){var J,ue;null===(ue=null===(J=this.destination)||void 0===J?void 0:J.next)||void 0===ue||ue.call(J,U)}error(U){var J,ue;null===(ue=null===(J=this.destination)||void 0===J?void 0:J.error)||void 0===ue||ue.call(J,U)}complete(){var U,J;null===(J=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===J||J.call(U)}_subscribe(U){var J,ue;return null!==(ue=null===(J=this.source)||void 0===J?void 0:J.subscribe(U))&&void 0!==ue?ue:a.Lc}}},930:(gt,ke,P)=>{"use strict";P.d(ke,{Hp:()=>nt,Lv:()=>ue});var d=P(576),a=P(727),V=P(2416),ve=P(7849),B=P(5032);const H=se("C",void 0,void 0);function se(Be,q,De){return{kind:Be,value:q,error:De}}var U=P(3410),J=P(2806);class ue extends a.w0{constructor(q){super(),this.isStopped=!1,q?(this.destination=q,(0,a.Nn)(q)&&q.add(this)):this.destination=pt}static create(q,De,ne){return new nt(q,De,ne)}next(q){this.isStopped?ut(function re(Be){return se("N",Be,void 0)}(q),this):this._next(q)}error(q){this.isStopped?ut(function z(Be){return se("E",void 0,Be)}(q),this):(this.isStopped=!0,this._error(q))}complete(){this.isStopped?ut(H,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(q){this.destination.next(q)}_error(q){try{this.destination.error(q)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Pe(Be,q){return Ue.call(Be,q)}class Le{constructor(q){this.partialObserver=q}next(q){const{partialObserver:De}=this;if(De.next)try{De.next(q)}catch(ne){be(ne)}}error(q){const{partialObserver:De}=this;if(De.error)try{De.error(q)}catch(ne){be(ne)}else be(q)}complete(){const{partialObserver:q}=this;if(q.complete)try{q.complete()}catch(De){be(De)}}}class nt extends ue{constructor(q,De,ne){let we;if(super(),(0,d.m)(q)||!q)we={next:null!=q?q:void 0,error:null!=De?De:void 0,complete:null!=ne?ne:void 0};else{let ae;this&&V.v.useDeprecatedNextContext?(ae=Object.create(q),ae.unsubscribe=()=>this.unsubscribe(),we={next:q.next&&Pe(q.next,ae),error:q.error&&Pe(q.error,ae),complete:q.complete&&Pe(q.complete,ae)}):we=q}this.destination=new Le(we)}}function be(Be){V.v.useDeprecatedSynchronousErrorHandling?(0,J.O)(Be):(0,ve.h)(Be)}function ut(Be,q){const{onStoppedNotification:De}=V.v;De&&U.z.setTimeout(()=>De(Be,q))}const pt={closed:!0,next:B.Z,error:function je(Be){throw Be},complete:B.Z}},727:(gt,ke,P)=>{"use strict";P.d(ke,{Lc:()=>H,w0:()=>B,Nn:()=>z});var d=P(576);const V=(0,P(3888).d)(se=>function(J){se(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((ue,Ue)=>`${Ue+1}) ${ue.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J});var ve=P(8737);class B{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:J}=this;if(J)if(this._parentage=null,Array.isArray(J))for(const Pe of J)Pe.remove(this);else J.remove(this);const{initialTeardown:ue}=this;if((0,d.m)(ue))try{ue()}catch(Pe){U=Pe instanceof V?Pe.errors:[Pe]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Pe of Ue)try{re(Pe)}catch(Le){U=null!=U?U:[],Le instanceof V?U=[...U,...Le.errors]:U.push(Le)}}if(U)throw new V(U)}}add(U){var J;if(U&&U!==this)if(this.closed)re(U);else{if(U instanceof B){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(J=this._finalizers)&&void 0!==J?J:[]).push(U)}}_hasParent(U){const{_parentage:J}=this;return J===U||Array.isArray(J)&&J.includes(U)}_addParent(U){const{_parentage:J}=this;this._parentage=Array.isArray(J)?(J.push(U),J):J?[J,U]:U}_removeParent(U){const{_parentage:J}=this;J===U?this._parentage=null:Array.isArray(J)&&(0,ve.P)(J,U)}remove(U){const{_finalizers:J}=this;J&&(0,ve.P)(J,U),U instanceof B&&U._removeParent(this)}}B.EMPTY=(()=>{const se=new B;return se.closed=!0,se})();const H=B.EMPTY;function z(se){return se instanceof B||se&&"closed"in se&&(0,d.m)(se.remove)&&(0,d.m)(se.add)&&(0,d.m)(se.unsubscribe)}function re(se){(0,d.m)(se)?se():se.unsubscribe()}},2416:(gt,ke,P)=>{"use strict";P.d(ke,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(gt,ke,P)=>{"use strict";P.d(ke,{z:()=>B});var d=P(8189),V=P(3269),ve=P(8996);function B(...H){return function a(){return(0,d.J)(1)}()((0,ve.D)(H,(0,V.yG)(H)))}},515:(gt,ke,P)=>{"use strict";P.d(ke,{E:()=>a});const a=new(P(8306).y)(B=>B.complete())},8996:(gt,ke,P)=>{"use strict";P.d(ke,{D:()=>q});var d=P(8421),a=P(5363),V=P(9468),H=P(8306),re=P(2202),se=P(576),U=P(9672);function ue(De,ne){if(!De)throw new Error("Iterable cannot be null");return new H.y(we=>{(0,U.f)(we,ne,()=>{const ae=De[Symbol.asyncIterator]();(0,U.f)(we,ne,()=>{ae.next().then(Ze=>{Ze.done?we.complete():we.next(Ze.value)})},0,!0)})})}var Ue=P(3670),Pe=P(8239),Le=P(1144),nt=P(6495),be=P(2206),je=P(4532),ut=P(3260);function q(De,ne){return ne?function Be(De,ne){if(null!=De){if((0,Ue.c)(De))return function ve(De,ne){return(0,d.Xf)(De).pipe((0,V.R)(ne),(0,a.Q)(ne))}(De,ne);if((0,Le.z)(De))return function z(De,ne){return new H.y(we=>{let ae=0;return ne.schedule(function(){ae===De.length?we.complete():(we.next(De[ae++]),we.closed||this.schedule())})})}(De,ne);if((0,Pe.t)(De))return function B(De,ne){return(0,d.Xf)(De).pipe((0,V.R)(ne),(0,a.Q)(ne))}(De,ne);if((0,be.D)(De))return ue(De,ne);if((0,nt.T)(De))return function J(De,ne){return new H.y(we=>{let ae;return(0,U.f)(we,ne,()=>{ae=De[re.h](),(0,U.f)(we,ne,()=>{let Ze,Ie;try{({value:Ze,done:Ie}=ae.next())}catch(Ve){return void we.error(Ve)}Ie?we.complete():we.next(Ze)},0,!0)}),()=>(0,se.m)(null==ae?void 0:ae.return)&&ae.return()})}(De,ne);if((0,ut.L)(De))return function pt(De,ne){return ue((0,ut.Q)(De),ne)}(De,ne)}throw(0,je.z)(De)}(De,ne):(0,d.Xf)(De)}},8421:(gt,ke,P)=>{"use strict";P.d(ke,{Xf:()=>Ue});var d=P(655),a=P(1144),V=P(8239),ve=P(8306),B=P(3670),H=P(2206),z=P(4532),re=P(6495),se=P(3260),U=P(576),J=P(7849),ue=P(8822);function Ue(Be){if(Be instanceof ve.y)return Be;if(null!=Be){if((0,B.c)(Be))return function Pe(Be){return new ve.y(q=>{const De=Be[ue.L]();if((0,U.m)(De.subscribe))return De.subscribe(q);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,a.z)(Be))return function Le(Be){return new ve.y(q=>{for(let De=0;De<Be.length&&!q.closed;De++)q.next(Be[De]);q.complete()})}(Be);if((0,V.t)(Be))return function nt(Be){return new ve.y(q=>{Be.then(De=>{q.closed||(q.next(De),q.complete())},De=>q.error(De)).then(null,J.h)})}(Be);if((0,H.D)(Be))return je(Be);if((0,re.T)(Be))return function be(Be){return new ve.y(q=>{for(const De of Be)if(q.next(De),q.closed)return;q.complete()})}(Be);if((0,se.L)(Be))return function ut(Be){return je((0,se.Q)(Be))}(Be)}throw(0,z.z)(Be)}function je(Be){return new ve.y(q=>{(function pt(Be,q){var De,ne,we,ae;return(0,d.mG)(this,void 0,void 0,function*(){try{for(De=(0,d.KL)(Be);!(ne=yield De.next()).done;)if(q.next(ne.value),q.closed)return}catch(Ze){we={error:Ze}}finally{try{ne&&!ne.done&&(ae=De.return)&&(yield ae.call(De))}finally{if(we)throw we.error}}q.complete()})})(Be,q).catch(De=>q.error(De))})}},6451:(gt,ke,P)=>{"use strict";P.d(ke,{T:()=>H});var d=P(8189),a=P(8421),V=P(515),ve=P(3269),B=P(8996);function H(...z){const re=(0,ve.yG)(z),se=(0,ve._6)(z,1/0),U=z;return U.length?1===U.length?(0,a.Xf)(U[0]):(0,d.J)(se)((0,B.D)(U,re)):V.E}},9646:(gt,ke,P)=>{"use strict";P.d(ke,{of:()=>V});var d=P(3269),a=P(8996);function V(...ve){const B=(0,d.yG)(ve);return(0,a.D)(ve,B)}},5403:(gt,ke,P)=>{"use strict";P.d(ke,{x:()=>a});var d=P(930);function a(ve,B,H,z,re){return new V(ve,B,H,z,re)}class V extends d.Lv{constructor(B,H,z,re,se,U){super(B),this.onFinalize=se,this.shouldUnsubscribe=U,this._next=H?function(J){try{H(J)}catch(ue){B.error(ue)}}:super._next,this._error=re?function(J){try{re(J)}catch(ue){B.error(ue)}finally{this.unsubscribe()}}:super._error,this._complete=z?function(){try{z()}catch(J){B.error(J)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var B;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:H}=this;super.unsubscribe(),!H&&(null===(B=this.onFinalize)||void 0===B||B.call(this))}}}},1884:(gt,ke,P)=>{"use strict";P.d(ke,{x:()=>ve});var d=P(4671),a=P(4482),V=P(5403);function ve(H,z=d.y){return H=null!=H?H:B,(0,a.e)((re,se)=>{let U,J=!0;re.subscribe((0,V.x)(se,ue=>{const Ue=z(ue);(J||!H(U,Ue))&&(J=!1,U=Ue,se.next(ue))}))})}function B(H,z){return H===z}},9300:(gt,ke,P)=>{"use strict";P.d(ke,{h:()=>V});var d=P(4482),a=P(5403);function V(ve,B){return(0,d.e)((H,z)=>{let re=0;H.subscribe((0,a.x)(z,se=>ve.call(B,se,re++)&&z.next(se)))})}},4004:(gt,ke,P)=>{"use strict";P.d(ke,{U:()=>V});var d=P(4482),a=P(5403);function V(ve,B){return(0,d.e)((H,z)=>{let re=0;H.subscribe((0,a.x)(z,se=>{z.next(ve.call(B,se,re++))}))})}},8189:(gt,ke,P)=>{"use strict";P.d(ke,{J:()=>V});var d=P(5577),a=P(4671);function V(ve=1/0){return(0,d.z)(a.y,ve)}},5577:(gt,ke,P)=>{"use strict";P.d(ke,{z:()=>re});var d=P(4004),a=P(8421),V=P(4482),ve=P(9672),B=P(5403),z=P(576);function re(se,U,J=1/0){return(0,z.m)(U)?re((ue,Ue)=>(0,d.U)((Pe,Le)=>U(ue,Pe,Ue,Le))((0,a.Xf)(se(ue,Ue))),J):("number"==typeof U&&(J=U),(0,V.e)((ue,Ue)=>function H(se,U,J,ue,Ue,Pe,Le,nt){const be=[];let je=0,ut=0,pt=!1;const Be=()=>{pt&&!be.length&&!je&&U.complete()},q=ne=>je<ue?De(ne):be.push(ne),De=ne=>{Pe&&U.next(ne),je++;let we=!1;(0,a.Xf)(J(ne,ut++)).subscribe((0,B.x)(U,ae=>{null==Ue||Ue(ae),Pe?q(ae):U.next(ae)},()=>{we=!0},void 0,()=>{if(we)try{for(je--;be.length&&je<ue;){const ae=be.shift();Le?(0,ve.f)(U,Le,()=>De(ae)):De(ae)}Be()}catch(ae){U.error(ae)}}))};return se.subscribe((0,B.x)(U,q,()=>{pt=!0,Be()})),()=>{null==nt||nt()}}(ue,Ue,se,J)))}},5363:(gt,ke,P)=>{"use strict";P.d(ke,{Q:()=>ve});var d=P(9672),a=P(4482),V=P(5403);function ve(B,H=0){return(0,a.e)((z,re)=>{z.subscribe((0,V.x)(re,se=>(0,d.f)(re,B,()=>re.next(se),H),()=>(0,d.f)(re,B,()=>re.complete(),H),se=>(0,d.f)(re,B,()=>re.error(se),H)))})}},1520:(gt,ke,P)=>{"use strict";P.d(ke,{G:()=>V});var d=P(4482),a=P(5403);function V(){return(0,d.e)((ve,B)=>{let H,z=!1;ve.subscribe((0,a.x)(B,re=>{const se=H;H=re,z&&B.next([se,re]),z=!0}))})}},3099:(gt,ke,P)=>{"use strict";P.d(ke,{B:()=>H});var d=P(8996),a=P(5698),V=P(7579),ve=P(930),B=P(4482);function H(re={}){const{connector:se=(()=>new V.x),resetOnError:U=!0,resetOnComplete:J=!0,resetOnRefCountZero:ue=!0}=re;return Ue=>{let Pe=null,Le=null,nt=null,be=0,je=!1,ut=!1;const pt=()=>{null==Le||Le.unsubscribe(),Le=null},Be=()=>{pt(),Pe=nt=null,je=ut=!1},q=()=>{const De=Pe;Be(),null==De||De.unsubscribe()};return(0,B.e)((De,ne)=>{be++,!ut&&!je&&pt();const we=nt=null!=nt?nt:se();ne.add(()=>{be--,0===be&&!ut&&!je&&(Le=z(q,ue))}),we.subscribe(ne),Pe||(Pe=new ve.Hp({next:ae=>we.next(ae),error:ae=>{ut=!0,pt(),Le=z(Be,U,ae),we.error(ae)},complete:()=>{je=!0,pt(),Le=z(Be,J),we.complete()}}),(0,d.D)(De).subscribe(Pe))})(Ue)}}function z(re,se,...U){return!0===se?(re(),null):!1===se?null:se(...U).pipe((0,a.q)(1)).subscribe(()=>re())}},3151:(gt,ke,P)=>{"use strict";P.d(ke,{d:()=>B});var d=P(7579),a=P(6063);class V extends d.x{constructor(z=1/0,re=1/0,se=a.l){super(),this._bufferSize=z,this._windowTime=re,this._timestampProvider=se,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=re===1/0,this._bufferSize=Math.max(1,z),this._windowTime=Math.max(1,re)}next(z){const{isStopped:re,_buffer:se,_infiniteTimeWindow:U,_timestampProvider:J,_windowTime:ue}=this;re||(se.push(z),!U&&se.push(J.now()+ue)),this._trimBuffer(),super.next(z)}_subscribe(z){this._throwIfClosed(),this._trimBuffer();const re=this._innerSubscribe(z),{_infiniteTimeWindow:se,_buffer:U}=this,J=U.slice();for(let ue=0;ue<J.length&&!z.closed;ue+=se?1:2)z.next(J[ue]);return this._checkFinalizedStatuses(z),re}_trimBuffer(){const{_bufferSize:z,_timestampProvider:re,_buffer:se,_infiniteTimeWindow:U}=this,J=(U?1:2)*z;if(z<1/0&&J<se.length&&se.splice(0,se.length-J),!U){const ue=re.now();let Ue=0;for(let Pe=1;Pe<se.length&&se[Pe]<=ue;Pe+=2)Ue=Pe;Ue&&se.splice(0,Ue+1)}}}var ve=P(3099);function B(H,z,re){let se,U=!1;return H&&"object"==typeof H?({bufferSize:se=1/0,windowTime:z=1/0,refCount:U=!1,scheduler:re}=H):se=null!=H?H:1/0,(0,ve.B)({connector:()=>new V(se,z,re),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:U})}},8675:(gt,ke,P)=>{"use strict";P.d(ke,{O:()=>ve});var d=P(7272),a=P(3269),V=P(4482);function ve(...B){const H=(0,a.yG)(B);return(0,V.e)((z,re)=>{(H?(0,d.z)(B,z,H):(0,d.z)(B,z)).subscribe(re)})}},9468:(gt,ke,P)=>{"use strict";P.d(ke,{R:()=>a});var d=P(4482);function a(V,ve=0){return(0,d.e)((B,H)=>{H.add(V.schedule(()=>B.subscribe(H),ve))})}},3900:(gt,ke,P)=>{"use strict";P.d(ke,{w:()=>ve});var d=P(8421),a=P(4482),V=P(5403);function ve(B,H){return(0,a.e)((z,re)=>{let se=null,U=0,J=!1;const ue=()=>J&&!se&&re.complete();z.subscribe((0,V.x)(re,Ue=>{null==se||se.unsubscribe();let Pe=0;const Le=U++;(0,d.Xf)(B(Ue,Le)).subscribe(se=(0,V.x)(re,nt=>re.next(H?H(Ue,nt,Le,Pe++):nt),()=>{se=null,ue()}))},()=>{J=!0,ue()}))})}},5698:(gt,ke,P)=>{"use strict";P.d(ke,{q:()=>ve});var d=P(515),a=P(4482),V=P(5403);function ve(B){return B<=0?()=>d.E:(0,a.e)((H,z)=>{let re=0;H.subscribe((0,V.x)(z,se=>{++re<=B&&(z.next(se),B<=re&&z.complete())}))})}},8505:(gt,ke,P)=>{"use strict";P.d(ke,{b:()=>B});var d=P(576),a=P(4482),V=P(5403),ve=P(4671);function B(H,z,re){const se=(0,d.m)(H)||z||re?{next:H,error:z,complete:re}:H;return se?(0,a.e)((U,J)=>{var ue;null===(ue=se.subscribe)||void 0===ue||ue.call(se);let Ue=!0;U.subscribe((0,V.x)(J,Pe=>{var Le;null===(Le=se.next)||void 0===Le||Le.call(se,Pe),J.next(Pe)},()=>{var Pe;Ue=!1,null===(Pe=se.complete)||void 0===Pe||Pe.call(se),J.complete()},Pe=>{var Le;Ue=!1,null===(Le=se.error)||void 0===Le||Le.call(se,Pe),J.error(Pe)},()=>{var Pe,Le;Ue&&(null===(Pe=se.unsubscribe)||void 0===Pe||Pe.call(se)),null===(Le=se.finalize)||void 0===Le||Le.call(se)}))}):ve.y}},4408:(gt,ke,P)=>{"use strict";P.d(ke,{o:()=>B});var d=P(727);class a extends d.w0{constructor(z,re){super()}schedule(z,re=0){return this}}const V={setInterval(H,z,...re){const{delegate:se}=V;return(null==se?void 0:se.setInterval)?se.setInterval(H,z,...re):setInterval(H,z,...re)},clearInterval(H){const{delegate:z}=V;return((null==z?void 0:z.clearInterval)||clearInterval)(H)},delegate:void 0};var ve=P(8737);class B extends a{constructor(z,re){super(z,re),this.scheduler=z,this.work=re,this.pending=!1}schedule(z,re=0){if(this.closed)return this;this.state=z;const se=this.id,U=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(U,se,re)),this.pending=!0,this.delay=re,this.id=this.id||this.requestAsyncId(U,this.id,re),this}requestAsyncId(z,re,se=0){return V.setInterval(z.flush.bind(z,this),se)}recycleAsyncId(z,re,se=0){if(null!=se&&this.delay===se&&!1===this.pending)return re;V.clearInterval(re)}execute(z,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(z,re);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(z,re){let U,se=!1;try{this.work(z)}catch(J){se=!0,U=J||new Error("Scheduled action threw falsy error")}if(se)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:z,scheduler:re}=this,{actions:se}=re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.P)(se,this),null!=z&&(this.id=this.recycleAsyncId(re,z,null)),this.delay=null,super.unsubscribe()}}}},7565:(gt,ke,P)=>{"use strict";P.d(ke,{v:()=>V});var d=P(6063);class a{constructor(B,H=a.now){this.schedulerActionCtor=B,this.now=H}schedule(B,H=0,z){return new this.schedulerActionCtor(this,B).schedule(z,H)}}a.now=d.l.now;class V extends a{constructor(B,H=a.now){super(B,H),this.actions=[],this._active=!1,this._scheduled=void 0}flush(B){const{actions:H}=this;if(this._active)return void H.push(B);let z;this._active=!0;do{if(z=B.execute(B.state,B.delay))break}while(B=H.shift());if(this._active=!1,z){for(;B=H.shift();)B.unsubscribe();throw z}}}},4986:(gt,ke,P)=>{"use strict";P.d(ke,{P:()=>ve,z:()=>V});var d=P(4408);const V=new(P(7565).v)(d.o),ve=V},6063:(gt,ke,P)=>{"use strict";P.d(ke,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(gt,ke,P)=>{"use strict";P.d(ke,{z:()=>d});const d={setTimeout(a,V,...ve){const{delegate:B}=d;return(null==B?void 0:B.setTimeout)?B.setTimeout(a,V,...ve):setTimeout(a,V,...ve)},clearTimeout(a){const{delegate:V}=d;return((null==V?void 0:V.clearTimeout)||clearTimeout)(a)},delegate:void 0}},2202:(gt,ke,P)=>{"use strict";P.d(ke,{h:()=>a});const a=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(gt,ke,P)=>{"use strict";P.d(ke,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(gt,ke,P)=>{"use strict";P.d(ke,{_6:()=>H,jO:()=>ve,yG:()=>B});var d=P(576),a=P(3532);function V(z){return z[z.length-1]}function ve(z){return(0,d.m)(V(z))?z.pop():void 0}function B(z){return(0,a.K)(V(z))?z.pop():void 0}function H(z,re){return"number"==typeof V(z)?z.pop():re}},4742:(gt,ke,P)=>{"use strict";P.d(ke,{D:()=>B});const{isArray:d}=Array,{getPrototypeOf:a,prototype:V,keys:ve}=Object;function B(z){if(1===z.length){const re=z[0];if(d(re))return{args:re,keys:null};if(function H(z){return z&&"object"==typeof z&&a(z)===V}(re)){const se=ve(re);return{args:se.map(U=>re[U]),keys:se}}}return{args:z,keys:null}}},8737:(gt,ke,P)=>{"use strict";function d(a,V){if(a){const ve=a.indexOf(V);0<=ve&&a.splice(ve,1)}}P.d(ke,{P:()=>d})},3888:(gt,ke,P)=>{"use strict";function d(a){const ve=a(B=>{Error.call(B),B.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}P.d(ke,{d:()=>d})},1810:(gt,ke,P)=>{"use strict";function d(a,V){return a.reduce((ve,B,H)=>(ve[B]=V[H],ve),{})}P.d(ke,{n:()=>d})},2806:(gt,ke,P)=>{"use strict";P.d(ke,{O:()=>ve,x:()=>V});var d=P(2416);let a=null;function V(B){if(d.v.useDeprecatedSynchronousErrorHandling){const H=!a;if(H&&(a={errorThrown:!1,error:null}),B(),H){const{errorThrown:z,error:re}=a;if(a=null,z)throw re}}else B()}function ve(B){d.v.useDeprecatedSynchronousErrorHandling&&a&&(a.errorThrown=!0,a.error=B)}},9672:(gt,ke,P)=>{"use strict";function d(a,V,ve,B=0,H=!1){const z=V.schedule(function(){ve(),H?a.add(this.schedule(null,B)):this.unsubscribe()},B);if(a.add(z),!H)return z}P.d(ke,{f:()=>d})},4671:(gt,ke,P)=>{"use strict";function d(a){return a}P.d(ke,{y:()=>d})},1144:(gt,ke,P)=>{"use strict";P.d(ke,{z:()=>d});const d=a=>a&&"number"==typeof a.length&&"function"!=typeof a},2206:(gt,ke,P)=>{"use strict";P.d(ke,{D:()=>a});var d=P(576);function a(V){return Symbol.asyncIterator&&(0,d.m)(null==V?void 0:V[Symbol.asyncIterator])}},576:(gt,ke,P)=>{"use strict";function d(a){return"function"==typeof a}P.d(ke,{m:()=>d})},3670:(gt,ke,P)=>{"use strict";P.d(ke,{c:()=>V});var d=P(8822),a=P(576);function V(ve){return(0,a.m)(ve[d.L])}},6495:(gt,ke,P)=>{"use strict";P.d(ke,{T:()=>V});var d=P(2202),a=P(576);function V(ve){return(0,a.m)(null==ve?void 0:ve[d.h])}},8239:(gt,ke,P)=>{"use strict";P.d(ke,{t:()=>a});var d=P(576);function a(V){return(0,d.m)(null==V?void 0:V.then)}},3260:(gt,ke,P)=>{"use strict";P.d(ke,{L:()=>ve,Q:()=>V});var d=P(655),a=P(576);function V(B){return(0,d.FC)(this,arguments,function*(){const z=B.getReader();try{for(;;){const{value:re,done:se}=yield(0,d.qq)(z.read());if(se)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(re)}}finally{z.releaseLock()}})}function ve(B){return(0,a.m)(null==B?void 0:B.getReader)}},3532:(gt,ke,P)=>{"use strict";P.d(ke,{K:()=>a});var d=P(576);function a(V){return V&&(0,d.m)(V.schedule)}},4482:(gt,ke,P)=>{"use strict";P.d(ke,{A:()=>a,e:()=>V});var d=P(576);function a(ve){return(0,d.m)(null==ve?void 0:ve.lift)}function V(ve){return B=>{if(a(B))return B.lift(function(H){try{return ve(H,this)}catch(z){this.error(z)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(gt,ke,P)=>{"use strict";P.d(ke,{Z:()=>ve});var d=P(4004);const{isArray:a}=Array;function ve(B){return(0,d.U)(H=>function V(B,H){return a(H)?B(...H):B(H)}(B,H))}},5032:(gt,ke,P)=>{"use strict";function d(){}P.d(ke,{Z:()=>d})},7849:(gt,ke,P)=>{"use strict";P.d(ke,{h:()=>V});var d=P(2416),a=P(3410);function V(ve){a.z.setTimeout(()=>{const{onUnhandledError:B}=d.v;if(!B)throw ve;B(ve)})}},4532:(gt,ke,P)=>{"use strict";function d(a){return new TypeError(`You provided ${null!==a&&"object"==typeof a?"an invalid object":`'${a}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(ke,{z:()=>d})},655:(gt,ke,P)=>{"use strict";function ve(Ie,Ve){var Re={};for(var qe in Ie)Object.prototype.hasOwnProperty.call(Ie,qe)&&Ve.indexOf(qe)<0&&(Re[qe]=Ie[qe]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(qe=Object.getOwnPropertySymbols(Ie);He<qe.length;He++)Ve.indexOf(qe[He])<0&&Object.prototype.propertyIsEnumerable.call(Ie,qe[He])&&(Re[qe[He]]=Ie[qe[He]])}return Re}function re(Ie,Ve,Re,qe){return new(Re||(Re=Promise))(function(at,Pt){function bn(Sn){try{Et(qe.next(Sn))}catch(Hn){Pt(Hn)}}function un(Sn){try{Et(qe.throw(Sn))}catch(Hn){Pt(Hn)}}function Et(Sn){Sn.done?at(Sn.value):function He(at){return at instanceof Re?at:new Re(function(Pt){Pt(at)})}(Sn.value).then(bn,un)}Et((qe=qe.apply(Ie,Ve||[])).next())})}function be(Ie){return this instanceof be?(this.v=Ie,this):new be(Ie)}function je(Ie,Ve,Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,qe=Re.apply(Ie,Ve||[]),at=[];return He={},Pt("next"),Pt("throw"),Pt("return"),He[Symbol.asyncIterator]=function(){return this},He;function Pt(Fn){qe[Fn]&&(He[Fn]=function(xn){return new Promise(function(vi,Dn){at.push([Fn,xn,vi,Dn])>1||bn(Fn,xn)})})}function bn(Fn,xn){try{!function un(Fn){Fn.value instanceof be?Promise.resolve(Fn.value.v).then(Et,Sn):Hn(at[0][2],Fn)}(qe[Fn](xn))}catch(vi){Hn(at[0][3],vi)}}function Et(Fn){bn("next",Fn)}function Sn(Fn){bn("throw",Fn)}function Hn(Fn,xn){Fn(xn),at.shift(),at.length&&bn(at[0][0],at[0][1])}}function pt(Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,Ve=Ie[Symbol.asyncIterator];return Ve?Ve.call(Ie):(Ie=function ue(Ie){var Ve="function"==typeof Symbol&&Symbol.iterator,Re=Ve&&Ie[Ve],qe=0;if(Re)return Re.call(Ie);if(Ie&&"number"==typeof Ie.length)return{next:function(){return Ie&&qe>=Ie.length&&(Ie=void 0),{value:Ie&&Ie[qe++],done:!Ie}}};throw new TypeError(Ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ie),Re={},qe("next"),qe("throw"),qe("return"),Re[Symbol.asyncIterator]=function(){return this},Re);function qe(at){Re[at]=Ie[at]&&function(Pt){return new Promise(function(bn,un){!function He(at,Pt,bn,un){Promise.resolve(un).then(function(Et){at({value:Et,done:bn})},Pt)}(bn,un,(Pt=Ie[at](Pt)).done,Pt.value)})}}}P.d(ke,{FC:()=>je,KL:()=>pt,_T:()=>ve,mG:()=>re,qq:()=>be})},1777:(gt,ke,P)=>{"use strict";P.d(ke,{IO:()=>Le,LC:()=>a,SB:()=>se,X$:()=>ve,ZE:()=>ut,ZN:()=>je,_7:()=>Pe,_j:()=>d,eR:()=>J,jt:()=>B,k1:()=>pt,l3:()=>V,oB:()=>re,oQ:()=>ue,pV:()=>Ue,ru:()=>H,vP:()=>z});class d{}class a{}const V="*";function ve(Be,q){return{type:7,name:Be,definitions:q,options:{}}}function B(Be,q=null){return{type:4,styles:q,timings:Be}}function H(Be,q=null){return{type:3,steps:Be,options:q}}function z(Be,q=null){return{type:2,steps:Be,options:q}}function re(Be){return{type:6,styles:Be,offset:null}}function se(Be,q,De){return{type:0,name:Be,styles:q,options:De}}function J(Be,q,De=null){return{type:1,expr:Be,animation:q,options:De}}function ue(Be,q=null){return{type:8,animation:Be,options:q}}function Ue(Be=null){return{type:9,options:Be}}function Pe(Be,q=null){return{type:10,animation:Be,options:q}}function Le(Be,q,De=null){return{type:11,selector:Be,animation:q,options:De}}function be(Be){Promise.resolve(null).then(Be)}class je{constructor(q=0,De=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=q+De}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(q=>q()),this._onDoneFns=[])}onStart(q){this._onStartFns.push(q)}onDone(q){this._onDoneFns.push(q)}onDestroy(q){this._onDestroyFns.push(q)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){be(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(q=>q()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(q=>q()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(q){this._position=this.totalTime?q*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(q){const De="start"==q?this._onStartFns:this._onDoneFns;De.forEach(ne=>ne()),De.length=0}}class ut{constructor(q){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=q;let De=0,ne=0,we=0;const ae=this.players.length;0==ae?be(()=>this._onFinish()):this.players.forEach(Ze=>{Ze.onDone(()=>{++De==ae&&this._onFinish()}),Ze.onDestroy(()=>{++ne==ae&&this._onDestroy()}),Ze.onStart(()=>{++we==ae&&this._onStart()})}),this.totalTime=this.players.reduce((Ze,Ie)=>Math.max(Ze,Ie.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(q=>q()),this._onDoneFns=[])}init(){this.players.forEach(q=>q.init())}onStart(q){this._onStartFns.push(q)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(q=>q()),this._onStartFns=[])}onDone(q){this._onDoneFns.push(q)}onDestroy(q){this._onDestroyFns.push(q)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(q=>q.play())}pause(){this.players.forEach(q=>q.pause())}restart(){this.players.forEach(q=>q.restart())}finish(){this._onFinish(),this.players.forEach(q=>q.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(q=>q.destroy()),this._onDestroyFns.forEach(q=>q()),this._onDestroyFns=[])}reset(){this.players.forEach(q=>q.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(q){const De=q*this.totalTime;this.players.forEach(ne=>{const we=ne.totalTime?Math.min(1,De/ne.totalTime):1;ne.setPosition(we)})}getPosition(){const q=this.players.reduce((De,ne)=>null===De||ne.totalTime>De.totalTime?ne:De,null);return null!=q?q.getPosition():0}beforeDestroy(){this.players.forEach(q=>{q.beforeDestroy&&q.beforeDestroy()})}triggerCallback(q){const De="start"==q?this._onStartFns:this._onDoneFns;De.forEach(ne=>ne()),De.length=0}}const pt="!"},8868:(gt,ke,P)=>{"use strict";P.d(ke,{xd:()=>wt,x0:()=>sn,N7:()=>Vi,Cl:()=>nn});var d=P(5e3);function V(he,Ce=0){return function ve(he){return!isNaN(parseFloat(he))&&!isNaN(Number(he))}(he)?Number(he):Ce}var se=P(8421),U=P(8306),J=P(5577),ue=P(1144),Ue=P(576),Pe=P(3268);const Le=["addListener","removeListener"],nt=["addEventListener","removeEventListener"],be=["on","off"];function je(he,Ce,W,Me){if((0,Ue.m)(W)&&(Me=W,W=void 0),Me)return je(he,Ce,W).pipe((0,Pe.Z)(Me));const[Je,et]=function q(he){return(0,Ue.m)(he.addEventListener)&&(0,Ue.m)(he.removeEventListener)}(he)?nt.map(_t=>Jt=>he[_t](Ce,Jt,W)):function pt(he){return(0,Ue.m)(he.addListener)&&(0,Ue.m)(he.removeListener)}(he)?Le.map(ut(he,Ce)):function Be(he){return(0,Ue.m)(he.on)&&(0,Ue.m)(he.off)}(he)?be.map(ut(he,Ce)):[];if(!Je&&(0,ue.z)(he))return(0,J.z)(_t=>je(_t,Ce,W))((0,se.Xf)(he));if(!Je)throw new TypeError("Invalid event target");return new U.y(_t=>{const Jt=(...qt)=>_t.next(1<qt.length?qt:qt[0]);return Je(Jt),()=>et(Jt)})}function ut(he,Ce){return W=>Me=>he[W](Ce,Me)}var De=P(4408),ne=P(727);const we={schedule(he){let Ce=requestAnimationFrame,W=cancelAnimationFrame;const{delegate:Me}=we;Me&&(Ce=Me.requestAnimationFrame,W=Me.cancelAnimationFrame);const Je=Ce(et=>{W=void 0,he(et)});return new ne.w0(()=>null==W?void 0:W(Je))},requestAnimationFrame(...he){const{delegate:Ce}=we;return((null==Ce?void 0:Ce.requestAnimationFrame)||requestAnimationFrame)(...he)},cancelAnimationFrame(...he){const{delegate:Ce}=we;return((null==Ce?void 0:Ce.cancelAnimationFrame)||cancelAnimationFrame)(...he)},delegate:void 0};var Ze=P(7565);const Ve=new class Ie extends Ze.v{flush(Ce){this._active=!0;const W=this._scheduled;this._scheduled=void 0;const{actions:Me}=this;let Je;Ce=Ce||Me.shift();do{if(Je=Ce.execute(Ce.state,Ce.delay))break}while((Ce=Me[0])&&Ce.id===W&&Me.shift());if(this._active=!1,Je){for(;(Ce=Me[0])&&Ce.id===W&&Me.shift();)Ce.unsubscribe();throw Je}}}(class ae extends De.o{constructor(Ce,W){super(Ce,W),this.scheduler=Ce,this.work=W}requestAsyncId(Ce,W,Me=0){return null!==Me&&Me>0?super.requestAsyncId(Ce,W,Me):(Ce.actions.push(this),Ce._scheduled||(Ce._scheduled=we.requestAnimationFrame(()=>Ce.flush(void 0))))}recycleAsyncId(Ce,W,Me=0){if(null!=Me&&Me>0||null==Me&&this.delay>0)return super.recycleAsyncId(Ce,W,Me);Ce.actions.some(Je=>Je.id===W)||(we.cancelAnimationFrame(W),Ce._scheduled=void 0)}});let He,qe=1;const at={};function Pt(he){return he in at&&(delete at[he],!0)}const bn={setImmediate(he){const Ce=qe++;return at[Ce]=!0,He||(He=Promise.resolve()),He.then(()=>Pt(Ce)&&he()),Ce},clearImmediate(he){Pt(he)}},{setImmediate:Et,clearImmediate:Sn}=bn,Hn={setImmediate(...he){const{delegate:Ce}=Hn;return((null==Ce?void 0:Ce.setImmediate)||Et)(...he)},clearImmediate(he){const{delegate:Ce}=Hn;return((null==Ce?void 0:Ce.clearImmediate)||Sn)(he)},delegate:void 0},vi=new class xn extends Ze.v{flush(Ce){this._active=!0;const W=this._scheduled;this._scheduled=void 0;const{actions:Me}=this;let Je;Ce=Ce||Me.shift();do{if(Je=Ce.execute(Ce.state,Ce.delay))break}while((Ce=Me[0])&&Ce.id===W&&Me.shift());if(this._active=!1,Je){for(;(Ce=Me[0])&&Ce.id===W&&Me.shift();)Ce.unsubscribe();throw Je}}}(class Fn extends De.o{constructor(Ce,W){super(Ce,W),this.scheduler=Ce,this.work=W}requestAsyncId(Ce,W,Me=0){return null!==Me&&Me>0?super.requestAsyncId(Ce,W,Me):(Ce.actions.push(this),Ce._scheduled||(Ce._scheduled=Hn.setImmediate(Ce.flush.bind(Ce,void 0))))}recycleAsyncId(Ce,W,Me=0){if(null!=Me&&Me>0||null==Me&&this.delay>0)return super.recycleAsyncId(Ce,W,Me);Ce.actions.some(Je=>Je.id===W)||(Hn.clearImmediate(W),Ce._scheduled=void 0)}});function an(he){return!!he&&(he instanceof U.y||(0,Ue.m)(he.lift)&&(0,Ue.m)(he.subscribe))}var ti=P(7579),fi=P(9646),ai=P(4986),pi=P(4482),wi=P(5403),gi=P(3532);function Ci(he,Ce=ai.z){return function Fi(he){return(0,pi.e)((Ce,W)=>{let Me=!1,Je=null,et=null,_t=!1;const Jt=()=>{if(null==et||et.unsubscribe(),et=null,Me){Me=!1;const zt=Je;Je=null,W.next(zt)}_t&&W.complete()},qt=()=>{et=null,_t&&W.complete()};Ce.subscribe((0,wi.x)(W,zt=>{Me=!0,Je=zt,et||(0,se.Xf)(he(zt)).subscribe(et=(0,wi.x)(W,Jt,qt))},()=>{_t=!0,(!Me||!et||et.closed)&&W.complete()}))})}(()=>function Ut(he=0,Ce,W=ai.P){let Me=-1;return null!=Ce&&((0,gi.K)(Ce)?W=Ce:Me=Ce),new U.y(Je=>{let et=function Oi(he){return he instanceof Date&&!isNaN(he)}(he)?+he-W.now():he;et<0&&(et=0);let _t=0;return W.schedule(function(){Je.closed||(Je.next(_t++),0<=Me?this.schedule(void 0,Me):Je.complete())},et)})}(he,Ce))}var Ln=P(5032);function mn(he){return(0,pi.e)((Ce,W)=>{(0,se.Xf)(he).subscribe((0,wi.x)(W,()=>W.complete(),Ln.Z)),!W.closed&&Ce.subscribe(W)})}var Ji=P(1884),Si=P(9300),mi=P(8675),Ge=P(1520),xt=P(3900),ie=P(3151),te=P(9808);let ce;try{ce="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(he){ce=!1}let _e,ye,w=(()=>{class he{constructor(W){this._platformId=W,this.isBrowser=this._platformId?(0,te.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ce)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return he.\u0275fac=function(W){return new(W||he)(d.LFG(d.Lbi))},he.\u0275prov=d.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})(),R=(()=>{class he{}return he.\u0275fac=function(W){return new(W||he)},he.\u0275mod=d.oAB({type:he}),he.\u0275inj=d.cJS({}),he})();function pe(){if("object"!=typeof document||!document)return 0;if(null==_e){const he=document.createElement("div"),Ce=he.style;he.dir="rtl",Ce.width="1px",Ce.overflow="auto",Ce.visibility="hidden",Ce.pointerEvents="none",Ce.position="absolute";const W=document.createElement("div"),Me=W.style;Me.width="2px",Me.height="1px",he.appendChild(W),document.body.appendChild(he),_e=0,0===he.scrollLeft&&(he.scrollLeft=1,_e=0===he.scrollLeft?1:2),he.remove()}return _e}const $t=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function qn(){return(0,d.f3M)(te.K0)}});let li=(()=>{class he{constructor(W){if(this.value="ltr",this.change=new d.vpe,W){const Je=W.documentElement?W.documentElement.dir:null,et=(W.body?W.body.dir:null)||Je;this.value="ltr"===et||"rtl"===et?et:"ltr"}}ngOnDestroy(){this.change.complete()}}return he.\u0275fac=function(W){return new(W||he)(d.LFG($t,8))},he.\u0275prov=d.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})(),_n=(()=>{class he{}return he.\u0275fac=function(W){return new(W||he)},he.\u0275mod=d.oAB({type:he}),he.\u0275inj=d.cJS({}),he})();class Un extends class Ot{}{constructor(Ce){super(),this._data=Ce}connect(){return an(this._data)?this._data:(0,fi.of)(this._data)}disconnect(){}}class Mr{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(Ce,W,Me,Je,et){Ce.forEachOperation((_t,Jt,qt)=>{let zt,ri;null==_t.previousIndex?(zt=this._insertView(()=>Me(_t,Jt,qt),qt,W,Je(_t)),ri=zt?1:0):null==qt?(this._detachAndCacheView(Jt,W),ri=3):(zt=this._moveView(Jt,qt,W,Je(_t)),ri=2),et&&et({context:null==zt?void 0:zt.context,operation:ri,record:_t})})}detach(){for(const Ce of this._viewCache)Ce.destroy();this._viewCache=[]}_insertView(Ce,W,Me,Je){const et=this._insertViewFromCache(W,Me);if(et)return void(et.context.$implicit=Je);const _t=Ce();return Me.createEmbeddedView(_t.templateRef,_t.context,_t.index)}_detachAndCacheView(Ce,W){const Me=W.detach(Ce);this._maybeCacheView(Me,W)}_moveView(Ce,W,Me,Je){const et=Me.get(Ce);return Me.move(et,W),et.context.$implicit=Je,et}_maybeCacheView(Ce,W){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(Ce);else{const Me=W.indexOf(Ce);-1===Me?Ce.destroy():W.remove(Me)}}_insertViewFromCache(Ce,W){const Me=this._viewCache.pop();return Me&&W.insert(Me,Ce),Me||null}}const zr=new d.OlP("_ViewRepeater"),Li=["contentWrapper"],mr=["*"],bi=new d.OlP("VIRTUAL_SCROLL_STRATEGY");class Ms{constructor(Ce,W,Me){this._scrolledIndexChange=new ti.x,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,Ji.x)()),this._viewport=null,this._itemSize=Ce,this._minBufferPx=W,this._maxBufferPx=Me}attach(Ce){this._viewport=Ce,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(Ce,W,Me){this._itemSize=Ce,this._minBufferPx=W,this._maxBufferPx=Me,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(Ce,W){this._viewport&&this._viewport.scrollToOffset(Ce*this._itemSize,W)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const Ce=this._viewport.getRenderedRange(),W={start:Ce.start,end:Ce.end},Me=this._viewport.getViewportSize(),Je=this._viewport.getDataLength();let et=this._viewport.measureScrollOffset(),_t=this._itemSize>0?et/this._itemSize:0;if(W.end>Je){const qt=Math.ceil(Me/this._itemSize),zt=Math.max(0,Math.min(_t,Je-qt));_t!=zt&&(_t=zt,et=zt*this._itemSize,W.start=Math.floor(_t)),W.end=Math.max(0,Math.min(Je,W.start+qt))}const Jt=et-W.start*this._itemSize;if(Jt<this._minBufferPx&&0!=W.start){const qt=Math.ceil((this._maxBufferPx-Jt)/this._itemSize);W.start=Math.max(0,W.start-qt),W.end=Math.min(Je,Math.ceil(_t+(Me+this._minBufferPx)/this._itemSize))}else{const qt=W.end*this._itemSize-(et+Me);if(qt<this._minBufferPx&&W.end!=Je){const zt=Math.ceil((this._maxBufferPx-qt)/this._itemSize);zt>0&&(W.end=Math.min(Je,W.end+zt),W.start=Math.max(0,Math.floor(_t-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(W),this._viewport.setRenderedContentOffset(this._itemSize*W.start),this._scrolledIndexChange.next(Math.floor(_t))}}function xi(he){return he._scrollStrategy}let wt=(()=>{class he{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Ms(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(W){this._itemSize=V(W)}get minBufferPx(){return this._minBufferPx}set minBufferPx(W){this._minBufferPx=V(W)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(W){this._maxBufferPx=V(W)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return he.\u0275fac=function(W){return new(W||he)},he.\u0275dir=d.lG2({type:he,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[d._Bn([{provide:bi,useFactory:xi,deps:[(0,d.Gpc)(()=>he)]}]),d.TTD]}),he})(),On=(()=>{class he{constructor(W,Me,Je){this._ngZone=W,this._platform=Me,this._scrolled=new ti.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Je}register(W){this.scrollContainers.has(W)||this.scrollContainers.set(W,W.elementScrolled().subscribe(()=>this._scrolled.next(W)))}deregister(W){const Me=this.scrollContainers.get(W);Me&&(Me.unsubscribe(),this.scrollContainers.delete(W))}scrolled(W=20){return this._platform.isBrowser?new U.y(Me=>{this._globalSubscription||this._addGlobalListener();const Je=W>0?this._scrolled.pipe(Ci(W)).subscribe(Me):this._scrolled.subscribe(Me);return this._scrolledCount++,()=>{Je.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,fi.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((W,Me)=>this.deregister(Me)),this._scrolled.complete()}ancestorScrolled(W,Me){const Je=this.getAncestorScrollContainers(W);return this.scrolled(Me).pipe((0,Si.h)(et=>!et||Je.indexOf(et)>-1))}getAncestorScrollContainers(W){const Me=[];return this.scrollContainers.forEach((Je,et)=>{this._scrollableContainsElement(et,W)&&Me.push(et)}),Me}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(W,Me){let Je=function z(he){return he instanceof d.SBq?he.nativeElement:he}(Me),et=W.getElementRef().nativeElement;do{if(Je==et)return!0}while(Je=Je.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>je(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return he.\u0275fac=function(W){return new(W||he)(d.LFG(d.R0b),d.LFG(w),d.LFG(te.K0,8))},he.\u0275prov=d.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})(),ci=(()=>{class he{constructor(W,Me,Je,et){this.elementRef=W,this.scrollDispatcher=Me,this.ngZone=Je,this.dir=et,this._destroyed=new ti.x,this._elementScrolled=new U.y(_t=>this.ngZone.runOutsideAngular(()=>je(this.elementRef.nativeElement,"scroll").pipe(mn(this._destroyed)).subscribe(_t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(W){const Me=this.elementRef.nativeElement,Je=this.dir&&"rtl"==this.dir.value;null==W.left&&(W.left=Je?W.end:W.start),null==W.right&&(W.right=Je?W.start:W.end),null!=W.bottom&&(W.top=Me.scrollHeight-Me.clientHeight-W.bottom),Je&&0!=pe()?(null!=W.left&&(W.right=Me.scrollWidth-Me.clientWidth-W.left),2==pe()?W.left=W.right:1==pe()&&(W.left=W.right?-W.right:W.right)):null!=W.right&&(W.left=Me.scrollWidth-Me.clientWidth-W.right),this._applyScrollToOptions(W)}_applyScrollToOptions(W){const Me=this.elementRef.nativeElement;!function Qe(){if(null==ye){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ye=!1,ye;if("scrollBehavior"in document.documentElement.style)ye=!0;else{const he=Element.prototype.scrollTo;ye=!!he&&!/\{\s*\[native code\]\s*\}/.test(he.toString())}}return ye}()?(null!=W.top&&(Me.scrollTop=W.top),null!=W.left&&(Me.scrollLeft=W.left)):Me.scrollTo(W)}measureScrollOffset(W){const Me="left",et=this.elementRef.nativeElement;if("top"==W)return et.scrollTop;if("bottom"==W)return et.scrollHeight-et.clientHeight-et.scrollTop;const _t=this.dir&&"rtl"==this.dir.value;return"start"==W?W=_t?"right":Me:"end"==W&&(W=_t?Me:"right"),_t&&2==pe()?W==Me?et.scrollWidth-et.clientWidth-et.scrollLeft:et.scrollLeft:_t&&1==pe()?W==Me?et.scrollLeft+et.scrollWidth-et.clientWidth:-et.scrollLeft:W==Me?et.scrollLeft:et.scrollWidth-et.clientWidth-et.scrollLeft}}return he.\u0275fac=function(W){return new(W||he)(d.Y36(d.SBq),d.Y36(On),d.Y36(d.R0b),d.Y36(li,8))},he.\u0275dir=d.lG2({type:he,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),he})(),ii=(()=>{class he{constructor(W,Me,Je){this._platform=W,this._change=new ti.x,this._changeListener=et=>{this._change.next(et)},this._document=Je,Me.runOutsideAngular(()=>{if(W.isBrowser){const et=this._getWindow();et.addEventListener("resize",this._changeListener),et.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const W=this._getWindow();W.removeEventListener("resize",this._changeListener),W.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const W={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),W}getViewportRect(){const W=this.getViewportScrollPosition(),{width:Me,height:Je}=this.getViewportSize();return{top:W.top,left:W.left,bottom:W.top+Je,right:W.left+Me,height:Je,width:Me}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const W=this._document,Me=this._getWindow(),Je=W.documentElement,et=Je.getBoundingClientRect();return{top:-et.top||W.body.scrollTop||Me.scrollY||Je.scrollTop||0,left:-et.left||W.body.scrollLeft||Me.scrollX||Je.scrollLeft||0}}change(W=20){return W>0?this._change.pipe(Ci(W)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const W=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:W.innerWidth,height:W.innerHeight}:{width:0,height:0}}}return he.\u0275fac=function(W){return new(W||he)(d.LFG(w),d.LFG(d.R0b),d.LFG(te.K0,8))},he.\u0275prov=d.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();const Vn="undefined"!=typeof requestAnimationFrame?Ve:vi;let Vi=(()=>{class he extends ci{constructor(W,Me,Je,et,_t,Jt,qt){super(W,Jt,Je,_t),this.elementRef=W,this._changeDetectorRef=Me,this._scrollStrategy=et,this._detachedSubject=new ti.x,this._renderedRangeSubject=new ti.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new U.y(zt=>this._scrollStrategy.scrolledIndexChange.subscribe(ri=>Promise.resolve().then(()=>this.ngZone.run(()=>zt.next(ri))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=ne.w0.EMPTY,this._viewportChanges=qt.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(W){this._orientation!==W&&(this._orientation=W,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(W){this._appendOnly=function a(he){return null!=he&&"false"!=`${he}`}(W)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe((0,mi.O)(null),Ci(0,Vn)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(W){this.ngZone.runOutsideAngular(()=>{this._forOf=W,this._forOf.dataStream.pipe(mn(this._detachedSubject)).subscribe(Me=>{const Je=Me.length;Je!==this._dataLength&&(this._dataLength=Je,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(W){this._totalContentSize!==W&&(this._totalContentSize=W,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(W){(function Xi(he,Ce){return he.start==Ce.start&&he.end==Ce.end})(this._renderedRange,W)||(this.appendOnly&&(W={start:0,end:Math.max(this._renderedRange.end,W.end)}),this._renderedRangeSubject.next(this._renderedRange=W),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(W,Me="to-start"){const et="horizontal"==this.orientation,_t=et?"X":"Y";let qt=`translate${_t}(${Number((et&&this.dir&&"rtl"==this.dir.value?-1:1)*W)}px)`;this._renderedContentOffset=W,"to-end"===Me&&(qt+=` translate${_t}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=qt&&(this._renderedContentTransform=qt,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(W,Me="auto"){const Je={behavior:Me};"horizontal"===this.orientation?Je.start=W:Je.top=W,this.scrollTo(Je)}scrollToIndex(W,Me="auto"){this._scrollStrategy.scrollToIndex(W,Me)}measureScrollOffset(W){return super.measureScrollOffset(W||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const W=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?W.offsetWidth:W.offsetHeight}measureRangeSize(W){return this._forOf?this._forOf.measureRangeSize(W,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const W=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?W.clientWidth:W.clientHeight}_markChangeDetectionNeeded(W){W&&this._runAfterChangeDetection.push(W),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const W=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const Me of W)Me()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return he.\u0275fac=function(W){return new(W||he)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(bi,8),d.Y36(li,8),d.Y36(On),d.Y36(ii))},he.\u0275cmp=d.Xpm({type:he,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(W,Me){if(1&W&&d.Gf(Li,7),2&W){let Je;d.iGM(Je=d.CRH())&&(Me._contentWrapper=Je.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(W,Me){2&W&&d.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===Me.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==Me.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[d._Bn([{provide:ci,useExisting:he}]),d.qOj],ngContentSelectors:mr,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(W,Me){1&W&&(d.F$t(),d.TgZ(0,"div",0,1),d.Hsn(2),d.qZA(),d._UZ(3,"div",2)),2&W&&(d.xp6(3),d.Udp("width",Me._totalContentWidth)("height",Me._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),he})();function kn(he,Ce,W){if(!W.getBoundingClientRect)return 0;const Je=W.getBoundingClientRect();return"horizontal"===he?"start"===Ce?Je.left:Je.right:"start"===Ce?Je.top:Je.bottom}let sn=(()=>{class he{constructor(W,Me,Je,et,_t,Jt){this._viewContainerRef=W,this._template=Me,this._differs=Je,this._viewRepeater=et,this._viewport=_t,this.viewChange=new ti.x,this._dataSourceChanges=new ti.x,this.dataStream=this._dataSourceChanges.pipe((0,mi.O)(null),(0,Ge.G)(),(0,xt.w)(([qt,zt])=>this._changeDataSource(qt,zt)),(0,ie.d)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new ti.x,this.dataStream.subscribe(qt=>{this._data=qt,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(mn(this._destroyed)).subscribe(qt=>{this._renderedRange=qt,Jt.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(W){this._cdkVirtualForOf=W,function ni(he){return he&&"function"==typeof he.connect}(W)?this._dataSourceChanges.next(W):this._dataSourceChanges.next(new Un(an(W)?W:Array.from(W||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(W){this._needsUpdate=!0,this._cdkVirtualForTrackBy=W?(Me,Je)=>W(Me+(this._renderedRange?this._renderedRange.start:0),Je):void 0}set cdkVirtualForTemplate(W){W&&(this._needsUpdate=!0,this._template=W)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(W){this._viewRepeater.viewCacheSize=V(W)}measureRangeSize(W,Me){if(W.start>=W.end)return 0;const Je=W.start-this._renderedRange.start,et=W.end-W.start;let _t,Jt;for(let qt=0;qt<et;qt++){const zt=this._viewContainerRef.get(qt+Je);if(zt&&zt.rootNodes.length){_t=Jt=zt.rootNodes[0];break}}for(let qt=et-1;qt>-1;qt--){const zt=this._viewContainerRef.get(qt+Je);if(zt&&zt.rootNodes.length){Jt=zt.rootNodes[zt.rootNodes.length-1];break}}return _t&&Jt?kn(Me,"end",Jt)-kn(Me,"start",_t):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const W=this._differ.diff(this._renderedItems);W?this._applyChanges(W):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((W,Me)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(W,Me):Me)),this._needsUpdate=!0)}_changeDataSource(W,Me){return W&&W.disconnect(this),this._needsUpdate=!0,Me?Me.connect(this):(0,fi.of)()}_updateContext(){const W=this._data.length;let Me=this._viewContainerRef.length;for(;Me--;){const Je=this._viewContainerRef.get(Me);Je.context.index=this._renderedRange.start+Me,Je.context.count=W,this._updateComputedContextProperties(Je.context),Je.detectChanges()}}_applyChanges(W){this._viewRepeater.applyChanges(W,this._viewContainerRef,(et,_t,Jt)=>this._getEmbeddedViewArgs(et,Jt),et=>et.item),W.forEachIdentityChange(et=>{this._viewContainerRef.get(et.currentIndex).context.$implicit=et.item});const Me=this._data.length;let Je=this._viewContainerRef.length;for(;Je--;){const et=this._viewContainerRef.get(Je);et.context.index=this._renderedRange.start+Je,et.context.count=Me,this._updateComputedContextProperties(et.context)}}_updateComputedContextProperties(W){W.first=0===W.index,W.last=W.index===W.count-1,W.even=W.index%2==0,W.odd=!W.even}_getEmbeddedViewArgs(W,Me){return{templateRef:this._template,context:{$implicit:W.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:Me}}}return he.\u0275fac=function(W){return new(W||he)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4),d.Y36(zr),d.Y36(Vi,4),d.Y36(d.R0b))},he.\u0275dir=d.lG2({type:he,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[d._Bn([{provide:zr,useClass:Mr}])]}),he})(),Or=(()=>{class he{}return he.\u0275fac=function(W){return new(W||he)},he.\u0275mod=d.oAB({type:he}),he.\u0275inj=d.cJS({}),he})(),nn=(()=>{class he{}return he.\u0275fac=function(W){return new(W||he)},he.\u0275mod=d.oAB({type:he}),he.\u0275inj=d.cJS({imports:[[_n,R,Or],_n,Or]}),he})()},9808:(gt,ke,P)=>{"use strict";P.d(ke,{Do:()=>Be,EM:()=>ia,HT:()=>B,JF:()=>Zn,K0:()=>z,Mx:()=>Or,NF:()=>oi,O5:()=>et,Ov:()=>hl,PC:()=>Ui,PM:()=>Oo,S$:()=>be,V_:()=>U,Ye:()=>q,b0:()=>pt,bD:()=>Rr,ez:()=>na,lw:()=>re,mk:()=>nn,mr:()=>ut,q:()=>V,sg:()=>W,tP:()=>ka,w_:()=>H});var d=P(5e3);let a=null;function V(){return a}function B(M){a||(a=M)}class H{}const z=new d.OlP("DocumentToken");let re=(()=>{class M{historyGo(A){throw new Error("Not implemented")}}return M.\u0275fac=function(A){return new(A||M)},M.\u0275prov=d.Yz7({token:M,factory:function(){return function se(){return(0,d.LFG)(J)}()},providedIn:"platform"}),M})();const U=new d.OlP("Location Initialized");let J=(()=>{class M extends re{constructor(A){super(),this._doc=A,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(A){const X=V().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",A,!1),()=>X.removeEventListener("popstate",A)}onHashChange(A){const X=V().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",A,!1),()=>X.removeEventListener("hashchange",A)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(A){this.location.pathname=A}pushState(A,X,Ee){ue()?this._history.pushState(A,X,Ee):this.location.hash=Ee}replaceState(A,X,Ee){ue()?this._history.replaceState(A,X,Ee):this.location.hash=Ee}forward(){this._history.forward()}back(){this._history.back()}historyGo(A=0){this._history.go(A)}getState(){return this._history.state}}return M.\u0275fac=function(A){return new(A||M)(d.LFG(z))},M.\u0275prov=d.Yz7({token:M,factory:function(){return function Ue(){return new J((0,d.LFG)(z))}()},providedIn:"platform"}),M})();function ue(){return!!window.history.pushState}function Pe(M,j){if(0==M.length)return j;if(0==j.length)return M;let A=0;return M.endsWith("/")&&A++,j.startsWith("/")&&A++,2==A?M+j.substring(1):1==A?M+j:M+"/"+j}function Le(M){const j=M.match(/#|\?|$/),A=j&&j.index||M.length;return M.slice(0,A-("/"===M[A-1]?1:0))+M.slice(A)}function nt(M){return M&&"?"!==M[0]?"?"+M:M}let be=(()=>{class M{historyGo(A){throw new Error("Not implemented")}}return M.\u0275fac=function(A){return new(A||M)},M.\u0275prov=d.Yz7({token:M,factory:function(){return function je(M){const j=(0,d.LFG)(z).location;return new pt((0,d.LFG)(re),j&&j.origin||"")}()},providedIn:"root"}),M})();const ut=new d.OlP("appBaseHref");let pt=(()=>{class M extends be{constructor(A,X){if(super(),this._platformLocation=A,this._removeListenerFns=[],null==X&&(X=this._platformLocation.getBaseHrefFromDOM()),null==X)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=X}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}prepareExternalUrl(A){return Pe(this._baseHref,A)}path(A=!1){const X=this._platformLocation.pathname+nt(this._platformLocation.search),Ee=this._platformLocation.hash;return Ee&&A?`${X}${Ee}`:X}pushState(A,X,Ee,We){const st=this.prepareExternalUrl(Ee+nt(We));this._platformLocation.pushState(A,X,st)}replaceState(A,X,Ee,We){const st=this.prepareExternalUrl(Ee+nt(We));this._platformLocation.replaceState(A,X,st)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(A=0){var X,Ee;null===(Ee=(X=this._platformLocation).historyGo)||void 0===Ee||Ee.call(X,A)}}return M.\u0275fac=function(A){return new(A||M)(d.LFG(re),d.LFG(ut,8))},M.\u0275prov=d.Yz7({token:M,factory:M.\u0275fac}),M})(),Be=(()=>{class M extends be{constructor(A,X){super(),this._platformLocation=A,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}path(A=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(A){const X=Pe(this._baseHref,A);return X.length>0?"#"+X:X}pushState(A,X,Ee,We){let st=this.prepareExternalUrl(Ee+nt(We));0==st.length&&(st=this._platformLocation.pathname),this._platformLocation.pushState(A,X,st)}replaceState(A,X,Ee,We){let st=this.prepareExternalUrl(Ee+nt(We));0==st.length&&(st=this._platformLocation.pathname),this._platformLocation.replaceState(A,X,st)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(A=0){var X,Ee;null===(Ee=(X=this._platformLocation).historyGo)||void 0===Ee||Ee.call(X,A)}}return M.\u0275fac=function(A){return new(A||M)(d.LFG(re),d.LFG(ut,8))},M.\u0275prov=d.Yz7({token:M,factory:M.\u0275fac}),M})(),q=(()=>{class M{constructor(A,X){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=A;const Ee=this._platformStrategy.getBaseHref();this._platformLocation=X,this._baseHref=Le(we(Ee)),this._platformStrategy.onPopState(We=>{this._subject.emit({url:this.path(!0),pop:!0,state:We.state,type:We.type})})}path(A=!1){return this.normalize(this._platformStrategy.path(A))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(A,X=""){return this.path()==this.normalize(A+nt(X))}normalize(A){return M.stripTrailingSlash(function ne(M,j){return M&&j.startsWith(M)?j.substring(M.length):j}(this._baseHref,we(A)))}prepareExternalUrl(A){return A&&"/"!==A[0]&&(A="/"+A),this._platformStrategy.prepareExternalUrl(A)}go(A,X="",Ee=null){this._platformStrategy.pushState(Ee,"",A,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+nt(X)),Ee)}replaceState(A,X="",Ee=null){this._platformStrategy.replaceState(Ee,"",A,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+nt(X)),Ee)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(A=0){var X,Ee;null===(Ee=(X=this._platformStrategy).historyGo)||void 0===Ee||Ee.call(X,A)}onUrlChange(A){this._urlChangeListeners.push(A),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)}))}_notifyUrlChangeListeners(A="",X){this._urlChangeListeners.forEach(Ee=>Ee(A,X))}subscribe(A,X,Ee){return this._subject.subscribe({next:A,error:X,complete:Ee})}}return M.normalizeQueryParams=nt,M.joinWithSlash=Pe,M.stripTrailingSlash=Le,M.\u0275fac=function(A){return new(A||M)(d.LFG(be),d.LFG(re))},M.\u0275prov=d.Yz7({token:M,factory:function(){return function De(){return new q((0,d.LFG)(be),(0,d.LFG)(re))}()},providedIn:"root"}),M})();function we(M){return M.replace(/\/index.html$/,"")}function Or(M,j){j=encodeURIComponent(j);for(const A of M.split(";")){const X=A.indexOf("="),[Ee,We]=-1==X?[A,""]:[A.slice(0,X),A.slice(X+1)];if(Ee.trim()===j)return decodeURIComponent(We)}return null}let nn=(()=>{class M{constructor(A,X,Ee,We){this._iterableDiffers=A,this._keyValueDiffers=X,this._ngEl=Ee,this._renderer=We,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(A){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof A?A.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(A){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof A?A.split(/\s+/):A,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const A=this._iterableDiffer.diff(this._rawClass);A&&this._applyIterableChanges(A)}else if(this._keyValueDiffer){const A=this._keyValueDiffer.diff(this._rawClass);A&&this._applyKeyValueChanges(A)}}_applyKeyValueChanges(A){A.forEachAddedItem(X=>this._toggleClass(X.key,X.currentValue)),A.forEachChangedItem(X=>this._toggleClass(X.key,X.currentValue)),A.forEachRemovedItem(X=>{X.previousValue&&this._toggleClass(X.key,!1)})}_applyIterableChanges(A){A.forEachAddedItem(X=>{if("string"!=typeof X.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(X.item)}`);this._toggleClass(X.item,!0)}),A.forEachRemovedItem(X=>this._toggleClass(X.item,!1))}_applyClasses(A){A&&(Array.isArray(A)||A instanceof Set?A.forEach(X=>this._toggleClass(X,!0)):Object.keys(A).forEach(X=>this._toggleClass(X,!!A[X])))}_removeClasses(A){A&&(Array.isArray(A)||A instanceof Set?A.forEach(X=>this._toggleClass(X,!1)):Object.keys(A).forEach(X=>this._toggleClass(X,!1)))}_toggleClass(A,X){(A=A.trim())&&A.split(/\s+/g).forEach(Ee=>{X?this._renderer.addClass(this._ngEl.nativeElement,Ee):this._renderer.removeClass(this._ngEl.nativeElement,Ee)})}}return M.\u0275fac=function(A){return new(A||M)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},M.\u0275dir=d.lG2({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),M})();class Ce{constructor(j,A,X,Ee){this.$implicit=j,this.ngForOf=A,this.index=X,this.count=Ee}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let W=(()=>{class M{constructor(A,X,Ee){this._viewContainer=A,this._template=X,this._differs=Ee,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(A){this._ngForOf=A,this._ngForOfDirty=!0}set ngForTrackBy(A){this._trackByFn=A}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(A){A&&(this._template=A)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const A=this._ngForOf;!this._differ&&A&&(this._differ=this._differs.find(A).create(this.ngForTrackBy))}if(this._differ){const A=this._differ.diff(this._ngForOf);A&&this._applyChanges(A)}}_applyChanges(A){const X=this._viewContainer;A.forEachOperation((Ee,We,st)=>{if(null==Ee.previousIndex)X.createEmbeddedView(this._template,new Ce(Ee.item,this._ngForOf,-1,-1),null===st?void 0:st);else if(null==st)X.remove(null===We?void 0:We);else if(null!==We){const Nt=X.get(We);X.move(Nt,st),Me(Nt,Ee)}});for(let Ee=0,We=X.length;Ee<We;Ee++){const Nt=X.get(Ee).context;Nt.index=Ee,Nt.count=We,Nt.ngForOf=this._ngForOf}A.forEachIdentityChange(Ee=>{Me(X.get(Ee.currentIndex),Ee)})}static ngTemplateContextGuard(A,X){return!0}}return M.\u0275fac=function(A){return new(A||M)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},M.\u0275dir=d.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),M})();function Me(M,j){M.context.$implicit=j.item}let et=(()=>{class M{constructor(A,X){this._viewContainer=A,this._context=new _t,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(A){this._context.$implicit=this._context.ngIf=A,this._updateView()}set ngIfThen(A){Jt("ngIfThen",A),this._thenTemplateRef=A,this._thenViewRef=null,this._updateView()}set ngIfElse(A){Jt("ngIfElse",A),this._elseTemplateRef=A,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(A,X){return!0}}return M.\u0275fac=function(A){return new(A||M)(d.Y36(d.s_b),d.Y36(d.Rgc))},M.\u0275dir=d.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),M})();class _t{constructor(){this.$implicit=null,this.ngIf=null}}function Jt(M,j){if(j&&!j.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,d.AaK)(j)}'.`)}let Ui=(()=>{class M{constructor(A,X,Ee){this._ngEl=A,this._differs=X,this._renderer=Ee,this._ngStyle=null,this._differ=null}set ngStyle(A){this._ngStyle=A,!this._differ&&A&&(this._differ=this._differs.find(A).create())}ngDoCheck(){if(this._differ){const A=this._differ.diff(this._ngStyle);A&&this._applyChanges(A)}}_setStyle(A,X){const[Ee,We]=A.split(".");null!=(X=null!=X&&We?`${X}${We}`:X)?this._renderer.setStyle(this._ngEl.nativeElement,Ee,X):this._renderer.removeStyle(this._ngEl.nativeElement,Ee)}_applyChanges(A){A.forEachRemovedItem(X=>this._setStyle(X.key,null)),A.forEachAddedItem(X=>this._setStyle(X.key,X.currentValue)),A.forEachChangedItem(X=>this._setStyle(X.key,X.currentValue))}}return M.\u0275fac=function(A){return new(A||M)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},M.\u0275dir=d.lG2({type:M,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),M})(),ka=(()=>{class M{constructor(A){this._viewContainerRef=A,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(A){if(A.ngTemplateOutlet){const X=this._viewContainerRef;this._viewRef&&X.remove(X.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?X.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&A.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return M.\u0275fac=function(A){return new(A||M)(d.Y36(d.s_b))},M.\u0275dir=d.lG2({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[d.TTD]}),M})();class yr{createSubscription(j,A){return j.subscribe({next:A,error:X=>{throw X}})}dispose(j){j.unsubscribe()}onDestroy(j){j.unsubscribe()}}class Os{createSubscription(j,A){return j.then(A,X=>{throw X})}dispose(j){}onDestroy(j){}}const dl=new Os,kr=new yr;let hl=(()=>{class M{constructor(A){this._ref=A,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(A){return this._obj?A!==this._obj?(this._dispose(),this.transform(A)):this._latestValue:(A&&this._subscribe(A),this._latestValue)}_subscribe(A){this._obj=A,this._strategy=this._selectStrategy(A),this._subscription=this._strategy.createSubscription(A,X=>this._updateLatestValue(A,X))}_selectStrategy(A){if((0,d.QGY)(A))return dl;if((0,d.F4k)(A))return kr;throw function si(M,j){return new d.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(A,X){A===this._obj&&(this._latestValue=X,this._ref.markForCheck())}}return M.\u0275fac=function(A){return new(A||M)(d.Y36(d.sBO,16))},M.\u0275pipe=d.Yjl({name:"async",type:M,pure:!1}),M})(),na=(()=>{class M{}return M.\u0275fac=function(A){return new(A||M)},M.\u0275mod=d.oAB({type:M}),M.\u0275inj=d.cJS({}),M})();const Rr="browser";function oi(M){return M===Rr}function Oo(M){return"server"===M}let ia=(()=>{class M{}return M.\u0275prov=(0,d.Yz7)({token:M,providedIn:"root",factory:()=>new vs((0,d.LFG)(z),window)}),M})();class vs{constructor(j,A){this.document=j,this.window=A,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(j){this.supportsScrolling()&&this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){if(!this.supportsScrolling())return;const A=function Nr(M,j){const A=M.getElementById(j)||M.getElementsByName(j)[0];if(A)return A;if("function"==typeof M.createTreeWalker&&M.body&&(M.body.createShadowRoot||M.body.attachShadow)){const X=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let Ee=X.currentNode;for(;Ee;){const We=Ee.shadowRoot;if(We){const st=We.getElementById(j)||We.querySelector(`[name="${j}"]`);if(st)return st}Ee=X.nextNode()}}return null}(this.document,j);A&&(this.scrollToElement(A),A.focus())}setHistoryScrollRestoration(j){if(this.supportScrollRestoration()){const A=this.window.history;A&&A.scrollRestoration&&(A.scrollRestoration=j)}}scrollToElement(j){const A=j.getBoundingClientRect(),X=A.left+this.window.pageXOffset,Ee=A.top+this.window.pageYOffset,We=this.offset();this.window.scrollTo(X-We[0],Ee-We[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const j=cs(this.window.history)||cs(Object.getPrototypeOf(this.window.history));return!(!j||!j.writable&&!j.set)}catch(j){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(j){return!1}}}function cs(M){return Object.getOwnPropertyDescriptor(M,"scrollRestoration")}class Zn{}},5e3:(gt,ke,P)=>{"use strict";P.d(ke,{$8M:()=>ou,$Z:()=>uv,AFp:()=>E_,ALo:()=>HC,AaK:()=>re,Akn:()=>Jo,AsE:()=>vv,BQk:()=>mp,CHM:()=>jn,CRH:()=>zp,CZH:()=>Jp,CqO:()=>_p,DdM:()=>t0,EJc:()=>N0,EpF:()=>Yo,F$t:()=>mh,F4k:()=>sr,FYo:()=>id,FiY:()=>Us,G48:()=>Y0,Gf:()=>ld,GfV:()=>Qv,GkF:()=>cv,Gpc:()=>J,HTZ:()=>UC,Hsn:()=>yp,JOm:()=>ee,LFG:()=>Ht,LSH:()=>yu,Lbi:()=>rE,MAs:()=>rr,NdJ:()=>Zr,O4$:()=>Jl,OlP:()=>Pi,Oqu:()=>yv,PXZ:()=>$I,Q6J:()=>Mm,QGY:()=>km,Qsj:()=>MC,R0b:()=>Co,RDi:()=>cs,Rgc:()=>Fh,SBq:()=>Ph,Sil:()=>L0,Suo:()=>f_,TTD:()=>Kr,TgZ:()=>Ti,Tol:()=>mv,Udp:()=>wp,VKq:()=>s_,VLi:()=>jI,W1O:()=>$l,WLB:()=>FC,X6Q:()=>dE,XFs:()=>Ut,Xpm:()=>Bt,Y36:()=>pp,YKP:()=>t_,YNc:()=>Lc,Yjl:()=>ni,Yz7:()=>xn,ZZ4:()=>ob,_Bn:()=>Up,_UZ:()=>gp,_Vd:()=>Bp,_c5:()=>TE,_uU:()=>Ep,aQg:()=>ab,c2e:()=>LI,cJS:()=>Dn,cg1:()=>xp,dDg:()=>S_,deG:()=>Ag,dqk:()=>ge,eFA:()=>A_,ekj:()=>Lm,f3M:()=>$n,g9A:()=>T_,h0i:()=>sd,hGG:()=>eD,hij:()=>Ch,iGM:()=>h_,ifc:()=>te,ip1:()=>C_,kEZ:()=>n0,kL8:()=>Sh,kcU:()=>Dg,l5B:()=>LC,lG2:()=>Ot,lcZ:()=>jC,n5z:()=>su,oAB:()=>li,oJD:()=>Ef,oxw:()=>Ru,q4F:()=>OC,qLn:()=>Tc,qOj:()=>Sm,qZA:()=>jc,rFY:()=>o_,sBO:()=>Q0,sIi:()=>oh,s_b:()=>od,soG:()=>R0,tBr:()=>Ys,tb:()=>I_,tp0:()=>yo,uIk:()=>jt,vHH:()=>Le,vpe:()=>al,wAp:()=>ln,xp6:()=>Xg,ynx:()=>Pu,z2F:()=>z0,zSh:()=>tp,zs3:()=>wo});var d=P(7579),a=P(727),V=P(8306),ve=P(6451),B=P(3099);function H(s){for(let o in s)if(s[o]===H)return o;throw Error("Could not find renamed property on target object.")}function z(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function re(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(re).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function se(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const U=H({__forward_ref__:H});function J(s){return s.__forward_ref__=J,s.toString=function(){return re(this())},s}function ue(s){return Ue(s)?s():s}function Ue(s){return"function"==typeof s&&s.hasOwnProperty(U)&&s.__forward_ref__===J}class Le extends Error{constructor(o,l){super(function nt(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function be(s){return"string"==typeof s?s:null==s?"":String(s)}function je(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():be(s)}function q(s,o){const l=o?` in ${o}`:"";throw new Le(-201,`No provider for ${je(s)} found${l}`)}function un(s,o){null==s&&function Et(s,o,l,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${l} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function xn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Dn(s){return{providers:s.providers||[],imports:s.imports||[]}}function an(s){return ti(s,wi)||ti(s,gi)}function ti(s,o){return s.hasOwnProperty(o)?s[o]:null}function pi(s){return s&&(s.hasOwnProperty(Fi)||s.hasOwnProperty(Oi))?s[Fi]:null}const wi=H({\u0275prov:H}),Fi=H({\u0275inj:H}),gi=H({ngInjectableDef:H}),Oi=H({ngInjectorDef:H});var Ut=(()=>((Ut=Ut||{})[Ut.Default=0]="Default",Ut[Ut.Host=1]="Host",Ut[Ut.Self=2]="Self",Ut[Ut.SkipSelf=4]="SkipSelf",Ut[Ut.Optional=8]="Optional",Ut))();let Ci;function mn(s){const o=Ci;return Ci=s,o}function Ji(s,o,l){const c=an(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&Ut.Optional?null:void 0!==o?o:void q(re(s),"Injector")}function mi(s){return{toString:s}.toString()}var Ge=(()=>((Ge=Ge||{})[Ge.OnPush=0]="OnPush",Ge[Ge.Default=1]="Default",Ge))(),te=(()=>{return(s=te||(te={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",te;var s})();const ce="undefined"!=typeof globalThis&&globalThis,w="undefined"!=typeof window&&window,R="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ge=ce||"undefined"!=typeof global&&global||w||R,Tt={},le=[],_e=H({\u0275cmp:H}),ye=H({\u0275dir:H}),Qe=H({\u0275pipe:H}),pe=H({\u0275mod:H}),Ae=H({\u0275fac:H}),it=H({__NG_ELEMENT_ID__:H});let vt=0;function Bt(s){return mi(()=>{const l={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Ge.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||le,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||te.Emulated,id:"c",styles:s.styles||le,_:null,setInput:null,schemas:s.schemas||null,tView:null},f=s.directives,m=s.features,b=s.pipes;return c.id+=vt++,c.inputs=_n(s.inputs,l),c.outputs=_n(s.outputs),m&&m.forEach(E=>E(c)),c.directiveDefs=f?()=>("function"==typeof f?f():f).map(Mn):null,c.pipeDefs=b?()=>("function"==typeof b?b():b).map($t):null,c})}function Mn(s){return Un(s)||function _i(s){return s[ye]||null}(s)}function $t(s){return function Mr(s){return s[Qe]||null}(s)}const qn={};function li(s){return mi(()=>{const o={type:s.type,bootstrap:s.bootstrap||le,declarations:s.declarations||le,imports:s.imports||le,exports:s.exports||le,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(qn[s.id]=s.type),o})}function _n(s,o){if(null==s)return Tt;const l={};for(const c in s)if(s.hasOwnProperty(c)){let f=s[c],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),l[f]=c,o&&(o[f]=m)}return l}const Ot=Bt;function ni(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Un(s){return s[_e]||null}function ui(s,o){const l=s[pe]||null;if(!l&&!0===o)throw new Error(`Type ${re(s)} does not have '\u0275mod' property.`);return l}const W=16;function zt(s){return Array.isArray(s)&&"object"==typeof s[1]}function ri(s){return Array.isArray(s)&&!0===s[1]}function as(s){return 0!=(8&s.flags)}function Oa(s){return 2==(2&s.flags)}function ls(s){return 1==(1&s.flags)}function zi(s){return null!==s.template}function Ui(s){return 0!=(512&s[2])}function Ai(s,o){return s.hasOwnProperty(Ae)?s[Ae]:null}class Wr{constructor(o,l,c){this.previousValue=o,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function Kr(){return _s}function _s(s){return s.type.prototype.ngOnChanges&&(s.setInput=Pr),Fa}function Fa(){const s=Rr(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===Tt)s.previous=o;else for(let c in o)l[c]=o[c];s.current=null,this.ngOnChanges(o)}}function Pr(s,o,l,c){const f=Rr(s)||function ys(s,o){return s[na]=o}(s,{previous:Tt,current:null}),m=f.current||(f.current={}),b=f.previous,E=this.declaredInputs[l],I=b[E];m[E]=new Wr(I&&I.currentValue,o,b===Tt),s[c]=o}Kr.ngInherit=!0;const na="__ngSimpleChanges__";function Rr(s){return s[na]||null}let vs;function cs(s){vs=s}function Nr(){return void 0!==vs?vs:"undefined"!=typeof document?document:void 0}function Zn(s){return!!s.listen}const M={createRenderer:(s,o)=>Nr()};function A(s){for(;Array.isArray(s);)s=s[0];return s}function We(s,o){return A(o[s])}function st(s,o){return A(o[s.index])}function on(s,o){return s.data[o]}function Pn(s,o){return s[o]}function cn(s,o){const l=o[s];return zt(l)?l:l[0]}function An(s){return 4==(4&s[2])}function Jn(s){return 128==(128&s[2])}function ei(s,o){return null==o?null:s[o]}function vr(s){s[18]=0}function ur(s,o){s[5]+=o;let l=s,c=s[3];for(;null!==c&&(1===o&&1===l[5]||-1===o&&0===l[5]);)c[5]+=o,l=c,c=c[3]}const Yt={lFrame:la(null),bindingsEnabled:!0};function x(){return Yt.bindingsEnabled}function me(){return Yt.lFrame.lView}function ct(){return Yt.lFrame.tView}function jn(s){return Yt.lFrame.contextLView=s,s[8]}function Rn(){let s=Bi();for(;null!==s&&64===s.type;)s=s.parent;return s}function Bi(){return Yt.lFrame.currentTNode}function nr(s,o){const l=Yt.lFrame;l.currentTNode=s,l.isParent=o}function Po(){return Yt.lFrame.isParent}function ml(){Yt.lFrame.isParent=!1}function wr(){const s=Yt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function qs(){return Yt.lFrame.bindingIndex++}function ds(s){const o=Yt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function Wl(s,o){const l=Yt.lFrame;l.bindingIndex=l.bindingRootIndex=s,yl(o)}function yl(s){Yt.lFrame.currentDirectiveIndex=s}function Fo(){return Yt.lFrame.currentQueryIndex}function vl(s){Yt.lFrame.currentQueryIndex=s}function Kl(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function bl(s,o,l){if(l&Ut.SkipSelf){let f=o,m=s;for(;!(f=f.parent,null!==f||l&Ut.Host||(f=Kl(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;o=f,s=m}const c=Yt.lFrame=Yl();return c.currentTNode=o,c.lView=s,!0}function aa(s){const o=Yl(),l=s[1];Yt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Yl(){const s=Yt.lFrame,o=null===s?null:s.child;return null===o?la(s):o}function la(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function ic(){const s=Yt.lFrame;return Yt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const rc=ic;function ua(){const s=ic();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function cr(){return Yt.lFrame.selectedIndex}function La(s){Yt.lFrame.selectedIndex=s}function ki(){const s=Yt.lFrame;return on(s.tView,s.selectedIndex)}function Jl(){Yt.lFrame.currentNamespace="svg"}function Dg(){!function oc(){Yt.lFrame.currentNamespace=null}()}function Va(s,o){for(let l=o.directiveStart,c=o.directiveEnd;l<c;l++){const m=s.data[l].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:F,ngOnDestroy:G}=m;b&&(s.contentHooks||(s.contentHooks=[])).push(-l,b),E&&((s.contentHooks||(s.contentHooks=[])).push(l,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,E)),I&&(s.viewHooks||(s.viewHooks=[])).push(-l,I),F&&((s.viewHooks||(s.viewHooks=[])).push(l,F),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,F)),null!=G&&(s.destroyHooks||(s.destroyHooks=[])).push(l,G)}}function Cr(s,o,l){ac(s,o,3,l)}function da(s,o,l,c){(3&s[2])===l&&ac(s,o,l,c)}function Wi(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function ac(s,o,l,c){const m=null!=c?c:-1,b=o.length-1;let E=0;for(let I=void 0!==c?65535&s[18]:0;I<b;I++)if("number"==typeof o[I+1]){if(E=o[I],null!=c&&E>=c)break}else o[I]<0&&(s[18]+=65536),(E<m||-1==m)&&(sf(s,l,o,I),s[18]=(4294901760&s[18])+I+2),I++}function sf(s,o,l,c){const f=l[c]<0,m=l[c+1],E=s[f?-l[c]:l[c]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(E)}finally{}}}else try{m.call(E)}finally{}}class Ns{constructor(o,l,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function uo(s,o,l){const c=Zn(s);let f=0;for(;f<l.length;){const m=l[f];if("number"==typeof m){if(0!==m)break;f++;const b=l[f++],E=l[f++],I=l[f++];c?s.setAttribute(o,E,I,b):o.setAttributeNS(b,E,I)}else{const b=m,E=l[++f];Ls(b)?c&&s.setProperty(o,b,E):c?s.setAttribute(o,b,E):o.setAttribute(b,E),f++}}return f}function Cs(s){return 3===s||4===s||6===s}function Ls(s){return 64===s.charCodeAt(0)}function Ba(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let c=0;c<o.length;c++){const f=o[c];"number"==typeof f?l=f:0===l||Cl(s,l,f,null,-1===l||2===l?o[++c]:null)}}return s}function Cl(s,o,l,c,f){let m=0,b=s.length;if(-1===o)b=-1;else for(;m<s.length;){const E=s[m++];if("number"==typeof E){if(E===o){b=-1;break}if(E>o){b=m-1;break}}}for(;m<s.length;){const E=s[m];if("number"==typeof E)break;if(E===l){if(null===c)return void(null!==f&&(s[m+1]=f));if(c===s[m+1])return void(s[m+2]=f)}m++,null!==c&&m++,null!==f&&m++}-1!==b&&(s.splice(b,0,o),m=b+1),s.splice(m++,0,l),null!==c&&s.splice(m++,0,c),null!==f&&s.splice(m++,0,f)}function co(s){return-1!==s}function Lo(s){return 32767&s}function Vo(s,o){let l=function Ki(s){return s>>16}(s),c=o;for(;l>0;)c=c[15],l--;return c}let Ha=!0;function ho(s){const o=Ha;return Ha=s,o}let cc=0;function fo(s,o){const l=fa(s,o);if(-1!==l)return l;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,ja(c.data,s),ja(o,null),ja(c.blueprint,null));const f=Fr(s,o),m=s.injectorIndex;if(co(f)){const b=Lo(f),E=Vo(f,o),I=E[1].data;for(let F=0;F<8;F++)o[m+F]=E[b+F]|I[b+F]}return o[m+8]=f,m}function ja(s,o){s.push(0,0,0,0,0,0,0,0,o)}function fa(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Fr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,c=null,f=o;for(;null!==f;){const m=f[1],b=m.type;if(c=2===b?m.declTNode:1===b?f[6]:null,null===c)return-1;if(l++,f=f[15],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return-1}function Tl(s,o,l){!function ha(s,o,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(it)&&(c=l[it]),null==c&&(c=l[it]=cc++);const f=255&c;o.data[s+(f>>5)]|=1<<f}(s,o,l)}function Uo(s,o,l){if(l&Ut.Optional)return s;q(o,"NodeInjector")}function Il(s,o,l,c){if(l&Ut.Optional&&void 0===c&&(c=null),0==(l&(Ut.Self|Ut.Host))){const f=s[9],m=mn(void 0);try{return f?f.get(o,c,l&Ut.Optional):Ji(o,c,l&Ut.Optional)}finally{mn(m)}}return Uo(c,o,l)}function tu(s,o,l,c=Ut.Default,f){if(null!==s){const m=function zs(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(it)?s[it]:void 0;return"number"==typeof o?o>=0?255&o:nu:o}(l);if("function"==typeof m){if(!bl(o,s,c))return c&Ut.Host?Uo(f,l,c):Il(o,l,c,f);try{const b=m(c);if(null!=b||c&Ut.Optional)return b;q(l)}finally{rc()}}else if("number"==typeof m){let b=null,E=fa(s,o),I=-1,F=c&Ut.Host?o[W][6]:null;for((-1===E||c&Ut.SkipSelf)&&(I=-1===E?Fr(s,o):o[E+8],-1!==I&&vd(c,!1)?(b=o[1],E=Lo(I),o=Vo(I,o)):E=-1);-1!==E;){const G=o[1];if(ru(m,E,G.data)){const oe=xg(E,o,l,b,c,F);if(oe!==Vs)return oe}I=o[E+8],-1!==I&&vd(c,o[1].data[E+8]===F)&&ru(m,E,o)?(b=G,E=Lo(I),o=Vo(I,o)):E=-1}}}return Il(o,l,c,f)}const Vs={};function nu(){return new Es(Rn(),me())}function xg(s,o,l,c,f,m){const b=o[1],E=b.data[s+8],G=pa(E,b,l,null==c?Oa(E)&&Ha:c!=b&&0!=(3&E.type),f&Ut.Host&&m===E);return null!==G?iu(o,b,G,E):Vs}function pa(s,o,l,c,f){const m=s.providerIndexes,b=o.data,E=1048575&m,I=s.directiveStart,G=m>>20,Te=f?E+G:s.directiveEnd;for(let Ne=c?E:E+G;Ne<Te;Ne++){const rt=b[Ne];if(Ne<I&&l===rt||Ne>=I&&rt.type===l)return Ne}if(f){const Ne=b[I];if(Ne&&zi(Ne)&&Ne.type===l)return I}return null}function iu(s,o,l,c){let f=s[l];const m=o.data;if(function wl(s){return s instanceof Ns}(f)){const b=f;b.resolving&&function ut(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Le(-200,`Circular dependency in DI detected for ${s}${l}`)}(je(m[l]));const E=ho(b.canSeeViewProviders);b.resolving=!0;const I=b.injectImpl?mn(b.injectImpl):null;bl(s,c,Ut.Default);try{f=s[l]=b.factory(void 0,m,s,c),o.firstCreatePass&&l>=c.directiveStart&&function ca(s,o,l){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:m}=o.type.prototype;if(c){const b=_s(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,b),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,b)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,f),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m))}(l,m[l],o)}finally{null!==I&&mn(I),ho(E),b.resolving=!1,rc()}}return f}function ru(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function vd(s,o){return!(s&Ut.Self||s&Ut.Host&&o)}class Es{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,c){return tu(this._tNode,this._lView,o,c,l)}}function su(s){return mi(()=>{const o=s.prototype.constructor,l=o[Ae]||Dl(o),c=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==c;){const m=f[Ae]||Dl(f);if(m&&m!==l)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Dl(s){return Ue(s)?()=>{const o=Dl(ue(s));return o&&o()}:Ai(s)}function ou(s){return function eu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const c=l.length;let f=0;for(;f<c;){const m=l[f];if(Cs(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<c&&"string"==typeof l[f];)f++;else{if(m===o)return l[f+1];f+=2}}}return null}(Rn(),s)}const Za="__parameters__";function $a(s,o,l){return mi(()=>{const c=function dc(s){return function(...l){if(s){const c=s(...l);for(const f in c)this[f]=c[f]}}}(o);function f(...m){if(this instanceof f)return c.apply(this,m),this;const b=new f(...m);return E.annotation=b,E;function E(I,F,G){const oe=I.hasOwnProperty(Za)?I[Za]:Object.defineProperty(I,Za,{value:[]})[Za];for(;oe.length<=G;)oe.push(null);return(oe[G]=oe[G]||[]).push(b),I}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class Pi{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=xn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ag=new Pi("AnalyzeForEntryComponents");function Lr(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let c=s[l];Array.isArray(c)?(o===s&&(o=s.slice(0,l)),Lr(c,o)):o!==s&&o.push(c)}return o}function Vr(s,o){s.forEach(l=>Array.isArray(l)?Vr(l,o):o(l))}function uu(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function qa(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function go(s,o){const l=[];for(let c=0;c<s;c++)l.push(o);return l}function Ur(s,o,l){let c=za(s,o);return c>=0?s[1|c]=l:(c=~c,function xl(s,o,l,c){let f=s.length;if(f==o)s.push(l,c);else if(1===f)s.push(c,s[0]),s[0]=l;else{for(f--,s.push(s[f-1],s[f]);f>o;)s[f]=s[f-2],f--;s[o]=l,s[o+1]=c}}(s,c,o,l)),c}function pc(s,o){const l=za(s,o);if(l>=0)return s[1|l]}function za(s,o){return function mo(s,o,l){let c=0,f=s.length>>l;for(;f!==c;){const m=c+(f-c>>1),b=s[m<<l];if(o===b)return m<<l;b>o?f=m:c=m+1}return~(f<<l)}(s,o,1)}const Zo={},ga="__NG_DI_FLAG__",du="ngTempTokenPath",O=/\n/gm,de="__source",Fe=H({provide:String,useValue:H});let $e;function mt(s){const o=$e;return $e=s,o}function Lt(s,o=Ut.Default){if(void 0===$e)throw new Le(203,"");return null===$e?Ji(s,void 0,o):$e.get(s,o&Ut.Optional?null:void 0,o)}function Ht(s,o=Ut.Default){return(function Ln(){return Ci}()||Lt)(ue(s),o)}const $n=Ht;function vn(s){const o=[];for(let l=0;l<s.length;l++){const c=ue(s[l]);if(Array.isArray(c)){if(0===c.length)throw new Le(900,"");let f,m=Ut.Default;for(let b=0;b<c.length;b++){const E=c[b],I=dr(E);"number"==typeof I?-1===I?f=E.token:m|=I:f=E}o.push(Ht(f,m))}else o.push(Ht(c))}return o}function Hi(s,o){return s[ga]=o,s.prototype[ga]=o,s}function dr(s){return s[ga]}const Ys=Hi($a("Inject",s=>({token:s})),-1),Us=Hi($a("Optional"),8),yo=Hi($a("SkipSelf"),4);let ff,tt;function _c(s){var o;return(null===(o=function kg(){if(void 0===ff&&(ff=null,ge.trustedTypes))try{ff=ge.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return ff}())||void 0===o?void 0:o.createHTML(s))||s}function Ml(s){var o;return(null===(o=function Bs(){if(void 0===tt&&(tt=null,ge.trustedTypes))try{tt=ge.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return tt}())||void 0===o?void 0:o.createHTML(s))||s}class pf{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Qs(s){return s instanceof pf?s.changingThisBreaksApplicationSecurity:s}function yc(s,o){const l=function gf(s){return s instanceof pf&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}class Jr{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(_c(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class Pd{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const c=this.inertDocument.createElement("body");l.appendChild(c)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=_c(o),l;const c=this.inertDocument.createElement("body");return c.innerHTML=_c(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const l=o.attributes;for(let f=l.length-1;0<f;f--){const b=l.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&o.removeAttribute(b)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Y_=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$o=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function pu(s){return(s=String(s)).match(Y_)||s.match($o)?s:"unsafe:"+s}function Js(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function vc(...s){const o={};for(const l of s)for(const c in l)l.hasOwnProperty(c)&&(o[c]=!0);return o}const Nd=Js("area,br,col,hr,img,wbr"),Lg=Js("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vg=Js("rp,rt"),mu=vc(Nd,vc(Lg,Js("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vc(Vg,Js("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vc(Vg,Lg)),yf=Js("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vf=Js("srcset"),bf=vc(yf,vf,Js("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Js("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Fd=Js("script,style,template");class Ld{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,c=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?c=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,c&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!mu.hasOwnProperty(l))return this.sanitizedSomething=!0,!Fd.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const c=o.attributes;for(let f=0;f<c.length;f++){const m=c.item(f),b=m.name,E=b.toLowerCase();if(!bf.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let I=m.value;yf[E]&&(I=pu(I)),vf[E]&&(s=I,I=(s=String(s)).split(",").map(o=>pu(o.trim())).join(", ")),this.buf.push(" ",b,'="',Ya(I),'"')}var s;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();mu.hasOwnProperty(l)&&!Nd.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Ya(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const wf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ug=/([^\#-~ |!])/g;function Ya(s){return s.replace(/&/g,"&amp;").replace(wf,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Ug,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _u;function Vd(s){return"content"in s&&function Ud(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var ji=(()=>((ji=ji||{})[ji.NONE=0]="NONE",ji[ji.HTML=1]="HTML",ji[ji.STYLE=2]="STYLE",ji[ji.SCRIPT=3]="SCRIPT",ji[ji.URL=4]="URL",ji[ji.RESOURCE_URL=5]="RESOURCE_URL",ji))();function Ef(s){const o=bc();return o?Ml(o.sanitize(ji.HTML,s)||""):yc(s,"HTML")?Ml(Qs(s)):function Cf(s,o){let l=null;try{_u=_u||function mf(s){const o=new Pd(s);return function Fg(){try{return!!(new window.DOMParser).parseFromString(_c(""),"text/html")}catch(s){return!1}}()?new Jr(o):o}(s);let c=o?String(o):"";l=_u.getInertBodyElement(c);let f=5,m=c;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,c=m,m=l.innerHTML,l=_u.getInertBodyElement(c)}while(c!==m);return _c((new Ld).sanitizeChildren(Vd(l)||l))}finally{if(l){const c=Vd(l)||l;for(;c.firstChild;)c.removeChild(c.firstChild)}}}(Nr(),be(s))}function yu(s){const o=bc();return o?o.sanitize(ji.URL,s)||"":yc(s,"URL")?Qs(s):pu(be(s))}function bc(){const s=me();return s&&s[12]}const Hd="__ngContext__";function Tr(s,o){s[Hd]=o}function Sf(s){const o=function bu(s){return s[Hd]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Ec(s){return s.ngOriginalError}function Zg(s,...o){s.error(...o)}class Tc{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),c=function jg(s){return s&&s.ngErrorLogger||Zg}(o);c(this._console,"ERROR",o),l&&c(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Ec(o);for(;l&&Ec(l);)l=Ec(l);return l||null}}const qd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ge))();function y(s){return s instanceof Function?s():s}var ee=(()=>((ee=ee||{})[ee.Important=1]="Important",ee[ee.DashCase=2]="DashCase",ee))();function Ke(s,o){return undefined(s,o)}function rn(s){const o=s[3];return ri(o)?o[3]:o}function Is(s){return Wd(s[13])}function wu(s){return Wd(s[4])}function Wd(s){for(;null!==s&&!ri(s);)s=s[4];return s}function Xa(s,o,l,c,f){if(null!=c){let m,b=!1;ri(c)?m=c:zt(c)&&(b=!0,c=c[0]);const E=A(c);0===s&&null!==l?null==f?En(o,l,E):kl(o,l,E,f||null,!0):1===s&&null!==l?kl(o,l,E,f||null,!0):2===s?function Hb(s,o,l){const c=Eu(s,o);c&&function oy(s,o,l,c){Zn(s)?s.removeChild(o,l,c):o.removeChild(l)}(s,c,o,l)}(o,E,b):3===s&&o.destroyNode(E),null!=m&&function cy(s,o,l,c,f){const m=l[7];m!==A(l)&&Xa(o,s,c,m,f);for(let E=10;E<l.length;E++){const I=l[E];Kd(I[1],I,s,o,c,m)}}(o,s,m,l,f)}}function Sc(s,o,l){if(Zn(s))return s.createElement(o,l);{const c=null!==l?function ia(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===c?s.createElement(o):s.createElementNS(c,o)}}function sy(s,o){const l=s[9],c=l.indexOf(o),f=o[3];1024&o[2]&&(o[2]&=-1025,ur(f,-1)),l.splice(c,1)}function Uf(s,o){if(s.length<=10)return;const l=10+o,c=s[l];if(c){const f=c[17];null!==f&&f!==s&&sy(f,c),o>0&&(s[l-1][4]=c[4]);const m=qa(s,10+o);!function Cu(s,o){Kd(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const b=m[19];null!==b&&b.detachView(m[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Fb(s,o){if(!(256&o[2])){const l=o[11];Zn(l)&&l.destroyNode&&Kd(s,o,l,3,null,null),function Lf(s){let o=s[13];if(!o)return Lb(s[1],s);for(;o;){let l=null;if(zt(o))l=o[13];else{const c=o[10];c&&(l=c)}if(!l){for(;o&&!o[4]&&o!==s;)zt(o)&&Lb(o[1],o),o=o[3];null===o&&(o=s),zt(o)&&Lb(o[1],o),l=o&&o[4]}o=l}}(o)}}function Lb(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function sT(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let c=0;c<l.length;c+=2){const f=o[l[c]];if(!(f instanceof Ns)){const m=l[c+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const E=f[m[b]],I=m[b+1];try{I.call(E)}finally{}}else try{m.call(f)}finally{}}}}(s,o),function Vb(s,o){const l=s.cleanup,c=o[7];let f=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const b=l[m+1],E="function"==typeof b?b(o):A(o[b]),I=c[f=l[m+2]],F=l[m+3];"boolean"==typeof F?E.removeEventListener(l[m],I,F):F>=0?c[f=F]():c[f=-F].unsubscribe(),m+=2}else{const b=c[f=l[m+1]];l[m].call(b)}if(null!==c){for(let m=f+1;m<c.length;m++)c[m]();o[7]=null}}(s,o),1===o[1].type&&Zn(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&ri(o[3])){l!==o[3]&&sy(l,o);const c=o[19];null!==c&&c.detachView(s)}}}function el(s,o,l){return function Vt(s,o,l){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return l[0];if(2&c.flags){const f=s.data[c.directiveStart].encapsulation;if(f===te.None||f===te.Emulated)return null}return st(c,l)}(s,o.parent,l)}function kl(s,o,l,c,f){Zn(s)?s.insertBefore(o,l,c,f):o.insertBefore(l,c,f)}function En(s,o,l){Zn(s)?s.appendChild(o,l):o.appendChild(l)}function Bf(s,o,l,c,f){null!==c?kl(s,o,l,c,f):En(s,o,l)}function Eu(s,o){return Zn(s)?s.parentNode(o):o.parentNode}function zg(s,o,l){return Bb(s,o,l)}let Bb=function Ub(s,o,l){return 40&s.type?st(s,l):null};function xc(s,o,l,c){const f=el(s,c,o),m=o[11],E=zg(c.parent||o[6],c,o);if(null!=f)if(Array.isArray(l))for(let I=0;I<l.length;I++)Bf(m,f,l[I],E,!1);else Bf(m,f,l,E,!1)}function Ir(s,o){if(null!==o){const l=o.type;if(3&l)return st(o,s);if(4&l)return ly(-1,s[o.index]);if(8&l){const c=o.child;if(null!==c)return Ir(s,c);{const f=s[o.index];return ri(f)?ly(-1,f):A(f)}}if(32&l)return Ke(o,s)()||A(s[o.index]);{const c=Pl(s,o);return null!==c?Array.isArray(c)?c[0]:Ir(rn(s[W]),c):Ir(s,o.next)}}return null}function Pl(s,o){return null!==o?s[W][6].projection[o.projection]:null}function ly(s,o){const l=10+s+1;if(l<o.length){const c=o[l],f=c[1].firstChild;if(null!==f)return Ir(c,f)}return o[7]}function Wg(s,o,l,c,f,m,b){for(;null!=l;){const E=c[l.index],I=l.type;if(b&&0===o&&(E&&Tr(A(E),c),l.flags|=4),64!=(64&l.flags))if(8&I)Wg(s,o,l.child,c,f,m,!1),Xa(o,s,f,E,m);else if(32&I){const F=Ke(l,c);let G;for(;G=F();)Xa(o,s,f,G,m);Xa(o,s,f,E,m)}else 16&I?uy(s,o,c,l,f,m):Xa(o,s,f,E,m);l=b?l.projectionNext:l.next}}function Kd(s,o,l,c,f,m){Wg(l,c,s.firstChild,o,f,m,!1)}function uy(s,o,l,c,f,m){const b=l[W],I=b[6].projection[c.projection];if(Array.isArray(I))for(let F=0;F<I.length;F++)Xa(o,s,f,I[F],m);else Wg(s,o,I,b[3],f,m,!0)}function dy(s,o,l){Zn(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function hs(s,o,l){Zn(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function Yg(s,o,l){let c=s.length;for(;;){const f=s.indexOf(o,l);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const m=o.length;if(f+m===c||s.charCodeAt(f+m)<=32)return f}l=f+1}}const hy="ng-template";function jb(s,o,l){let c=0;for(;c<s.length;){let f=s[c++];if(l&&"class"===f){if(f=s[c],-1!==Yg(f.toLowerCase(),o,0))return!0}else if(1===f){for(;c<s.length&&"string"==typeof(f=s[c++]);)if(f.toLowerCase()===o)return!0;return!1}}return!1}function Qg(s){return 4===s.type&&s.value!==hy}function Zb(s,o,l){return o===(4!==s.type||l?s.value:hy)}function $b(s,o,l){let c=4;const f=s.attrs||[],m=function Yd(s){for(let o=0;o<s.length;o++)if(Cs(s[o]))return o;return s.length}(f);let b=!1;for(let E=0;E<o.length;E++){const I=o[E];if("number"!=typeof I){if(!b)if(4&c){if(c=2|1&c,""!==I&&!Zb(s,I,l)||""===I&&1===o.length){if(qo(c))return!1;b=!0}}else{const F=8&c?I:o[++E];if(8&c&&null!==s.attrs){if(!jb(s.attrs,F,l)){if(qo(c))return!1;b=!0}continue}const oe=fy(8&c?"class":I,f,Qg(s),l);if(-1===oe){if(qo(c))return!1;b=!0;continue}if(""!==F){let Te;Te=oe>m?"":f[oe+1].toLowerCase();const Ne=8&c?Te:null;if(Ne&&-1!==Yg(Ne,F,0)||2&c&&F!==Te){if(qo(c))return!1;b=!0}}}}else{if(!b&&!qo(c)&&!qo(I))return!1;if(b&&qo(I))continue;b=!1,c=I|1&c}}return qo(c)||b}function qo(s){return 0==(1&s)}function fy(s,o,l,c){if(null===o)return-1;let f=0;if(c||!l){let m=!1;for(;f<o.length;){const b=o[f];if(b===s)return f;if(3===b||6===b)m=!0;else{if(1===b||2===b){let E=o[++f];for(;"string"==typeof E;)E=o[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=m?1:2}return-1}return function qb(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const c=s[l];if("number"==typeof c)return-1;if(c===o)return l;l++}return-1}(o,s)}function Gb(s,o,l=!1){for(let c=0;c<o.length;c++)if($b(s,o[c],l))return!0;return!1}function py(s,o){e:for(let l=0;l<o.length;l++){const c=o[l];if(s.length===c.length){for(let f=0;f<s.length;f++)if(s[f]!==c[f])continue e;return!0}}return!1}function gy(s,o){return s?":not("+o.trim()+")":o}function uT(s){let o=s[0],l=1,c=2,f="",m=!1;for(;l<s.length;){let b=s[l];if("string"==typeof b)if(2&c){const E=s[++l];f+="["+b+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?f+="."+b:4&c&&(f+=" "+b);else""!==f&&!qo(b)&&(o+=gy(m,f),f=""),c=b,m=m||!qo(c);l++}return""!==f&&(o+=gy(m,f)),o}const Tn={};function Xg(s){em(ct(),me(),cr()+s,!1)}function em(s,o,l,c){if(!c)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&Cr(o,m,l)}else{const m=s.preOrderHooks;null!==m&&da(o,m,0,l)}La(l)}function tm(s,o){return s<<17|o<<2}function bo(s){return s>>17&32767}function _y(s){return 2|s}function Zi(s){return(131068&s)>>2}function Ac(s,o){return-131069&s|o<<2}function Mc(s){return 1|s}function sw(s,o){const l=s.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const f=l[c],m=l[c+1];if(-1!==m){const b=s.data[m];vl(f),b.contentQueries(2,o[m],m)}}}function qf(s,o,l,c,f,m,b,E,I,F){const G=o.blueprint.slice();return G[0]=f,G[2]=140|c,vr(G),G[3]=G[15]=s,G[8]=l,G[10]=b||s&&s[10],G[11]=E||s&&s[11],G[12]=I||s&&s[12]||null,G[9]=F||s&&s[9]||null,G[6]=m,G[W]=2==o.type?s[W]:G,G}function Xd(s,o,l,c,f){let m=s.data[o];if(null===m)m=function Rl(s,o,l,c,f){const m=Bi(),b=Po(),I=s.data[o]=function Ty(s,o,l,c,f,m){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,l,o,c,f);return null===s.firstChild&&(s.firstChild=I),null!==m&&(b?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I)),I}(s,o,l,c,f),function tc(){return Yt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=c,m.attrs=f;const b=function tr(){const s=Yt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===b?-1:b.injectorIndex}return nr(m,!0),m}function kc(s,o,l,c){if(0===l)return-1;const f=o.length;for(let m=0;m<l;m++)o.push(c),s.blueprint.push(c),s.data.push(null);return f}function Tu(s,o,l){aa(o);try{const c=s.viewQuery;null!==c&&il(1,c,l);const f=s.template;null!==f&&wy(s,o,f,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&sw(s,o),s.staticViewQueries&&il(2,s.viewQuery,l);const m=s.components;null!==m&&function Jd(s,o){for(let l=0;l<o.length;l++)CT(s,o[l])}(o,m)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,ua()}}function Pc(s,o,l,c){const f=o[2];if(256!=(256&f)){aa(o);try{vr(o),function _l(s){return Yt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&wy(s,o,l,2,c);const b=3==(3&f);if(b){const F=s.preOrderCheckHooks;null!==F&&Cr(o,F,null)}else{const F=s.preOrderHooks;null!==F&&da(o,F,0,null),Wi(o,0)}if(function $i(s){for(let o=Is(s);null!==o;o=wu(o)){if(!o[2])continue;const l=o[9];for(let c=0;c<l.length;c++){const f=l[c],m=f[3];0==(1024&f[2])&&ur(m,1),f[2]|=1024}}}(o),function dw(s){for(let o=Is(s);null!==o;o=wu(o))for(let l=10;l<o.length;l++){const c=o[l],f=c[1];Jn(c)&&Pc(f,c,f.template,c[8])}}(o),null!==s.contentQueries&&sw(s,o),b){const F=s.contentCheckHooks;null!==F&&Cr(o,F)}else{const F=s.contentHooks;null!==F&&da(o,F,1),Wi(o,1)}!function um(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const f=l[c];if(f<0)La(~f);else{const m=f,b=l[++c],E=l[++c];Wl(b,m),E(2,o[m])}}}finally{La(-1)}}(s,o);const E=s.components;null!==E&&function yT(s,o){for(let l=0;l<o.length;l++)_m(s,o[l])}(o,E);const I=s.viewQuery;if(null!==I&&il(2,I,c),b){const F=s.viewCheckHooks;null!==F&&Cr(o,F)}else{const F=s.viewHooks;null!==F&&da(o,F,2),Wi(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-73,1024&o[2]&&(o[2]&=-1025,ur(o[3],-1))}finally{ua()}}}function zf(s,o,l,c){const f=o[10],b=An(o);try{!b&&f.begin&&f.begin(),b&&Tu(s,o,c),Pc(s,o,l,c)}finally{!b&&f.end&&f.end()}}function wy(s,o,l,c,f){const m=cr(),b=2&c;try{La(-1),b&&o.length>20&&em(s,o,20,!1),l(c,f)}finally{La(m)}}function Ds(s,o,l){if(as(o)){const f=o.directiveEnd;for(let m=o.directiveStart;m<f;m++){const b=s.data[m];b.contentQueries&&b.contentQueries(1,l[m],m)}}}function cm(s,o,l){!x()||(function pm(s,o,l,c){const f=l.directiveStart,m=l.directiveEnd;s.firstCreatePass||fo(l,o),Tr(c,o);const b=l.initialInputs;for(let E=f;E<m;E++){const I=s.data[E],F=zi(I);F&&cw(o,l,I);const G=iu(o,s,E,l);Tr(G,o),null!==b&&Fl(0,E-f,G,I,0,b),F&&(cn(l.index,o)[8]=G)}}(s,o,l,st(l,o)),128==(128&l.flags)&&function Qf(s,o,l){const c=l.directiveStart,f=l.directiveEnd,b=l.index,E=function nc(){return Yt.lFrame.currentDirectiveIndex}();try{La(b);for(let I=c;I<f;I++){const F=s.data[I],G=o[I];yl(I),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&Iu(F,G)}}finally{La(-1),yl(E)}}(s,o,l))}function Rc(s,o,l=st){const c=o.localNames;if(null!==c){let f=o.index+1;for(let m=0;m<c.length;m+=2){const b=c[m+1],E=-1===b?l(o,s):s[b];s[f++]=E}}}function Wf(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Kf(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Kf(s,o,l,c,f,m,b,E,I,F){const G=20+c,oe=G+f,Te=function Cy(s,o){const l=[];for(let c=0;c<o;c++)l.push(c<s?null:Tn);return l}(G,oe),Ne="function"==typeof F?F():F;return Te[1]={type:s,blueprint:Te,template:l,queries:null,viewQuery:E,declTNode:o,data:Te.slice().fill(null,G),bindingStartIndex:G,expandoStartIndex:oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:I,consts:Ne,incompleteFirstPass:!1}}function dm(s,o,l,c){const f=Fy(o);null===l?f.push(c):(f.push(l),s.firstCreatePass&&Nc(s).push(c,f.length-1))}function hm(s,o,l){for(let c in s)if(s.hasOwnProperty(c)){const f=s[c];(l=null===l?{}:l).hasOwnProperty(c)?l[c].push(o,f):l[c]=[o,f]}return l}function xy(s,o,l,c){let f=!1;if(x()){const m=function Ay(s,o,l){const c=s.directiveRegistry;let f=null;if(c)for(let m=0;m<c.length;m++){const b=c[m];Gb(l,b.selectors,!1)&&(f||(f=[]),Tl(fo(l,o),s,b.type),zi(b)?(uw(s,l),f.unshift(b)):f.push(b))}return f}(s,o,l),b=null===c?null:{"":-1};if(null!==m){f=!0,gm(l,s.data.length,m.length);for(let G=0;G<m.length;G++){const oe=m[G];oe.providersResolver&&oe.providersResolver(oe)}let E=!1,I=!1,F=kc(s,o,m.length,null);for(let G=0;G<m.length;G++){const oe=m[G];l.mergedAttrs=Ba(l.mergedAttrs,oe.hostAttrs),Du(s,l,o,F,oe),nh(F,oe,b),null!==oe.contentQueries&&(l.flags|=8),(null!==oe.hostBindings||null!==oe.hostAttrs||0!==oe.hostVars)&&(l.flags|=128);const Te=oe.type.prototype;!E&&(Te.ngOnChanges||Te.ngOnInit||Te.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),E=!0),!I&&(Te.ngOnChanges||Te.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),I=!0),F++}!function fm(s,o){const c=o.directiveEnd,f=s.data,m=o.attrs,b=[];let E=null,I=null;for(let F=o.directiveStart;F<c;F++){const G=f[F],oe=G.inputs,Te=null===m||Qg(o)?null:mm(oe,m);b.push(Te),E=hm(oe,F,E),I=hm(G.outputs,F,I)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=b,o.inputs=E,o.outputs=I}(s,l)}b&&function My(s,o,l){if(o){const c=s.localNames=[];for(let f=0;f<o.length;f+=2){const m=l[o[f+1]];if(null==m)throw new Le(-301,!1);c.push(o[f],m)}}}(l,c,b)}return l.mergedAttrs=Ba(l.mergedAttrs,l.attrs),f}function th(s,o,l,c,f,m){const b=m.hostBindings;if(b){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const I=~o.index;(function lw(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(E)!=I&&E.push(I),E.push(c,f,b)}}function Iu(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function uw(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function nh(s,o,l){if(l){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)l[o.exportAs[c]]=s;zi(o)&&(l[""]=s)}}function gm(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function Du(s,o,l,c,f){s.data[c]=f;const m=f.factory||(f.factory=Ai(f.type)),b=new Ns(m,zi(f),null);s.blueprint[c]=b,l[c]=b,th(s,o,0,c,kc(s,l,f.hostVars,Tn),f)}function cw(s,o,l){const c=st(o,s),f=Wf(l),m=s[10],b=Su(s,qf(s,f,null,l.onPush?64:16,c,o,m,m.createRenderer(c,l),null,null));s[o.index]=b}function nl(s,o,l,c,f,m){const b=st(s,o);!function Nl(s,o,l,c,f,m,b){if(null==m)Zn(s)?s.removeAttribute(o,f,l):o.removeAttribute(f);else{const E=null==b?be(m):b(m,c||"",f);Zn(s)?s.setAttribute(o,f,E,l):l?o.setAttributeNS(l,f,E):o.setAttribute(f,E)}}(o[11],b,m,s.value,l,c,f)}function Fl(s,o,l,c,f,m){const b=m[o];if(null!==b){const E=c.setInput;for(let I=0;I<b.length;){const F=b[I++],G=b[I++],oe=b[I++];null!==E?c.setInput(l,oe,F,G):l[G]=oe}}}function mm(s,o){let l=null,c=0;for(;c<o.length;){const f=o[c];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,s[f],o[c+1])),c+=2}else c+=2;else c+=4}return l}function Jf(s,o,l,c){return new Array(s,!0,!1,o,null,0,c,l,null,null)}function _m(s,o){const l=cn(o,s);if(Jn(l)){const c=l[1];80&l[2]?Pc(c,l,c.template,l[8]):l[5]>0&&ky(l)}}function ky(s){for(let c=Is(s);null!==c;c=wu(c))for(let f=10;f<c.length;f++){const m=c[f];if(1024&m[2]){const b=m[1];Pc(b,m,b.template,m[8])}else m[5]>0&&ky(m)}const l=s[1].components;if(null!==l)for(let c=0;c<l.length;c++){const f=cn(l[c],s);Jn(f)&&f[5]>0&&ky(f)}}function CT(s,o){const l=cn(o,s),c=l[1];(function Xf(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(c,l),Tu(c,l,l[8])}function Su(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Py(s){for(;s;){s[2]|=64;const o=rn(s);if(Ui(s)&&!o)return s;s=o}return null}function fw(s){!function Ry(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],c=Sf(l),f=c[1];zf(f,c,f.template,l)}}(s[8])}function il(s,o,l){vl(0),o(s,l)}const pw=(()=>Promise.resolve(null))();function Fy(s){return s[7]||(s[7]=[])}function Nc(s){return s.cleanup||(s.cleanup=[])}function mw(s,o){const l=s[9],c=l?l.get(Tc,null):null;c&&c.handleError(o)}function Ly(s,o,l,c,f){for(let m=0;m<l.length;){const b=l[m++],E=l[m++],I=o[b],F=s.data[b];null!==F.setInput?F.setInput(I,f,c,E):I[E]=f}}function Ll(s,o,l){const c=We(o,s);!function Dc(s,o,l){Zn(s)?s.setValue(o,l):o.textContent=l}(s[11],c,l)}function ep(s,o,l){let c=l?s.styles:null,f=l?s.classes:null,m=0;if(null!==o)for(let b=0;b<o.length;b++){const E=o[b];"number"==typeof E?m=E:1==m?f=se(f,E):2==m&&(c=se(c,E+": "+o[++b]+";"))}l?s.styles=c:s.stylesWithoutHost=c,l?s.classes=f:s.classesWithoutHost=f}const vm=new Pi("INJECTOR",-1);class Uy{get(o,l=Zo){if(l===Zo){const c=new Error(`NullInjectorError: No provider for ${re(o)}!`);throw c.name="NullInjectorError",c}return l}}const tp=new Pi("Set Injector scope."),np={},TT={};let By;function ip(){return void 0===By&&(By=new Uy),By}function ih(s,o=null,l=null,c){const f=rp(s,o,l,c);return f._resolveInjectorDefTypes(),f}function rp(s,o=null,l=null,c){return new Hy(s,l,o||ip(),c)}class Hy{constructor(o,l,c,f=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];l&&Vr(l,E=>this.processProvider(E,o,l)),Vr([o],E=>this.processInjectorType(E,[],m)),this.records.set(vm,Ri(void 0,this));const b=this.records.get(tp);this.scope=null!=b?b.value:null,this.source=f||("object"==typeof o?null:re(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=Zo,c=Ut.Default){this.assertNotDestroyed();const f=mt(this),m=mn(void 0);try{if(!(c&Ut.SkipSelf)){let E=this.records.get(o);if(void 0===E){const I=function Cw(s){return"function"==typeof s||"object"==typeof s&&s instanceof Pi}(o)&&an(o);E=I&&this.injectableDefInScope(I)?Ri(bm(o),np):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&Ut.Self?ip():this.parent).get(o,l=c&Ut.Optional&&l===Zo?null:l)}catch(b){if("NullInjectorError"===b.name){if((b[du]=b[du]||[]).unshift(re(o)),f)throw b;return function Ka(s,o,l,c){const f=s[du];throw o[de]&&f.unshift(o[de]),s.message=function ma(s,o,l,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let f=re(o);if(Array.isArray(o))f=o.map(re).join(" -> ");else if("object"==typeof o){let m=[];for(let b in o)if(o.hasOwnProperty(b)){let E=o[b];m.push(b+":"+("string"==typeof E?JSON.stringify(E):re(E)))}f=`{${m.join(", ")}}`}return`${l}${c?"("+c+")":""}[${f}]: ${s.replace(O,"\n  ")}`}("\n"+s.message,f,l,c),s.ngTokenPath=f,s[du]=null,s}(b,o,"R3InjectorError",this.source)}throw b}finally{mn(m),mt(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,f)=>o.push(re(f))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processInjectorType(o,l,c){if(!(o=ue(o)))return!1;let f=pi(o);const m=null==f&&o.ngModule||void 0,b=void 0===m?o:m,E=-1!==c.indexOf(b);if(void 0!==m&&(f=pi(m)),null==f)return!1;if(null!=f.imports&&!E){let G;c.push(b);try{Vr(f.imports,oe=>{this.processInjectorType(oe,l,c)&&(void 0===G&&(G=[]),G.push(oe))})}finally{}if(void 0!==G)for(let oe=0;oe<G.length;oe++){const{ngModule:Te,providers:Ne}=G[oe];Vr(Ne,rt=>this.processProvider(rt,Te,Ne||le))}}this.injectorDefTypes.add(b);const I=Ai(b)||(()=>new b);this.records.set(b,Ri(I,np));const F=f.providers;if(null!=F&&!E){const G=o;Vr(F,oe=>this.processProvider(oe,G,F))}return void 0!==m&&void 0!==o.providers}processProvider(o,l,c){let f=rh(o=ue(o))?o:ue(o&&o.provide);const m=function op(s,o,l){return jy(s)?Ri(void 0,s.useValue):Ri(vw(s),np)}(o);if(rh(o)||!0!==o.multi)this.records.get(f);else{let b=this.records.get(f);b||(b=Ri(void 0,np,!0),b.factory=()=>vn(b.multi),this.records.set(f,b)),f=o,b.multi.push(o)}this.records.set(f,m)}hydrate(o,l){return l.value===np&&(l.value=TT,l.value=l.factory()),"object"==typeof l.value&&l.value&&function ww(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=ue(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function bm(s){const o=an(s),l=null!==o?o.factory:Ai(s);if(null!==l)return l;if(s instanceof Pi)throw new Le(204,!1);if(s instanceof Function)return function sp(s){const o=s.length;if(o>0)throw go(o,"?"),new Le(204,!1);const l=function fi(s){const o=s&&(s[wi]||s[gi]);if(o){const l=function ai(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Le(204,!1)}function vw(s,o,l){let c;if(rh(s)){const f=ue(s);return Ai(f)||bm(f)}if(jy(s))c=()=>ue(s.useValue);else if(function DT(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...vn(s.deps||[]));else if(function IT(s){return!(!s||!s.useExisting)}(s))c=()=>Ht(ue(s.useExisting));else{const f=ue(s&&(s.useClass||s.provide));if(!function bw(s){return!!s.deps}(s))return Ai(f)||bm(f);c=()=>new f(...vn(s.deps))}return c}function Ri(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function jy(s){return null!==s&&"object"==typeof s&&Fe in s}function rh(s){return"function"==typeof s}let wo=(()=>{class s{static create(l,c){var f;if(Array.isArray(l))return ih({name:""},c,l,"");{const m=null!==(f=l.name)&&void 0!==f?f:"";return ih({name:m},l.parent,l.providers,m)}}}return s.THROW_IF_NOT_FOUND=Zo,s.NULL=new Uy,s.\u0275prov=xn({token:s,providedIn:"any",factory:()=>Ht(vm)}),s.__NG_ELEMENT_ID__=-1,s})();function Sw(s,o){Va(Sf(s)[1],Rn())}function Sm(s){let o=function no(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const c=[s];for(;o;){let f;if(zi(s))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Le(903,"");f=o.\u0275dir}if(f){if(l){c.push(f);const b=s;b.inputs=xu(s.inputs),b.declaredInputs=xu(s.declaredInputs),b.outputs=xu(s.outputs);const E=f.hostBindings;E&&Xy(s,E);const I=f.viewQuery,F=f.contentQueries;if(I&&OT(s,I),F&&kT(s,F),z(s.inputs,f.inputs),z(s.declaredInputs,f.declaredInputs),z(s.outputs,f.outputs),zi(f)&&f.data.animation){const G=s.data;G.animation=(G.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let b=0;b<m.length;b++){const E=m[b];E&&E.ngInherit&&E(s),E===Sm&&(l=!1)}}o=Object.getPrototypeOf(o)}!function xw(s){let o=0,l=null;for(let c=s.length-1;c>=0;c--){const f=s[c];f.hostVars=o+=f.hostVars,f.hostAttrs=Ba(f.hostAttrs,l=Ba(l,f.hostAttrs))}}(c)}function xu(s){return s===Tt?{}:s===le?[]:s}function OT(s,o){const l=s.viewQuery;s.viewQuery=l?(c,f)=>{o(c,f),l(c,f)}:o}function kT(s,o){const l=s.contentQueries;s.contentQueries=l?(c,f,m)=>{o(c,f,m),l(c,f,m)}:o}function Xy(s,o){const l=s.hostBindings;s.hostBindings=l?(c,f)=>{o(c,f),l(c,f)}:o}let xm=null;function Vl(){if(!xm){const s=ge.Symbol;if(s&&s.iterator)xm=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const c=o[l];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(xm=c)}}}return xm}function oh(s){return!!sl(s)&&(Array.isArray(s)||!(s instanceof Map)&&Vl()in s)}function sl(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ko(s,o,l){return s[o]=l}function up(s,o){return s[o]}function ht(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Mi(s,o,l,c){const f=ht(s,o,l);return ht(s,o+1,c)||f}function io(s,o,l,c,f,m){const b=Mi(s,o,l,c);return Mi(s,o+2,f,m)||b}function jt(s,o,l,c){const f=me();return ht(f,qs(),o)&&(ct(),nl(ki(),f,s,o,l,c)),jt}function Dt(s,o,l,c,f,m){const E=Mi(s,function Yr(){return Yt.lFrame.bindingIndex}(),l,f);return ds(2),E?o+be(l)+c+be(f)+m:Tn}function Lc(s,o,l,c,f,m,b,E){const I=me(),F=ct(),G=s+20,oe=F.firstCreatePass?function Nn(s,o,l,c,f,m,b,E,I){const F=o.consts,G=Xd(o,s,4,b||null,ei(F,E));xy(o,l,G,ei(F,I)),Va(o,G);const oe=G.tViews=Kf(2,G,c,f,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,F);return null!==o.queries&&(o.queries.template(o,G),oe.queries=o.queries.embeddedTView(G)),G}(G,F,I,o,l,c,f,m,b):F.data[G];nr(oe,!1);const Te=I[11].createComment("");xc(F,I,Te,oe),Tr(Te,I),Su(I,I[G]=Jf(Te,I,Te,oe)),ls(oe)&&cm(F,I,oe),null!=b&&Rc(I,oe,E)}function rr(s){return Pn(function ec(){return Yt.lFrame.contextLView}(),20+s)}function pp(s,o=Ut.Default){const l=me();return null===l?Ht(s,o):tu(Rn(),l,ue(s),o)}function uv(){throw new Error("invalid")}function Mm(s,o,l){const c=me();return ht(c,qs(),o)&&function to(s,o,l,c,f,m,b,E){const I=st(o,l);let G,F=o.inputs;!E&&null!=F&&(G=F[c])?(Ly(s,l,G,c,f),Oa(o)&&function bT(s,o){const l=cn(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(c=function Yf(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),f=null!=b?b(f,o.value||"",c):f,Zn(m)?m.setProperty(I,c,f):Ls(c)||(I.setProperty?I.setProperty(c,f):I[c]=f))}(ct(),ki(),c,s,o,c[11],l,!1),Mm}function ns(s,o,l,c,f){const b=f?"class":"style";Ly(s,l,o.inputs[b],b,c)}function Ti(s,o,l,c){const f=me(),m=ct(),b=20+s,E=f[11],I=f[b]=Sc(E,o,function md(){return Yt.lFrame.currentNamespace}()),F=m.firstCreatePass?function Hw(s,o,l,c,f,m,b){const E=o.consts,F=Xd(o,s,2,f,ei(E,m));return xy(o,l,F,ei(E,b)),null!==F.attrs&&ep(F,F.attrs,!1),null!==F.mergedAttrs&&ep(F,F.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,F),F}(b,m,f,0,o,l,c):m.data[b];nr(F,!0);const G=F.mergedAttrs;null!==G&&uo(E,I,G);const oe=F.classes;null!==oe&&hs(E,I,oe);const Te=F.styles;return null!==Te&&dy(E,I,Te),64!=(64&F.flags)&&xc(m,f,I,F),0===function $s(){return Yt.lFrame.elementDepthCount}()&&Tr(I,f),function Gs(){Yt.lFrame.elementDepthCount++}(),ls(F)&&(cm(m,f,F),Ds(m,F,f)),null!==c&&Rc(f,F),Ti}function jc(){let s=Rn();Po()?ml():(s=s.parent,nr(s,!1));const o=s;!function k(){Yt.lFrame.elementDepthCount--}();const l=ct();return l.firstCreatePass&&(Va(l,s),as(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function _d(s){return 0!=(16&s.flags)}(o)&&ns(l,o,me(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function yd(s){return 0!=(32&s.flags)}(o)&&ns(l,o,me(),o.stylesWithoutHost,!1),jc}function gp(s,o,l,c){return Ti(s,o,l,c),jc(),gp}function Pu(s,o,l){const c=me(),f=ct(),m=s+20,b=f.firstCreatePass?function Om(s,o,l,c,f){const m=o.consts,b=ei(m,c),E=Xd(o,s,8,"ng-container",b);return null!==b&&ep(E,b,!0),xy(o,l,E,ei(m,f)),null!==o.queries&&o.queries.elementStart(o,E),E}(m,f,c,o,l):f.data[m];nr(b,!0);const E=c[m]=c[11].createComment("");return xc(f,c,E,b),Tr(E,c),ls(b)&&(cm(f,c,b),Ds(f,b,c)),null!=l&&Rc(c,b),Pu}function mp(){let s=Rn();const o=ct();return Po()?ml():(s=s.parent,nr(s,!1)),o.firstCreatePass&&(Va(o,s),as(s)&&o.queries.elementEnd(s)),mp}function cv(s,o,l){return Pu(s,o,l),mp(),cv}function Yo(){return me()}function km(s){return!!s&&"function"==typeof s.then}function sr(s){return!!s&&"function"==typeof s.subscribe}const _p=sr;function Zr(s,o,l,c){const f=me(),m=ct(),b=Rn();return function Zc(s,o,l,c,f,m,b,E){const I=ls(c),G=s.firstCreatePass&&Nc(s),oe=o[8],Te=Fy(o);let Ne=!0;if(3&c.type||E){const St=st(c,o),Zt=E?E(St):St,ot=Te.length,tn=E?Bn=>E(A(Bn[c.index])):c.index;if(Zn(l)){let Bn=null;if(!E&&I&&(Bn=function jw(s,o,l,c){const f=s.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const b=f[m];if(b===l&&f[m+1]===c){const E=o[7],I=f[m+2];return E.length>I?E[I]:null}"string"==typeof b&&(m+=2)}return null}(s,o,f,c.index)),null!==Bn)(Bn.__ngLastListenerFn__||Bn).__ngNextListenerFn__=m,Bn.__ngLastListenerFn__=m,Ne=!1;else{m=Pm(c,o,oe,m,!1);const di=l.listen(Zt,f,m);Te.push(m,di),G&&G.push(f,tn,ot,ot+1)}}else m=Pm(c,o,oe,m,!0),Zt.addEventListener(f,m,b),Te.push(m),G&&G.push(f,tn,ot,b)}else m=Pm(c,o,oe,m,!1);const rt=c.outputs;let bt;if(Ne&&null!==rt&&(bt=rt[f])){const St=bt.length;if(St)for(let Zt=0;Zt<St;Zt+=2){const Gr=o[bt[Zt]][bt[Zt+1]].subscribe(m),Wu=Te.length;Te.push(m,Gr),G&&G.push(f,c.index,Wu,-(Wu+1))}}}(m,f,f[11],b,s,o,!!l,c),Zr}function Zw(s,o,l,c){try{return!1!==l(c)}catch(f){return mw(s,f),!1}}function Pm(s,o,l,c,f){return function m(b){if(b===Function)return c;const E=2&s.flags?cn(s.index,o):o;0==(32&o[2])&&Py(E);let I=Zw(o,0,c,b),F=m.__ngNextListenerFn__;for(;F;)I=Zw(o,0,F,b)&&I,F=F.__ngNextListenerFn__;return f&&!1===I&&(b.preventDefault(),b.returnValue=!1),I}}function Ru(s=1){return function Ql(s){return(Yt.lFrame.contextLView=function sc(s,o){for(;s>0;)o=o[15],s--;return o}(s,Yt.lFrame.contextLView))[8]}(s)}function UT(s,o){let l=null;const c=function lT(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let f=0;f<o.length;f++){const m=o[f];if("*"!==m){if(null===c?Gb(s,m,!0):py(c,m))return f}else l=f}return l}function mh(s){const o=me()[W][6];if(!o.projection){const c=o.projection=go(s?s.length:1,null),f=c.slice();let m=o.child;for(;null!==m;){const b=s?UT(m,s):0;null!==b&&(f[b]?f[b].projectionNext=m:c[b]=m,f[b]=m),m=m.next}}}function yp(s,o=0,l){const c=me(),f=ct(),m=Xd(f,20+s,16,null,l||null);null===m.projection&&(m.projection=o),ml(),64!=(64&m.flags)&&function aT(s,o,l){uy(o[11],0,o,l,el(s,l,o),zg(l.parent||o[6],l,o))}(f,c,m)}function $c(s,o,l,c,f){const m=s[l+1],b=null===o;let E=c?bo(m):Zi(m),I=!1;for(;0!==E&&(!1===I||b);){const G=s[E+1];HT(s[E],o)&&(I=!0,s[E+1]=c?Mc(G):_y(G)),E=c?bo(G):Zi(G)}I&&(s[l+1]=c?_y(m):Mc(m))}function HT(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&za(s,o)>=0}const Dr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fv(s){return s.substring(Dr.key,Dr.keyEnd)}function Hl(s){return s.substring(Dr.value,Dr.valueEnd)}function Gc(s,o){const l=Dr.textEnd;return l===o?-1:(o=Dr.keyEnd=function _h(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Dr.key=o,l),Fu(s,o,l))}function Nm(s,o){const l=Dr.textEnd;let c=Dr.key=Fu(s,o,l);return l===c?-1:(c=Dr.keyEnd=function Qo(s,o,l){let c;for(;o<l&&(45===(c=s.charCodeAt(o))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)o++;return o}(s,c,l),c=pv(s,c,l),c=Dr.value=Fu(s,c,l),c=Dr.valueEnd=function bp(s,o,l){let c=-1,f=-1,m=-1,b=o,E=b;for(;b<l;){const I=s.charCodeAt(b++);if(59===I)return E;34===I||39===I?E=b=gv(s,I,b,l):o===b-4&&85===m&&82===f&&76===c&&40===I?E=b=gv(s,41,b,l):I>32&&(E=b),m=f,f=c,c=-33&I}return E}(s,c,l),pv(s,c,l))}function Fm(s){Dr.key=0,Dr.keyEnd=0,Dr.value=0,Dr.valueEnd=0,Dr.textEnd=s.length}function Fu(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function pv(s,o,l,c){return(o=Fu(s,o,l))<l&&o++,o}function gv(s,o,l,c){let f=-1,m=l;for(;m<c;){const b=s.charCodeAt(m++);if(b==o&&92!==f)return m;f=92==b&&92===f?0:b}throw new Error}function wp(s,o,l){return Xo(s,o,l,!1),wp}function Lm(s,o){return Xo(s,o,null,!0),Lm}function Jo(s){so(_v,ZT,s,!1)}function ZT(s,o){for(let l=function jT(s){return Fm(s),Nm(s,Fu(s,0,Dr.textEnd))}(o);l>=0;l=Nm(o,l))_v(s,fv(o),Hl(o))}function mv(s){so(Ur,va,s,!0)}function va(s,o){for(let l=function Kw(s){return Fm(s),Gc(s,Fu(s,0,Dr.textEnd))}(o);l>=0;l=Gc(o,l))Ur(s,fv(o),!0)}function Xo(s,o,l,c){const f=me(),m=ct(),b=ds(2);m.firstUpdatePass&&Jw(m,s,b,c),o!==Tn&&ht(f,b,o)&&wh(m,m.data[cr()],f,f[11],s,f[b+1]=function Sr(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=re(Qs(s)))),s}(o,l),c,b)}function so(s,o,l,c){const f=ct(),m=ds(2);f.firstUpdatePass&&Jw(f,null,m,c);const b=me();if(l!==Tn&&ht(b,m,l)){const E=f.data[cr()];if(Cp(E,c)&&!Qw(f,m)){let I=c?E.classesWithoutHost:E.stylesWithoutHost;null!==I&&(l=se(I,l||"")),ns(f,E,b,l,c)}else!function tC(s,o,l,c,f,m,b,E){f===Tn&&(f=le);let I=0,F=0,G=0<f.length?f[0]:null,oe=0<m.length?m[0]:null;for(;null!==G||null!==oe;){const Te=I<f.length?f[I+1]:void 0,Ne=F<m.length?m[F+1]:void 0;let bt,rt=null;G===oe?(I+=2,F+=2,Te!==Ne&&(rt=oe,bt=Ne)):null===oe||null!==G&&G<oe?(I+=2,rt=G):(F+=2,rt=oe,bt=Ne),null!==rt&&wh(s,o,l,c,rt,bt,b,E),G=I<f.length?f[I]:null,oe=F<m.length?m[F]:null}}(f,E,b,b[11],b[m+1],b[m+1]=function bh(s,o,l){if(null==l||""===l)return le;const c=[],f=Qs(l);if(Array.isArray(f))for(let m=0;m<f.length;m++)s(c,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&s(c,m,f[m]);else"string"==typeof f&&o(c,f);return c}(s,o,l),c,m)}}function Qw(s,o){return o>=s.expandoStartIndex}function Jw(s,o,l,c){const f=s.data;if(null===f[l+1]){const m=f[cr()],b=Qw(s,l);Cp(m,c)&&null===o&&!b&&(o=!1),o=function Xw(s,o,l,c){const f=function No(s){const o=Yt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let m=c?o.residualClasses:o.residualStyles;if(null===f)0===(c?o.classBindings:o.styleBindings)&&(l=vh(l=jl(null,s,o,l,c),o.attrs,c),m=null);else{const b=o.directiveStylingLast;if(-1===b||s[b]!==f)if(l=jl(f,s,o,l,c),null===m){let I=function yh(s,o,l){const c=l?o.classBindings:o.styleBindings;if(0!==Zi(c))return s[bo(c)]}(s,o,c);void 0!==I&&Array.isArray(I)&&(I=jl(null,s,o,I[1],c),I=vh(I,o.attrs,c),function qc(s,o,l,c){s[bo(l?o.classBindings:o.styleBindings)]=c}(s,o,c,I))}else m=function eC(s,o,l){let c;const f=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<f;m++)c=vh(c,s[m].hostAttrs,l);return vh(c,o.attrs,l)}(s,o,c)}return void 0!==m&&(c?o.residualClasses=m:o.residualStyles=m),l}(f,m,o,c),function BT(s,o,l,c,f,m){let b=m?o.classBindings:o.styleBindings,E=bo(b),I=Zi(b);s[c]=l;let G,F=!1;if(Array.isArray(l)){const oe=l;G=oe[1],(null===G||za(oe,G)>0)&&(F=!0)}else G=l;if(f)if(0!==I){const Te=bo(s[E+1]);s[c+1]=tm(Te,E),0!==Te&&(s[Te+1]=Ac(s[Te+1],c)),s[E+1]=function cT(s,o){return 131071&s|o<<17}(s[E+1],c)}else s[c+1]=tm(E,0),0!==E&&(s[E+1]=Ac(s[E+1],c)),E=c;else s[c+1]=tm(I,0),0===E?E=c:s[I+1]=Ac(s[I+1],c),I=c;F&&(s[c+1]=_y(s[c+1])),$c(s,G,c,!0),$c(s,G,c,!1),function Nu(s,o,l,c,f){const m=f?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&za(m,o)>=0&&(l[c+1]=Mc(l[c+1]))}(o,G,s,c,m),b=tm(E,I),m?o.classBindings=b:o.styleBindings=b}(f,m,o,l,b,c)}}function jl(s,o,l,c,f){let m=null;const b=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<b&&(m=o[E],c=vh(c,m.hostAttrs,f),m!==s);)E++;return null!==s&&(l.directiveStylingLast=E),c}function vh(s,o,l){const c=l?1:2;let f=-1;if(null!==o)for(let m=0;m<o.length;m++){const b=o[m];"number"==typeof b?f=b:f===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ur(s,b,!!l||o[++m]))}return void 0===s?null:s}function _v(s,o,l){Ur(s,o,Qs(l))}function wh(s,o,l,c,f,m,b,E){if(!(3&o.type))return;const I=s.data,F=I[E+1];Vm(function Kb(s){return 1==(1&s)}(F)?nC(I,o,l,f,Zi(F),b):void 0)||(Vm(m)||function my(s){return 2==(2&s)}(F)&&(m=nC(I,null,l,f,E,b)),function Kg(s,o,l,c,f){const m=Zn(s);if(o)f?m?s.addClass(l,c):l.classList.add(c):m?s.removeClass(l,c):l.classList.remove(c);else{let b=-1===c.indexOf("-")?void 0:ee.DashCase;if(null==f)m?s.removeStyle(l,c,b):l.style.removeProperty(c);else{const E="string"==typeof f&&f.endsWith("!important");E&&(f=f.slice(0,-10),b|=ee.Important),m?s.setStyle(l,c,f,b):l.style.setProperty(c,f,E?"important":"")}}}(c,b,We(cr(),l),f,m))}function nC(s,o,l,c,f,m){const b=null===o;let E;for(;f>0;){const I=s[f],F=Array.isArray(I),G=F?I[1]:I,oe=null===G;let Te=l[f+1];Te===Tn&&(Te=oe?le:void 0);let Ne=oe?pc(Te,c):G===c?Te:void 0;if(F&&!Vm(Ne)&&(Ne=pc(I,c)),Vm(Ne)&&(E=Ne,b))return E;const rt=s[f+1];f=b?bo(rt):Zi(rt)}if(null!==o){let I=m?o.residualClasses:o.residualStyles;null!=I&&(E=pc(I,c))}return E}function Vm(s){return void 0!==s}function Cp(s,o){return 0!=(s.flags&(o?16:32))}function Ep(s,o=""){const l=me(),c=ct(),f=s+20,m=c.firstCreatePass?Xd(c,f,1,o,null):c.data[f],b=l[f]=function Ic(s,o){return Zn(s)?s.createText(o):s.createTextNode(o)}(l[11],o);xc(c,l,b,m),nr(m,!1)}function yv(s){return Ch("",s,""),yv}function Ch(s,o,l){const c=me(),f=function lh(s,o,l,c){return ht(s,qs(),l)?o+be(l)+c:Tn}(c,s,o,l);return f!==Tn&&Ll(c,cr(),f),Ch}function vv(s,o,l,c,f){const m=me(),b=Dt(m,s,o,l,c,f);return b!==Tn&&Ll(m,cr(),b),vv}const zc=void 0;var lC=["en",[["a","p"],["AM","PM"],zc],[["AM","PM"],zc,zc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zc,"{1} 'at' {0}",zc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Sp(s){const l=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let Dh={};function xp(s){const o=function Ap(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=ba(o);if(l)return l;const c=o.split("-")[0];if(l=ba(c),l)return l;if("en"===c)return lC;throw new Error(`Missing locale data for the locale "${s}".`)}function Sh(s){return xp(s)[ln.PluralCase]}function ba(s){return s in Dh||(Dh[s]=ge.ng&&ge.ng.common&&ge.ng.common.locales&&ge.ng.common.locales[s]),Dh[s]}var ln=(()=>((ln=ln||{})[ln.LocaleId=0]="LocaleId",ln[ln.DayPeriodsFormat=1]="DayPeriodsFormat",ln[ln.DayPeriodsStandalone=2]="DayPeriodsStandalone",ln[ln.DaysFormat=3]="DaysFormat",ln[ln.DaysStandalone=4]="DaysStandalone",ln[ln.MonthsFormat=5]="MonthsFormat",ln[ln.MonthsStandalone=6]="MonthsStandalone",ln[ln.Eras=7]="Eras",ln[ln.FirstDayOfWeek=8]="FirstDayOfWeek",ln[ln.WeekendRange=9]="WeekendRange",ln[ln.DateFormat=10]="DateFormat",ln[ln.TimeFormat=11]="TimeFormat",ln[ln.DateTimeFormat=12]="DateTimeFormat",ln[ln.NumberSymbols=13]="NumberSymbols",ln[ln.NumberFormats=14]="NumberFormats",ln[ln.CurrencyCode=15]="CurrencyCode",ln[ln.CurrencySymbol=16]="CurrencySymbol",ln[ln.CurrencyName=17]="CurrencyName",ln[ln.Currencies=18]="Currencies",ln[ln.Directionality=19]="Directionality",ln[ln.PluralCase=20]="PluralCase",ln[ln.ExtraData=21]="ExtraData",ln))();const Mp="en-US";let kv=Mp;function Km(s,o,l,c,f){if(s=ue(s),Array.isArray(s))for(let m=0;m<s.length;m++)Km(s[m],o,l,c,f);else{const m=ct(),b=me();let E=rh(s)?s:ue(s.provide),I=vw(s);const F=Rn(),G=1048575&F.providerIndexes,oe=F.directiveStart,Te=F.providerIndexes>>20;if(rh(s)||!s.multi){const Ne=new Ns(I,f,pp),rt=Lp(E,o,f?G:G+Te,oe);-1===rt?(Tl(fo(F,b),m,E),Gv(m,s,o.length),o.push(E),F.directiveStart++,F.directiveEnd++,f&&(F.providerIndexes+=1048576),l.push(Ne),b.push(Ne)):(l[rt]=Ne,b[rt]=Ne)}else{const Ne=Lp(E,o,G+Te,oe),rt=Lp(E,o,G,G+Te),bt=Ne>=0&&l[Ne],St=rt>=0&&l[rt];if(f&&!St||!f&&!bt){Tl(fo(F,b),m,E);const Zt=function Vp(s,o,l,c,f){const m=new Ns(s,l,pp);return m.multi=[],m.index=o,m.componentProviders=0,AC(m,f,c&&!l),m}(f?fI:Ym,l.length,f,c,I);!f&&St&&(l[rt].providerFactory=Zt),Gv(m,s,o.length,0),o.push(E),F.directiveStart++,F.directiveEnd++,f&&(F.providerIndexes+=1048576),l.push(Zt),b.push(Zt)}else Gv(m,s,Ne>-1?Ne:rt,AC(l[f?rt:Ne],I,!f&&c));!f&&c&&St&&l[rt].componentProviders++}}}function Gv(s,o,l,c){const f=rh(o),m=function ST(s){return!!s.useClass}(o);if(f||m){const I=(m?ue(o.useClass):o).prototype.ngOnDestroy;if(I){const F=s.destroyHooks||(s.destroyHooks=[]);if(!f&&o.multi){const G=F.indexOf(l);-1===G?F.push(l,[c,I]):F[G+1].push(c,I)}else F.push(l,I)}}}function AC(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function Lp(s,o,l,c){for(let f=l;f<c;f++)if(o[f]===s)return f;return-1}function Ym(s,o,l,c){return Qm(this.multi,[])}function fI(s,o,l,c){const f=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,E=iu(l,l[1],this.providerFactory.index,c);m=E.slice(0,b),Qm(f,m);for(let I=b;I<E.length;I++)m.push(E[I])}else m=[],Qm(f,m);return m}function Qm(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function Up(s,o=[]){return l=>{l.providersResolver=(c,f)=>function td(s,o,l){const c=ct();if(c.firstCreatePass){const f=zi(s);Km(l,c.data,c.blueprint,f,!0),Km(o,c.data,c.blueprint,f,!1)}}(c,f?f(s):s,o)}}class qv{}class Kv{resolveComponentFactory(o){throw function oo(s){const o=Error(`No component factory found for ${re(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Bp=(()=>{class s{}return s.NULL=new Kv,s})();function ju(){return Ea(Rn(),me())}function Ea(s,o){return new Ph(st(s,o))}let Ph=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=ju,s})();function nd(s){return s instanceof Ph?s.nativeElement:s}class id{}let MC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function rd(){const s=me(),l=cn(Rn().index,s);return function Zu(s){return s[11]}(zt(l)?l:s)}(),s})(),Yv=(()=>{class s{}return s.\u0275prov=xn({token:s,providedIn:"root",factory:()=>null}),s})();class Qv{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const OC=new Qv("13.3.10"),Jv={};function Xm(s,o,l,c,f=!1){for(;null!==l;){const m=o[l.index];if(null!==m&&c.push(A(m)),ri(m))for(let E=10;E<m.length;E++){const I=m[E],F=I[1].firstChild;null!==F&&Xm(I[1],I,F,c)}const b=l.type;if(8&b)Xm(s,o,l.child,c);else if(32&b){const E=Ke(l,o);let I;for(;I=E();)c.push(I)}else if(16&b){const E=Pl(o,l);if(Array.isArray(E))c.push(...E);else{const I=rn(o[W]);Xm(I[1],I,E,c,!0)}}l=f?l.projectionNext:l.next}return c}class Hp{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Xm(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ri(o)){const l=o[8],c=l?l.indexOf(this):-1;c>-1&&(Uf(o,c),qa(l,c))}this._attachedToViewContainer=!1}Fb(this._lView[1],this._lView)}onDestroy(o){dm(this._lView[1],this._lView,null,o)}markForCheck(){Py(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Ny(s,o,l){const c=o[10];c.begin&&c.begin();try{Pc(s,o,s.template,l)}catch(f){throw mw(o,f),f}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Go(s,o){Kd(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Le(902,"");this._appRef=o}}class e_ extends Hp{constructor(o){super(o),this._view=o}detectChanges(){fw(this._view)}checkNoChanges(){}get context(){return null}}class Xv extends Bp{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Un(o);return new Zl(l,this.ngModule)}}function kC(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class Zl extends qv{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function zb(s){return s.map(uT).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return kC(this.componentDef.inputs)}get outputs(){return kC(this.componentDef.outputs)}create(o,l,c,f){const m=(f=f||this.ngModule)?function PC(s,o){return{get:(l,c,f)=>{const m=s.get(l,Jv,f);return m!==Jv||c===Jv?m:o.get(l,c,f)}}}(o,f.injector):o,b=m.get(id,M),E=m.get(Yv,null),I=b.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",G=c?function eh(s,o,l){if(Zn(s))return s.selectRootElement(o,l===te.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(I,c,this.componentDef.encapsulation):Sc(b.createRenderer(null,this.componentDef),F,function pI(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(F)),oe=this.componentDef.onPush?576:528,Te=function Qy(s,o){return{components:[],scheduler:s||qd,clean:pw,playerHandler:o||null,flags:0}}(),Ne=Kf(0,null,null,1,0,null,null,null,null,null),rt=qf(null,Ne,Te,oe,null,null,b,I,E,m);let bt,St;aa(rt);try{const Zt=function Ky(s,o,l,c,f,m){const b=l[1];l[20]=s;const I=Xd(b,20,2,"#host",null),F=I.mergedAttrs=o.hostAttrs;null!==F&&(ep(I,F,!0),null!==s&&(uo(f,s,F),null!==I.classes&&hs(f,s,I.classes),null!==I.styles&&dy(f,s,I.styles)));const G=c.createRenderer(s,o),oe=qf(l,Wf(o),null,o.onPush?64:16,l[20],I,c,G,m||null,null);return b.firstCreatePass&&(Tl(fo(I,l),b,o.type),uw(b,I),gm(I,l.length,1)),Su(l,oe),l[20]=oe}(G,this.componentDef,rt,b,I);if(G)if(c)uo(I,G,["ng-version",OC.full]);else{const{attrs:ot,classes:tn}=function Jg(s){const o=[],l=[];let c=1,f=2;for(;c<s.length;){let m=s[c];if("string"==typeof m)2===f?""!==m&&o.push(m,s[++c]):8===f&&l.push(m);else{if(!qo(f))break;f=m}c++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);ot&&uo(I,G,ot),tn&&tn.length>0&&hs(I,G,tn.join(" "))}if(St=on(Ne,20),void 0!==l){const ot=St.projection=[];for(let tn=0;tn<this.ngContentSelectors.length;tn++){const Bn=l[tn];ot.push(null!=Bn?Array.from(Bn):null)}}bt=function Yy(s,o,l,c,f){const m=l[1],b=function aw(s,o,l){const c=Rn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Du(s,c,o,kc(s,o,1,null),l));const f=iu(o,s,c.directiveStart,c);Tr(f,o);const m=st(c,o);return m&&Tr(m,o),f}(m,l,o);if(c.components.push(b),s[8]=b,f&&f.forEach(I=>I(b,o)),o.contentQueries){const I=Rn();o.contentQueries(1,b,I.directiveStart)}const E=Rn();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(La(E.index),th(l[1],E,0,E.directiveStart,E.directiveEnd,o),Iu(o,b)),b}(Zt,this.componentDef,rt,Te,[Sw]),Tu(Ne,rt,null)}finally{ua()}return new RC(this.componentType,bt,Ea(St,rt),rt,St)}}class RC extends class Jm{}{constructor(o,l,c,f,m){super(),this.location=c,this._rootLView=f,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new e_(f),this.componentType=o}get injector(){return new Es(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class sd{}class t_{}const $u=new Map;class NC extends sd{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Xv(this);const c=ui(o);this._bootstrapComponents=y(c.bootstrap),this._r3Injector=rp(o,l,[{provide:sd,useValue:this},{provide:Bp,useValue:this.componentFactoryResolver}],re(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=wo.THROW_IF_NOT_FOUND,c=Ut.Default){return o===wo||o===sd||o===vm?this:this._r3Injector.get(o,l,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class r_ extends t_{constructor(o){super(),this.moduleType=o,null!==ui(o)&&function e0(s){const o=new Set;!function l(c){const f=ui(c,!0),m=f.id;null!==m&&(function Zp(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${re(o)} vs ${re(o.name)}`)}(m,$u.get(m),c),$u.set(m,c));const b=y(f.imports);for(const E of b)o.has(E)||(o.add(E),l(E))}(s)}(o)}create(o){return new NC(this.moduleType,o)}}function t0(s,o,l){const c=wr()+s,f=me();return f[c]===Tn?Ko(f,c,l?o.call(l):o()):up(f,c)}function s_(s,o,l,c){return r0(me(),wr(),s,o,l,c)}function FC(s,o,l,c,f){return function s0(s,o,l,c,f,m,b){const E=o+l;return Mi(s,E,f,m)?Ko(s,E+2,b?c.call(b,f,m):c(f,m)):Gu(s,E+2)}(me(),wr(),s,o,l,c,f)}function n0(s,o,l,c,f,m){return function o0(s,o,l,c,f,m,b,E){const I=o+l;return function Au(s,o,l,c,f){const m=Mi(s,o,l,c);return ht(s,o+2,f)||m}(s,I,f,m,b)?Ko(s,I+3,E?c.call(E,f,m,b):c(f,m,b)):Gu(s,I+3)}(me(),wr(),s,o,l,c,f,m)}function LC(s,o,l,c,f,m,b){return function BC(s,o,l,c,f,m,b,E,I){const F=o+l;return io(s,F,f,m,b,E)?Ko(s,F+4,I?c.call(I,f,m,b,E):c(f,m,b,E)):Gu(s,F+4)}(me(),wr(),s,o,l,c,f,m,b)}function UC(s,o,l,c,f,m,b,E,I){const F=wr()+s,G=me(),oe=io(G,F,l,c,f,m);return Mi(G,F+4,b,E)||oe?Ko(G,F+6,I?o.call(I,l,c,f,m,b,E):o(l,c,f,m,b,E)):up(G,F+6)}function o_(s,o,l,c){return function a_(s,o,l,c,f,m){let b=o+l,E=!1;for(let I=0;I<f.length;I++)ht(s,b++,f[I])&&(E=!0);return E?Ko(s,b,c.apply(m,f)):Gu(s,b)}(me(),wr(),s,o,l,c)}function Gu(s,o){const l=s[o];return l===Tn?void 0:l}function r0(s,o,l,c,f,m){const b=o+l;return ht(s,b,f)?Ko(s,b+1,m?c.call(m,f):c(f)):Gu(s,b+1)}function HC(s,o){const l=ct();let c;const f=s+20;l.firstCreatePass?(c=function a0(s,o){if(o)for(let l=o.length-1;l>=0;l--){const c=o[l];if(s===c.name)return c}}(o,l.pipeRegistry),l.data[f]=c,c.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(f,c.onDestroy)):c=l.data[f];const m=c.factory||(c.factory=Ai(c.type)),b=mn(pp);try{const E=ho(!1),I=m();return ho(E),function Nw(s,o,l,c){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=c}(l,me(),f,I),I}finally{mn(b)}}function jC(s,o,l){const c=s+20,f=me(),m=Pn(f,c);return function $p(s,o){return s[1].data[o].pure}(f,c)?r0(f,wr(),o,m.transform,l,m):m.transform(l)}function u0(s){return o=>{setTimeout(s,void 0,o)}}const al=class bI extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,c){var f,m,b;let E=o,I=l||(()=>null),F=c;if(o&&"object"==typeof o){const oe=o;E=null===(f=oe.next)||void 0===f?void 0:f.bind(oe),I=null===(m=oe.error)||void 0===m?void 0:m.bind(oe),F=null===(b=oe.complete)||void 0===b?void 0:b.bind(oe)}this.__isAsync&&(I=u0(I),E&&(E=u0(E)),F&&(F=u0(F)));const G=super.subscribe({next:E,error:I,complete:F});return o instanceof a.w0&&o.add(G),G}};function wI(){return this._results[Vl()]()}class Gp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Vl(),c=Gp.prototype;c[l]||(c[l]=wI)}get changes(){return this._changes||(this._changes=new al)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const c=this;c.dirty=!1;const f=Lr(o);(this._changesDetected=!function Ed(s,o,l){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let f=s[c],m=o[c];if(l&&(f=l(f),m=l(m)),m!==f)return!1}return!0}(c._results,f,l))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Fh=(()=>{class s{}return s.__NG_ELEMENT_ID__=l_,s})();const ZC=Fh,c0=class extends ZC{constructor(o,l,c){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(o){const l=this._declarationTContainer.tViews,c=qf(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(c[19]=m.createEmbeddedView(l)),Tu(l,c,o),new Hp(c)}};function l_(){return qu(Rn(),me())}function qu(s,o){return 4&s.type?new c0(o,s,Ea(s,o)):null}let od=(()=>{class s{}return s.__NG_ELEMENT_ID__=d0,s})();function d0(){return g0(Rn(),me())}const h0=od,u_=class extends h0{constructor(o,l,c){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=c}get element(){return Ea(this._hostTNode,this._hostLView)}get injector(){return new Es(this._hostTNode,this._hostLView)}get parentInjector(){const o=Fr(this._hostTNode,this._hostLView);if(co(o)){const l=Vo(o,this._hostLView),c=Lo(o);return new Es(l[1].data[c+8],l)}return new Es(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=f0(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,c){const f=o.createEmbeddedView(l||{});return this.insert(f,c),f}createComponent(o,l,c,f,m){const b=o&&!function lu(s){return"function"==typeof s}(o);let E;if(b)E=l;else{const oe=l||{};E=oe.index,c=oe.injector,f=oe.projectableNodes,m=oe.ngModuleRef}const I=b?o:new Zl(Un(o)),F=c||this.parentInjector;if(!m&&null==I.ngModule){const Te=(b?F:this.parentInjector).get(sd,null);Te&&(m=Te)}const G=I.create(F,f,void 0,m);return this.insert(G.hostView,E),G}insert(o,l){const c=o._lView,f=c[1];if(function Xn(s){return ri(s[3])}(c)){const G=this.indexOf(o);if(-1!==G)this.detach(G);else{const oe=c[3],Te=new u_(oe,oe[6],oe[3]);Te.detach(Te.indexOf(o))}}const m=this._adjustIndex(l),b=this._lContainer;!function Vf(s,o,l,c){const f=10+c,m=l.length;c>0&&(l[f-1][4]=o),c<m-10?(o[4]=l[f],uu(l,10+c,o)):(l.push(o),o[4]=null),o[3]=l;const b=o[17];null!==b&&l!==b&&function It(s,o){const l=s[9];o[W]!==o[3][3][W]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(b,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(f,c,b,m);const E=ly(m,b),I=c[11],F=Eu(I,b[7]);return null!==F&&function qg(s,o,l,c,f,m){c[0]=f,c[6]=o,Kd(s,c,l,1,f,m)}(f,b[6],I,c,F,E),o.attachToViewContainerRef(),uu(p0(b),m,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=f0(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),c=Uf(this._lContainer,l);c&&(qa(p0(this._lContainer),l),Fb(c[1],c))}detach(o){const l=this._adjustIndex(o,-1),c=Uf(this._lContainer,l);return c&&null!=qa(p0(this._lContainer),l)?new Hp(c):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function f0(s){return s[8]}function p0(s){return s[8]||(s[8]=[])}function g0(s,o){let l;const c=o[s.index];if(ri(c))l=c;else{let f;if(8&s.type)f=A(c);else{const m=o[11];f=m.createComment("");const b=st(s,o);kl(m,Eu(m,b),f,function oT(s,o){return Zn(s)?s.nextSibling(o):o.nextSibling}(m,b),!1)}o[s.index]=l=Jf(c,o,f,s),Su(o,l)}return new u_(l,s,o)}class c_{constructor(o){this.queryList=o,this.matches=null}clone(){return new c_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lh{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const c=null!==o.contentQueries?o.contentQueries[0]:l.length,f=[];for(let m=0;m<c;m++){const b=l.getByIndex(m);f.push(this.queries[b.indexInDeclarationView].clone())}return new Lh(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==g_(o,l).matches&&this.queries[l].setDirty()}}class Vh{constructor(o,l,c=null){this.predicate=o,this.flags=l,this.read=c}}class qp{constructor(o=[]){this.queries=o}elementStart(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let c=0;c<this.length;c++){const f=null!==l?l.length:0,m=this.getByIndex(c).embeddedTView(o,f);m&&(m.indexInDeclarationView=c,null!==l?l.push(m):l=[m])}return null!==l?new qp(l):null}template(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class d_{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new d_(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const m=c[f];this.matchTNodeWithReadOption(o,l,TI(l,m)),this.matchTNodeWithReadOption(o,l,pa(l,o,m,!1,!1))}else c===Fh?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,pa(l,o,c,!1,!1))}matchTNodeWithReadOption(o,l,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===Ph||f===od||f===Fh&&4&l.type)this.addMatch(l.index,-2);else{const m=pa(l,o,f,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,c)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function TI(s,o){const l=s.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===o)return l[c+1];return null}function DI(s,o,l,c){return-1===l?function II(s,o){return 11&s.type?Ea(s,o):4&s.type?qu(s,o):null}(o,s):-2===l?function SI(s,o,l){return l===Ph?Ea(o,s):l===Fh?qu(o,s):l===od?g0(o,s):void 0}(s,o,c):iu(s,s[1],l,o)}function $C(s,o,l,c){const f=o[19].queries[c];if(null===f.matches){const m=s.data,b=l.matches,E=[];for(let I=0;I<b.length;I+=2){const F=b[I];E.push(F<0?null:DI(o,m[F],b[I+1],l.metadata.read))}f.matches=E}return f.matches}function ad(s,o,l,c){const f=s.queries.getByIndex(l),m=f.matches;if(null!==m){const b=$C(s,o,f,l);for(let E=0;E<m.length;E+=2){const I=m[E];if(I>0)c.push(b[E/2]);else{const F=m[E+1],G=o[-I];for(let oe=10;oe<G.length;oe++){const Te=G[oe];Te[17]===Te[3]&&ad(Te[1],Te,F,c)}if(null!==G[9]){const oe=G[9];for(let Te=0;Te<oe.length;Te++){const Ne=oe[Te];ad(Ne[1],Ne,F,c)}}}}}return c}function h_(s){const o=me(),l=ct(),c=Fo();vl(c+1);const f=g_(l,c);if(s.dirty&&An(o)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const m=f.crossesNgTemplate?ad(l,o,c,[]):$C(l,o,f,c);s.reset(m,nd),s.notifyOnChanges()}return!0}return!1}function ld(s,o,l){const c=ct();c.firstCreatePass&&(m0(c,new Vh(s,o,l),-1),2==(2&o)&&(c.staticViewQueries=!0)),p_(c,me(),o)}function f_(s,o,l,c){const f=ct();if(f.firstCreatePass){const m=Rn();m0(f,new Vh(o,l,c),m.index),function _0(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(f,s),2==(2&l)&&(f.staticContentQueries=!0)}p_(f,me(),l)}function zp(){return function Wp(s,o){return s[19].queries[o].queryList}(me(),Fo())}function p_(s,o,l){const c=new Gp(4==(4&l));dm(s,o,c,c.destroy),null===o[19]&&(o[19]=new Lh),o[19].queries.push(new c_(c))}function m0(s,o,l){null===s.queries&&(s.queries=new qp),s.queries.track(new d_(o,l))}function g_(s,o){return s.queries.getByIndex(o)}function $l(s,o){return qu(s,o)}function w_(...s){}const C_=new Pi("Application Initializer");let Jp=(()=>{class s{constructor(l){this.appInits=l,this.resolve=w_,this.reject=w_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,f)=>{this.resolve=c,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(km(m))l.push(m);else if(_p(m)){const b=new Promise((E,I)=>{m.subscribe({complete:E,error:I})});l.push(b)}}Promise.all(l).then(()=>{c()}).catch(f=>{this.reject(f)}),0===l.length&&c(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(Ht(C_,8))},s.\u0275prov=xn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const E_=new Pi("AppId",{providedIn:"root",factory:function nE(){return`${k0()}${k0()}${k0()}`}});function k0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const T_=new Pi("Platform Initializer"),rE=new Pi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),I_=new Pi("appBootstrapListener");let LI=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=xn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const R0=new Pi("LocaleId",{providedIn:"root",factory:()=>$n(R0,Ut.Optional|Ut.SkipSelf)||function P0(){return"undefined"!=typeof $localize&&$localize.locale||Mp}()}),N0=new Pi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class F0{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let L0=(()=>{class s{compileModuleSync(l){return new r_(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const c=this.compileModuleSync(l),m=y(ui(l).declarations).reduce((b,E)=>{const I=Un(E);return I&&b.push(new Zl(I)),b},[]);return new F0(c,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=xn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const oE=(()=>Promise.resolve(0))();function eg(s){"undefined"==typeof Zone?oE.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Co{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new al(!1),this.onMicrotaskEmpty=new al(!1),this.onStable=new al(!1),this.onError=new al(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&l,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function VI(){let s=ge.requestAnimationFrame,o=ge.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function U0(s){const o=()=>{!function UI(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(ge,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,B0(s),s.isCheckStableRunning=!0,tg(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),B0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,f,m,b,E)=>{try{return aE(s),l.invokeTask(f,m,b,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),D_(s)}},onInvoke:(l,c,f,m,b,E,I)=>{try{return aE(s),l.invoke(f,m,b,E,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),D_(s)}},onHasTask:(l,c,f,m)=>{l.hasTask(f,m),c===f&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,B0(s),tg(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,c,f,m)=>(l.handleError(f,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Co.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Co.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,c){return this._inner.run(o,l,c)}runTask(o,l,c,f){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+f,o,ql,w_,w_);try{return m.runTask(b,l,c)}finally{m.cancelTask(b)}}runGuarded(o,l,c){return this._inner.runGuarded(o,l,c)}runOutsideAngular(o){return this._outer.run(o)}}const ql={};function tg(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function B0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function aE(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function D_(s){s._nesting--,tg(s)}class BI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new al,this.onMicrotaskEmpty=new al,this.onStable=new al,this.onError=new al}run(o,l,c){return o.apply(l,c)}runGuarded(o,l,c){return o.apply(l,c)}runOutsideAngular(o){return o()}runTask(o,l,c,f){return o.apply(l,c)}}let S_=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Co.assertNotInAngularZone(),eg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())eg(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,f){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:f})}whenStable(l,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,c,f){return[]}}return s.\u0275fac=function(l){return new(l||s)(Ht(Co))},s.\u0275prov=xn({token:s,factory:s.\u0275fac}),s})(),HI=(()=>{class s{constructor(){this._applications=new Map,ng.addToWindow(this)}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){return ng.findTestabilityInTree(this,l,c)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=xn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class H0{addToWindow(o){}findTestabilityInTree(o,l,c){return null}}function jI(s){ng=s}let ng=new H0,zu=null;const x_=new Pi("AllowMultipleToken"),j0=new Pi("PlatformOnDestroy");class $I{constructor(o,l){this.name=o,this.token=l}}function A_(s,o,l=[]){const c=`Platform: ${o}`,f=new Pi(c);return(m=[])=>{let b=M_();if(!b||b.injector.get(x_,!1)){const E=[...l,...m,{provide:f,useValue:!0}];s?s(E):function $0(s){if(zu&&!zu.get(x_,!1))throw new Le(400,"");zu=s;const o=s.get(lE),l=s.get(T_,null);l&&l.forEach(c=>c())}(function GI(s=[],o){return wo.create({name:o,providers:[{provide:tp,useValue:"platform"},{provide:j0,useValue:()=>zu=null},...s]})}(E,c))}return function G0(s){const o=M_();if(!o)throw new Le(401,"");return o}()}}function M_(){var s;return null!==(s=null==zu?void 0:zu.get(lE))&&void 0!==s?s:null}let lE=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const E=function q0(s,o){let l;return l="noop"===s?new BI:("zone.js"===s?void 0:s)||new Co({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),I=[{provide:Co,useValue:E}];return E.run(()=>{const F=wo.create({providers:I,parent:this.injector,name:l.moduleType.name}),G=l.create(F),oe=G.injector.get(Tc,null);if(!oe)throw new Le(402,"");return E.runOutsideAngular(()=>{const Te=E.onError.subscribe({next:Ne=>{oe.handleError(Ne)}});G.onDestroy(()=>{W0(this._modules,G),Te.unsubscribe()})}),function uE(s,o,l){try{const c=l();return km(c)?c.catch(f=>{throw o.runOutsideAngular(()=>s.handleError(f)),f}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(oe,E,()=>{const Te=G.injector.get(Jp);return Te.runInitializers(),Te.donePromise.then(()=>(function hC(s){un(s,"Expected localeId to be defined"),"string"==typeof s&&(kv=s.toLowerCase().replace(/_/g,"-"))}(G.injector.get(R0,Mp)||Mp),this._moduleDoBootstrap(G),G))})})}bootstrapModule(l,c=[]){const f=ig({},c);return function ZI(s,o,l){const c=new r_(l);return Promise.resolve(c)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(l){const c=l.injector.get(z0);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Le(403,"");l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const l=this._injector.get(j0,null);null==l||l(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(Ht(wo))},s.\u0275prov=xn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function ig(s,o){return Array.isArray(o)?o.reduce(ig,s):Object.assign(Object.assign({},s),o)}let z0=(()=>{class s{constructor(l,c,f,m){this._zone=l,this._injector=c,this._exceptionHandler=f,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new V.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),E=new V.y(I=>{let F;this._zone.runOutsideAngular(()=>{F=this._zone.onStable.subscribe(()=>{Co.assertNotInAngularZone(),eg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const G=this._zone.onUnstable.subscribe(()=>{Co.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{F.unsubscribe(),G.unsubscribe()}});this.isStable=(0,ve.T)(b,E.pipe((0,B.B)()))}bootstrap(l,c){if(!this._initStatus.done)throw new Le(405,"");let f;f=l instanceof qv?l:this._injector.get(Bp).resolveComponentFactory(l),this.componentTypes.push(f.componentType);const m=function Z0(s){return s.isBoundToModule}(f)?void 0:this._injector.get(sd),E=f.create(wo.NULL,[],c||f.selector,m),I=E.location.nativeElement,F=E.injector.get(S_,null),G=F&&E.injector.get(HI);return F&&G&&G.registerApplication(I,F),E.onDestroy(()=>{this.detachView(E.hostView),W0(this.components,E),G&&G.unregisterApplication(I)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Le(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;W0(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(I_,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(Ht(Co),Ht(wo),Ht(Tc),Ht(Jp))},s.\u0275prov=xn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function W0(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let K0=!0,O_=!1;function dE(){return O_=!0,K0}function Y0(){if(O_)throw new Error("Cannot enable prod mode after platform setup.");K0=!1}let Q0=(()=>{class s{}return s.__NG_ELEMENT_ID__=pE,s})();function pE(s){return function J0(s,o,l){if(Oa(s)&&!l){const c=cn(s.index,o);return new Hp(c,c)}return 47&s.type?new Hp(o[W],o):null}(Rn(),me(),16==(16&s))}class ib{constructor(){}supports(o){return oh(o)}create(o){return new XI(o)}}const lg=(s,o)=>o;class XI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||lg}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,c=this._removalsHead,f=0,m=null;for(;l||c;){const b=!c||l&&l.currentIndex<rb(c,f,m)?l:c,E=rb(b,f,m),I=b.currentIndex;if(b===c)f--,c=c._nextRemoved;else if(l=l._next,null==b.previousIndex)f++;else{m||(m=[]);const F=E-f,G=I-f;if(F!=G){for(let Te=0;Te<F;Te++){const Ne=Te<m.length?m[Te]:m[Te]=0,rt=Ne+Te;G<=rt&&rt<F&&(m[Te]=Ne+1)}m[b.previousIndex]=G-F}}E!==I&&o(b,E,I)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!oh(o))throw new Le(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,m,b,l=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)m=o[E],b=this._trackByFn(E,m),null!==l&&Object.is(l.trackById,b)?(c&&(l=this._verifyReinsertion(l,m,b,E)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,b,E),c=!0),l=l._next}else f=0,function ah(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Vl()]();let c;for(;!(c=l.next()).done;)o(c.value)}}(o,E=>{b=this._trackByFn(f,E),null!==l&&Object.is(l.trackById,b)?(c&&(l=this._verifyReinsertion(l,E,b,f)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,b,f),c=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,c,f){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,m,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,m,f)):o=this._addAfter(new Ni(l,c),m,f),o}_verifyReinsertion(o,l,c,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==m?o=this._reinsertAfter(m,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,m=o._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(o,l,c),this._addToMoves(o,c),o}_moveAfter(o,l,c){return this._unlink(o),this._insertAfter(o,l,c),this._addToMoves(o,c),o}_addAfter(o,l,c){return this._insertAfter(o,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,c){const f=null===l?this._itHead:l._next;return o._next=f,o._prev=l,null===f?this._itTail=o:f._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new Ta),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,c=o._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ta),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Ni{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xs{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const l=o._prevDup,c=o._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class Ta{constructor(){this.map=new Map}put(o){const l=o.trackById;let c=this.map.get(l);c||(c=new xs,this.map.set(l,c)),c.add(o)}get(o,l){const f=this.map.get(o);return f?f.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rb(s,o,l){const c=s.previousIndex;if(null===c)return c;let f=0;return l&&c<l.length&&(f=l[c]),c+o+f}class bE{constructor(){}supports(o){return o instanceof Map||sl(o)}create(){return new R_}}class R_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||sl(o)))throw new Le(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(f,c);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const c=o._prev;return l._next=o,l._prev=c,o._prev=l,c&&(c._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,l);const m=f._prev,b=f._next;return m&&(m._next=b),b&&(b._prev=m),f._next=null,f._prev=null,f}const c=new wE(o);return this._records.set(o,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(c=>l(o[c],c))}}class wE{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sb(){return new ob([new ib])}let ob=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(null!=c){const f=c.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||sb()),deps:[[s,new yo,new Us]]}}find(l){const c=this.factories.find(f=>f.supports(l));if(null!=c)return c;throw new Le(901,"")}}return s.\u0275prov=xn({token:s,providedIn:"root",factory:sb}),s})();function EE(){return new ab([new bE])}let ab=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(c){const f=c.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||EE()),deps:[[s,new yo,new Us]]}}find(l){const c=this.factories.find(m=>m.supports(l));if(c)return c;throw new Le(901,"")}}return s.\u0275prov=xn({token:s,providedIn:"root",factory:EE}),s})();const TE=A_(null,"core",[]);let eD=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(Ht(z0))},s.\u0275mod=li({type:s}),s.\u0275inj=Dn({}),s})()},2382:(gt,ke,P)=>{"use strict";P.d(ke,{Wl:()=>be,Fj:()=>Be,qu:()=>$s,NI:()=>Je,u:()=>_s,sg:()=>us,u5:()=>Yt,JU:()=>Le,JJ:()=>Ge,JL:()=>xt,On:()=>yr,YN:()=>ys,wV:()=>kr,UX:()=>br,Q7:()=>X,EJ:()=>Rr,kI:()=>Ze,_Y:()=>Os,Kr:()=>lo});var d=P(5e3),a=P(9808),V=P(8306),ve=P(4742),B=P(8421),H=P(3269),z=P(5403),re=P(3268),se=P(1810),J=P(8996),ue=P(4004);let Ue=(()=>{class k{constructor(D,Y){this._renderer=D,this._elementRef=Y,this.onChange=me=>{},this.onTouched=()=>{}}setProperty(D,Y){this._renderer.setProperty(this._elementRef.nativeElement,D,Y)}registerOnTouched(D){this.onTouched=D}registerOnChange(D){this.onChange=D}setDisabledState(D){this.setProperty("disabled",D)}}return k.\u0275fac=function(D){return new(D||k)(d.Y36(d.Qsj),d.Y36(d.SBq))},k.\u0275dir=d.lG2({type:k}),k})(),Pe=(()=>{class k extends Ue{}return k.\u0275fac=function(){let x;return function(Y){return(x||(x=d.n5z(k)))(Y||k)}}(),k.\u0275dir=d.lG2({type:k,features:[d.qOj]}),k})();const Le=new d.OlP("NgValueAccessor"),nt={provide:Le,useExisting:(0,d.Gpc)(()=>be),multi:!0};let be=(()=>{class k extends Pe{writeValue(D){this.setProperty("checked",D)}}return k.\u0275fac=function(){let x;return function(Y){return(x||(x=d.n5z(k)))(Y||k)}}(),k.\u0275dir=d.lG2({type:k,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(D,Y){1&D&&d.NdJ("change",function(ct){return Y.onChange(ct.target.checked)})("blur",function(){return Y.onTouched()})},features:[d._Bn([nt]),d.qOj]}),k})();const je={provide:Le,useExisting:(0,d.Gpc)(()=>Be),multi:!0},pt=new d.OlP("CompositionEventMode");let Be=(()=>{class k extends Ue{constructor(D,Y,me){super(D,Y),this._compositionMode=me,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ut(){const k=(0,a.q)()?(0,a.q)().getUserAgent():"";return/android (\d+)/.test(k.toLowerCase())}())}writeValue(D){this.setProperty("value",null==D?"":D)}_handleInput(D){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(D)}_compositionStart(){this._composing=!0}_compositionEnd(D){this._composing=!1,this._compositionMode&&this.onChange(D)}}return k.\u0275fac=function(D){return new(D||k)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(pt,8))},k.\u0275dir=d.lG2({type:k,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(D,Y){1&D&&d.NdJ("input",function(ct){return Y._handleInput(ct.target.value)})("blur",function(){return Y.onTouched()})("compositionstart",function(){return Y._compositionStart()})("compositionend",function(ct){return Y._compositionEnd(ct.target.value)})},features:[d._Bn([je]),d.qOj]}),k})();function q(k){return null==k||0===k.length}function De(k){return null!=k&&"number"==typeof k.length}const ne=new d.OlP("NgValidators"),we=new d.OlP("NgAsyncValidators"),ae=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ze{static min(x){return function Ie(k){return x=>{if(q(x.value)||q(k))return null;const D=parseFloat(x.value);return!isNaN(D)&&D<k?{min:{min:k,actual:x.value}}:null}}(x)}static max(x){return function Ve(k){return x=>{if(q(x.value)||q(k))return null;const D=parseFloat(x.value);return!isNaN(D)&&D>k?{max:{max:k,actual:x.value}}:null}}(x)}static required(x){return Re(x)}static requiredTrue(x){return function qe(k){return!0===k.value?null:{required:!0}}(x)}static email(x){return function He(k){return q(k.value)||ae.test(k.value)?null:{email:!0}}(x)}static minLength(x){return function at(k){return x=>q(x.value)||!De(x.value)?null:x.value.length<k?{minlength:{requiredLength:k,actualLength:x.value.length}}:null}(x)}static maxLength(x){return function Pt(k){return x=>De(x.value)&&x.value.length>k?{maxlength:{requiredLength:k,actualLength:x.value.length}}:null}(x)}static pattern(x){return function bn(k){if(!k)return un;let x,D;return"string"==typeof k?(D="","^"!==k.charAt(0)&&(D+="^"),D+=k,"$"!==k.charAt(k.length-1)&&(D+="$"),x=new RegExp(D)):(D=k.toString(),x=k),Y=>{if(q(Y.value))return null;const me=Y.value;return x.test(me)?null:{pattern:{requiredPattern:D,actualValue:me}}}}(x)}static nullValidator(x){return null}static compose(x){return Dn(x)}static composeAsync(x){return ti(x)}}function Re(k){return q(k.value)?{required:!0}:null}function un(k){return null}function Et(k){return null!=k}function Sn(k){const x=(0,d.QGY)(k)?(0,J.D)(k):k;return(0,d.CqO)(x),x}function Hn(k){let x={};return k.forEach(D=>{x=null!=D?Object.assign(Object.assign({},x),D):x}),0===Object.keys(x).length?null:x}function Fn(k,x){return x.map(D=>D(k))}function vi(k){return k.map(x=>function xn(k){return!k.validate}(x)?x:D=>x.validate(D))}function Dn(k){if(!k)return null;const x=k.filter(Et);return 0==x.length?null:function(D){return Hn(Fn(D,x))}}function an(k){return null!=k?Dn(vi(k)):null}function ti(k){if(!k)return null;const x=k.filter(Et);return 0==x.length?null:function(D){return function U(...k){const x=(0,H.jO)(k),{args:D,keys:Y}=(0,ve.D)(k),me=new V.y(ct=>{const{length:jn}=D;if(!jn)return void ct.complete();const Rn=new Array(jn);let Bi=jn,tr=jn;for(let nr=0;nr<jn;nr++){let Po=!1;(0,B.Xf)(D[nr]).subscribe((0,z.x)(ct,ml=>{Po||(Po=!0,tr--),Rn[nr]=ml},()=>Bi--,void 0,()=>{(!Bi||!Po)&&(tr||ct.next(Y?(0,se.n)(Y,Rn):Rn),ct.complete())}))}});return x?me.pipe((0,re.Z)(x)):me}(Fn(D,x).map(Sn)).pipe((0,ue.U)(Hn))}}function fi(k){return null!=k?ti(vi(k)):null}function ai(k,x){return null===k?[x]:Array.isArray(k)?[...k,x]:[k,x]}function pi(k){return k._rawValidators}function wi(k){return k._rawAsyncValidators}function Fi(k){return k?Array.isArray(k)?k:[k]:[]}function gi(k,x){return Array.isArray(k)?k.includes(x):k===x}function Oi(k,x){const D=Fi(x);return Fi(k).forEach(me=>{gi(D,me)||D.push(me)}),D}function Ut(k,x){return Fi(x).filter(D=>!gi(k,D))}class Ci{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(x){this._rawValidators=x||[],this._composedValidatorFn=an(this._rawValidators)}_setAsyncValidators(x){this._rawAsyncValidators=x||[],this._composedAsyncValidatorFn=fi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(x){this._onDestroyCallbacks.push(x)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(x=>x()),this._onDestroyCallbacks=[]}reset(x){this.control&&this.control.reset(x)}hasError(x,D){return!!this.control&&this.control.hasError(x,D)}getError(x,D){return this.control?this.control.getError(x,D):null}}class Ln extends Ci{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mn extends Ci{get formDirective(){return null}get path(){return null}}class Ji{constructor(x){this._cd=x}is(x){var D,Y,me;return"submitted"===x?!!(null===(D=this._cd)||void 0===D?void 0:D.submitted):!!(null===(me=null===(Y=this._cd)||void 0===Y?void 0:Y.control)||void 0===me?void 0:me[x])}}let Ge=(()=>{class k extends Ji{constructor(D){super(D)}}return k.\u0275fac=function(D){return new(D||k)(d.Y36(Ln,2))},k.\u0275dir=d.lG2({type:k,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(D,Y){2&D&&d.ekj("ng-untouched",Y.is("untouched"))("ng-touched",Y.is("touched"))("ng-pristine",Y.is("pristine"))("ng-dirty",Y.is("dirty"))("ng-valid",Y.is("valid"))("ng-invalid",Y.is("invalid"))("ng-pending",Y.is("pending"))},features:[d.qOj]}),k})(),xt=(()=>{class k extends Ji{constructor(D){super(D)}}return k.\u0275fac=function(D){return new(D||k)(d.Y36(mn,10))},k.\u0275dir=d.lG2({type:k,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(D,Y){2&D&&d.ekj("ng-untouched",Y.is("untouched"))("ng-touched",Y.is("touched"))("ng-pristine",Y.is("pristine"))("ng-dirty",Y.is("dirty"))("ng-valid",Y.is("valid"))("ng-invalid",Y.is("invalid"))("ng-pending",Y.is("pending"))("ng-submitted",Y.is("submitted"))},features:[d.qOj]}),k})();function it(k,x){return[...x.path,k]}function vt(k,x){$t(k,x),x.valueAccessor.writeValue(k.value),function li(k,x){x.valueAccessor.registerOnChange(D=>{k._pendingValue=D,k._pendingChange=!0,k._pendingDirty=!0,"change"===k.updateOn&&_n(k,x)})}(k,x),function Ot(k,x){const D=(Y,me)=>{x.valueAccessor.writeValue(Y),me&&x.viewToModelUpdate(Y)};k.registerOnChange(D),x._registerOnDestroy(()=>{k._unregisterOnChange(D)})}(k,x),function os(k,x){x.valueAccessor.registerOnTouched(()=>{k._pendingTouched=!0,"blur"===k.updateOn&&k._pendingChange&&_n(k,x),"submit"!==k.updateOn&&k.markAsTouched()})}(k,x),function Mn(k,x){if(x.valueAccessor.setDisabledState){const D=Y=>{x.valueAccessor.setDisabledState(Y)};k.registerOnDisabledChange(D),x._registerOnDestroy(()=>{k._unregisterOnDisabledChange(D)})}}(k,x)}function Bt(k,x,D=!0){const Y=()=>{};x.valueAccessor&&(x.valueAccessor.registerOnChange(Y),x.valueAccessor.registerOnTouched(Y)),qn(k,x),k&&(x._invokeOnDestroyCallbacks(),k._registerOnCollectionChange(()=>{}))}function Wt(k,x){k.forEach(D=>{D.registerOnValidatorChange&&D.registerOnValidatorChange(x)})}function $t(k,x){const D=pi(k);null!==x.validator?k.setValidators(ai(D,x.validator)):"function"==typeof D&&k.setValidators([D]);const Y=wi(k);null!==x.asyncValidator?k.setAsyncValidators(ai(Y,x.asyncValidator)):"function"==typeof Y&&k.setAsyncValidators([Y]);const me=()=>k.updateValueAndValidity();Wt(x._rawValidators,me),Wt(x._rawAsyncValidators,me)}function qn(k,x){let D=!1;if(null!==k){if(null!==x.validator){const me=pi(k);if(Array.isArray(me)&&me.length>0){const ct=me.filter(jn=>jn!==x.validator);ct.length!==me.length&&(D=!0,k.setValidators(ct))}}if(null!==x.asyncValidator){const me=wi(k);if(Array.isArray(me)&&me.length>0){const ct=me.filter(jn=>jn!==x.asyncValidator);ct.length!==me.length&&(D=!0,k.setAsyncValidators(ct))}}}const Y=()=>{};return Wt(x._rawValidators,Y),Wt(x._rawAsyncValidators,Y),D}function _n(k,x){k._pendingDirty&&k.markAsDirty(),k.setValue(k._pendingValue,{emitModelToViewChange:!1}),x.viewToModelUpdate(k._pendingValue),k._pendingChange=!1}function Zs(k,x){if(!k.hasOwnProperty("model"))return!1;const D=k.model;return!!D.isFirstChange()||!Object.is(x,D.currentValue)}function mr(k,x){if(!x)return null;let D,Y,me;return Array.isArray(x),x.forEach(ct=>{ct.constructor===Be?D=ct:function zr(k){return Object.getPrototypeOf(k.constructor)===Pe}(ct)?Y=ct:me=ct}),me||Y||D||null}function bi(k,x){const D=k.indexOf(x);D>-1&&k.splice(D,1)}const wt="VALID",Rt="INVALID",On="PENDING",ci="DISABLED";function ii(k){return(kn(k)?k.validators:k)||null}function Xi(k){return Array.isArray(k)?an(k):k||null}function Vn(k,x){return(kn(x)?x.asyncValidators:k)||null}function Vi(k){return Array.isArray(k)?fi(k):k||null}function kn(k){return null!=k&&!Array.isArray(k)&&"object"==typeof k}const sn=k=>k instanceof Je,Or=k=>k instanceof et,nn=k=>k instanceof _t;function he(k){return sn(k)?k.value:k.getRawValue()}function Ce(k,x){const D=Or(k),Y=k.controls;if(!(D?Object.keys(Y):Y).length)throw new d.vHH(1e3,"");if(!Y[x])throw new d.vHH(1001,"")}function W(k,x){Or(k),k._forEachChild((Y,me)=>{if(void 0===x[me])throw new d.vHH(1002,"")})}class Me{constructor(x,D){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=x,this._rawAsyncValidators=D,this._composedValidatorFn=Xi(this._rawValidators),this._composedAsyncValidatorFn=Vi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(x){this._rawValidators=this._composedValidatorFn=x}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(x){this._rawAsyncValidators=this._composedAsyncValidatorFn=x}get parent(){return this._parent}get valid(){return this.status===wt}get invalid(){return this.status===Rt}get pending(){return this.status==On}get disabled(){return this.status===ci}get enabled(){return this.status!==ci}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(x){this._rawValidators=x,this._composedValidatorFn=Xi(x)}setAsyncValidators(x){this._rawAsyncValidators=x,this._composedAsyncValidatorFn=Vi(x)}addValidators(x){this.setValidators(Oi(x,this._rawValidators))}addAsyncValidators(x){this.setAsyncValidators(Oi(x,this._rawAsyncValidators))}removeValidators(x){this.setValidators(Ut(x,this._rawValidators))}removeAsyncValidators(x){this.setAsyncValidators(Ut(x,this._rawAsyncValidators))}hasValidator(x){return gi(this._rawValidators,x)}hasAsyncValidator(x){return gi(this._rawAsyncValidators,x)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(x={}){this.touched=!0,this._parent&&!x.onlySelf&&this._parent.markAsTouched(x)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(x=>x.markAllAsTouched())}markAsUntouched(x={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(D=>{D.markAsUntouched({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}markAsDirty(x={}){this.pristine=!1,this._parent&&!x.onlySelf&&this._parent.markAsDirty(x)}markAsPristine(x={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(D=>{D.markAsPristine({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}markAsPending(x={}){this.status=On,!1!==x.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!x.onlySelf&&this._parent.markAsPending(x)}disable(x={}){const D=this._parentMarkedDirty(x.onlySelf);this.status=ci,this.errors=null,this._forEachChild(Y=>{Y.disable(Object.assign(Object.assign({},x),{onlySelf:!0}))}),this._updateValue(),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},x),{skipPristineCheck:D})),this._onDisabledChange.forEach(Y=>Y(!0))}enable(x={}){const D=this._parentMarkedDirty(x.onlySelf);this.status=wt,this._forEachChild(Y=>{Y.enable(Object.assign(Object.assign({},x),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},x),{skipPristineCheck:D})),this._onDisabledChange.forEach(Y=>Y(!1))}_updateAncestors(x){this._parent&&!x.onlySelf&&(this._parent.updateValueAndValidity(x),x.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(x){this._parent=x}updateValueAndValidity(x={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wt||this.status===On)&&this._runAsyncValidator(x.emitEvent)),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.updateValueAndValidity(x)}_updateTreeValidity(x={emitEvent:!0}){this._forEachChild(D=>D._updateTreeValidity(x)),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ci:wt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(x){if(this.asyncValidator){this.status=On,this._hasOwnPendingAsyncValidator=!0;const D=Sn(this.asyncValidator(this));this._asyncValidationSubscription=D.subscribe(Y=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Y,{emitEvent:x})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(x,D={}){this.errors=x,this._updateControlsErrors(!1!==D.emitEvent)}get(x){return function _r(k,x,D){if(null==x||(Array.isArray(x)||(x=x.split(D)),Array.isArray(x)&&0===x.length))return null;let Y=k;return x.forEach(me=>{Y=Or(Y)?Y.controls.hasOwnProperty(me)?Y.controls[me]:null:nn(Y)&&Y.at(me)||null}),Y}(this,x,".")}getError(x,D){const Y=D?this.get(D):this;return Y&&Y.errors?Y.errors[x]:null}hasError(x,D){return!!this.getError(x,D)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(x){this.status=this._calculateStatus(),x&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(x)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?ci:this.errors?Rt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(On)?On:this._anyControlsHaveStatus(Rt)?Rt:wt}_anyControlsHaveStatus(x){return this._anyControls(D=>D.status===x)}_anyControlsDirty(){return this._anyControls(x=>x.dirty)}_anyControlsTouched(){return this._anyControls(x=>x.touched)}_updatePristine(x={}){this.pristine=!this._anyControlsDirty(),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}_updateTouched(x={}){this.touched=this._anyControlsTouched(),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}_isBoxedValue(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}_registerOnCollectionChange(x){this._onCollectionChange=x}_setUpdateStrategy(x){kn(x)&&null!=x.updateOn&&(this._updateOn=x.updateOn)}_parentMarkedDirty(x){return!x&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Je extends Me{constructor(x=null,D,Y){super(ii(D),Vn(Y,D)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(x),this._setUpdateStrategy(D),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kn(D)&&D.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(x)?x.value:x)}setValue(x,D={}){this.value=this._pendingValue=x,this._onChange.length&&!1!==D.emitModelToViewChange&&this._onChange.forEach(Y=>Y(this.value,!1!==D.emitViewToModelChange)),this.updateValueAndValidity(D)}patchValue(x,D={}){this.setValue(x,D)}reset(x=this.defaultValue,D={}){this._applyFormState(x),this.markAsPristine(D),this.markAsUntouched(D),this.setValue(this.value,D),this._pendingChange=!1}_updateValue(){}_anyControls(x){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(x){this._onChange.push(x)}_unregisterOnChange(x){bi(this._onChange,x)}registerOnDisabledChange(x){this._onDisabledChange.push(x)}_unregisterOnDisabledChange(x){bi(this._onDisabledChange,x)}_forEachChild(x){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(x){this._isBoxedValue(x)?(this.value=this._pendingValue=x.value,x.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=x}}class et extends Me{constructor(x,D,Y){super(ii(D),Vn(Y,D)),this.controls=x,this._initObservables(),this._setUpdateStrategy(D),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(x,D){return this.controls[x]?this.controls[x]:(this.controls[x]=D,D.setParent(this),D._registerOnCollectionChange(this._onCollectionChange),D)}addControl(x,D,Y={}){this.registerControl(x,D),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}removeControl(x,D={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}setControl(x,D,Y={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],D&&this.registerControl(x,D),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}contains(x){return this.controls.hasOwnProperty(x)&&this.controls[x].enabled}setValue(x,D={}){W(this,x),Object.keys(x).forEach(Y=>{Ce(this,Y),this.controls[Y].setValue(x[Y],{onlySelf:!0,emitEvent:D.emitEvent})}),this.updateValueAndValidity(D)}patchValue(x,D={}){null!=x&&(Object.keys(x).forEach(Y=>{this.controls[Y]&&this.controls[Y].patchValue(x[Y],{onlySelf:!0,emitEvent:D.emitEvent})}),this.updateValueAndValidity(D))}reset(x={},D={}){this._forEachChild((Y,me)=>{Y.reset(x[me],{onlySelf:!0,emitEvent:D.emitEvent})}),this._updatePristine(D),this._updateTouched(D),this.updateValueAndValidity(D)}getRawValue(){return this._reduceChildren({},(x,D,Y)=>(x[Y]=he(D),x))}_syncPendingControls(){let x=this._reduceChildren(!1,(D,Y)=>!!Y._syncPendingControls()||D);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){Object.keys(this.controls).forEach(D=>{const Y=this.controls[D];Y&&x(Y,D)})}_setUpControls(){this._forEachChild(x=>{x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(x){for(const D of Object.keys(this.controls)){const Y=this.controls[D];if(this.contains(D)&&x(Y))return!0}return!1}_reduceValue(){return this._reduceChildren({},(x,D,Y)=>((D.enabled||this.disabled)&&(x[Y]=D.value),x))}_reduceChildren(x,D){let Y=x;return this._forEachChild((me,ct)=>{Y=D(Y,me,ct)}),Y}_allControlsDisabled(){for(const x of Object.keys(this.controls))if(this.controls[x].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class _t extends Me{constructor(x,D,Y){super(ii(D),Vn(Y,D)),this.controls=x,this._initObservables(),this._setUpdateStrategy(D),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(x){return this.controls[x]}push(x,D={}){this.controls.push(x),this._registerControl(x),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}insert(x,D,Y={}){this.controls.splice(x,0,D),this._registerControl(D),this.updateValueAndValidity({emitEvent:Y.emitEvent})}removeAt(x,D={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),this.controls.splice(x,1),this.updateValueAndValidity({emitEvent:D.emitEvent})}setControl(x,D,Y={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),this.controls.splice(x,1),D&&(this.controls.splice(x,0,D),this._registerControl(D)),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(x,D={}){W(this,x),x.forEach((Y,me)=>{Ce(this,me),this.at(me).setValue(Y,{onlySelf:!0,emitEvent:D.emitEvent})}),this.updateValueAndValidity(D)}patchValue(x,D={}){null!=x&&(x.forEach((Y,me)=>{this.at(me)&&this.at(me).patchValue(Y,{onlySelf:!0,emitEvent:D.emitEvent})}),this.updateValueAndValidity(D))}reset(x=[],D={}){this._forEachChild((Y,me)=>{Y.reset(x[me],{onlySelf:!0,emitEvent:D.emitEvent})}),this._updatePristine(D),this._updateTouched(D),this.updateValueAndValidity(D)}getRawValue(){return this.controls.map(x=>he(x))}clear(x={}){this.controls.length<1||(this._forEachChild(D=>D._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:x.emitEvent}))}_syncPendingControls(){let x=this.controls.reduce((D,Y)=>!!Y._syncPendingControls()||D,!1);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){this.controls.forEach((D,Y)=>{x(D,Y)})}_updateValue(){this.value=this.controls.filter(x=>x.enabled||this.disabled).map(x=>x.value)}_anyControls(x){return this.controls.some(D=>D.enabled&&x(D))}_setUpControls(){this._forEachChild(x=>this._registerControl(x))}_allControlsDisabled(){for(const x of this.controls)if(x.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(x){x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)}}const xo={provide:Ln,useExisting:(0,d.Gpc)(()=>yr)},si=(()=>Promise.resolve(null))();let yr=(()=>{class k extends Ln{constructor(D,Y,me,ct,jn){super(),this._changeDetectorRef=jn,this.control=new Je,this._registered=!1,this.update=new d.vpe,this._parent=D,this._setValidators(Y),this._setAsyncValidators(me),this.valueAccessor=mr(0,ct)}ngOnChanges(D){if(this._checkForErrors(),!this._registered||"name"in D){if(this._registered&&(this._checkName(),this.formDirective)){const Y=D.name.previousValue;this.formDirective.removeControl({name:Y,path:this._getPath(Y)})}this._setUpControl()}"isDisabled"in D&&this._updateDisabled(D),Zs(D,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(D){this.viewModel=D,this.update.emit(D)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(D){si.then(()=>{var Y;this.control.setValue(D,{emitViewToModelChange:!1}),null===(Y=this._changeDetectorRef)||void 0===Y||Y.markForCheck()})}_updateDisabled(D){const Y=D.isDisabled.currentValue,me=""===Y||Y&&"false"!==Y;si.then(()=>{var ct;me&&!this.control.disabled?this.control.disable():!me&&this.control.disabled&&this.control.enable(),null===(ct=this._changeDetectorRef)||void 0===ct||ct.markForCheck()})}_getPath(D){return this._parent?it(D,this._parent):[D]}}return k.\u0275fac=function(D){return new(D||k)(d.Y36(mn,9),d.Y36(ne,10),d.Y36(we,10),d.Y36(Le,10),d.Y36(d.sBO,8))},k.\u0275dir=d.lG2({type:k,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([xo]),d.qOj,d.TTD]}),k})(),Os=(()=>{class k{}return k.\u0275fac=function(D){return new(D||k)},k.\u0275dir=d.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),k})();const dl={provide:Le,useExisting:(0,d.Gpc)(()=>kr),multi:!0};let kr=(()=>{class k extends Pe{writeValue(D){this.setProperty("value",null==D?"":D)}registerOnChange(D){this.onChange=Y=>{D(""==Y?null:parseFloat(Y))}}}return k.\u0275fac=function(){let x;return function(Y){return(x||(x=d.n5z(k)))(Y||k)}}(),k.\u0275dir=d.lG2({type:k,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(D,Y){1&D&&d.NdJ("input",function(ct){return Y.onChange(ct.target.value)})("blur",function(){return Y.onTouched()})},features:[d._Bn([dl]),d.qOj]}),k})(),Ao=(()=>{class k{}return k.\u0275fac=function(D){return new(D||k)},k.\u0275mod=d.oAB({type:k}),k.\u0275inj=d.cJS({}),k})();const Ra=new d.OlP("NgModelWithFormControlWarning"),gl={provide:mn,useExisting:(0,d.Gpc)(()=>us)};let us=(()=>{class k extends mn{constructor(D,Y){super(),this.validators=D,this.asyncValidators=Y,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(D),this._setAsyncValidators(Y)}ngOnChanges(D){this._checkFormPresent(),D.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(D){const Y=this.form.get(D.path);return vt(Y,D),Y.updateValueAndValidity({emitEvent:!1}),this.directives.push(D),Y}getControl(D){return this.form.get(D.path)}removeControl(D){Bt(D.control||null,D,!1),bi(this.directives,D)}addFormGroup(D){this._setUpFormContainer(D)}removeFormGroup(D){this._cleanUpFormContainer(D)}getFormGroup(D){return this.form.get(D.path)}addFormArray(D){this._setUpFormContainer(D)}removeFormArray(D){this._cleanUpFormContainer(D)}getFormArray(D){return this.form.get(D.path)}updateModel(D,Y){this.form.get(D.path).setValue(Y)}onSubmit(D){return this.submitted=!0,function Li(k,x){k._syncPendingControls(),x.forEach(D=>{const Y=D.control;"submit"===Y.updateOn&&Y._pendingChange&&(D.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(D),!1}onReset(){this.resetForm()}resetForm(D){this.form.reset(D),this.submitted=!1}_updateDomValue(){this.directives.forEach(D=>{const Y=D.control,me=this.form.get(D.path);Y!==me&&(Bt(Y||null,D),sn(me)&&(vt(me,D),D.control=me))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(D){const Y=this.form.get(D.path);(function ni(k,x){$t(k,x)})(Y,D),Y.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(D){if(this.form){const Y=this.form.get(D.path);Y&&function Un(k,x){return qn(k,x)}(Y,D)&&Y.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$t(this.form,this),this._oldForm&&qn(this._oldForm,this)}_checkFormPresent(){}}return k.\u0275fac=function(D){return new(D||k)(d.Y36(ne,10),d.Y36(we,10))},k.\u0275dir=d.lG2({type:k,selectors:[["","formGroup",""]],hostBindings:function(D,Y){1&D&&d.NdJ("submit",function(ct){return Y.onSubmit(ct)})("reset",function(){return Y.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([gl]),d.qOj,d.TTD]}),k})();const Kr={provide:Ln,useExisting:(0,d.Gpc)(()=>_s)};let _s=(()=>{class k extends Ln{constructor(D,Y,me,ct,jn){super(),this._ngModelWarningConfig=jn,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=D,this._setValidators(Y),this._setAsyncValidators(me),this.valueAccessor=mr(0,ct)}set isDisabled(D){}ngOnChanges(D){this._added||this._setUpControl(),Zs(D,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(D){this.viewModel=D,this.update.emit(D)}get path(){return it(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return k._ngModelWarningSentOnce=!1,k.\u0275fac=function(D){return new(D||k)(d.Y36(mn,13),d.Y36(ne,10),d.Y36(we,10),d.Y36(Le,10),d.Y36(Ra,8))},k.\u0275dir=d.lG2({type:k,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([Kr]),d.qOj,d.TTD]}),k})();const Fa={provide:Le,useExisting:(0,d.Gpc)(()=>Rr),multi:!0};function Pr(k,x){return null==k?`${x}`:(x&&"object"==typeof x&&(x="Object"),`${k}: ${x}`.slice(0,50))}let Rr=(()=>{class k extends Pe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(D){this._compareWith=D}writeValue(D){this.value=D;const me=Pr(this._getOptionId(D),D);this.setProperty("value",me)}registerOnChange(D){this.onChange=Y=>{this.value=this._getOptionValue(Y),D(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(D){for(const Y of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Y),D))return Y;return null}_getOptionValue(D){const Y=function na(k){return k.split(":")[0]}(D);return this._optionMap.has(Y)?this._optionMap.get(Y):D}}return k.\u0275fac=function(){let x;return function(Y){return(x||(x=d.n5z(k)))(Y||k)}}(),k.\u0275dir=d.lG2({type:k,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(D,Y){1&D&&d.NdJ("change",function(ct){return Y.onChange(ct.target.value)})("blur",function(){return Y.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([Fa]),d.qOj]}),k})(),ys=(()=>{class k{constructor(D,Y,me){this._element=D,this._renderer=Y,this._select=me,this._select&&(this.id=this._select._registerOption())}set ngValue(D){null!=this._select&&(this._select._optionMap.set(this.id,D),this._setElementValue(Pr(this.id,D)),this._select.writeValue(this._select.value))}set value(D){this._setElementValue(D),this._select&&this._select.writeValue(this._select.value)}_setElementValue(D){this._renderer.setProperty(this._element.nativeElement,"value",D)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return k.\u0275fac=function(D){return new(D||k)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(Rr,9))},k.\u0275dir=d.lG2({type:k,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),k})();const lr={provide:Le,useExisting:(0,d.Gpc)(()=>er),multi:!0};function Ii(k,x){return null==k?`${x}`:("string"==typeof x&&(x=`'${x}'`),x&&"object"==typeof x&&(x="Object"),`${k}: ${x}`.slice(0,50))}let er=(()=>{class k extends Pe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(D){this._compareWith=D}writeValue(D){let Y;if(this.value=D,Array.isArray(D)){const me=D.map(ct=>this._getOptionId(ct));Y=(ct,jn)=>{ct._setSelected(me.indexOf(jn.toString())>-1)}}else Y=(me,ct)=>{me._setSelected(!1)};this._optionMap.forEach(Y)}registerOnChange(D){this.onChange=Y=>{const me=[],ct=Y.selectedOptions;if(void 0!==ct){const jn=ct;for(let Rn=0;Rn<jn.length;Rn++){const tr=this._getOptionValue(jn[Rn].value);me.push(tr)}}else{const jn=Y.options;for(let Rn=0;Rn<jn.length;Rn++){const Bi=jn[Rn];if(Bi.selected){const tr=this._getOptionValue(Bi.value);me.push(tr)}}}this.value=me,D(me)}}_registerOption(D){const Y=(this._idCounter++).toString();return this._optionMap.set(Y,D),Y}_getOptionId(D){for(const Y of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Y)._value,D))return Y;return null}_getOptionValue(D){const Y=function oi(k){return k.split(":")[0]}(D);return this._optionMap.has(Y)?this._optionMap.get(Y)._value:D}}return k.\u0275fac=function(){let x;return function(Y){return(x||(x=d.n5z(k)))(Y||k)}}(),k.\u0275dir=d.lG2({type:k,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(D,Y){1&D&&d.NdJ("change",function(ct){return Y.onChange(ct.target)})("blur",function(){return Y.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([lr]),d.qOj]}),k})(),lo=(()=>{class k{constructor(D,Y,me){this._element=D,this._renderer=Y,this._select=me,this._select&&(this.id=this._select._registerOption(this))}set ngValue(D){null!=this._select&&(this._value=D,this._setElementValue(Ii(this.id,D)),this._select.writeValue(this._select.value))}set value(D){this._select?(this._value=D,this._setElementValue(Ii(this.id,D)),this._select.writeValue(this._select.value)):this._setElementValue(D)}_setElementValue(D){this._renderer.setProperty(this._element.nativeElement,"value",D)}_setSelected(D){this._renderer.setProperty(this._element.nativeElement,"selected",D)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return k.\u0275fac=function(D){return new(D||k)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(er,9))},k.\u0275dir=d.lG2({type:k,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),k})(),cs=(()=>{class k{constructor(){this._validator=un}ngOnChanges(D){if(this.inputName in D){const Y=this.normalizeInput(D[this.inputName].currentValue);this._enabled=this.enabled(Y),this._validator=this._enabled?this.createValidator(Y):un,this._onChange&&this._onChange()}}validate(D){return this._validator(D)}registerOnValidatorChange(D){this._onChange=D}enabled(D){return null!=D}}return k.\u0275fac=function(D){return new(D||k)},k.\u0275dir=d.lG2({type:k,features:[d.TTD]}),k})();const j={provide:ne,useExisting:(0,d.Gpc)(()=>X),multi:!0};let X=(()=>{class k extends cs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=D=>function ia(k){return null!=k&&!1!==k&&"false"!=`${k}`}(D),this.createValidator=D=>Re}enabled(D){return D}}return k.\u0275fac=function(){let x;return function(Y){return(x||(x=d.n5z(k)))(Y||k)}}(),k.\u0275dir=d.lG2({type:k,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(D,Y){2&D&&d.uIk("required",Y._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([j]),d.qOj]}),k})(),ur=(()=>{class k{}return k.\u0275fac=function(D){return new(D||k)},k.\u0275mod=d.oAB({type:k}),k.\u0275inj=d.cJS({imports:[[Ao]]}),k})(),Yt=(()=>{class k{}return k.\u0275fac=function(D){return new(D||k)},k.\u0275mod=d.oAB({type:k}),k.\u0275inj=d.cJS({imports:[ur]}),k})(),br=(()=>{class k{static withConfig(D){return{ngModule:k,providers:[{provide:Ra,useValue:D.warnOnNgModelWithFormControl}]}}}return k.\u0275fac=function(D){return new(D||k)},k.\u0275mod=d.oAB({type:k}),k.\u0275inj=d.cJS({imports:[ur]}),k})(),$s=(()=>{class k{group(D,Y=null){const me=this._reduceControls(D);let Rn,ct=null,jn=null;return null!=Y&&(function sa(k){return void 0!==k.asyncValidators||void 0!==k.validators||void 0!==k.updateOn}(Y)?(ct=null!=Y.validators?Y.validators:null,jn=null!=Y.asyncValidators?Y.asyncValidators:null,Rn=null!=Y.updateOn?Y.updateOn:void 0):(ct=null!=Y.validator?Y.validator:null,jn=null!=Y.asyncValidator?Y.asyncValidator:null)),new et(me,{asyncValidators:jn,updateOn:Rn,validators:ct})}control(D,Y,me){return new Je(D,Y,me)}array(D,Y,me){const ct=D.map(jn=>this._createControl(jn));return new _t(ct,Y,me)}_reduceControls(D){const Y={};return Object.keys(D).forEach(me=>{Y[me]=this._createControl(D[me])}),Y}_createControl(D){return sn(D)||Or(D)||nn(D)?D:Array.isArray(D)?this.control(D[0],D.length>1?D[1]:null,D.length>2?D[2]:null):this.control(D)}}return k.\u0275fac=function(D){return new(D||k)},k.\u0275prov=d.Yz7({token:k,factory:k.\u0275fac,providedIn:br}),k})()},3942:(gt,ke,P)=>{"use strict";P.d(ke,{Z:()=>Le});var d=P(2090),a=P(4859),V=P(9681),ve=P(1877);class B{constructor(be,je){this._delegate=be,this.firebase=je,(0,V._addComponent)(be,new a.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(be,je=V._DEFAULT_ENTRY_NAME){var ut;this._delegate.checkDestroyed();const pt=this._delegate.container.getProvider(be);return!pt.isInitialized()&&"EXPLICIT"===(null===(ut=pt.getComponent())||void 0===ut?void 0:ut.instantiationMode)&&pt.initialize(),pt.getImmediate({identifier:je})}_removeServiceInstance(be,je=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(je)}_addComponent(be){(0,V._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,V._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const z=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function se(){const nt=function re(nt){const be={},je={__esModule:!0,initializeApp:function Be(we,ae={}){const Ze=V.initializeApp(we,ae);if((0,d.r3)(be,Ze.name))return be[Ze.name];const Ie=new nt(Ze,je);return be[Ze.name]=Ie,Ie},app:pt,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function De(we){const ae=we.name,Ze=ae.replace("-compat","");if(V._registerComponent(we)&&"PUBLIC"===we.type){const Ie=(Ve=pt())=>{if("function"!=typeof Ve[Ze])throw z.create("invalid-app-argument",{appName:ae});return Ve[Ze]()};void 0!==we.serviceProps&&(0,d.ZB)(Ie,we.serviceProps),je[Ze]=Ie,nt.prototype[Ze]=function(...Ve){return this._getService.bind(this,ae).apply(this,we.multipleInstances?Ve:[])}}return"PUBLIC"===we.type?je[Ze]:null},removeApp:function ut(we){delete be[we]},useAsService:function ne(we,ae){return"serverAuth"===ae?null:ae},modularAPIs:V}};function pt(we){if(!(0,d.r3)(be,we=we||V._DEFAULT_ENTRY_NAME))throw z.create("no-app",{appName:we});return be[we]}return je.default=je,Object.defineProperty(je,"apps",{get:function q(){return Object.keys(be).map(we=>be[we])}}),pt.App=nt,je}(B);return nt.INTERNAL=Object.assign(Object.assign({},nt.INTERNAL),{createFirebaseNamespace:se,extendNamespace:function be(je){(0,d.ZB)(nt,je)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),nt}(),J=new ve.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){J.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const nt=self.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&J.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=U;!function Pe(nt){(0,V.registerVersion)("@firebase/app-compat","0.1.26",nt)}()},9681:(gt,ke,P)=>{"use strict";P.r(ke),P.d(ke,{FirebaseError:()=>ve.ZR,SDK_VERSION:()=>wi,_DEFAULT_ENTRY_NAME:()=>un,_addComponent:()=>Fn,_addOrOverwriteComponent:()=>xn,_apps:()=>Sn,_clearComponents:()=>ti,_components:()=>Hn,_getProvider:()=>Dn,_registerComponent:()=>vi,_removeServiceInstance:()=>an,deleteApp:()=>Ut,getApp:()=>gi,getApps:()=>Oi,initializeApp:()=>Fi,onLog:()=>mn,registerVersion:()=>Ln,setLogLevel:()=>Ji});var d=P(5861),a=P(4859),V=P(1877),ve=P(2090),B=P(8766);class H{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(it=>{if(function z(pe){const Ae=pe.getComponent();return"VERSION"===(null==Ae?void 0:Ae.type)}(it)){const vt=it.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(it=>it).join(" ")}}const re="@firebase/app",U=new V.Yd("@firebase/app"),un="[DEFAULT]",Et={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Sn=new Map,Hn=new Map;function Fn(pe,Ae){try{pe.container.addComponent(Ae)}catch(it){U.debug(`Component ${Ae.name} failed to register with FirebaseApp ${pe.name}`,it)}}function xn(pe,Ae){pe.container.addOrOverwriteComponent(Ae)}function vi(pe){const Ae=pe.name;if(Hn.has(Ae))return U.debug(`There were multiple attempts to register component ${Ae}.`),!1;Hn.set(Ae,pe);for(const it of Sn.values())Fn(it,pe);return!0}function Dn(pe,Ae){const it=pe.container.getProvider("heartbeat").getImmediate({optional:!0});return it&&it.triggerHeartbeat(),pe.container.getProvider(Ae)}function an(pe,Ae,it=un){Dn(pe,Ae).clearInstance(it)}function ti(){Hn.clear()}const ai=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class pi{constructor(Ae,it,vt){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},it),this._name=it.name,this._automaticDataCollectionEnabled=it.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new a.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}const wi="9.8.2";function Fi(pe,Ae={}){"object"!=typeof Ae&&(Ae={name:Ae});const it=Object.assign({name:un,automaticDataCollectionEnabled:!1},Ae),vt=it.name;if("string"!=typeof vt||!vt)throw ai.create("bad-app-name",{appName:String(vt)});const Bt=Sn.get(vt);if(Bt){if((0,ve.vZ)(pe,Bt.options)&&(0,ve.vZ)(it,Bt.config))return Bt;throw ai.create("duplicate-app",{appName:vt})}const Wt=new a.H0(vt);for(const $t of Hn.values())Wt.addComponent($t);const Mn=new pi(pe,it,Wt);return Sn.set(vt,Mn),Mn}function gi(pe=un){const Ae=Sn.get(pe);if(!Ae)throw ai.create("no-app",{appName:pe});return Ae}function Oi(){return Array.from(Sn.values())}function Ut(pe){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,d.Z)(function*(pe){const Ae=pe.name;Sn.has(Ae)&&(Sn.delete(Ae),yield Promise.all(pe.container.getProviders().map(it=>it.delete())),pe.isDeleted=!0)})).apply(this,arguments)}function Ln(pe,Ae,it){var vt;let Bt=null!==(vt=Et[pe])&&void 0!==vt?vt:pe;it&&(Bt+=`-${it}`);const Wt=Bt.match(/\s|\//),Mn=Ae.match(/\s|\//);if(Wt||Mn){const $t=[`Unable to register library "${Bt}" with version "${Ae}":`];return Wt&&$t.push(`library name "${Bt}" contains illegal characters (whitespace or "/")`),Wt&&Mn&&$t.push("and"),Mn&&$t.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void U.warn($t.join(" "))}vi(new a.wA(`${Bt}-version`,()=>({library:Bt,version:Ae}),"VERSION"))}function mn(pe,Ae){if(null!==pe&&"function"!=typeof pe)throw ai.create("invalid-log-argument");(0,V.Am)(pe,Ae)}function Ji(pe){(0,V.Ub)(pe)}const Ge="firebase-heartbeat-store";let xt=null;function ie(){return xt||(xt=(0,B.X3)("firebase-heartbeat-database",1,{upgrade:(pe,Ae)=>{0===Ae&&pe.createObjectStore(Ge)}}).catch(pe=>{throw ai.create("storage-open",{originalErrorMessage:pe.message})})),xt}function ce(){return(ce=(0,d.Z)(function*(pe){try{return(yield ie()).transaction(Ge).objectStore(Ge).get(Z(pe))}catch(Ae){throw ai.create("storage-get",{originalErrorMessage:Ae.message})}})).apply(this,arguments)}function w(pe,Ae){return R.apply(this,arguments)}function R(){return(R=(0,d.Z)(function*(pe,Ae){try{const vt=(yield ie()).transaction(Ge,"readwrite");return yield vt.objectStore(Ge).put(Ae,Z(pe)),vt.done}catch(it){throw ai.create("storage-set",{originalErrorMessage:it.message})}})).apply(this,arguments)}function Z(pe){return`${pe.name}!${pe.options.appId}`}class dt{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const it=this.container.getProvider("app").getImmediate();this._storage=new _e(it),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var Ae=this;return(0,d.Z)(function*(){const vt=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Bt=Tt();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==Bt&&!Ae._heartbeatsCache.heartbeats.some(Wt=>Wt.date===Bt))return Ae._heartbeatsCache.heartbeats.push({date:Bt,agent:vt}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(Wt=>{const Mn=new Date(Wt.date).valueOf();return Date.now()-Mn<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,d.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const it=Tt(),{heartbeatsToSend:vt,unsentEntries:Bt}=function le(pe,Ae=1024){const it=[];let vt=pe.slice();for(const Bt of pe){const Wt=it.find(Mn=>Mn.agent===Bt.agent);if(Wt){if(Wt.dates.push(Bt.date),ye(it)>Ae){Wt.dates.pop();break}}else if(it.push({agent:Bt.agent,dates:[Bt.date]}),ye(it)>Ae){it.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:it,unsentEntries:vt}}(Ae._heartbeatsCache.heartbeats),Wt=(0,ve.L)(JSON.stringify({version:2,heartbeats:vt}));return Ae._heartbeatsCache.lastSentHeartbeatDate=it,Bt.length>0?(Ae._heartbeatsCache.heartbeats=Bt,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),Wt})()}}function Tt(){return(new Date).toISOString().substring(0,10)}class _e{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ve.hl)()&&(0,ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,d.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function te(pe){return ce.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var it=this;return(0,d.Z)(function*(){var vt;if(yield it._canUseIndexedDBPromise){const Wt=yield it.read();return w(it.app,{lastSentHeartbeatDate:null!==(vt=Ae.lastSentHeartbeatDate)&&void 0!==vt?vt:Wt.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var it=this;return(0,d.Z)(function*(){var vt;if(yield it._canUseIndexedDBPromise){const Wt=yield it.read();return w(it.app,{lastSentHeartbeatDate:null!==(vt=Ae.lastSentHeartbeatDate)&&void 0!==vt?vt:Wt.lastSentHeartbeatDate,heartbeats:[...Wt.heartbeats,...Ae.heartbeats]})}})()}}function ye(pe){return(0,ve.L)(JSON.stringify({version:2,heartbeats:pe})).length}!function Qe(pe){vi(new a.wA("platform-logger",Ae=>new H(Ae),"PRIVATE")),vi(new a.wA("heartbeat",Ae=>new dt(Ae),"PRIVATE")),Ln(re,"0.7.25",pe),Ln(re,"0.7.25","esm2017"),Ln("fire-js","")}("")},4859:(gt,ke,P)=>{"use strict";P.d(ke,{H0:()=>re,wA:()=>V});var d=P(5861),a=P(2090);class V{constructor(U,J,ue){this.name=U,this.instanceFactory=J,this.type=ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const ve="[DEFAULT]";class B{constructor(U,J){this.name=U,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const J=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(J)){const ue=new a.BH;if(this.instancesDeferred.set(J,ue),this.isInitialized(J)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:J});Ue&&ue.resolve(Ue)}catch(Ue){}}return this.instancesDeferred.get(J).promise}getImmediate(U){var J;const ue=this.normalizeInstanceIdentifier(null==U?void 0:U.identifier),Ue=null!==(J=null==U?void 0:U.optional)&&void 0!==J&&J;if(!this.isInitialized(ue)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ue})}catch(Pe){if(Ue)return null;throw Pe}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function z(se){return"EAGER"===se.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:ve})}catch(J){}for(const[J,ue]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(J);try{const Pe=this.getOrInitializeService({instanceIdentifier:Ue});ue.resolve(Pe)}catch(Pe){}}}}clearInstance(U=ve){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,d.Z)(function*(){const J=Array.from(U.instances.values());yield Promise.all([...J.filter(ue=>"INTERNAL"in ue).map(ue=>ue.INTERNAL.delete()),...J.filter(ue=>"_delete"in ue).map(ue=>ue._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=ve){return this.instances.has(U)}getOptions(U=ve){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:J={}}=U,ue=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(ue))throw Error(`${this.name}(${ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:ue,options:J});for(const[Pe,Le]of this.instancesDeferred.entries())ue===this.normalizeInstanceIdentifier(Pe)&&Le.resolve(Ue);return Ue}onInit(U,J){var ue;const Ue=this.normalizeInstanceIdentifier(J),Pe=null!==(ue=this.onInitCallbacks.get(Ue))&&void 0!==ue?ue:new Set;Pe.add(U),this.onInitCallbacks.set(Ue,Pe);const Le=this.instances.get(Ue);return Le&&U(Le,Ue),()=>{Pe.delete(U)}}invokeOnInitCallbacks(U,J){const ue=this.onInitCallbacks.get(J);if(ue)for(const Ue of ue)try{Ue(U,J)}catch(Pe){}}getOrInitializeService({instanceIdentifier:U,options:J={}}){let ue=this.instances.get(U);if(!ue&&this.component&&(ue=this.component.instanceFactory(this.container,{instanceIdentifier:(se=U,se===ve?void 0:se),options:J}),this.instances.set(U,ue),this.instancesOptions.set(U,J),this.invokeOnInitCallbacks(ue,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,ue)}catch(Ue){}var se;return ue||null}normalizeInstanceIdentifier(U=ve){return this.component?this.component.multipleInstances?U:ve:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class re{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const J=this.getProvider(U.name);if(J.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);J.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const J=new B(U,this);return this.providers.set(U,J),J}getProviders(){return Array.from(this.providers.values())}}},1877:(gt,ke,P)=>{"use strict";P.d(ke,{Am:()=>se,Ub:()=>re,Yd:()=>z,in:()=>a});const d=[];var a=(()=>{return(U=a||(a={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",a;var U})();const V={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},ve=a.INFO,B={[a.DEBUG]:"log",[a.VERBOSE]:"log",[a.INFO]:"info",[a.WARN]:"warn",[a.ERROR]:"error"},H=(U,J,...ue)=>{if(J<U.logLevel)return;const Ue=(new Date).toISOString(),Pe=B[J];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${J})`);console[Pe](`[${Ue}]  ${U.name}:`,...ue)};class z{constructor(J){this.name=J,this._logLevel=ve,this._logHandler=H,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(J){if(!(J in a))throw new TypeError(`Invalid value "${J}" assigned to \`logLevel\``);this._logLevel=J}setLogLevel(J){this._logLevel="string"==typeof J?V[J]:J}get logHandler(){return this._logHandler}set logHandler(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J}get userLogHandler(){return this._userLogHandler}set userLogHandler(J){this._userLogHandler=J}debug(...J){this._userLogHandler&&this._userLogHandler(this,a.DEBUG,...J),this._logHandler(this,a.DEBUG,...J)}log(...J){this._userLogHandler&&this._userLogHandler(this,a.VERBOSE,...J),this._logHandler(this,a.VERBOSE,...J)}info(...J){this._userLogHandler&&this._userLogHandler(this,a.INFO,...J),this._logHandler(this,a.INFO,...J)}warn(...J){this._userLogHandler&&this._userLogHandler(this,a.WARN,...J),this._logHandler(this,a.WARN,...J)}error(...J){this._userLogHandler&&this._userLogHandler(this,a.ERROR,...J),this._logHandler(this,a.ERROR,...J)}}function re(U){d.forEach(J=>{J.setLogLevel(U)})}function se(U,J){for(const ue of d){let Ue=null;J&&J.level&&(Ue=V[J.level]),ue.userLogHandler=null===U?null:(Pe,Le,...nt)=>{const be=nt.map(je=>{if(null==je)return null;if("string"==typeof je)return je;if("number"==typeof je||"boolean"==typeof je)return je.toString();if(je instanceof Error)return je.message;try{return JSON.stringify(je)}catch(ut){return null}}).filter(je=>je).join(" ");Le>=(null!=Ue?Ue:Pe.logLevel)&&U({level:a[Le].toLowerCase(),message:be,args:nt,type:Pe.name})}}}},8766:(gt,ke,P)=>{"use strict";P.d(ke,{Lj:()=>Be,X3:()=>pt});var d=P(5861);let V,ve;const z=new WeakMap,re=new WeakMap,se=new WeakMap,U=new WeakMap,J=new WeakMap;let Pe={get(ae,Ze,Ie){if(ae instanceof IDBTransaction){if("done"===Ze)return re.get(ae);if("objectStoreNames"===Ze)return ae.objectStoreNames||se.get(ae);if("store"===Ze)return Ie.objectStoreNames[1]?void 0:Ie.objectStore(Ie.objectStoreNames[0])}return je(ae[Ze])},set:(ae,Ze,Ie)=>(ae[Ze]=Ie,!0),has:(ae,Ze)=>ae instanceof IDBTransaction&&("done"===Ze||"store"===Ze)||Ze in ae};function be(ae){return"function"==typeof ae?function nt(ae){return ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function H(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ae)?function(...Ze){return ae.apply(ut(this),Ze),je(z.get(this))}:function(...Ze){return je(ae.apply(ut(this),Ze))}:function(Ze,...Ie){const Ve=ae.call(ut(this),Ze,...Ie);return se.set(Ve,Ze.sort?Ze.sort():[Ze]),je(Ve)}}(ae):(ae instanceof IDBTransaction&&function Ue(ae){if(re.has(ae))return;const Ze=new Promise((Ie,Ve)=>{const Re=()=>{ae.removeEventListener("complete",qe),ae.removeEventListener("error",He),ae.removeEventListener("abort",He)},qe=()=>{Ie(),Re()},He=()=>{Ve(ae.error||new DOMException("AbortError","AbortError")),Re()};ae.addEventListener("complete",qe),ae.addEventListener("error",He),ae.addEventListener("abort",He)});re.set(ae,Ze)}(ae),((ae,Ze)=>Ze.some(Ie=>ae instanceof Ie))(ae,function B(){return V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ae,Pe):ae)}function je(ae){if(ae instanceof IDBRequest)return function ue(ae){const Ze=new Promise((Ie,Ve)=>{const Re=()=>{ae.removeEventListener("success",qe),ae.removeEventListener("error",He)},qe=()=>{Ie(je(ae.result)),Re()},He=()=>{Ve(ae.error),Re()};ae.addEventListener("success",qe),ae.addEventListener("error",He)});return Ze.then(Ie=>{Ie instanceof IDBCursor&&z.set(Ie,ae)}).catch(()=>{}),J.set(Ze,ae),Ze}(ae);if(U.has(ae))return U.get(ae);const Ze=be(ae);return Ze!==ae&&(U.set(ae,Ze),J.set(Ze,ae)),Ze}const ut=ae=>J.get(ae);function pt(ae,Ze,{blocked:Ie,upgrade:Ve,blocking:Re,terminated:qe}={}){const He=indexedDB.open(ae,Ze),at=je(He);return Ve&&He.addEventListener("upgradeneeded",Pt=>{Ve(je(He.result),Pt.oldVersion,Pt.newVersion,je(He.transaction))}),Ie&&He.addEventListener("blocked",()=>Ie()),at.then(Pt=>{qe&&Pt.addEventListener("close",()=>qe()),Re&&Pt.addEventListener("versionchange",()=>Re())}).catch(()=>{}),at}function Be(ae,{blocked:Ze}={}){const Ie=indexedDB.deleteDatabase(ae);return Ze&&Ie.addEventListener("blocked",()=>Ze()),je(Ie).then(()=>{})}const q=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],ne=new Map;function we(ae,Ze){if(!(ae instanceof IDBDatabase)||Ze in ae||"string"!=typeof Ze)return;if(ne.get(Ze))return ne.get(Ze);const Ie=Ze.replace(/FromIndex$/,""),Ve=Ze!==Ie,Re=De.includes(Ie);if(!(Ie in(Ve?IDBIndex:IDBObjectStore).prototype)||!Re&&!q.includes(Ie))return;const qe=function(){var He=(0,d.Z)(function*(at,...Pt){const bn=this.transaction(at,Re?"readwrite":"readonly");let un=bn.store;return Ve&&(un=un.index(Pt.shift())),(yield Promise.all([un[Ie](...Pt),Re&&bn.done]))[0]});return function(Pt){return He.apply(this,arguments)}}();return ne.set(Ze,qe),qe}!function Le(ae){Pe=ae(Pe)}(ae=>Gx($x({},ae),{get:(Ze,Ie,Ve)=>we(Ze,Ie)||ae.get(Ze,Ie,Ve),has:(Ze,Ie)=>!!we(Ze,Ie)||ae.has(Ze,Ie)}))},9783:(gt,ke,P)=>{"use strict";P.d(ke,{$_:()=>je,F0:()=>Pe,b4:()=>z,ez:()=>Ue,h4:()=>be,iZ:()=>J,jx:()=>ut,m8:()=>pt,ws:()=>re});var d=P(5e3),a=P(7579),V=P(5921),ve=P(9808);const B=["*"];let H=(()=>{class q{}return q.STARTS_WITH="startsWith",q.CONTAINS="contains",q.NOT_CONTAINS="notContains",q.ENDS_WITH="endsWith",q.EQUALS="equals",q.NOT_EQUALS="notEquals",q.IN="in",q.LESS_THAN="lt",q.LESS_THAN_OR_EQUAL_TO="lte",q.GREATER_THAN="gt",q.GREATER_THAN_OR_EQUAL_TO="gte",q.BETWEEN="between",q.IS="is",q.IS_NOT="isNot",q.BEFORE="before",q.AFTER="after",q.DATE_IS="dateIs",q.DATE_IS_NOT="dateIsNot",q.DATE_BEFORE="dateBefore",q.DATE_AFTER="dateAfter",q})(),z=(()=>{class q{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[H.STARTS_WITH,H.CONTAINS,H.NOT_CONTAINS,H.ENDS_WITH,H.EQUALS,H.NOT_EQUALS],numeric:[H.EQUALS,H.NOT_EQUALS,H.LESS_THAN,H.LESS_THAN_OR_EQUAL_TO,H.GREATER_THAN,H.GREATER_THAN_OR_EQUAL_TO],date:[H.DATE_IS,H.DATE_IS_NOT,H.DATE_BEFORE,H.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new a.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(ne){return this.translation[ne]}setTranslation(ne){this.translation=Object.assign(Object.assign({},this.translation),ne),this.translationSource.next(this.translation)}}return q.\u0275fac=function(ne){return new(ne||q)},q.\u0275prov=d.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),re=(()=>{class q{}return q.STARTS_WITH="startsWith",q.CONTAINS="contains",q.NOT_CONTAINS="notContains",q.ENDS_WITH="endsWith",q.EQUALS="equals",q.NOT_EQUALS="notEquals",q.NO_FILTER="noFilter",q.LT="lt",q.LTE="lte",q.GT="gt",q.GTE="gte",q.IS="is",q.IS_NOT="isNot",q.BEFORE="before",q.AFTER="after",q.CLEAR="clear",q.APPLY="apply",q.MATCH_ALL="matchAll",q.MATCH_ANY="matchAny",q.ADD_RULE="addRule",q.REMOVE_RULE="removeRule",q.ACCEPT="accept",q.REJECT="reject",q.CHOOSE="choose",q.UPLOAD="upload",q.CANCEL="cancel",q.DAY_NAMES="dayNames",q.DAY_NAMES_SHORT="dayNamesShort",q.DAY_NAMES_MIN="dayNamesMin",q.MONTH_NAMES="monthNames",q.MONTH_NAMES_SHORT="monthNamesShort",q.FIRST_DAY_OF_WEEK="firstDayOfWeek",q.TODAY="today",q.WEEK_HEADER="weekHeader",q.WEAK="weak",q.MEDIUM="medium",q.STRONG="strong",q.PASSWORD_PROMPT="passwordPrompt",q.EMPTY_MESSAGE="emptyMessage",q.EMPTY_FILTER_MESSAGE="emptyFilterMessage",q})(),J=(()=>{class q{constructor(){this.filters={startsWith:(ne,we,ae)=>{if(null==we||""===we.trim())return!0;if(null==ne)return!1;let Ze=V.gb.removeAccents(we.toString()).toLocaleLowerCase(ae);return V.gb.removeAccents(ne.toString()).toLocaleLowerCase(ae).slice(0,Ze.length)===Ze},contains:(ne,we,ae)=>{if(null==we||"string"==typeof we&&""===we.trim())return!0;if(null==ne)return!1;let Ze=V.gb.removeAccents(we.toString()).toLocaleLowerCase(ae);return-1!==V.gb.removeAccents(ne.toString()).toLocaleLowerCase(ae).indexOf(Ze)},notContains:(ne,we,ae)=>{if(null==we||"string"==typeof we&&""===we.trim())return!0;if(null==ne)return!1;let Ze=V.gb.removeAccents(we.toString()).toLocaleLowerCase(ae);return-1===V.gb.removeAccents(ne.toString()).toLocaleLowerCase(ae).indexOf(Ze)},endsWith:(ne,we,ae)=>{if(null==we||""===we.trim())return!0;if(null==ne)return!1;let Ze=V.gb.removeAccents(we.toString()).toLocaleLowerCase(ae),Ie=V.gb.removeAccents(ne.toString()).toLocaleLowerCase(ae);return-1!==Ie.indexOf(Ze,Ie.length-Ze.length)},equals:(ne,we,ae)=>null==we||"string"==typeof we&&""===we.trim()||null!=ne&&(ne.getTime&&we.getTime?ne.getTime()===we.getTime():V.gb.removeAccents(ne.toString()).toLocaleLowerCase(ae)==V.gb.removeAccents(we.toString()).toLocaleLowerCase(ae)),notEquals:(ne,we,ae)=>!(null==we||"string"==typeof we&&""===we.trim()||null!=ne&&(ne.getTime&&we.getTime?ne.getTime()===we.getTime():V.gb.removeAccents(ne.toString()).toLocaleLowerCase(ae)==V.gb.removeAccents(we.toString()).toLocaleLowerCase(ae))),in:(ne,we)=>{if(null==we||0===we.length)return!0;for(let ae=0;ae<we.length;ae++)if(V.gb.equals(ne,we[ae]))return!0;return!1},between:(ne,we)=>null==we||null==we[0]||null==we[1]||null!=ne&&(ne.getTime?we[0].getTime()<=ne.getTime()&&ne.getTime()<=we[1].getTime():we[0]<=ne&&ne<=we[1]),lt:(ne,we,ae)=>null==we||null!=ne&&(ne.getTime&&we.getTime?ne.getTime()<we.getTime():ne<we),lte:(ne,we,ae)=>null==we||null!=ne&&(ne.getTime&&we.getTime?ne.getTime()<=we.getTime():ne<=we),gt:(ne,we,ae)=>null==we||null!=ne&&(ne.getTime&&we.getTime?ne.getTime()>we.getTime():ne>we),gte:(ne,we,ae)=>null==we||null!=ne&&(ne.getTime&&we.getTime?ne.getTime()>=we.getTime():ne>=we),is:(ne,we,ae)=>this.filters.equals(ne,we,ae),isNot:(ne,we,ae)=>this.filters.notEquals(ne,we,ae),before:(ne,we,ae)=>this.filters.lt(ne,we,ae),after:(ne,we,ae)=>this.filters.gt(ne,we,ae),dateIs:(ne,we)=>null==we||null!=ne&&ne.toDateString()===we.toDateString(),dateIsNot:(ne,we)=>null==we||null!=ne&&ne.toDateString()!==we.toDateString(),dateBefore:(ne,we)=>null==we||null!=ne&&ne.getTime()<we.getTime(),dateAfter:(ne,we)=>null==we||null!=ne&&ne.getTime()>we.getTime()}}filter(ne,we,ae,Ze,Ie){let Ve=[];if(ne)for(let Re of ne)for(let qe of we){let He=V.gb.resolveFieldData(Re,qe);if(this.filters[Ze](He,ae,Ie)){Ve.push(Re);break}}return Ve}register(ne,we){this.filters[ne]=we}}return q.\u0275fac=function(ne){return new(ne||q)},q.\u0275prov=d.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),Ue=(()=>{class q{constructor(){this.messageSource=new a.x,this.clearSource=new a.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(ne){ne&&this.messageSource.next(ne)}addAll(ne){ne&&ne.length&&this.messageSource.next(ne)}clear(ne){this.clearSource.next(ne||null)}}return q.\u0275fac=function(ne){return new(ne||q)},q.\u0275prov=d.Yz7({token:q,factory:q.\u0275fac}),q})(),Pe=(()=>{class q{constructor(){this.clickSource=new a.x,this.clickObservable=this.clickSource.asObservable()}add(ne){ne&&this.clickSource.next(ne)}}return q.\u0275fac=function(ne){return new(ne||q)},q.\u0275prov=d.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),be=(()=>{class q{}return q.\u0275fac=function(ne){return new(ne||q)},q.\u0275cmp=d.Xpm({type:q,selectors:[["p-header"]],ngContentSelectors:B,decls:1,vars:0,template:function(ne,we){1&ne&&(d.F$t(),d.Hsn(0))},encapsulation:2}),q})(),je=(()=>{class q{}return q.\u0275fac=function(ne){return new(ne||q)},q.\u0275cmp=d.Xpm({type:q,selectors:[["p-footer"]],ngContentSelectors:B,decls:1,vars:0,template:function(ne,we){1&ne&&(d.F$t(),d.Hsn(0))},encapsulation:2}),q})(),ut=(()=>{class q{constructor(ne){this.template=ne}getType(){return this.name}}return q.\u0275fac=function(ne){return new(ne||q)(d.Y36(d.Rgc))},q.\u0275dir=d.lG2({type:q,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),q})(),pt=(()=>{class q{}return q.\u0275fac=function(ne){return new(ne||q)},q.\u0275mod=d.oAB({type:q}),q.\u0275inj=d.cJS({imports:[[ve.ez]]}),q})()},845:(gt,ke,P)=>{"use strict";P.d(ke,{Hq:()=>ue,hJ:()=>Pe});var d=P(5e3),a=P(5730),V=P(9808),ve=P(5787);let ue=(()=>{class Le{constructor(be){this.el=be,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,a.p.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let be=document.createElement("span");this.icon&&!this.label&&be.setAttribute("aria-hidden","true"),be.className="p-button-label",this.label?be.appendChild(document.createTextNode(this.label)):be.innerHTML="&nbsp;",this.el.nativeElement.appendChild(be),this.initialized=!0}getStyleClass(){let be="p-button p-component";return this.icon&&!this.label&&(be+=" p-button-icon-only"),this.loading&&(be+=" p-disabled p-button-loading",!this.icon&&this.label&&(be+=" p-button-loading-label-only")),be}setStyleClass(){let be=this.getStyleClass();this.el.nativeElement.className=be+" "+this._initialStyleClass}createIconEl(){let be=document.createElement("span");be.className="p-button-icon",be.setAttribute("aria-hidden","true");let je=this.label?"p-button-icon-"+this.iconPos:null;je&&a.p.addClass(be,je);let ut=this.getIconClass();ut&&a.p.addMultipleClasses(be,ut);let pt=a.p.findSingle(this.el.nativeElement,".p-button-label");pt?this.el.nativeElement.insertBefore(be,pt):this.el.nativeElement.appendChild(be)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let be=a.p.findSingle(this.el.nativeElement,".p-button-icon");be?be.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let be=a.p.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(be)}get label(){return this._label}set label(be){this._label=be,this.initialized&&(a.p.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(be){this._icon=be,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(be){this._loading=be,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return Le.\u0275fac=function(be){return new(be||Le)(d.Y36(d.SBq))},Le.\u0275dir=d.lG2({type:Le,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),Le})(),Pe=(()=>{class Le{}return Le.\u0275fac=function(be){return new(be||Le)},Le.\u0275mod=d.oAB({type:Le}),Le.\u0275inj=d.cJS({imports:[[V.ez,ve.T]]}),Le})()},5652:(gt,ke,P)=>{"use strict";P.d(ke,{_8:()=>ie,f:()=>xt});var d=P(5e3),a=P(1777),V=P(9808),ve=P(845),B=P(5787),H=P(5730),z=P(9783),re=P(2382),se=P(5921);const U=["container"],J=["inputfield"],ue=["contentWrapper"];function Ue(te,ce){if(1&te){const w=d.EpF();d.TgZ(0,"i",8),d.NdJ("click",function(){return d.CHM(w),d.oxw(2).clear()}),d.qZA()}}function Pe(te,ce){if(1&te){const w=d.EpF();d.TgZ(0,"button",9),d.NdJ("click",function(Z){d.CHM(w),d.oxw();const ge=d.MAs(1);return d.oxw().onButtonClick(Z,ge)}),d.qZA()}if(2&te){const w=d.oxw(2);d.Q6J("icon",w.icon)("disabled",w.disabled),d.uIk("aria-label",w.iconAriaLabel)}}function Le(te,ce){if(1&te){const w=d.EpF();d.TgZ(0,"input",4,5),d.NdJ("focus",function(Z){return d.CHM(w),d.oxw().onInputFocus(Z)})("keydown",function(Z){return d.CHM(w),d.oxw().onInputKeydown(Z)})("click",function(){return d.CHM(w),d.oxw().onInputClick()})("blur",function(Z){return d.CHM(w),d.oxw().onInputBlur(Z)})("input",function(Z){return d.CHM(w),d.oxw().onUserInput(Z)}),d.qZA(),d.YNc(2,Ue,1,0,"i",6),d.YNc(3,Pe,1,3,"button",7)}if(2&te){const w=d.oxw();d.Tol(w.inputStyleClass),d.Q6J("value",w.inputFieldValue)("readonly",w.readonlyInput)("ngStyle",w.inputStyle)("placeholder",w.placeholder||"")("disabled",w.disabled)("ngClass","p-inputtext p-component"),d.uIk("id",w.inputId)("name",w.name)("required",w.required)("aria-required",w.required)("tabindex",w.tabindex)("inputmode",w.touchUI?"off":null)("aria-labelledby",w.ariaLabelledBy),d.xp6(2),d.Q6J("ngIf",w.showClear&&!w.disabled&&null!=w.value),d.xp6(1),d.Q6J("ngIf",w.showIcon)}}function nt(te,ce){1&te&&d.GkF(0)}function be(te,ce){if(1&te){const w=d.EpF();d.TgZ(0,"button",30),d.NdJ("keydown",function(Z){return d.CHM(w),d.oxw(4).onContainerButtonKeydown(Z)})("click",function(Z){return d.CHM(w),d.oxw(4).onPrevButtonClick(Z)}),d._UZ(1,"span",31),d.qZA()}}function je(te,ce){if(1&te){const w=d.EpF();d.TgZ(0,"button",32),d.NdJ("click",function(Z){return d.CHM(w),d.oxw(4).switchToMonthView(Z)})("keydown",function(Z){return d.CHM(w),d.oxw(4).onContainerButtonKeydown(Z)}),d._uU(1),d.qZA()}if(2&te){const w=d.oxw().$implicit,R=d.oxw(3);d.Q6J("disabled",R.switchViewButtonDisabled()),d.xp6(1),d.hij(" ",R.getMonthName(w.month)," ")}}function ut(te,ce){if(1&te){const w=d.EpF();d.TgZ(0,"button",33),d.NdJ("click",function(Z){return d.CHM(w),d.oxw(4).switchToYearView(Z)})("keydown",function(Z){return d.CHM(w),d.oxw(4).onContainerButtonKeydown(Z)}),d._uU(1),d.qZA()}if(2&te){const w=d.oxw().$implicit,R=d.oxw(3);d.Q6J("disabled",R.switchViewButtonDisabled()),d.xp6(1),d.hij(" ",R.getYear(w)," ")}}function pt(te,ce){if(1&te&&(d.ynx(0),d._uU(1),d.BQk()),2&te){const w=d.oxw(5);d.xp6(1),d.AsE("",w.yearPickerValues()[0]," - ",w.yearPickerValues()[w.yearPickerValues().length-1],"")}}function Be(te,ce){1&te&&d.GkF(0)}const q=function(te){return{$implicit:te}};function De(te,ce){if(1&te&&(d.TgZ(0,"span",34),d.YNc(1,pt,2,2,"ng-container",13),d.YNc(2,Be,1,0,"ng-container",35),d.qZA()),2&te){const w=d.oxw(4);d.xp6(1),d.Q6J("ngIf",!w.decadeTemplate),d.xp6(1),d.Q6J("ngTemplateOutlet",w.decadeTemplate)("ngTemplateOutletContext",d.VKq(3,q,w.yearPickerValues))}}function ne(te,ce){if(1&te&&(d.TgZ(0,"th",41)(1,"span"),d._uU(2),d.qZA()()),2&te){const w=d.oxw(5);d.xp6(2),d.Oqu(w.getTranslation("weekHeader"))}}function we(te,ce){if(1&te&&(d.TgZ(0,"th",42)(1,"span"),d._uU(2),d.qZA()()),2&te){const w=ce.$implicit;d.xp6(2),d.Oqu(w)}}function ae(te,ce){if(1&te&&(d.TgZ(0,"td",45)(1,"span",46),d._uU(2),d.qZA()()),2&te){const w=d.oxw().index,R=d.oxw(2).$implicit;d.xp6(2),d.hij(" ",R.weekNumbers[w]," ")}}function Ze(te,ce){if(1&te&&(d.ynx(0),d._uU(1),d.BQk()),2&te){const w=d.oxw(2).$implicit;d.xp6(1),d.Oqu(w.day)}}function Ie(te,ce){1&te&&d.GkF(0)}const Ve=function(te,ce){return{"p-highlight":te,"p-disabled":ce}};function Re(te,ce){if(1&te){const w=d.EpF();d.ynx(0),d.TgZ(1,"span",48),d.NdJ("click",function(Z){d.CHM(w);const ge=d.oxw().$implicit;return d.oxw(6).onDateSelect(Z,ge)})("keydown",function(Z){d.CHM(w);const ge=d.oxw().$implicit,yt=d.oxw(3).index;return d.oxw(3).onDateCellKeydown(Z,ge,yt)}),d.YNc(2,Ze,2,1,"ng-container",13),d.YNc(3,Ie,1,0,"ng-container",35),d.qZA(),d.BQk()}if(2&te){const w=d.oxw().$implicit,R=d.oxw(6);d.xp6(1),d.Q6J("ngClass",d.WLB(4,Ve,R.isSelected(w),!w.selectable)),d.xp6(1),d.Q6J("ngIf",!R.dateTemplate),d.xp6(1),d.Q6J("ngTemplateOutlet",R.dateTemplate)("ngTemplateOutletContext",d.VKq(7,q,w))}}const qe=function(te,ce){return{"p-datepicker-other-month":te,"p-datepicker-today":ce}};function He(te,ce){if(1&te&&(d.TgZ(0,"td",47),d.YNc(1,Re,4,9,"ng-container",13),d.qZA()),2&te){const w=ce.$implicit,R=d.oxw(6);d.Q6J("ngClass",d.WLB(2,qe,w.otherMonth,w.today)),d.xp6(1),d.Q6J("ngIf",!w.otherMonth||R.showOtherMonths)}}function at(te,ce){if(1&te&&(d.TgZ(0,"tr"),d.YNc(1,ae,3,1,"td",43),d.YNc(2,He,2,5,"td",44),d.qZA()),2&te){const w=ce.$implicit,R=d.oxw(5);d.xp6(1),d.Q6J("ngIf",R.showWeek),d.xp6(1),d.Q6J("ngForOf",w)}}function Pt(te,ce){if(1&te&&(d.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),d.YNc(4,ne,3,1,"th",38),d.YNc(5,we,3,1,"th",39),d.qZA()(),d.TgZ(6,"tbody"),d.YNc(7,at,3,2,"tr",40),d.qZA()()()),2&te){const w=d.oxw().$implicit,R=d.oxw(3);d.xp6(4),d.Q6J("ngIf",R.showWeek),d.xp6(1),d.Q6J("ngForOf",R.weekDays),d.xp6(2),d.Q6J("ngForOf",w.dates)}}function bn(te,ce){if(1&te){const w=d.EpF();d.TgZ(0,"div",20)(1,"div",21),d.YNc(2,be,2,0,"button",22),d.TgZ(3,"div",23),d.YNc(4,je,2,2,"button",24),d.YNc(5,ut,2,2,"button",25),d.YNc(6,De,3,5,"span",26),d.qZA(),d.TgZ(7,"button",27),d.NdJ("keydown",function(Z){return d.CHM(w),d.oxw(3).onContainerButtonKeydown(Z)})("click",function(Z){return d.CHM(w),d.oxw(3).onNextButtonClick(Z)}),d._UZ(8,"span",28),d.qZA()(),d.YNc(9,Pt,8,3,"div",29),d.qZA()}if(2&te){const w=ce.index,R=d.oxw(3);d.xp6(2),d.Q6J("ngIf",0===w),d.xp6(2),d.Q6J("ngIf","date"===R.currentView),d.xp6(1),d.Q6J("ngIf","year"!==R.currentView),d.xp6(1),d.Q6J("ngIf","year"===R.currentView),d.xp6(1),d.Udp("display",1===R.numberOfMonths||w===R.numberOfMonths-1?"inline-flex":"none"),d.xp6(2),d.Q6J("ngIf","date"===R.currentView)}}const un=function(te){return{"p-highlight":te}};function Et(te,ce){if(1&te){const w=d.EpF();d.TgZ(0,"span",51),d.NdJ("click",function(Z){const yt=d.CHM(w).index;return d.oxw(4).onMonthSelect(Z,yt)})("keydown",function(Z){const yt=d.CHM(w).index;return d.oxw(4).onMonthCellKeydown(Z,yt)}),d._uU(1),d.qZA()}if(2&te){const w=ce.$implicit,R=ce.index,Z=d.oxw(4);d.Q6J("ngClass",d.VKq(2,un,Z.isMonthSelected(R))),d.xp6(1),d.hij(" ",w," ")}}function Sn(te,ce){if(1&te&&(d.TgZ(0,"div",49),d.YNc(1,Et,2,4,"span",50),d.qZA()),2&te){const w=d.oxw(3);d.xp6(1),d.Q6J("ngForOf",w.monthPickerValues())}}function Hn(te,ce){if(1&te){const w=d.EpF();d.TgZ(0,"span",54),d.NdJ("click",function(Z){const yt=d.CHM(w).$implicit;return d.oxw(4).onYearSelect(Z,yt)})("keydown",function(Z){const yt=d.CHM(w).$implicit;return d.oxw(4).onYearCellKeydown(Z,yt)}),d._uU(1),d.qZA()}if(2&te){const w=ce.$implicit,R=d.oxw(4);d.Q6J("ngClass",d.VKq(2,un,R.isYearSelected(w))),d.xp6(1),d.hij(" ",w," ")}}function Fn(te,ce){if(1&te&&(d.TgZ(0,"div",52),d.YNc(1,Hn,2,4,"span",53),d.qZA()),2&te){const w=d.oxw(3);d.xp6(1),d.Q6J("ngForOf",w.yearPickerValues())}}function xn(te,ce){if(1&te&&(d.ynx(0),d.TgZ(1,"div",16),d.YNc(2,bn,10,7,"div",17),d.qZA(),d.YNc(3,Sn,2,1,"div",18),d.YNc(4,Fn,2,1,"div",19),d.BQk()),2&te){const w=d.oxw(2);d.xp6(2),d.Q6J("ngForOf",w.months),d.xp6(1),d.Q6J("ngIf","month"===w.currentView),d.xp6(1),d.Q6J("ngIf","year"===w.currentView)}}function vi(te,ce){1&te&&(d.ynx(0),d._uU(1,"0"),d.BQk())}function Dn(te,ce){1&te&&(d.ynx(0),d._uU(1,"0"),d.BQk())}function an(te,ce){if(1&te&&(d.TgZ(0,"div",60)(1,"span"),d._uU(2),d.qZA()()),2&te){const w=d.oxw(3);d.xp6(2),d.Oqu(w.timeSeparator)}}function ti(te,ce){1&te&&(d.ynx(0),d._uU(1,"0"),d.BQk())}function fi(te,ce){if(1&te){const w=d.EpF();d.TgZ(0,"div",65)(1,"button",57),d.NdJ("keydown",function(Z){return d.CHM(w),d.oxw(3).onContainerButtonKeydown(Z)})("keydown.enter",function(Z){return d.CHM(w),d.oxw(3).incrementSecond(Z)})("keydown.space",function(Z){return d.CHM(w),d.oxw(3).incrementSecond(Z)})("mousedown",function(Z){return d.CHM(w),d.oxw(3).onTimePickerElementMouseDown(Z,2,1)})("mouseup",function(Z){return d.CHM(w),d.oxw(3).onTimePickerElementMouseUp(Z)})("keyup.enter",function(Z){return d.CHM(w),d.oxw(3).onTimePickerElementMouseUp(Z)})("keyup.space",function(Z){return d.CHM(w),d.oxw(3).onTimePickerElementMouseUp(Z)})("mouseleave",function(){return d.CHM(w),d.oxw(3).onTimePickerElementMouseLeave()}),d._UZ(2,"span",58),d.qZA(),d.TgZ(3,"span"),d.YNc(4,ti,2,0,"ng-container",13),d._uU(5),d.qZA(),d.TgZ(6,"button",57),d.NdJ("keydown",function(Z){return d.CHM(w),d.oxw(3).onContainerButtonKeydown(Z)})("keydown.enter",function(Z){return d.CHM(w),d.oxw(3).decrementSecond(Z)})("keydown.space",function(Z){return d.CHM(w),d.oxw(3).decrementSecond(Z)})("mousedown",function(Z){return d.CHM(w),d.oxw(3).onTimePickerElementMouseDown(Z,2,-1)})("mouseup",function(Z){return d.CHM(w),d.oxw(3).onTimePickerElementMouseUp(Z)})("keyup.enter",function(Z){return d.CHM(w),d.oxw(3).onTimePickerElementMouseUp(Z)})("keyup.space",function(Z){return d.CHM(w),d.oxw(3).onTimePickerElementMouseUp(Z)})("mouseleave",function(){return d.CHM(w),d.oxw(3).onTimePickerElementMouseLeave()}),d._UZ(7,"span",59),d.qZA()()}if(2&te){const w=d.oxw(3);d.xp6(4),d.Q6J("ngIf",w.currentSecond<10),d.xp6(1),d.Oqu(w.currentSecond)}}function ai(te,ce){if(1&te){const w=d.EpF();d.TgZ(0,"div",66)(1,"button",67),d.NdJ("keydown",function(Z){return d.CHM(w),d.oxw(3).onContainerButtonKeydown(Z)})("click",function(Z){return d.CHM(w),d.oxw(3).toggleAMPM(Z)})("keydown.enter",function(Z){return d.CHM(w),d.oxw(3).toggleAMPM(Z)}),d._UZ(2,"span",58),d.qZA(),d.TgZ(3,"span"),d._uU(4),d.qZA(),d.TgZ(5,"button",67),d.NdJ("keydown",function(Z){return d.CHM(w),d.oxw(3).onContainerButtonKeydown(Z)})("click",function(Z){return d.CHM(w),d.oxw(3).toggleAMPM(Z)})("keydown.enter",function(Z){return d.CHM(w),d.oxw(3).toggleAMPM(Z)}),d._UZ(6,"span",59),d.qZA()()}if(2&te){const w=d.oxw(3);d.xp6(4),d.Oqu(w.pm?"PM":"AM")}}function pi(te,ce){if(1&te){const w=d.EpF();d.TgZ(0,"div",55)(1,"div",56)(2,"button",57),d.NdJ("keydown",function(Z){return d.CHM(w),d.oxw(2).onContainerButtonKeydown(Z)})("keydown.enter",function(Z){return d.CHM(w),d.oxw(2).incrementHour(Z)})("keydown.space",function(Z){return d.CHM(w),d.oxw(2).incrementHour(Z)})("mousedown",function(Z){return d.CHM(w),d.oxw(2).onTimePickerElementMouseDown(Z,0,1)})("mouseup",function(Z){return d.CHM(w),d.oxw(2).onTimePickerElementMouseUp(Z)})("keyup.enter",function(Z){return d.CHM(w),d.oxw(2).onTimePickerElementMouseUp(Z)})("keyup.space",function(Z){return d.CHM(w),d.oxw(2).onTimePickerElementMouseUp(Z)})("mouseleave",function(){return d.CHM(w),d.oxw(2).onTimePickerElementMouseLeave()}),d._UZ(3,"span",58),d.qZA(),d.TgZ(4,"span"),d.YNc(5,vi,2,0,"ng-container",13),d._uU(6),d.qZA(),d.TgZ(7,"button",57),d.NdJ("keydown",function(Z){return d.CHM(w),d.oxw(2).onContainerButtonKeydown(Z)})("keydown.enter",function(Z){return d.CHM(w),d.oxw(2).decrementHour(Z)})("keydown.space",function(Z){return d.CHM(w),d.oxw(2).decrementHour(Z)})("mousedown",function(Z){return d.CHM(w),d.oxw(2).onTimePickerElementMouseDown(Z,0,-1)})("mouseup",function(Z){return d.CHM(w),d.oxw(2).onTimePickerElementMouseUp(Z)})("keyup.enter",function(Z){return d.CHM(w),d.oxw(2).onTimePickerElementMouseUp(Z)})("keyup.space",function(Z){return d.CHM(w),d.oxw(2).onTimePickerElementMouseUp(Z)})("mouseleave",function(){return d.CHM(w),d.oxw(2).onTimePickerElementMouseLeave()}),d._UZ(8,"span",59),d.qZA()(),d.TgZ(9,"div",60)(10,"span"),d._uU(11),d.qZA()(),d.TgZ(12,"div",61)(13,"button",57),d.NdJ("keydown",function(Z){return d.CHM(w),d.oxw(2).onContainerButtonKeydown(Z)})("keydown.enter",function(Z){return d.CHM(w),d.oxw(2).incrementMinute(Z)})("keydown.space",function(Z){return d.CHM(w),d.oxw(2).incrementMinute(Z)})("mousedown",function(Z){return d.CHM(w),d.oxw(2).onTimePickerElementMouseDown(Z,1,1)})("mouseup",function(Z){return d.CHM(w),d.oxw(2).onTimePickerElementMouseUp(Z)})("keyup.enter",function(Z){return d.CHM(w),d.oxw(2).onTimePickerElementMouseUp(Z)})("keyup.space",function(Z){return d.CHM(w),d.oxw(2).onTimePickerElementMouseUp(Z)})("mouseleave",function(){return d.CHM(w),d.oxw(2).onTimePickerElementMouseLeave()}),d._UZ(14,"span",58),d.qZA(),d.TgZ(15,"span"),d.YNc(16,Dn,2,0,"ng-container",13),d._uU(17),d.qZA(),d.TgZ(18,"button",57),d.NdJ("keydown",function(Z){return d.CHM(w),d.oxw(2).onContainerButtonKeydown(Z)})("keydown.enter",function(Z){return d.CHM(w),d.oxw(2).decrementMinute(Z)})("keydown.space",function(Z){return d.CHM(w),d.oxw(2).decrementMinute(Z)})("mousedown",function(Z){return d.CHM(w),d.oxw(2).onTimePickerElementMouseDown(Z,1,-1)})("mouseup",function(Z){return d.CHM(w),d.oxw(2).onTimePickerElementMouseUp(Z)})("keyup.enter",function(Z){return d.CHM(w),d.oxw(2).onTimePickerElementMouseUp(Z)})("keyup.space",function(Z){return d.CHM(w),d.oxw(2).onTimePickerElementMouseUp(Z)})("mouseleave",function(){return d.CHM(w),d.oxw(2).onTimePickerElementMouseLeave()}),d._UZ(19,"span",59),d.qZA()(),d.YNc(20,an,3,1,"div",62),d.YNc(21,fi,8,2,"div",63),d.YNc(22,ai,7,1,"div",64),d.qZA()}if(2&te){const w=d.oxw(2);d.xp6(5),d.Q6J("ngIf",w.currentHour<10),d.xp6(1),d.Oqu(w.currentHour),d.xp6(5),d.Oqu(w.timeSeparator),d.xp6(5),d.Q6J("ngIf",w.currentMinute<10),d.xp6(1),d.Oqu(w.currentMinute),d.xp6(3),d.Q6J("ngIf",w.showSeconds),d.xp6(1),d.Q6J("ngIf",w.showSeconds),d.xp6(1),d.Q6J("ngIf","12"==w.hourFormat)}}const wi=function(te){return[te]};function Fi(te,ce){if(1&te){const w=d.EpF();d.TgZ(0,"div",68)(1,"button",69),d.NdJ("keydown",function(Z){return d.CHM(w),d.oxw(2).onContainerButtonKeydown(Z)})("click",function(Z){return d.CHM(w),d.oxw(2).onTodayButtonClick(Z)}),d.qZA(),d.TgZ(2,"button",69),d.NdJ("keydown",function(Z){return d.CHM(w),d.oxw(2).onContainerButtonKeydown(Z)})("click",function(Z){return d.CHM(w),d.oxw(2).onClearButtonClick(Z)}),d.qZA()()}if(2&te){const w=d.oxw(2);d.xp6(1),d.Q6J("label",w.getTranslation("today"))("ngClass",d.VKq(4,wi,w.todayButtonStyleClass)),d.xp6(1),d.Q6J("label",w.getTranslation("clear"))("ngClass",d.VKq(6,wi,w.clearButtonStyleClass))}}function gi(te,ce){1&te&&d.GkF(0)}const Oi=function(te,ce,w,R,Z,ge){return{"p-datepicker p-component":!0,"p-datepicker-inline":te,"p-disabled":ce,"p-datepicker-timeonly":w,"p-datepicker-multiple-month":R,"p-datepicker-monthpicker":Z,"p-datepicker-touch-ui":ge}},Ut=function(te,ce){return{showTransitionParams:te,hideTransitionParams:ce}},Ci=function(te){return{value:"visibleTouchUI",params:te}},Ln=function(te){return{value:"visible",params:te}};function mn(te,ce){if(1&te){const w=d.EpF();d.TgZ(0,"div",10,11),d.NdJ("@overlayAnimation.start",function(Z){return d.CHM(w),d.oxw().onOverlayAnimationStart(Z)})("@overlayAnimation.done",function(Z){return d.CHM(w),d.oxw().onOverlayAnimationDone(Z)})("click",function(Z){return d.CHM(w),d.oxw().onOverlayClick(Z)}),d.Hsn(2),d.YNc(3,nt,1,0,"ng-container",12),d.YNc(4,xn,5,3,"ng-container",13),d.YNc(5,pi,23,8,"div",14),d.YNc(6,Fi,3,8,"div",15),d.Hsn(7,1),d.YNc(8,gi,1,0,"ng-container",12),d.qZA()}if(2&te){const w=d.oxw();d.Tol(w.panelStyleClass),d.Q6J("ngStyle",w.panelStyle)("ngClass",d.HTZ(11,Oi,w.inline,w.disabled,w.timeOnly,w.numberOfMonths>1,"month"===w.view,w.touchUI))("@overlayAnimation",w.touchUI?d.VKq(21,Ci,d.WLB(18,Ut,w.showTransitionOptions,w.hideTransitionOptions)):d.VKq(26,Ln,d.WLB(23,Ut,w.showTransitionOptions,w.hideTransitionOptions)))("@.disabled",!0===w.inline),d.xp6(3),d.Q6J("ngTemplateOutlet",w.headerTemplate),d.xp6(1),d.Q6J("ngIf",!w.timeOnly),d.xp6(1),d.Q6J("ngIf",(w.showTime||w.timeOnly)&&"date"===w.currentView),d.xp6(1),d.Q6J("ngIf",w.showButtonBar),d.xp6(2),d.Q6J("ngTemplateOutlet",w.footerTemplate)}}const Ji=[[["p-header"]],[["p-footer"]]],Si=function(te,ce,w,R){return{"p-calendar":!0,"p-calendar-w-btn":te,"p-calendar-timeonly":ce,"p-calendar-disabled":w,"p-focus":R}},mi=["p-header","p-footer"],Ge={provide:re.JU,useExisting:(0,d.Gpc)(()=>xt),multi:!0};let xt=(()=>{class te{constructor(w,R,Z,ge,yt,dt){this.el=w,this.renderer=R,this.cd=Z,this.zone=ge,this.config=yt,this.overlayService=dt,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new d.vpe,this.onBlur=new d.vpe,this.onClose=new d.vpe,this.onSelect=new d.vpe,this.onClear=new d.vpe,this.onInput=new d.vpe,this.onTodayClick=new d.vpe,this.onClearClick=new d.vpe,this.onMonthChange=new d.vpe,this.onYearChange=new d.vpe,this.onClickOutside=new d.vpe,this.onShow=new d.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(Tt,le){return"12"==this.hourFormat?12===Tt?le?12:0:le?Tt+12:Tt:Tt}}set content(w){this.contentViewChild=w,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(w){this._view=w,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(w){if(this._defaultDate=w,this.initialized){const R=w||new Date;this.currentMonth=R.getMonth(),this.currentYear=R.getFullYear(),this.initTime(R),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(w){this._minDate=w,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(w){this._maxDate=w,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(w){this._disabledDates=w,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(w){this._disabledDays=w,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(w){if(this._yearRange=w,w){const R=w.split(":"),Z=parseInt(R[0]),ge=parseInt(R[1]);this.populateYearOptions(Z,ge)}}get showTime(){return this._showTime}set showTime(w){this._showTime=w,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(w){this._responsiveOptions=w,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(w){this._numberOfMonths=w,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(w){this._firstDayOfWeek=w,this.createWeekDays()}set locale(w){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=(0,se.Th)();const w=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=w.getMonth(),this.currentYear=w.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(w),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(w=>{switch(w.getType()){case"date":default:this.dateTemplate=w.template;break;case"decade":this.decadeTemplate=w.template;break;case"disabledDate":this.disabledDateTemplate=w.template;break;case"header":this.headerTemplate=w.template;break;case"footer":this.footerTemplate=w.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=H.p.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(w){return this.config.getTranslation(w)}populateYearOptions(w,R){this.yearOptions=[];for(let Z=w;Z<=R;Z++)this.yearOptions.push(Z)}createWeekDays(){this.weekDays=[];let w=this.getFirstDateOfWeek(),R=this.getTranslation(z.ws.DAY_NAMES_MIN);for(let Z=0;Z<7;Z++)this.weekDays.push(R[w]),w=6==w?0:++w}monthPickerValues(){let w=[];for(let R=0;R<=11;R++)w.push(this.config.getTranslation("monthNamesShort")[R]);return w}yearPickerValues(){let w=[],R=this.currentYear-this.currentYear%10;for(let Z=0;Z<10;Z++)w.push(R+Z);return w}createMonths(w,R){this.months=this.months=[];for(let Z=0;Z<this.numberOfMonths;Z++){let ge=w+Z,yt=R;ge>11&&(ge=ge%11-1,yt=R+1),this.months.push(this.createMonth(ge,yt))}}getWeekNumber(w){let R=new Date(w.getTime());R.setDate(R.getDate()+4-(R.getDay()||7));let Z=R.getTime();return R.setMonth(0),R.setDate(1),Math.floor(Math.round((Z-R.getTime())/864e5)/7)+1}createMonth(w,R){let Z=[],ge=this.getFirstDayOfMonthIndex(w,R),yt=this.getDaysCountInMonth(w,R),dt=this.getDaysCountInPrevMonth(w,R),Tt=1,le=new Date,_e=[],ye=Math.ceil((yt+ge)/7);for(let Qe=0;Qe<ye;Qe++){let pe=[];if(0==Qe){for(let it=dt-ge+1;it<=dt;it++){let vt=this.getPreviousMonthAndYear(w,R);pe.push({day:it,month:vt.month,year:vt.year,otherMonth:!0,today:this.isToday(le,it,vt.month,vt.year),selectable:this.isSelectable(it,vt.month,vt.year,!0)})}let Ae=7-pe.length;for(let it=0;it<Ae;it++)pe.push({day:Tt,month:w,year:R,today:this.isToday(le,Tt,w,R),selectable:this.isSelectable(Tt,w,R,!1)}),Tt++}else for(let Ae=0;Ae<7;Ae++){if(Tt>yt){let it=this.getNextMonthAndYear(w,R);pe.push({day:Tt-yt,month:it.month,year:it.year,otherMonth:!0,today:this.isToday(le,Tt-yt,it.month,it.year),selectable:this.isSelectable(Tt-yt,it.month,it.year,!0)})}else pe.push({day:Tt,month:w,year:R,today:this.isToday(le,Tt,w,R),selectable:this.isSelectable(Tt,w,R,!1)});Tt++}this.showWeek&&_e.push(this.getWeekNumber(new Date(pe[0].year,pe[0].month,pe[0].day))),Z.push(pe)}return{month:w,year:R,dates:Z,weekNumbers:_e}}initTime(w){this.pm=w.getHours()>11,this.showTime?(this.currentMinute=w.getMinutes(),this.currentSecond=w.getSeconds(),this.setCurrentHourPM(w.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(w){this.disabled?w.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(w){this.disabled?w.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let w=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-w,this.yearOptions[this.yearOptions.length-1]-w)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let w=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+w,this.yearOptions[this.yearOptions.length-1]+w)}}switchToMonthView(w){this.setCurrentView("month"),w.preventDefault()}switchToYearView(w){this.setCurrentView("year"),w.preventDefault()}onDateSelect(w,R){!this.disabled&&R.selectable?(this.isMultipleSelection()&&this.isSelected(R)?(this.value=this.value.filter((Z,ge)=>!this.isDateEquals(Z,R)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(R)&&this.selectDate(R),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{w.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),w.preventDefault()):w.preventDefault()}shouldSelectDate(w){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(w,R){"month"===this.view?this.onDateSelect(w,{year:this.currentYear,month:R,day:1,selectable:!0}):(this.currentMonth=R,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(w,R){"year"===this.view?this.onDateSelect(w,{year:R,month:0,day:1,selectable:!0}):(this.currentYear=R,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let w="";if(this.value)if(this.isSingleSelection())w=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let R=0;R<this.value.length;R++)w+=this.formatDateTime(this.value[R]),R!==this.value.length-1&&(w+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let Z=this.value[1];w=this.formatDateTime(this.value[0]),Z&&(w+=" "+this.rangeSeparator+" "+this.formatDateTime(Z))}this.inputFieldValue=w,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(w){let R=this.keepInvalid?w:null;return this.isValidDate(w)&&(this.timeOnly?R=this.formatTime(w):(R=this.formatDate(w,this.getDateFormat()),this.showTime&&(R+=" "+this.formatTime(w)))),R}setCurrentHourPM(w){"12"==this.hourFormat?(this.pm=w>11,this.currentHour=w>=12?12==w?12:w-12:0==w?12:w):this.currentHour=w}setCurrentView(w){this.currentView=w,this.cd.detectChanges(),this.alignOverlay()}selectDate(w){let R=new Date(w.year,w.month,w.day);if(this.showTime&&(R.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),R.setMinutes(this.currentMinute),R.setSeconds(this.currentSecond)),this.minDate&&this.minDate>R&&(R=this.minDate,this.setCurrentHourPM(R.getHours()),this.currentMinute=R.getMinutes(),this.currentSecond=R.getSeconds()),this.maxDate&&this.maxDate<R&&(R=this.maxDate,this.setCurrentHourPM(R.getHours()),this.currentMinute=R.getMinutes(),this.currentSecond=R.getSeconds()),this.isSingleSelection())this.updateModel(R);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,R]:[R]);else if(this.isRangeSelection())if(this.value&&this.value.length){let Z=this.value[0],ge=this.value[1];!ge&&R.getTime()>=Z.getTime()?ge=R:(Z=R,ge=null),this.updateModel([Z,ge])}else this.updateModel([R,null]);this.onSelect.emit(R)}updateModel(w){if(this.value=w,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let R=null;this.value&&(R=this.value.map(Z=>this.formatDateTime(Z))),this.onModelChange(R)}}getFirstDayOfMonthIndex(w,R){let Z=new Date;Z.setDate(1),Z.setMonth(w),Z.setFullYear(R);let ge=Z.getDay()+this.getSundayIndex();return ge>=7?ge-7:ge}getDaysCountInMonth(w,R){return 32-this.daylightSavingAdjust(new Date(R,w,32)).getDate()}getDaysCountInPrevMonth(w,R){let Z=this.getPreviousMonthAndYear(w,R);return this.getDaysCountInMonth(Z.month,Z.year)}getPreviousMonthAndYear(w,R){let Z,ge;return 0===w?(Z=11,ge=R-1):(Z=w-1,ge=R),{month:Z,year:ge}}getNextMonthAndYear(w,R){let Z,ge;return 11===w?(Z=0,ge=R+1):(Z=w+1,ge=R),{month:Z,year:ge}}getSundayIndex(){let w=this.getFirstDateOfWeek();return w>0?7-w:0}isSelected(w){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,w);if(this.isMultipleSelection()){let R=!1;for(let Z of this.value)if(R=this.isDateEquals(Z,w),R)break;return R}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],w)||this.isDateEquals(this.value[1],w)||this.isDateBetween(this.value[0],this.value[1],w):this.isDateEquals(this.value[0],w):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(w){if(this.isComparable()){let R=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&R.getMonth()===w&&R.getFullYear()===this.currentYear}return!1}isYearSelected(w){if(this.isComparable()){let R=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&R.getFullYear()===w}return!1}isDateEquals(w,R){return!!(w&&w instanceof Date)&&w.getDate()===R.day&&w.getMonth()===R.month&&w.getFullYear()===R.year}isDateBetween(w,R,Z){if(w&&R){let yt=new Date(Z.year,Z.month,Z.day);return w.getTime()<=yt.getTime()&&R.getTime()>=yt.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(w,R,Z,ge){return w.getDate()===R&&w.getMonth()===Z&&w.getFullYear()===ge}isSelectable(w,R,Z,ge){let yt=!0,dt=!0,Tt=!0,le=!0;return!(ge&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>Z||this.minDate.getFullYear()===Z&&(this.minDate.getMonth()>R||this.minDate.getMonth()===R&&this.minDate.getDate()>w))&&(yt=!1),this.maxDate&&(this.maxDate.getFullYear()<Z||this.maxDate.getFullYear()===Z&&(this.maxDate.getMonth()<R||this.maxDate.getMonth()===R&&this.maxDate.getDate()<w))&&(dt=!1),this.disabledDates&&(Tt=!this.isDateDisabled(w,R,Z)),this.disabledDays&&(le=!this.isDayDisabled(w,R,Z)),yt&&dt&&Tt&&le)}isDateDisabled(w,R,Z){if(this.disabledDates)for(let ge of this.disabledDates)if(ge.getFullYear()===Z&&ge.getMonth()===R&&ge.getDate()===w)return!0;return!1}isDayDisabled(w,R,Z){if(this.disabledDays){let yt=new Date(Z,R,w).getDay();return-1!==this.disabledDays.indexOf(yt)}return!1}onInputFocus(w){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(w)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(w){this.focus=!1,this.onBlur.emit(w),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(w,R){this.overlayVisible?this.hideOverlay():(R.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(w){this.overlayService.add({originalEvent:w,target:this.el.nativeElement})}getMonthName(w){return this.config.getTranslation("monthNames")[w]}getYear(w){return"month"===this.currentView?this.currentYear:w.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(w){this.navigationState={backward:!0,button:!0},this.navBackward(w)}onNextButtonClick(w){this.navigationState={backward:!1,button:!0},this.navForward(w)}onContainerButtonKeydown(w){switch(w.which){case 9:this.inline||this.trapFocus(w);break;case 27:this.overlayVisible=!1,w.preventDefault()}}onInputKeydown(w){this.isKeydown=!0,40===w.keyCode&&this.contentViewChild?this.trapFocus(w):27===w.keyCode||13===w.keyCode?this.overlayVisible&&(this.overlayVisible=!1,w.preventDefault()):9===w.keyCode&&this.contentViewChild&&(H.p.getFocusableElements(this.contentViewChild.nativeElement).forEach(R=>R.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(w,R,Z){const ge=w.currentTarget,yt=ge.parentElement;switch(w.which){case 40:{ge.tabIndex="-1";let dt=H.p.index(yt),Tt=yt.parentElement.nextElementSibling;Tt?H.p.hasClass(Tt.children[dt].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(w)):(Tt.children[dt].children[0].tabIndex="0",Tt.children[dt].children[0].focus()):(this.navigationState={backward:!1},this.navForward(w)),w.preventDefault();break}case 38:{ge.tabIndex="-1";let dt=H.p.index(yt),Tt=yt.parentElement.previousElementSibling;if(Tt){let le=Tt.children[dt].children[0];H.p.hasClass(le,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(w)):(le.tabIndex="0",le.focus())}else this.navigationState={backward:!0},this.navBackward(w);w.preventDefault();break}case 37:{ge.tabIndex="-1";let dt=yt.previousElementSibling;if(dt){let Tt=dt.children[0];H.p.hasClass(Tt,"p-disabled")||H.p.hasClass(Tt.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,Z):(Tt.tabIndex="0",Tt.focus())}else this.navigateToMonth(!0,Z);w.preventDefault();break}case 39:{ge.tabIndex="-1";let dt=yt.nextElementSibling;if(dt){let Tt=dt.children[0];H.p.hasClass(Tt,"p-disabled")?this.navigateToMonth(!1,Z):(Tt.tabIndex="0",Tt.focus())}else this.navigateToMonth(!1,Z);w.preventDefault();break}case 13:case 32:this.onDateSelect(w,R),w.preventDefault();break;case 27:this.overlayVisible=!1,w.preventDefault();break;case 9:this.inline||this.trapFocus(w)}}onMonthCellKeydown(w,R){const Z=w.currentTarget;switch(w.which){case 38:case 40:{Z.tabIndex="-1";var ge=Z.parentElement.children,yt=H.p.index(Z);let dt=ge[40===w.which?yt+3:yt-3];dt&&(dt.tabIndex="0",dt.focus()),w.preventDefault();break}case 37:{Z.tabIndex="-1";let dt=Z.previousElementSibling;dt?(dt.tabIndex="0",dt.focus()):(this.navigationState={backward:!0},this.navBackward(w)),w.preventDefault();break}case 39:{Z.tabIndex="-1";let dt=Z.nextElementSibling;dt?(dt.tabIndex="0",dt.focus()):(this.navigationState={backward:!1},this.navForward(w)),w.preventDefault();break}case 13:this.onMonthSelect(w,R),w.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,w.preventDefault();break;case 9:this.inline||this.trapFocus(w)}}onYearCellKeydown(w,R){const Z=w.currentTarget;switch(w.which){case 38:case 40:{Z.tabIndex="-1";var ge=Z.parentElement.children,yt=H.p.index(Z);let dt=ge[40===w.which?yt+2:yt-2];dt&&(dt.tabIndex="0",dt.focus()),w.preventDefault();break}case 37:{Z.tabIndex="-1";let dt=Z.previousElementSibling;dt?(dt.tabIndex="0",dt.focus()):(this.navigationState={backward:!0},this.navBackward(w)),w.preventDefault();break}case 39:{Z.tabIndex="-1";let dt=Z.nextElementSibling;dt?(dt.tabIndex="0",dt.focus()):(this.navigationState={backward:!1},this.navForward(w)),w.preventDefault();break}case 13:case 32:this.onYearSelect(w,R),w.preventDefault();break;case 27:this.overlayVisible=!1,w.preventDefault();break;case 9:this.trapFocus(w)}}navigateToMonth(w,R){if(w)if(1===this.numberOfMonths||0===R)this.navigationState={backward:!0},this.navBackward(event);else{let ge=H.p.find(this.contentViewChild.nativeElement.children[R-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),yt=ge[ge.length-1];yt.tabIndex="0",yt.focus()}else if(1===this.numberOfMonths||R===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let ge=H.p.findSingle(this.contentViewChild.nativeElement.children[R+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");ge.tabIndex="0",ge.focus()}}updateFocus(){let w;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?H.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():H.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let R;R=H.p.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),R&&R.length>0&&(w=R[R.length-1])}else w=H.p.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");w&&(w.tabIndex="0",w.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){let w;if("month"===this.currentView){let R=H.p.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),Z=H.p.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");R.forEach(ge=>ge.tabIndex=-1),w=Z||R[0],0===R.length&&H.p.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(yt=>yt.tabIndex=-1)}else if("year"===this.currentView){let R=H.p.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),Z=H.p.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year.p-highlight");R.forEach(ge=>ge.tabIndex=-1),w=Z||R[0],0===R.length&&H.p.find(this.contentViewChild.nativeElement,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(yt=>yt.tabIndex=-1)}else if(w=H.p.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"),!w){let R=H.p.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");w=R||H.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}w&&(w.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{w.focus()},1),this.preventFocus=!1)}trapFocus(w){let R=H.p.getFocusableElements(this.contentViewChild.nativeElement);if(R&&R.length>0)if(R[0].ownerDocument.activeElement){let Z=R.indexOf(R[0].ownerDocument.activeElement);if(w.shiftKey)if(-1==Z||0===Z)if(this.focusTrap)R[R.length-1].focus();else{if(-1===Z)return this.hideOverlay();if(0===Z)return}else R[Z-1].focus();else if(-1==Z||Z===R.length-1){if(!this.focusTrap&&-1!=Z)return this.hideOverlay();R[0].focus()}else R[Z+1].focus()}else R[0].focus();w.preventDefault()}onMonthDropdownChange(w){this.currentMonth=parseInt(w),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(w){this.currentYear=parseInt(w),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(w,R,Z,ge){let yt=this.value;const dt=this.convertTo24Hour(w,ge);this.isRangeSelection()&&(yt=this.value[1]||this.value[0]),this.isMultipleSelection()&&(yt=this.value[this.value.length-1]);const Tt=yt?yt.toDateString():null;return!(this.minDate&&Tt&&this.minDate.toDateString()===Tt&&(this.minDate.getHours()>dt||this.minDate.getHours()===dt&&(this.minDate.getMinutes()>R||this.minDate.getMinutes()===R&&this.minDate.getSeconds()>Z))||this.maxDate&&Tt&&this.maxDate.toDateString()===Tt&&(this.maxDate.getHours()<dt||this.maxDate.getHours()===dt&&(this.maxDate.getMinutes()<R||this.maxDate.getMinutes()===R&&this.maxDate.getSeconds()<Z)))}incrementHour(w){let Z=this.currentHour+this.stepHour,ge=this.pm;"24"==this.hourFormat?Z=Z>=24?Z-24:Z:"12"==this.hourFormat&&(this.currentHour<12&&Z>11&&(ge=!this.pm),Z=Z>=13?Z-12:Z),this.validateTime(Z,this.currentMinute,this.currentSecond,ge)&&(this.currentHour=Z,this.pm=ge),w.preventDefault()}onTimePickerElementMouseDown(w,R,Z){this.disabled||(this.repeat(w,null,R,Z),w.preventDefault())}onTimePickerElementMouseUp(w){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(w,R,Z,ge){let yt=R||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(w,100,Z,ge),this.cd.markForCheck()},yt),Z){case 0:1===ge?this.incrementHour(w):this.decrementHour(w);break;case 1:1===ge?this.incrementMinute(w):this.decrementMinute(w);break;case 2:1===ge?this.incrementSecond(w):this.decrementSecond(w)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(w){let R=this.currentHour-this.stepHour,Z=this.pm;"24"==this.hourFormat?R=R<0?24+R:R:"12"==this.hourFormat&&(12===this.currentHour&&(Z=!this.pm),R=R<=0?12+R:R),this.validateTime(R,this.currentMinute,this.currentSecond,Z)&&(this.currentHour=R,this.pm=Z),w.preventDefault()}incrementMinute(w){let R=this.currentMinute+this.stepMinute;R=R>59?R-60:R,this.validateTime(this.currentHour,R,this.currentSecond,this.pm)&&(this.currentMinute=R),w.preventDefault()}decrementMinute(w){let R=this.currentMinute-this.stepMinute;R=R<0?60+R:R,this.validateTime(this.currentHour,R,this.currentSecond,this.pm)&&(this.currentMinute=R),w.preventDefault()}incrementSecond(w){let R=this.currentSecond+this.stepSecond;R=R>59?R-60:R,this.validateTime(this.currentHour,this.currentMinute,R,this.pm)&&(this.currentSecond=R),w.preventDefault()}decrementSecond(w){let R=this.currentSecond-this.stepSecond;R=R<0?60+R:R,this.validateTime(this.currentHour,this.currentMinute,R,this.pm)&&(this.currentSecond=R),w.preventDefault()}updateTime(){let w=this.value;this.isRangeSelection()&&(w=this.value[1]||this.value[0]),this.isMultipleSelection()&&(w=this.value[this.value.length-1]),w=w?new Date(w.getTime()):new Date,w.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),w.setMinutes(this.currentMinute),w.setSeconds(this.currentSecond),this.isRangeSelection()&&(w=this.value[1]?[this.value[0],w]:[w,null]),this.isMultipleSelection()&&(w=[...this.value.slice(0,-1),w]),this.updateModel(w),this.onSelect.emit(w),this.updateInputfield()}toggleAMPM(w){const R=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,R)&&(this.pm=R,this.updateTime()),w.preventDefault()}onUserInput(w){if(!this.isKeydown)return;this.isKeydown=!1;let R=w.target.value;try{let Z=this.parseValueFromString(R);this.isValidSelection(Z)&&(this.updateModel(Z),this.updateUI())}catch(Z){this.updateModel(this.keepInvalid?R:null)}this.filled=null!=R&&R.length,this.onInput.emit(w)}isValidSelection(w){let R=!0;return this.isSingleSelection()?this.isSelectable(w.getDate(),w.getMonth(),w.getFullYear(),!1)||(R=!1):w.every(Z=>this.isSelectable(Z.getDate(),Z.getMonth(),Z.getFullYear(),!1))&&this.isRangeSelection()&&(R=w.length>1&&w[1]>w[0]),R}parseValueFromString(w){if(!w||0===w.trim().length)return null;let R;if(this.isSingleSelection())R=this.parseDateTime(w);else if(this.isMultipleSelection()){let Z=w.split(this.multipleSeparator);R=[];for(let ge of Z)R.push(this.parseDateTime(ge.trim()))}else if(this.isRangeSelection()){let Z=w.split(" "+this.rangeSeparator+" ");R=[];for(let ge=0;ge<Z.length;ge++)R[ge]=this.parseDateTime(Z[ge].trim())}return R}parseDateTime(w){let R,Z=w.split(" ");if(this.timeOnly)R=new Date,this.populateTime(R,Z[0],Z[1]);else{const ge=this.getDateFormat();if(this.showTime){let yt="12"==this.hourFormat?Z.pop():null,dt=Z.pop();R=this.parseDate(Z.join(" "),ge),this.populateTime(R,dt,yt)}else R=this.parseDate(w,ge)}return R}populateTime(w,R,Z){if("12"==this.hourFormat&&!Z)throw"Invalid Time";this.pm="PM"===Z||"pm"===Z;let ge=this.parseTime(R);w.setHours(ge.hour),w.setMinutes(ge.minute),w.setSeconds(ge.second)}isValidDate(w){return w instanceof Date&&se.gb.isNotEmpty(w)}updateUI(){let w=this.value;Array.isArray(w)&&(w=w[0]);let R=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:w&&this.isValidDate(w)?w:new Date;this.currentMonth=R.getMonth(),this.currentYear=R.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(R.getHours()),this.currentMinute=R.getMinutes(),this.currentSecond=R.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(w){switch(w.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=w.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?se.P9.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):se.P9.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(w));break;case"void":this.onOverlayHide(),this.onClose.emit(w)}}onOverlayAnimationDone(w){switch(w.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&se.P9.clear(w.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):H.p.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=H.p.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=H.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=H.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",H.p.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):H.p.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(w){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(w.style.zIndex)-1),H.p.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",Z=>{this.disableModality()}),document.body.appendChild(this.mask),H.p.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(H.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){document.body.removeChild(this.mask);let R,w=document.body.children;for(let Z=0;Z<w.length;Z++)if(H.p.hasClass(w[Z],"p-datepicker-mask-scrollblocker")){R=!0;break}R||H.p.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(w){if(this.value=w,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch(R){this.keepInvalid&&(this.value=w)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(w){this.onModelChange=w}registerOnTouched(w){this.onModelTouched=w}setDisabledState(w){this.disabled=w,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(z.ws.FIRST_DAY_OF_WEEK)}formatDate(w,R){if(!w)return"";let Z;const ge=_e=>{const ye=Z+1<R.length&&R.charAt(Z+1)===_e;return ye&&Z++,ye},yt=(_e,ye,Qe)=>{let pe=""+ye;if(ge(_e))for(;pe.length<Qe;)pe="0"+pe;return pe},dt=(_e,ye,Qe,pe)=>ge(_e)?pe[ye]:Qe[ye];let Tt="",le=!1;if(w)for(Z=0;Z<R.length;Z++)if(le)"'"!==R.charAt(Z)||ge("'")?Tt+=R.charAt(Z):le=!1;else switch(R.charAt(Z)){case"d":Tt+=yt("d",w.getDate(),2);break;case"D":Tt+=dt("D",w.getDay(),this.getTranslation(z.ws.DAY_NAMES_SHORT),this.getTranslation(z.ws.DAY_NAMES));break;case"o":Tt+=yt("o",Math.round((new Date(w.getFullYear(),w.getMonth(),w.getDate()).getTime()-new Date(w.getFullYear(),0,0).getTime())/864e5),3);break;case"m":Tt+=yt("m",w.getMonth()+1,2);break;case"M":Tt+=dt("M",w.getMonth(),this.getTranslation(z.ws.MONTH_NAMES_SHORT),this.getTranslation(z.ws.MONTH_NAMES));break;case"y":Tt+=ge("y")?w.getFullYear():(w.getFullYear()%100<10?"0":"")+w.getFullYear()%100;break;case"@":Tt+=w.getTime();break;case"!":Tt+=1e4*w.getTime()+this.ticksTo1970;break;case"'":ge("'")?Tt+="'":le=!0;break;default:Tt+=R.charAt(Z)}return Tt}formatTime(w){if(!w)return"";let R="",Z=w.getHours(),ge=w.getMinutes(),yt=w.getSeconds();return"12"==this.hourFormat&&Z>11&&12!=Z&&(Z-=12),R+="12"==this.hourFormat&&0===Z?12:Z<10?"0"+Z:Z,R+=":",R+=ge<10?"0"+ge:ge,this.showSeconds&&(R+=":",R+=yt<10?"0"+yt:yt),"12"==this.hourFormat&&(R+=w.getHours()>11?" PM":" AM"),R}parseTime(w){let R=w.split(":");if(R.length!==(this.showSeconds?3:2))throw"Invalid time";let ge=parseInt(R[0]),yt=parseInt(R[1]),dt=this.showSeconds?parseInt(R[2]):null;if(isNaN(ge)||isNaN(yt)||ge>23||yt>59||"12"==this.hourFormat&&ge>12||this.showSeconds&&(isNaN(dt)||dt>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==ge&&this.pm?ge+=12:!this.pm&&12===ge&&(ge-=12)),{hour:ge,minute:yt,second:dt}}parseDate(w,R){if(null==R||null==w)throw"Invalid arguments";if(""===(w="object"==typeof w?w.toString():w+""))return null;let Z,ge,yt,Ae,dt=0,Tt="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),le=-1,_e=-1,ye=-1,Qe=-1,pe=!1,it=Mn=>{let $t=Z+1<R.length&&R.charAt(Z+1)===Mn;return $t&&Z++,$t},vt=Mn=>{let $t=it(Mn),qn="@"===Mn?14:"!"===Mn?20:"y"===Mn&&$t?4:"o"===Mn?3:2,os=new RegExp("^\\d{"+("y"===Mn?qn:1)+","+qn+"}"),_n=w.substring(dt).match(os);if(!_n)throw"Missing number at position "+dt;return dt+=_n[0].length,parseInt(_n[0],10)},Bt=(Mn,$t,qn)=>{let li=-1,os=it(Mn)?qn:$t,_n=[];for(let Ot=0;Ot<os.length;Ot++)_n.push([Ot,os[Ot]]);_n.sort((Ot,ni)=>-(Ot[1].length-ni[1].length));for(let Ot=0;Ot<_n.length;Ot++){let ni=_n[Ot][1];if(w.substr(dt,ni.length).toLowerCase()===ni.toLowerCase()){li=_n[Ot][0],dt+=ni.length;break}}if(-1!==li)return li+1;throw"Unknown name at position "+dt},Wt=()=>{if(w.charAt(dt)!==R.charAt(Z))throw"Unexpected literal at position "+dt;dt++};for("month"===this.view&&(ye=1),Z=0;Z<R.length;Z++)if(pe)"'"!==R.charAt(Z)||it("'")?Wt():pe=!1;else switch(R.charAt(Z)){case"d":ye=vt("d");break;case"D":Bt("D",this.getTranslation(z.ws.DAY_NAMES_SHORT),this.getTranslation(z.ws.DAY_NAMES));break;case"o":Qe=vt("o");break;case"m":_e=vt("m");break;case"M":_e=Bt("M",this.getTranslation(z.ws.MONTH_NAMES_SHORT),this.getTranslation(z.ws.MONTH_NAMES));break;case"y":le=vt("y");break;case"@":Ae=new Date(vt("@")),le=Ae.getFullYear(),_e=Ae.getMonth()+1,ye=Ae.getDate();break;case"!":Ae=new Date((vt("!")-this.ticksTo1970)/1e4),le=Ae.getFullYear(),_e=Ae.getMonth()+1,ye=Ae.getDate();break;case"'":it("'")?Wt():pe=!0;break;default:Wt()}if(dt<w.length&&(yt=w.substr(dt),!/^\s+/.test(yt)))throw"Extra/unparsed characters found in date: "+yt;if(-1===le?le=(new Date).getFullYear():le<100&&(le+=(new Date).getFullYear()-(new Date).getFullYear()%100+(le<=Tt?0:-100)),Qe>-1)for(_e=1,ye=Qe;ge=this.getDaysCountInMonth(le,_e-1),!(ye<=ge);)_e++,ye-=ge;if(Ae=this.daylightSavingAdjust(new Date(le,_e-1,ye)),Ae.getFullYear()!==le||Ae.getMonth()+1!==_e||Ae.getDate()!==ye)throw"Invalid date";return Ae}daylightSavingAdjust(w){return w?(w.setHours(w.getHours()>12?w.getHours()+2:0),w):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(w){let R=new Date,Z={day:R.getDate(),month:R.getMonth(),year:R.getFullYear(),otherMonth:R.getMonth()!==this.currentMonth||R.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(w,Z),this.onTodayClick.emit(w)}onClearButtonClick(w){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(w)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let w="";if(this.responsiveOptions){let R=[...this.responsiveOptions].filter(Z=>!(!Z.breakpoint||!Z.numMonths)).sort((Z,ge)=>-1*Z.breakpoint.localeCompare(ge.breakpoint,void 0,{numeric:!0}));for(let Z=0;Z<R.length;Z++){let{breakpoint:ge,numMonths:yt}=R[Z],dt=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${yt}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let Tt=yt;Tt<this.numberOfMonths;Tt++)dt+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${Tt+1}) {\n                                display: none !important;\n                            }\n                        `;w+=`\n                        @media screen and (max-width: ${ge}) {\n                            ${dt}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=w}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",R=>{this.isOutsideClicked(R)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(R),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new H.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(w){return!(this.el.nativeElement.isSameNode(w.target)||this.isNavIconClicked(w)||this.el.nativeElement.contains(w.target)||this.overlay&&this.overlay.contains(w.target))}isNavIconClicked(w){return H.p.hasClass(w.target,"p-datepicker-prev")||H.p.hasClass(w.target,"p-datepicker-prev-icon")||H.p.hasClass(w.target,"p-datepicker-next")||H.p.hasClass(w.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!H.p.isAndroid()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&se.P9.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return te.\u0275fac=function(w){return new(w||te)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(z.b4),d.Y36(z.F0))},te.\u0275cmp=d.Xpm({type:te,selectors:[["p-calendar"]],contentQueries:function(w,R,Z){if(1&w&&d.Suo(Z,z.jx,4),2&w){let ge;d.iGM(ge=d.CRH())&&(R.templates=ge)}},viewQuery:function(w,R){if(1&w&&(d.Gf(U,5),d.Gf(J,5),d.Gf(ue,5)),2&w){let Z;d.iGM(Z=d.CRH())&&(R.containerViewChild=Z.first),d.iGM(Z=d.CRH())&&(R.inputfieldViewChild=Z.first),d.iGM(Z=d.CRH())&&(R.content=Z.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(w,R){2&w&&d.ekj("p-inputwrapper-filled",R.filled)("p-inputwrapper-focus",R.focus)("p-calendar-clearable",R.showClear&&!R.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[d._Bn([Ge])],ngContentSelectors:mi,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(w,R){1&w&&(d.F$t(Ji),d.TgZ(0,"span",0,1),d.YNc(2,Le,4,17,"ng-template",2),d.YNc(3,mn,9,28,"div",3),d.qZA()),2&w&&(d.Tol(R.styleClass),d.Q6J("ngClass",d.l5B(6,Si,R.showIcon,R.timeOnly,R.disabled,R.focus))("ngStyle",R.style),d.xp6(2),d.Q6J("ngIf",!R.inline),d.xp6(1),d.Q6J("ngIf",R.inline||R.overlayVisible))},directives:[V.mk,V.PC,V.O5,ve.Hq,B.H,V.tP,V.sg],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[(0,a.X$)("overlayAnimation",[(0,a.SB)("visibleTouchUI",(0,a.oB)({transform:"translate(-50%,-50%)",opacity:1})),(0,a.eR)("void => visible",[(0,a.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,a.jt)("{{showTransitionParams}}",(0,a.oB)({opacity:1,transform:"*"}))]),(0,a.eR)("visible => void",[(0,a.jt)("{{hideTransitionParams}}",(0,a.oB)({opacity:0}))]),(0,a.eR)("void => visibleTouchUI",[(0,a.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),(0,a.jt)("{{showTransitionParams}}")]),(0,a.eR)("visibleTouchUI => void",[(0,a.jt)("{{hideTransitionParams}}",(0,a.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),te})(),ie=(()=>{class te{}return te.\u0275fac=function(w){return new(w||te)},te.\u0275mod=d.oAB({type:te}),te.\u0275inj=d.cJS({imports:[[V.ez,ve.hJ,z.m8,B.T],ve.hJ,z.m8]}),te})()},5730:(gt,ke,P)=>{"use strict";P.d(ke,{V:()=>a,p:()=>d});let d=(()=>{class V{static addClass(B,H){B.classList?B.classList.add(H):B.className+=" "+H}static addMultipleClasses(B,H){if(B.classList){let z=H.trim().split(" ");for(let re=0;re<z.length;re++)B.classList.add(z[re])}else{let z=H.split(" ");for(let re=0;re<z.length;re++)B.className+=" "+z[re]}}static removeClass(B,H){B.classList?B.classList.remove(H):B.className=B.className.replace(new RegExp("(^|\\b)"+H.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(B,H){return B.classList?B.classList.contains(H):new RegExp("(^| )"+H+"( |$)","gi").test(B.className)}static siblings(B){return Array.prototype.filter.call(B.parentNode.children,function(H){return H!==B})}static find(B,H){return Array.from(B.querySelectorAll(H))}static findSingle(B,H){return B?B.querySelector(H):null}static index(B){let H=B.parentNode.childNodes,z=0;for(var re=0;re<H.length;re++){if(H[re]==B)return z;1==H[re].nodeType&&z++}return-1}static indexWithinGroup(B,H){let z=B.parentNode?B.parentNode.childNodes:[],re=0;for(var se=0;se<z.length;se++){if(z[se]==B)return re;z[se].attributes&&z[se].attributes[H]&&1==z[se].nodeType&&re++}return-1}static relativePosition(B,H){let z=B.offsetParent?{width:B.offsetWidth,height:B.offsetHeight}:this.getHiddenElementDimensions(B);const re=H.offsetHeight,se=H.getBoundingClientRect(),U=this.getViewport();let J,ue;se.top+re+z.height>U.height?(J=-1*z.height,B.style.transformOrigin="bottom",se.top+J<0&&(J=-1*se.top)):(J=re,B.style.transformOrigin="top"),ue=z.width>U.width?-1*se.left:se.left+z.width>U.width?-1*(se.left+z.width-U.width):0,B.style.top=J+"px",B.style.left=ue+"px"}static absolutePosition(B,H){let nt,be,z=B.offsetParent?{width:B.offsetWidth,height:B.offsetHeight}:this.getHiddenElementDimensions(B),re=z.height,se=z.width,U=H.offsetHeight,J=H.offsetWidth,ue=H.getBoundingClientRect(),Ue=this.getWindowScrollTop(),Pe=this.getWindowScrollLeft(),Le=this.getViewport();ue.top+U+re>Le.height?(nt=ue.top+Ue-re,B.style.transformOrigin="bottom",nt<0&&(nt=Ue)):(nt=U+ue.top+Ue,B.style.transformOrigin="top"),be=ue.left+se>Le.width?Math.max(0,ue.left+Pe+J-se):ue.left+Pe,B.style.top=nt+"px",B.style.left=be+"px"}static getParents(B,H=[]){return null===B.parentNode?H:this.getParents(B.parentNode,H.concat([B.parentNode]))}static getScrollableParents(B){let H=[];if(B){let z=this.getParents(B);const re=/(auto|scroll)/,se=U=>{let J=window.getComputedStyle(U,null);return re.test(J.getPropertyValue("overflow"))||re.test(J.getPropertyValue("overflowX"))||re.test(J.getPropertyValue("overflowY"))};for(let U of z){let J=1===U.nodeType&&U.dataset.scrollselectors;if(J){let ue=J.split(",");for(let Ue of ue){let Pe=this.findSingle(U,Ue);Pe&&se(Pe)&&H.push(Pe)}}9!==U.nodeType&&se(U)&&H.push(U)}}return H}static getHiddenElementOuterHeight(B){B.style.visibility="hidden",B.style.display="block";let H=B.offsetHeight;return B.style.display="none",B.style.visibility="visible",H}static getHiddenElementOuterWidth(B){B.style.visibility="hidden",B.style.display="block";let H=B.offsetWidth;return B.style.display="none",B.style.visibility="visible",H}static getHiddenElementDimensions(B){let H={};return B.style.visibility="hidden",B.style.display="block",H.width=B.offsetWidth,H.height=B.offsetHeight,B.style.display="none",B.style.visibility="visible",H}static scrollInView(B,H){let z=getComputedStyle(B).getPropertyValue("borderTopWidth"),re=z?parseFloat(z):0,se=getComputedStyle(B).getPropertyValue("paddingTop"),U=se?parseFloat(se):0,J=B.getBoundingClientRect(),Ue=H.getBoundingClientRect().top+document.body.scrollTop-(J.top+document.body.scrollTop)-re-U,Pe=B.scrollTop,Le=B.clientHeight,nt=this.getOuterHeight(H);Ue<0?B.scrollTop=Pe+Ue:Ue+nt>Le&&(B.scrollTop=Pe+Ue-Le+nt)}static fadeIn(B,H){B.style.opacity=0;let z=+new Date,re=0,se=function(){re=+B.style.opacity.replace(",",".")+((new Date).getTime()-z)/H,B.style.opacity=re,z=+new Date,+re<1&&(window.requestAnimationFrame&&requestAnimationFrame(se)||setTimeout(se,16))};se()}static fadeOut(B,H){var z=1,U=50/H;let J=setInterval(()=>{(z-=U)<=0&&(z=0,clearInterval(J)),B.style.opacity=z},50)}static getWindowScrollTop(){let B=document.documentElement;return(window.pageYOffset||B.scrollTop)-(B.clientTop||0)}static getWindowScrollLeft(){let B=document.documentElement;return(window.pageXOffset||B.scrollLeft)-(B.clientLeft||0)}static matches(B,H){var z=Element.prototype;return(z.matches||z.webkitMatchesSelector||z.mozMatchesSelector||z.msMatchesSelector||function(se){return-1!==[].indexOf.call(document.querySelectorAll(se),this)}).call(B,H)}static getOuterWidth(B,H){let z=B.offsetWidth;if(H){let re=getComputedStyle(B);z+=parseFloat(re.marginLeft)+parseFloat(re.marginRight)}return z}static getHorizontalPadding(B){let H=getComputedStyle(B);return parseFloat(H.paddingLeft)+parseFloat(H.paddingRight)}static getHorizontalMargin(B){let H=getComputedStyle(B);return parseFloat(H.marginLeft)+parseFloat(H.marginRight)}static innerWidth(B){let H=B.offsetWidth,z=getComputedStyle(B);return H+=parseFloat(z.paddingLeft)+parseFloat(z.paddingRight),H}static width(B){let H=B.offsetWidth,z=getComputedStyle(B);return H-=parseFloat(z.paddingLeft)+parseFloat(z.paddingRight),H}static getInnerHeight(B){let H=B.offsetHeight,z=getComputedStyle(B);return H+=parseFloat(z.paddingTop)+parseFloat(z.paddingBottom),H}static getOuterHeight(B,H){let z=B.offsetHeight;if(H){let re=getComputedStyle(B);z+=parseFloat(re.marginTop)+parseFloat(re.marginBottom)}return z}static getHeight(B){let H=B.offsetHeight,z=getComputedStyle(B);return H-=parseFloat(z.paddingTop)+parseFloat(z.paddingBottom)+parseFloat(z.borderTopWidth)+parseFloat(z.borderBottomWidth),H}static getWidth(B){let H=B.offsetWidth,z=getComputedStyle(B);return H-=parseFloat(z.paddingLeft)+parseFloat(z.paddingRight)+parseFloat(z.borderLeftWidth)+parseFloat(z.borderRightWidth),H}static getViewport(){let B=window,H=document,z=H.documentElement,re=H.getElementsByTagName("body")[0];return{width:B.innerWidth||z.clientWidth||re.clientWidth,height:B.innerHeight||z.clientHeight||re.clientHeight}}static getOffset(B){var H=B.getBoundingClientRect();return{top:H.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:H.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(B,H){let z=B.parentNode;if(!z)throw"Can't replace element";return z.replaceChild(H,B)}static getUserAgent(){return navigator.userAgent}static isIE(){var B=window.navigator.userAgent;return B.indexOf("MSIE ")>0||(B.indexOf("Trident/")>0?(B.indexOf("rv:"),!0):B.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(B,H){if(this.isElement(H))H.appendChild(B);else{if(!H.el||!H.el.nativeElement)throw"Cannot append "+H+" to "+B;H.el.nativeElement.appendChild(B)}}static removeChild(B,H){if(this.isElement(H))H.removeChild(B);else{if(!H.el||!H.el.nativeElement)throw"Cannot remove "+B+" from "+H;H.el.nativeElement.removeChild(B)}}static removeElement(B){"remove"in Element.prototype?B.remove():B.parentNode.removeChild(B)}static isElement(B){return"object"==typeof HTMLElement?B instanceof HTMLElement:B&&"object"==typeof B&&null!==B&&1===B.nodeType&&"string"==typeof B.nodeName}static calculateScrollbarWidth(B){if(B){let H=getComputedStyle(B);return B.offsetWidth-B.clientWidth-parseFloat(H.borderLeftWidth)-parseFloat(H.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let H=document.createElement("div");H.className="p-scrollbar-measure",document.body.appendChild(H);let z=H.offsetWidth-H.clientWidth;return document.body.removeChild(H),this.calculatedScrollbarWidth=z,z}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let B=document.createElement("div");B.className="p-scrollbar-measure",document.body.appendChild(B);let H=B.offsetHeight-B.clientHeight;return document.body.removeChild(B),this.calculatedScrollbarWidth=H,H}static invokeElementMethod(B,H,z){B[H].apply(B,z)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(B){}}static getBrowser(){if(!this.browser){let B=this.resolveUserAgent();this.browser={},B.browser&&(this.browser[B.browser]=!0,this.browser.version=B.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let B=navigator.userAgent.toLowerCase(),H=/(chrome)[ \/]([\w.]+)/.exec(B)||/(webkit)[ \/]([\w.]+)/.exec(B)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(B)||/(msie) ([\w.]+)/.exec(B)||B.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(B)||[];return{browser:H[1]||"",version:H[2]||"0"}}static isInteger(B){return Number.isInteger?Number.isInteger(B):"number"==typeof B&&isFinite(B)&&Math.floor(B)===B}static isHidden(B){return null===B.offsetParent}static getFocusableElements(B){let H=V.find(B,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),z=[];for(let re of H)"none"!=getComputedStyle(re).display&&"hidden"!=getComputedStyle(re).visibility&&z.push(re);return z}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return V.zindex=1e3,V.calculatedScrollbarWidth=null,V.calculatedScrollbarHeight=null,V})();class a{constructor(ve,B=(()=>{})){this.element=ve,this.listener=B}bindScrollListener(){this.scrollableParents=d.getScrollableParents(this.element);for(let ve=0;ve<this.scrollableParents.length;ve++)this.scrollableParents[ve].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let ve=0;ve<this.scrollableParents.length;ve++)this.scrollableParents[ve].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},4036:(gt,ke,P)=>{"use strict";P.d(ke,{Lt:()=>Si,kW:()=>mi});var d=P(8868),a=P(5e3),V=P(1777),ve=P(9808),B=P(9783),H=P(5730),z=P(5921),re=P(2382),se=P(4119),U=P(5787);function J(Ge,xt){if(1&Ge&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&Ge){const ie=a.oxw();a.xp6(1),a.Oqu(ie.label||"empty")}}function ue(Ge,xt){1&Ge&&a.GkF(0)}const Ue=function(Ge){return{height:Ge}},Pe=function(Ge,xt){return{"p-dropdown-item":!0,"p-highlight":Ge,"p-disabled":xt}},Le=function(Ge){return{$implicit:Ge}},nt=["container"],be=["filter"],je=["in"],ut=["editableInput"];function pt(Ge,xt){if(1&Ge&&(a.ynx(0),a._uU(1),a.BQk()),2&Ge){const ie=a.oxw(2);a.xp6(1),a.Oqu(ie.label||"empty")}}function Be(Ge,xt){1&Ge&&a.GkF(0)}const q=function(Ge){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":Ge}};function De(Ge,xt){if(1&Ge&&(a.TgZ(0,"span",12),a.YNc(1,pt,2,1,"ng-container",13),a.YNc(2,Be,1,0,"ng-container",14),a.qZA()),2&Ge){const ie=a.oxw();a.Q6J("ngClass",a.VKq(9,q,null==ie.label||0===ie.label.length))("pTooltip",ie.tooltip)("tooltipPosition",ie.tooltipPosition)("positionStyle",ie.tooltipPositionStyle)("tooltipStyleClass",ie.tooltipStyleClass),a.uIk("id",ie.labelId),a.xp6(1),a.Q6J("ngIf",!ie.selectedItemTemplate),a.xp6(1),a.Q6J("ngTemplateOutlet",ie.selectedItemTemplate)("ngTemplateOutletContext",a.VKq(11,Le,ie.selectedOption))}}const ne=function(Ge){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":Ge}};function we(Ge,xt){if(1&Ge&&(a.TgZ(0,"span",15),a._uU(1),a.qZA()),2&Ge){const ie=a.oxw();a.Q6J("ngClass",a.VKq(2,ne,null==ie.placeholder||0===ie.placeholder.length)),a.xp6(1),a.Oqu(ie.placeholder||"empty")}}function ae(Ge,xt){if(1&Ge){const ie=a.EpF();a.TgZ(0,"input",16,17),a.NdJ("click",function(){return a.CHM(ie),a.oxw().onEditableInputClick()})("input",function(ce){return a.CHM(ie),a.oxw().onEditableInputChange(ce)})("focus",function(ce){return a.CHM(ie),a.oxw().onEditableInputFocus(ce)})("blur",function(ce){return a.CHM(ie),a.oxw().onInputBlur(ce)}),a.qZA()}if(2&Ge){const ie=a.oxw();a.Q6J("disabled",ie.disabled),a.uIk("maxlength",ie.maxlength)("placeholder",ie.placeholder)("aria-expanded",ie.overlayVisible)}}function Ze(Ge,xt){if(1&Ge){const ie=a.EpF();a.TgZ(0,"i",18),a.NdJ("click",function(ce){return a.CHM(ie),a.oxw().clear(ce)}),a.qZA()}}function Ie(Ge,xt){1&Ge&&a.GkF(0)}function Ve(Ge,xt){if(1&Ge){const ie=a.EpF();a.TgZ(0,"div",26)(1,"div",27),a.NdJ("click",function(ce){return ce.stopPropagation()}),a.TgZ(2,"input",28,29),a.NdJ("keydown.enter",function(ce){return ce.preventDefault()})("keydown",function(ce){return a.CHM(ie),a.oxw(2).onKeydown(ce,!1)})("input",function(ce){return a.CHM(ie),a.oxw(2).onFilterInputChange(ce)}),a.qZA(),a._UZ(4,"span",30),a.qZA()()}if(2&Ge){const ie=a.oxw(2);a.xp6(2),a.Q6J("value",ie.filterValue||""),a.uIk("placeholder",ie.filterPlaceholder)("aria-label",ie.ariaFilterLabel)("aria-activedescendant",ie.overlayVisible?"p-highlighted-option":ie.labelId)}}function Re(Ge,xt){if(1&Ge&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&Ge){const ie=a.oxw().$implicit,te=a.oxw(3);a.xp6(1),a.Oqu(te.getOptionGroupLabel(ie)||"empty")}}function qe(Ge,xt){1&Ge&&a.GkF(0)}function He(Ge,xt){1&Ge&&a.GkF(0)}const at=function(Ge,xt){return{$implicit:Ge,selectedOption:xt}};function Pt(Ge,xt){if(1&Ge&&(a.TgZ(0,"li",32),a.YNc(1,Re,2,1,"span",13),a.YNc(2,qe,1,0,"ng-container",14),a.qZA(),a.YNc(3,He,1,0,"ng-container",14)),2&Ge){const ie=xt.$implicit;a.oxw(2);const te=a.MAs(8),ce=a.oxw();a.xp6(1),a.Q6J("ngIf",!ce.groupTemplate),a.xp6(1),a.Q6J("ngTemplateOutlet",ce.groupTemplate)("ngTemplateOutletContext",a.VKq(5,Le,ie)),a.xp6(1),a.Q6J("ngTemplateOutlet",te)("ngTemplateOutletContext",a.WLB(7,at,ce.getOptionGroupChildren(ie),ce.selectedOption))}}function bn(Ge,xt){if(1&Ge&&(a.ynx(0),a.YNc(1,Pt,4,10,"ng-template",31),a.BQk()),2&Ge){const ie=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",ie.optionsToDisplay)}}function un(Ge,xt){1&Ge&&a.GkF(0)}function Et(Ge,xt){if(1&Ge&&(a.ynx(0),a.YNc(1,un,1,0,"ng-container",14),a.BQk()),2&Ge){a.oxw();const ie=a.MAs(8),te=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",ie)("ngTemplateOutletContext",a.WLB(2,at,te.optionsToDisplay,te.selectedOption))}}function Sn(Ge,xt){if(1&Ge){const ie=a.EpF();a.TgZ(0,"p-dropdownItem",35),a.NdJ("onClick",function(ce){return a.CHM(ie),a.oxw(4).onItemClick(ce)}),a.qZA()}if(2&Ge){const ie=xt.$implicit,te=a.oxw(2).selectedOption,ce=a.oxw(2);a.Q6J("option",ie)("selected",te==ie)("label",ce.getOptionLabel(ie))("disabled",ce.isOptionDisabled(ie))("template",ce.itemTemplate)}}function Hn(Ge,xt){if(1&Ge&&(a.ynx(0),a.YNc(1,Sn,1,5,"ng-template",31),a.BQk()),2&Ge){const ie=a.oxw().$implicit;a.xp6(1),a.Q6J("ngForOf",ie)}}function Fn(Ge,xt){if(1&Ge){const ie=a.EpF();a.ynx(0),a.TgZ(1,"p-dropdownItem",35),a.NdJ("onClick",function(ce){return a.CHM(ie),a.oxw(5).onItemClick(ce)}),a.qZA(),a.BQk()}if(2&Ge){const ie=xt.$implicit,te=a.oxw(3).selectedOption,ce=a.oxw(2);a.xp6(1),a.Q6J("option",ie)("selected",te==ie)("label",ce.getOptionLabel(ie))("disabled",ce.isOptionDisabled(ie))("template",ce.itemTemplate)}}function xn(Ge,xt){if(1&Ge){const ie=a.EpF();a.TgZ(0,"cdk-virtual-scroll-viewport",37,38),a.NdJ("scrolledIndexChange",function(){return a.CHM(ie),a.oxw(4).scrollToSelectedVirtualScrollElement()}),a.YNc(2,Fn,2,5,"ng-container",39),a.qZA()}if(2&Ge){const ie=a.oxw(2).$implicit,te=a.oxw(2);a.Q6J("ngStyle",a.VKq(3,Ue,te.scrollHeight))("itemSize",te.itemSize),a.xp6(2),a.Q6J("cdkVirtualForOf",ie)}}function vi(Ge,xt){if(1&Ge&&a.YNc(0,xn,3,5,"cdk-virtual-scroll-viewport",36),2&Ge){const ie=a.oxw(3);a.Q6J("ngIf",ie.virtualScroll&&ie.optionsToDisplay&&ie.optionsToDisplay.length)}}function Dn(Ge,xt){if(1&Ge&&(a.YNc(0,Hn,2,1,"ng-container",33),a.YNc(1,vi,1,1,"ng-template",null,34,a.W1O)),2&Ge){const ie=a.MAs(2),te=a.oxw(2);a.Q6J("ngIf",!te.virtualScroll)("ngIfElse",ie)}}function an(Ge,xt){if(1&Ge&&(a.ynx(0),a._uU(1),a.BQk()),2&Ge){const ie=a.oxw(3);a.xp6(1),a.hij(" ",ie.emptyFilterMessageLabel," ")}}function ti(Ge,xt){1&Ge&&a.GkF(0,null,41)}function fi(Ge,xt){if(1&Ge&&(a.TgZ(0,"li",40),a.YNc(1,an,2,1,"ng-container",33),a.YNc(2,ti,2,0,"ng-container",20),a.qZA()),2&Ge){const ie=a.oxw(2);a.xp6(1),a.Q6J("ngIf",!ie.emptyFilterTemplate&&!ie.emptyTemplate)("ngIfElse",ie.emptyFilter),a.xp6(1),a.Q6J("ngTemplateOutlet",ie.emptyFilterTemplate||ie.emptyTemplate)}}function ai(Ge,xt){if(1&Ge&&(a.ynx(0),a._uU(1),a.BQk()),2&Ge){const ie=a.oxw(3);a.xp6(1),a.hij(" ",ie.emptyMessageLabel," ")}}function pi(Ge,xt){1&Ge&&a.GkF(0,null,42)}function wi(Ge,xt){if(1&Ge&&(a.TgZ(0,"li",40),a.YNc(1,ai,2,1,"ng-container",33),a.YNc(2,pi,2,0,"ng-container",20),a.qZA()),2&Ge){const ie=a.oxw(2);a.xp6(1),a.Q6J("ngIf",!ie.emptyTemplate)("ngIfElse",ie.empty),a.xp6(1),a.Q6J("ngTemplateOutlet",ie.emptyTemplate)}}function Fi(Ge,xt){1&Ge&&a.GkF(0)}const gi=function(Ge,xt){return{showTransitionParams:Ge,hideTransitionParams:xt}},Oi=function(Ge){return{value:"visible",params:Ge}},Ut=function(Ge){return{"p-dropdown-virtualscroll":Ge}};function Ci(Ge,xt){if(1&Ge){const ie=a.EpF();a.TgZ(0,"div",19),a.NdJ("click",function(ce){return a.CHM(ie),a.oxw().onOverlayClick(ce)})("@overlayAnimation.start",function(ce){return a.CHM(ie),a.oxw().onOverlayAnimationStart(ce)})("@overlayAnimation.start",function(ce){return a.CHM(ie),a.oxw().onOverlayAnimationEnd(ce)}),a.YNc(1,Ie,1,0,"ng-container",20),a.YNc(2,Ve,5,4,"div",21),a.TgZ(3,"div",22)(4,"ul",23),a.YNc(5,bn,2,1,"ng-container",13),a.YNc(6,Et,2,5,"ng-container",13),a.YNc(7,Dn,3,2,"ng-template",null,24,a.W1O),a.YNc(9,fi,3,3,"li",25),a.YNc(10,wi,3,3,"li",25),a.qZA()(),a.YNc(11,Fi,1,0,"ng-container",20),a.qZA()}if(2&Ge){const ie=a.oxw();a.Tol(ie.panelStyleClass),a.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",a.VKq(19,Oi,a.WLB(16,gi,ie.showTransitionOptions,ie.hideTransitionOptions)))("ngStyle",ie.panelStyle),a.xp6(1),a.Q6J("ngTemplateOutlet",ie.headerTemplate),a.xp6(1),a.Q6J("ngIf",ie.filter),a.xp6(1),a.Udp("max-height",ie.virtualScroll?"auto":ie.scrollHeight||"auto"),a.xp6(1),a.Q6J("ngClass",a.VKq(21,Ut,ie.virtualScroll)),a.uIk("id",ie.listId),a.xp6(1),a.Q6J("ngIf",ie.group),a.xp6(1),a.Q6J("ngIf",!ie.group),a.xp6(3),a.Q6J("ngIf",ie.filterValue&&ie.isEmpty()),a.xp6(1),a.Q6J("ngIf",!ie.filterValue&&ie.isEmpty()),a.xp6(1),a.Q6J("ngTemplateOutlet",ie.footerTemplate)}}const Ln=function(Ge,xt,ie,te){return{"p-dropdown p-component":!0,"p-disabled":Ge,"p-dropdown-open":xt,"p-focus":ie,"p-dropdown-clearable":te}},mn={provide:re.JU,useExisting:(0,a.Gpc)(()=>Si),multi:!0};let Ji=(()=>{class Ge{constructor(){this.onClick=new a.vpe}onOptionClick(ie){this.onClick.emit({originalEvent:ie,option:this.option})}}return Ge.\u0275fac=function(ie){return new(ie||Ge)},Ge.\u0275cmp=a.Xpm({type:Ge,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(ie,te){1&ie&&(a.TgZ(0,"li",0),a.NdJ("click",function(w){return te.onOptionClick(w)}),a.YNc(1,J,2,1,"span",1),a.YNc(2,ue,1,0,"ng-container",2),a.qZA()),2&ie&&(a.Q6J("ngStyle",a.VKq(8,Ue,te.itemSize+"px"))("id",te.selected?"p-highlighted-option":"")("ngClass",a.WLB(10,Pe,te.selected,te.disabled)),a.uIk("aria-label",te.label)("aria-selected",te.selected),a.xp6(1),a.Q6J("ngIf",!te.template),a.xp6(1),a.Q6J("ngTemplateOutlet",te.template)("ngTemplateOutletContext",a.VKq(13,Le,te.option)))},directives:[U.H,ve.PC,ve.mk,ve.O5,ve.tP],encapsulation:2}),Ge})(),Si=(()=>{class Ge{constructor(ie,te,ce,w,R,Z,ge){this.el=ie,this.renderer=te,this.cd=ce,this.zone=w,this.filterService=R,this.config=Z,this.overlayService=ge,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new a.vpe,this.onFilter=new a.vpe,this.onFocus=new a.vpe,this.onBlur=new a.vpe,this.onClick=new a.vpe,this.onShow=new a.vpe,this.onHide=new a.vpe,this.onClear=new a.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0,this.id=(0,z.Th)()}get disabled(){return this._disabled}set disabled(ie){ie&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=ie,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(ie=>{switch(ie.getType()){case"item":default:this.itemTemplate=ie.template;break;case"selectedItem":this.selectedItemTemplate=ie.template;break;case"header":this.headerTemplate=ie.template;break;case"footer":this.footerTemplate=ie.template;break;case"emptyfilter":this.emptyFilterTemplate=ie.template;break;case"empty":this.emptyTemplate=ie.template;break;case"group":this.groupTemplate=ie.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}get options(){return this._options}set options(ie){this._options=ie,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),this.selectedOption||(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(ie){this._filterValue=ie,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(B.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(B.ws.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(ie){return this.optionLabel?z.gb.resolveFieldData(ie,this.optionLabel):null!=ie.label?ie.label:ie}getOptionValue(ie){return this.optionValue?z.gb.resolveFieldData(ie,this.optionValue):this.optionLabel||void 0===ie.value?ie:ie.value}isOptionDisabled(ie){return this.optionDisabled?z.gb.resolveFieldData(ie,this.optionDisabled):void 0!==ie.disabled&&ie.disabled}getOptionGroupLabel(ie){return this.optionGroupLabel?z.gb.resolveFieldData(ie,this.optionGroupLabel):null!=ie.label?ie.label:ie}getOptionGroupChildren(ie){return this.optionGroupChildren?z.gb.resolveFieldData(ie,this.optionGroupChildren):ie.items}onItemClick(ie){const te=ie.option;this.isOptionDisabled(te)||(this.selectItem(ie.originalEvent,te),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(ie,te){this.selectedOption!=te&&(this.selectedOption=te,this.value=this.getOptionValue(te),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:ie,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let te=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(te.start>this.virtualScrollSelectedIndex||te.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}H.p.findSingle(this.overlay,"li.p-highlight")&&H.p.scrollInView(this.itemsWrapper,H.p.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(ie){this.filter&&this.resetFilter(),this.value=ie,this.updateSelectedOption(ie),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(ie){this.selectedOption=this.findOption(ie,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(ie){this.onModelChange=ie}registerOnTouched(ie){this.onModelTouched=ie}setDisabledState(ie){this.disabled=ie,this.cd.markForCheck()}onMouseclick(ie){this.disabled||this.readonly||this.isInputClick(ie)||(this.onClick.emit(ie),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(ie){this.overlayService.add({originalEvent:ie,target:this.el.nativeElement})}isInputClick(ie){return H.p.hasClass(ie.target,"p-dropdown-clear-icon")||ie.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&ie.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(ie){return!(this.el.nativeElement.isSameNode(ie.target)||this.el.nativeElement.contains(ie.target)||this.overlay&&this.overlay.contains(ie.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(ie){this.focused=!0,this.hide(),this.onFocus.emit(ie)}onEditableInputChange(ie){this.value=ie.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:ie,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(ie){switch(ie.toState){case"visible":if(this.overlay=ie.element,this.itemsWrapper=H.p.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&z.P9.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let ce=H.p.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");ce&&ce.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(ie);break;case"void":this.onOverlayHide(),this.onHide.emit(ie)}}onOverlayAnimationEnd(ie){"void"===ie.toState&&z.P9.clear(ie.element)}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(ie){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(ie&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):H.p.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=H.p.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?H.p.absolutePosition(this.overlay,this.containerViewChild.nativeElement):H.p.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(ie){this.focused=!0,this.onFocus.emit(ie)}onInputBlur(ie){this.focused=!1,this.onBlur.emit(ie),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(ie){let te;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let ce=ie-1;0<=ce;ce--){let w=this.optionsToDisplay[ce];if(!this.isOptionDisabled(w)){te=w;break}}if(!te)for(let ce=this.optionsToDisplay.length-1;ce>=ie;ce--){let w=this.optionsToDisplay[ce];if(!this.isOptionDisabled(w)){te=w;break}}}return te}findNextEnabledOption(ie){let te;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let ce=ie+1;ce<this.optionsToDisplay.length;ce++){let w=this.optionsToDisplay[ce];if(!this.isOptionDisabled(w)){te=w;break}}if(!te)for(let ce=0;ce<ie;ce++){let w=this.optionsToDisplay[ce];if(!this.isOptionDisabled(w)){te=w;break}}}return te}onKeydown(ie,te){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(ie.which){case 40:if(!this.overlayVisible&&ie.altKey)this.show();else if(this.group){let ce=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==ce){let w=ce.itemIndex+1;w<this.getOptionGroupChildren(this.optionsToDisplay[ce.groupIndex]).length?(this.selectItem(ie,this.getOptionGroupChildren(this.optionsToDisplay[ce.groupIndex])[w]),this.selectedOptionUpdated=!0):this.optionsToDisplay[ce.groupIndex+1]&&(this.selectItem(ie,this.getOptionGroupChildren(this.optionsToDisplay[ce.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(ie,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let ce=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,w=this.findNextEnabledOption(ce);w&&(this.selectItem(ie,w),this.selectedOptionUpdated=!0)}ie.preventDefault();break;case 38:if(this.group){let ce=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==ce){let w=ce.itemIndex-1;if(w>=0)this.selectItem(ie,this.getOptionGroupChildren(this.optionsToDisplay[ce.groupIndex])[w]),this.selectedOptionUpdated=!0;else if(w<0){let R=this.optionsToDisplay[ce.groupIndex-1];R&&(this.selectItem(ie,this.getOptionGroupChildren(R)[this.getOptionGroupChildren(R).length-1]),this.selectedOptionUpdated=!0)}}}else{let ce=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,w=this.findPrevEnabledOption(ce);w&&(this.selectItem(ie,w),this.selectedOptionUpdated=!0)}ie.preventDefault();break;case 32:te&&(this.overlayVisible?this.hide():this.show(),ie.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),ie.preventDefault();break;case 27:case 9:this.hide();break;default:te&&!ie.metaKey&&this.search(ie)}}search(ie){this.searchTimeout&&clearTimeout(this.searchTimeout);const te=ie.key;let ce;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=te,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+te:te,this.group){let w=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};ce=this.searchOptionWithinGroup(w)}else{let w=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;ce=this.searchOption(++w)}ce&&!this.isOptionDisabled(ce)&&(this.selectItem(ie,ce),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(ie){let te;return this.searchValue&&(te=this.searchOptionInRange(ie,this.optionsToDisplay.length),te||(te=this.searchOptionInRange(0,ie))),te}searchOptionInRange(ie,te){for(let ce=ie;ce<te;ce++){let w=this.optionsToDisplay[ce];if(this.getOptionLabel(w).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(w))return w}return null}searchOptionWithinGroup(ie){if(this.searchValue){for(let ce=ie.groupIndex;ce<this.optionsToDisplay.length;ce++)for(let w=ie.groupIndex===ce?ie.itemIndex+1:0;w<this.getOptionGroupChildren(this.optionsToDisplay[ce]).length;w++){let R=this.getOptionGroupChildren(this.optionsToDisplay[ce])[w];if(this.getOptionLabel(R).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(R))return R}for(let ce=0;ce<=ie.groupIndex;ce++)for(let w=0;w<(ie.groupIndex===ce?ie.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[ce]).length);w++){let R=this.getOptionGroupChildren(this.optionsToDisplay[ce])[w];if(this.getOptionLabel(R).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(R))return R}}return null}findOptionIndex(ie,te){let ce=-1;if(te)for(let w=0;w<te.length;w++)if(null==ie&&null==this.getOptionValue(te[w])||z.gb.equals(ie,this.getOptionValue(te[w]),this.dataKey)){ce=w;break}return ce}findOptionGroupIndex(ie,te){let ce,w;if(te)for(let R=0;R<te.length&&(ce=R,w=this.findOptionIndex(ie,this.getOptionGroupChildren(te[R])),-1===w);R++);return-1!==w?{groupIndex:ce,itemIndex:w}:-1}findOption(ie,te,ce){if(this.group&&!ce){let w;if(te&&te.length)for(let R of te)if(w=this.findOption(ie,this.getOptionGroupChildren(R),!0),w)break;return w}{let w=this.findOptionIndex(ie,te);return-1!=w?te[w]:null}}onFilterInputChange(ie){let te=ie.target.value;te&&te.length?(this._filterValue=te,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:ie,filter:this._filterValue})}activateFilter(){let ie=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let te=[];for(let ce of this.options){let w=this.filterService.filter(this.getOptionGroupChildren(ce),ie,this.filterValue,this.filterMatchMode,this.filterLocale);w&&w.length&&te.push(Object.assign(Object.assign({},ce),{[this.optionGroupChildren]:w}))}this.optionsToDisplay=te}else this.optionsToDisplay=this.filterService.filter(this.options,ie,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?H.p.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():H.p.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",te=>{!this.preventDocumentDefault&&this.isOutsideClicked(te)&&(this.hide(),this.unbindDocumentClickListener()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!H.p.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new H.V(this.containerViewChild.nativeElement,ie=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(ie){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:ie,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(ie)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&z.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return Ge.\u0275fac=function(ie){return new(ie||Ge)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(B.iZ),a.Y36(B.b4),a.Y36(B.F0))},Ge.\u0275cmp=a.Xpm({type:Ge,selectors:[["p-dropdown"]],contentQueries:function(ie,te,ce){if(1&ie&&a.Suo(ce,B.jx,4),2&ie){let w;a.iGM(w=a.CRH())&&(te.templates=w)}},viewQuery:function(ie,te){if(1&ie&&(a.Gf(nt,5),a.Gf(be,5),a.Gf(je,5),a.Gf(d.N7,5),a.Gf(ut,5)),2&ie){let ce;a.iGM(ce=a.CRH())&&(te.containerViewChild=ce.first),a.iGM(ce=a.CRH())&&(te.filterViewChild=ce.first),a.iGM(ce=a.CRH())&&(te.accessibleViewChild=ce.first),a.iGM(ce=a.CRH())&&(te.viewPort=ce.first),a.iGM(ce=a.CRH())&&(te.editableInputViewChild=ce.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(ie,te){2&ie&&a.ekj("p-inputwrapper-filled",te.filled)("p-inputwrapper-focus",te.focused||te.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[a._Bn([mn])],decls:12,vars:25,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","combobox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(ie,te){1&ie&&(a.TgZ(0,"div",0,1),a.NdJ("click",function(w){return te.onMouseclick(w)}),a.TgZ(2,"div",2)(3,"input",3,4),a.NdJ("focus",function(w){return te.onInputFocus(w)})("blur",function(w){return te.onInputBlur(w)})("keydown",function(w){return te.onKeydown(w,!0)}),a.qZA()(),a.YNc(5,De,3,13,"span",5),a.YNc(6,we,2,4,"span",6),a.YNc(7,ae,2,4,"input",7),a.YNc(8,Ze,1,0,"i",8),a.TgZ(9,"div",9),a._UZ(10,"span",10),a.qZA(),a.YNc(11,Ci,12,23,"div",11),a.qZA()),2&ie&&(a.Tol(te.styleClass),a.Q6J("ngClass",a.l5B(20,Ln,te.disabled,te.overlayVisible,te.focused,te.showClear&&!te.disabled))("ngStyle",te.style),a.xp6(3),a.Q6J("disabled",te.disabled),a.uIk("id",te.inputId)("placeholder",te.placeholder)("aria-label",te.ariaLabel)("aria-expanded",!1)("aria-labelledby",te.ariaLabelledBy)("tabindex",te.tabindex)("autofocus",te.autofocus)("aria-activedescendant",te.overlayVisible?te.labelId:null),a.xp6(2),a.Q6J("ngIf",!te.editable&&null!=te.label),a.xp6(1),a.Q6J("ngIf",!te.editable&&null==te.label),a.xp6(1),a.Q6J("ngIf",te.editable),a.xp6(1),a.Q6J("ngIf",null!=te.value&&te.showClear&&!te.disabled),a.xp6(1),a.uIk("aria-expanded",te.overlayVisible),a.xp6(1),a.Q6J("ngClass",te.dropdownIcon),a.xp6(1),a.Q6J("ngIf",te.overlayVisible))},directives:[Ji,d.N7,ve.mk,ve.PC,ve.O5,se.u,ve.tP,ve.sg,d.xd,d.x0],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[(0,V.X$)("overlayAnimation",[(0,V.eR)(":enter",[(0,V.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,V.jt)("{{showTransitionParams}}")]),(0,V.eR)(":leave",[(0,V.jt)("{{hideTransitionParams}}",(0,V.oB)({opacity:0}))])])]},changeDetection:0}),Ge})(),mi=(()=>{class Ge{}return Ge.\u0275fac=function(ie){return new(ie||Ge)},Ge.\u0275mod=a.oAB({type:Ge}),Ge.\u0275inj=a.cJS({imports:[[ve.ez,B.m8,d.Cl,se.z,U.T],B.m8,d.Cl]}),Ge})()},97:(gt,ke,P)=>{"use strict";P.d(ke,{$:()=>Be,V:()=>pt});var d=P(5e3),a=P(9808),V=P(1777),ve=P(9783),B=P(5787);function H(q,De){if(1&q&&d._UZ(0,"span",11),2&q){const ne=d.oxw(2).$implicit;d.Q6J("innerHTML",ne.summary,d.oJD)}}function z(q,De){if(1&q&&d._UZ(0,"span",12),2&q){const ne=d.oxw(2).$implicit;d.Q6J("innerHTML",ne.detail,d.oJD)}}function re(q,De){if(1&q&&(d.ynx(0),d.YNc(1,H,1,1,"span",9),d.YNc(2,z,1,1,"span",10),d.BQk()),2&q){const ne=d.oxw().$implicit;d.xp6(1),d.Q6J("ngIf",ne.summary),d.xp6(1),d.Q6J("ngIf",ne.detail)}}function se(q,De){if(1&q&&(d.TgZ(0,"span",15),d._uU(1),d.qZA()),2&q){const ne=d.oxw(2).$implicit;d.xp6(1),d.Oqu(ne.summary)}}function U(q,De){if(1&q&&(d.TgZ(0,"span",16),d._uU(1),d.qZA()),2&q){const ne=d.oxw(2).$implicit;d.xp6(1),d.Oqu(ne.detail)}}function J(q,De){if(1&q&&(d.YNc(0,se,2,1,"span",13),d.YNc(1,U,2,1,"span",14)),2&q){const ne=d.oxw().$implicit;d.Q6J("ngIf",ne.summary),d.xp6(1),d.Q6J("ngIf",ne.detail)}}function ue(q,De){if(1&q){const ne=d.EpF();d.TgZ(0,"button",17),d.NdJ("click",function(){d.CHM(ne);const ae=d.oxw().index;return d.oxw(2).removeMessage(ae)}),d._UZ(1,"i",18),d.qZA()}}const Ue=function(q,De){return{showTransitionParams:q,hideTransitionParams:De}},Pe=function(q){return{value:"visible",params:q}},Le=function(q,De,ne,we){return{"pi-info-circle":q,"pi-check":De,"pi-exclamation-triangle":ne,"pi-times-circle":we}};function nt(q,De){if(1&q&&(d.TgZ(0,"div",4)(1,"div",5),d._UZ(2,"span",6),d.YNc(3,re,3,2,"ng-container",1),d.YNc(4,J,2,2,"ng-template",null,7,d.W1O),d.YNc(6,ue,2,0,"button",8),d.qZA()()),2&q){const ne=De.$implicit,we=d.MAs(5),ae=d.oxw(2);d.Q6J("ngClass","p-message p-message-"+ne.severity)("@messageAnimation",d.VKq(11,Pe,d.WLB(8,Ue,ae.showTransitionOptions,ae.hideTransitionOptions))),d.xp6(2),d.Tol("p-message-icon pi"+(ne.icon?" "+ne.icon:"")),d.Q6J("ngClass",d.l5B(13,Le,"info"===ne.severity,"success"===ne.severity,"warn"===ne.severity,"error"===ne.severity)),d.xp6(1),d.Q6J("ngIf",!ae.escape)("ngIfElse",we),d.xp6(3),d.Q6J("ngIf",ae.closable)}}function be(q,De){if(1&q&&(d.ynx(0),d.YNc(1,nt,7,18,"div",3),d.BQk()),2&q){const ne=d.oxw();d.xp6(1),d.Q6J("ngForOf",ne.value)}}function je(q,De){1&q&&d.GkF(0)}function ut(q,De){if(1&q&&(d.TgZ(0,"div",4)(1,"div",5),d.YNc(2,je,1,0,"ng-container",19),d.qZA()()),2&q){const ne=d.oxw();d.Q6J("ngClass","p-message p-message-"+ne.severity),d.xp6(2),d.Q6J("ngTemplateOutlet",ne.contentTemplate)}}let pt=(()=>{class q{constructor(ne,we,ae){this.messageService=ne,this.el=we,this.cd=ae,this.closable=!0,this.enableService=!0,this.escape=!0,this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="200ms cubic-bezier(0.86, 0, 0.07, 1)",this.valueChange=new d.vpe}ngAfterContentInit(){this.templates.forEach(ne=>{ne.getType(),this.contentTemplate=ne.template}),this.messageService&&this.enableService&&!this.contentTemplate&&(this.messageSubscription=this.messageService.messageObserver.subscribe(ne=>{if(ne){if(ne instanceof Array){let we=ne.filter(ae=>this.key===ae.key);this.value=this.value?[...this.value,...we]:[...we]}else this.key===ne.key&&(this.value=this.value?[...this.value,ne]:[ne]);this.cd.markForCheck()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(ne=>{ne?this.key===ne&&(this.value=null):this.value=null,this.cd.markForCheck()}))}hasMessages(){let ne=this.el.nativeElement.parentElement;return!(!ne||!ne.offsetParent)&&(null!=this.contentTemplate||this.value&&this.value.length>0)}clear(){this.value=[],this.valueChange.emit(this.value)}removeMessage(ne){this.value=this.value.filter((we,ae)=>ae!==ne),this.valueChange.emit(this.value)}get icon(){const ne=this.severity||(this.hasMessages()?this.value[0].severity:null);if(this.hasMessages())switch(ne){case"success":return"pi-check";case"info":default:return"pi-info-circle";case"error":return"pi-times";case"warn":return"pi-exclamation-triangle"}return null}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe()}}return q.\u0275fac=function(ne){return new(ne||q)(d.Y36(ve.ez,8),d.Y36(d.SBq),d.Y36(d.sBO))},q.\u0275cmp=d.Xpm({type:q,selectors:[["p-messages"]],contentQueries:function(ne,we,ae){if(1&ne&&d.Suo(ae,ve.jx,4),2&ne){let Ze;d.iGM(Ze=d.CRH())&&(we.templates=Ze)}},hostAttrs:[1,"p-element"],inputs:{value:"value",closable:"closable",style:"style",styleClass:"styleClass",enableService:"enableService",key:"key",escape:"escape",severity:"severity",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{valueChange:"valueChange"},decls:4,vars:5,consts:[["role","alert",1,"p-messages","p-component",3,"ngStyle"],[4,"ngIf","ngIfElse"],["staticMessage",""],["role","alert",3,"ngClass",4,"ngFor","ngForOf"],["role","alert",3,"ngClass"],[1,"p-message-wrapper"],[3,"ngClass"],["escapeOut",""],["class","p-message-close p-link","type","button","pRipple","",3,"click",4,"ngIf"],["class","p-message-summary",3,"innerHTML",4,"ngIf"],["class","p-message-detail",3,"innerHTML",4,"ngIf"],[1,"p-message-summary",3,"innerHTML"],[1,"p-message-detail",3,"innerHTML"],["class","p-message-summary",4,"ngIf"],["class","p-message-detail",4,"ngIf"],[1,"p-message-summary"],[1,"p-message-detail"],["type","button","pRipple","",1,"p-message-close","p-link",3,"click"],[1,"p-message-close-icon","pi","pi-times"],[4,"ngTemplateOutlet"]],template:function(ne,we){if(1&ne&&(d.TgZ(0,"div",0),d.YNc(1,be,2,1,"ng-container",1),d.YNc(2,ut,3,2,"ng-template",null,2,d.W1O),d.qZA()),2&ne){const ae=d.MAs(3);d.Tol(we.styleClass),d.Q6J("ngStyle",we.style),d.xp6(1),d.Q6J("ngIf",!we.contentTemplate)("ngIfElse",ae)}},directives:[a.PC,a.O5,a.sg,a.mk,B.H,a.tP],styles:[".p-message-wrapper{display:flex;align-items:center}.p-message-close{display:flex;align-items:center;justify-content:center}.p-message-close.p-link{margin-left:auto;overflow:hidden;position:relative}\n"],encapsulation:2,data:{animation:[(0,V.X$)("messageAnimation",[(0,V.eR)(":enter",[(0,V.oB)({opacity:0,transform:"translateY(-25%)"}),(0,V.jt)("{{showTransitionParams}}")]),(0,V.eR)(":leave",[(0,V.jt)("{{hideTransitionParams}}",(0,V.oB)({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,overflow:"hidden",opacity:0}))])])]},changeDetection:0}),q})(),Be=(()=>{class q{}return q.\u0275fac=function(ne){return new(ne||q)},q.\u0275mod=d.oAB({type:q}),q.\u0275inj=d.cJS({imports:[[a.ez,B.T]]}),q})()},5787:(gt,ke,P)=>{"use strict";P.d(ke,{H:()=>B,T:()=>H});var d=P(5e3),a=P(9808),V=P(5730),ve=P(9783);let B=(()=>{class z{constructor(se,U,J){this.el=se,this.zone=U,this.config=J}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(se){let U=this.getInk();if(!U||"none"===getComputedStyle(U,null).display)return;if(V.p.removeClass(U,"p-ink-active"),!V.p.getHeight(U)&&!V.p.getWidth(U)){let Pe=Math.max(V.p.getOuterWidth(this.el.nativeElement),V.p.getOuterHeight(this.el.nativeElement));U.style.height=Pe+"px",U.style.width=Pe+"px"}let J=V.p.getOffset(this.el.nativeElement),ue=se.pageX-J.left+document.body.scrollTop-V.p.getWidth(U)/2,Ue=se.pageY-J.top+document.body.scrollLeft-V.p.getHeight(U)/2;U.style.top=Ue+"px",U.style.left=ue+"px",V.p.addClass(U,"p-ink-active")}getInk(){for(let se=0;se<this.el.nativeElement.children.length;se++)if(-1!==this.el.nativeElement.children[se].className.indexOf("p-ink"))return this.el.nativeElement.children[se];return null}resetInk(){let se=this.getInk();se&&V.p.removeClass(se,"p-ink-active")}onAnimationEnd(se){V.p.removeClass(se.currentTarget,"p-ink-active")}create(){let se=document.createElement("span");se.className="p-ink",this.el.nativeElement.appendChild(se),this.animationListener=this.onAnimationEnd.bind(this),se.addEventListener("animationend",this.animationListener)}remove(){let se=this.getInk();se&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),se.removeEventListener("animationend",this.animationListener),V.p.removeElement(se))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return z.\u0275fac=function(se){return new(se||z)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(ve.b4,8))},z.\u0275dir=d.lG2({type:z,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),z})(),H=(()=>{class z{}return z.\u0275fac=function(se){return new(se||z)},z.\u0275mod=d.oAB({type:z}),z.\u0275inj=d.cJS({imports:[[a.ez]]}),z})()},4119:(gt,ke,P)=>{"use strict";P.d(ke,{u:()=>H,z:()=>z});var d=P(5e3),a=P(9808),V=P(5730),ve=P(5921),B=P(9783);let H=(()=>{class re{constructor(U,J,ue){this.el=U,this.zone=J,this.config=ue,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(U){this._disabled=U,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let U=this.getTarget(this.el.nativeElement);U.addEventListener("focus",this.focusListener),U.addEventListener("blur",this.blurListener)}})}ngOnChanges(U){U.tooltipPosition&&this.setOption({tooltipPosition:U.tooltipPosition.currentValue}),U.tooltipEvent&&this.setOption({tooltipEvent:U.tooltipEvent.currentValue}),U.appendTo&&this.setOption({appendTo:U.appendTo.currentValue}),U.positionStyle&&this.setOption({positionStyle:U.positionStyle.currentValue}),U.tooltipStyleClass&&this.setOption({tooltipStyleClass:U.tooltipStyleClass.currentValue}),U.tooltipZIndex&&this.setOption({tooltipZIndex:U.tooltipZIndex.currentValue}),U.escape&&this.setOption({escape:U.escape.currentValue}),U.showDelay&&this.setOption({showDelay:U.showDelay.currentValue}),U.hideDelay&&this.setOption({hideDelay:U.hideDelay.currentValue}),U.life&&this.setOption({life:U.life.currentValue}),U.positionTop&&this.setOption({positionTop:U.positionTop.currentValue}),U.positionLeft&&this.setOption({positionLeft:U.positionLeft.currentValue}),U.disabled&&this.setOption({disabled:U.disabled.currentValue}),U.text&&(this.setOption({tooltipLabel:U.text.currentValue}),this.active&&(U.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),U.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),U.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(U){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(U){this.deactivate()}onFocus(U){this.activate()}onBlur(U){this.deactivate()}onClick(U){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let U=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},U)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let U=document.createElement("div");U.className="p-tooltip-arrow",this.container.appendChild(U),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?V.p.appendChild(this.container,this.el.nativeElement):V.p.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),V.p.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?ve.P9.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&ve.P9.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let U=this.el.nativeElement.getBoundingClientRect();return{left:U.left+V.p.getWindowScrollLeft(),top:U.top+V.p.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let U=this.getHostOffset(),J=U.left+V.p.getOuterWidth(this.el.nativeElement),ue=U.top+(V.p.getOuterHeight(this.el.nativeElement)-V.p.getOuterHeight(this.container))/2;this.container.style.left=J+this.getOption("positionLeft")+"px",this.container.style.top=ue+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let U=this.getHostOffset(),J=U.left-V.p.getOuterWidth(this.container),ue=U.top+(V.p.getOuterHeight(this.el.nativeElement)-V.p.getOuterHeight(this.container))/2;this.container.style.left=J+this.getOption("positionLeft")+"px",this.container.style.top=ue+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let U=this.getHostOffset(),J=U.left+(V.p.getOuterWidth(this.el.nativeElement)-V.p.getOuterWidth(this.container))/2,ue=U.top-V.p.getOuterHeight(this.container);this.container.style.left=J+this.getOption("positionLeft")+"px",this.container.style.top=ue+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let U=this.getHostOffset(),J=U.left+(V.p.getOuterWidth(this.el.nativeElement)-V.p.getOuterWidth(this.container))/2,ue=U.top+V.p.getOuterHeight(this.el.nativeElement);this.container.style.left=J+this.getOption("positionLeft")+"px",this.container.style.top=ue+this.getOption("positionTop")+"px"}setOption(U){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),U)}getOption(U){return this._tooltipOptions[U]}getTarget(U){return V.p.hasClass(U,"p-inputwrapper")?V.p.findSingle(U,"input"):U}preAlign(U){this.container.style.left="-999px",this.container.style.top="-999px";let J="p-tooltip p-component p-tooltip-"+U;this.container.className=this.getOption("tooltipStyleClass")?J+" "+this.getOption("tooltipStyleClass"):J}isOutOfBounds(){let U=this.container.getBoundingClientRect(),J=U.top,ue=U.left,Ue=V.p.getOuterWidth(this.container),Pe=V.p.getOuterHeight(this.container),Le=V.p.getViewport();return ue+Ue>Le.width||ue<0||J<0||J+Pe>Le.height}onWindowResize(U){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new V.V(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let U=this.getTarget(this.el.nativeElement);U.removeEventListener("focus",this.focusListener),U.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):V.p.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&ve.P9.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return re.\u0275fac=function(U){return new(U||re)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(B.b4))},re.\u0275dir=d.lG2({type:re,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[d.TTD]}),re})(),z=(()=>{class re{}return re.\u0275fac=function(U){return new(U||re)},re.\u0275mod=d.oAB({type:re}),re.\u0275inj=d.cJS({imports:[[a.ez]]}),re})()},5921:(gt,ke,P)=>{"use strict";P.d(ke,{P9:()=>B,Th:()=>V,gb:()=>d});class d{static equals(z,re,se){return se?this.resolveFieldData(z,se)===this.resolveFieldData(re,se):this.equalsByValue(z,re)}static equalsByValue(z,re){if(z===re)return!0;if(z&&re&&"object"==typeof z&&"object"==typeof re){var J,ue,Ue,se=Array.isArray(z),U=Array.isArray(re);if(se&&U){if((ue=z.length)!=re.length)return!1;for(J=ue;0!=J--;)if(!this.equalsByValue(z[J],re[J]))return!1;return!0}if(se!=U)return!1;var Pe=z instanceof Date,Le=re instanceof Date;if(Pe!=Le)return!1;if(Pe&&Le)return z.getTime()==re.getTime();var nt=z instanceof RegExp,be=re instanceof RegExp;if(nt!=be)return!1;if(nt&&be)return z.toString()==re.toString();var je=Object.keys(z);if((ue=je.length)!==Object.keys(re).length)return!1;for(J=ue;0!=J--;)if(!Object.prototype.hasOwnProperty.call(re,je[J]))return!1;for(J=ue;0!=J--;)if(!this.equalsByValue(z[Ue=je[J]],re[Ue]))return!1;return!0}return z!=z&&re!=re}static resolveFieldData(z,re){if(z&&re){if(this.isFunction(re))return re(z);if(-1==re.indexOf("."))return z[re];{let se=re.split("."),U=z;for(let J=0,ue=se.length;J<ue;++J){if(null==U)return null;U=U[se[J]]}return U}}return null}static isFunction(z){return!!(z&&z.constructor&&z.call&&z.apply)}static reorderArray(z,re,se){z&&re!==se&&(se>=z.length&&(se%=z.length,re%=z.length),z.splice(se,0,z.splice(re,1)[0]))}static insertIntoOrderedArray(z,re,se,U){if(se.length>0){let J=!1;for(let ue=0;ue<se.length;ue++)if(this.findIndexInList(se[ue],U)>re){se.splice(ue,0,z),J=!0;break}J||se.push(z)}else se.push(z)}static findIndexInList(z,re){let se=-1;if(re)for(let U=0;U<re.length;U++)if(re[U]==z){se=U;break}return se}static contains(z,re){if(null!=z&&re&&re.length)for(let se of re)if(this.equals(z,se))return!0;return!1}static removeAccents(z){return z&&z.search(/[\xC0-\xFF]/g)>-1&&(z=z.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),z}static isEmpty(z){return null==z||""===z||Array.isArray(z)&&0===z.length||!(z instanceof Date)&&"object"==typeof z&&0===Object.keys(z).length}static isNotEmpty(z){return!this.isEmpty(z)}}var a=0;function V(){return"pr_id_"+ ++a}var B=function ve(){let H=[];const U=J=>J&&parseInt(J.style.zIndex,10)||0;return{get:U,set:(J,ue,Ue)=>{ue&&(ue.style.zIndex=String(((J,ue)=>{let Ue=H.length>0?H[H.length-1]:{key:J,value:ue},Pe=Ue.value+(Ue.key===J?0:ue)+1;return H.push({key:J,value:Pe}),Pe})(J,Ue)))},clear:J=>{J&&((J=>{H=H.filter(ue=>ue.value!==J)})(U(J)),J.style.zIndex="")},getCurrent:()=>H.length>0?H[H.length-1].value:0}}()},5861:(gt,ke,P)=>{"use strict";function d(V,ve,B,H,z,re,se){try{var U=V[re](se),J=U.value}catch(ue){return void B(ue)}U.done?ve(J):Promise.resolve(J).then(H,z)}function a(V){return function(){var ve=this,B=arguments;return new Promise(function(H,z){var re=V.apply(ve,B);function se(J){d(re,H,z,se,U,"next",J)}function U(J){d(re,H,z,se,U,"throw",J)}se(void 0)})}}P.d(ke,{Z:()=>a})}},gt=>{gt(gt.s=5784)}]);