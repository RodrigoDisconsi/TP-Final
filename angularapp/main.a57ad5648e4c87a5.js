"use strict";var Xq=Object.defineProperty,eZ=Object.defineProperties,tZ=Object.getOwnPropertyDescriptors,FR=Object.getOwnPropertySymbols,nZ=Object.prototype.hasOwnProperty,iZ=Object.prototype.propertyIsEnumerable,LR=(Je,be,P)=>be in Je?Xq(Je,be,{enumerable:!0,configurable:!0,writable:!0,value:P}):Je[be]=P,VR=(Je,be)=>{for(var P in be||(be={}))nZ.call(be,P)&&LR(Je,P,be[P]);if(FR)for(var P of FR(be))iZ.call(be,P)&&LR(Je,P,be[P]);return Je},UR=(Je,be)=>eZ(Je,tZ(be));(self.webpackChunkTP_Final=self.webpackChunkTP_Final||[]).push([[179],{2011:(Je,be,P)=>{P.d(be,{Dh:()=>le,GT:()=>ye,cc:()=>ke,hO:()=>ze,on:()=>Z,pX:()=>se,xv:()=>fe});var s=P(5e3),Y=P(127),R=P(5813);Je=P.hmd(Je);const ae=["ngOnDestroy"],se=(Se,We,Xe,Ae={})=>new Proxy(Se,{get:(Ie,De)=>Xe.runOutsideAngular(()=>{var qe;if(Se[De])return(null===(qe=null==Ae?void 0:Ae.spy)||void 0===qe?void 0:qe.get)&&Ae.spy.get(De,Se[De]),Se[De];if(ae.indexOf(De)>-1)return()=>{};const He=We.toPromise().then(q=>{const Ee=q&&q[De];return"function"==typeof Ee?Ee.bind(q):Ee&&Ee.then?Ee.then(Q=>Xe.run(()=>Q)):Xe.run(()=>Ee)});return new Proxy(()=>{},{get:(q,Ee)=>He[Ee],apply:(q,Ee,Q)=>He.then(oe=>{var te;const ve=oe&&oe(...Q);return(null===(te=null==Ae?void 0:Ae.spy)||void 0===te?void 0:te.apply)&&Ae.spy.apply(De,Q,ve),ve})})})}),ye=(Se,We)=>{We.forEach(Xe=>{Object.getOwnPropertyNames(Xe.prototype||Xe).forEach(Ae=>{Object.defineProperty(Se.prototype,Ae,Object.getOwnPropertyDescriptor(Xe.prototype||Xe,Ae))})})};class ue{constructor(We){return We}}const le=new s.OlP("angularfire2.app.options"),fe=new s.OlP("angularfire2.app.name");function Z(Se,We,Xe){const Ie="object"==typeof Xe&&Xe||{};Ie.name=Ie.name||"string"==typeof Xe&&Xe||"[DEFAULT]";const qe=Y.Z.apps.filter(He=>He&&He.name===Ie.name)[0]||We.runOutsideAngular(()=>Y.Z.initializeApp(Se,Ie));try{JSON.stringify(Se)!==JSON.stringify(qe.options)&&j("error",`${qe.name} Firebase App already initialized with different options${Je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(He){}return new ue(qe)}const j=(Se,...We)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[Se](...We)},ne={provide:ue,useFactory:Z,deps:[le,s.R0b,[new s.FiY,fe]]};let ze=(()=>{class Se{constructor(Xe){Y.Z.registerVersion("angularfire",R.q4.full,"core"),Y.Z.registerVersion("angularfire",R.q4.full,"app-compat"),Y.Z.registerVersion("angular",s.q4F.full,Xe.toString())}static initializeApp(Xe,Ae){return{ngModule:Se,providers:[{provide:le,useValue:Xe},{provide:fe,useValue:Ae}]}}}return Se.\u0275fac=function(Xe){return new(Xe||Se)(s.LFG(s.Lbi))},Se.\u0275mod=s.oAB({type:Se}),Se.\u0275inj=s.cJS({providers:[ne]}),Se})();function ke(Se,We,Xe,Ae,Ie){const[,De,qe]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===Se)||[];if(De)return function Ne(Se,We){try{return Se.toString()===We.toString()}catch(Xe){return Se===We}}(Ie,qe)||(me("error",`${We} was already initialized on the ${Xe} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:Ie,was:qe})),De;{const He=Ae();return globalThis.\u0275AngularfireInstanceCache.push([Se,He,Ie]),He}}const Be=!!Je.hot,me=(Se,...We)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[Se](...We)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Je,be,P)=>{P.d(be,{q4:()=>Ja,iC:()=>cf,fc:()=>vi,HU:()=>Vd,vb:()=>Mg,JM:()=>Ia});var s=P(5e3),Y=P(5867),R=P(5861),ae=P(9681),se=P(2090),ye=P(4859),ue=P(1877),le=P(8766);const fe="@firebase/installations",Z="0.5.9",ne=`w:${Z}`,ze="FIS_v2",We=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xe(E){return E instanceof se.ZR&&E.code.includes("request-failed")}function Ae({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Ie(E){return{token:E.token,requestStatus:2,expiresIn:oe(E.expiresIn),creationTime:Date.now()}}function De(E,I){return qe.apply(this,arguments)}function qe(){return(qe=(0,R.Z)(function*(E,I){const L=(yield I.json()).error;return We.create("request-failed",{requestName:E,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function He({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function q(E,{refreshToken:I}){const O=He(E);return O.append("Authorization",function te(E){return`${ze} ${E}`}(I)),O}function Ee(E){return Q.apply(this,arguments)}function Q(){return(Q=(0,R.Z)(function*(E){const I=yield E();return I.status>=500&&I.status<600?E():I})).apply(this,arguments)}function oe(E){return Number(E.replace("s","000"))}function ve(E,I){return ce.apply(this,arguments)}function ce(){return(ce=(0,R.Z)(function*({appConfig:E,heartbeatServiceProvider:I},{fid:O}){const L=Ae(E),J=He(E),re=I.getImmediate({optional:!0});if(re){const pt=yield re.getHeartbeatsHeader();pt&&J.append("x-firebase-client",pt)}const et={method:"POST",headers:J,body:JSON.stringify({fid:O,authVersion:ze,appId:E.appId,sdkVersion:ne})},lt=yield Ee(()=>fetch(L,et));if(lt.ok){const pt=yield lt.json();return{fid:pt.fid||O,registrationStatus:2,refreshToken:pt.refreshToken,authToken:Ie(pt.authToken)}}throw yield De("Create Installation",lt)})).apply(this,arguments)}function Fe(E){return new Promise(I=>{setTimeout(I,E)})}const zt=/^[cdef][\w-]{21}$/;function Ke(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const O=function on(E){return function ft(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return zt.test(O)?O:""}catch(E){return""}}function kn(E){return`${E.appName}!${E.appId}`}const un=new Map;function tn(E,I){const O=kn(E);Ut(O,I),function ms(E,I){const O=function Si(){return!pr&&"BroadcastChannel"in self&&(pr=new BroadcastChannel("[Firebase] FID Change"),pr.onmessage=E=>{Ut(E.data.key,E.data.fid)}),pr}();O&&O.postMessage({key:E,fid:I}),function Zi(){0===un.size&&pr&&(pr.close(),pr=null)}()}(O,I)}function Ut(E,I){const O=un.get(E);if(O)for(const L of O)L(I)}let pr=null;const gr="firebase-installations-store";let Nr=null;function bt(){return Nr||(Nr=(0,le.X3)("firebase-installations-database",1,{upgrade:(E,I)=>{0===I&&E.createObjectStore(gr)}})),Nr}function mr(E,I){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,R.Z)(function*(E,I){const O=kn(E),J=(yield bt()).transaction(gr,"readwrite"),re=J.objectStore(gr),_e=yield re.get(O);return yield re.put(I,O),yield J.done,(!_e||_e.fid!==I.fid)&&tn(E,I.fid),I})).apply(this,arguments)}function Pn(E){return wo.apply(this,arguments)}function wo(){return(wo=(0,R.Z)(function*(E){const I=kn(E),L=(yield bt()).transaction(gr,"readwrite");yield L.objectStore(gr).delete(I),yield L.done})).apply(this,arguments)}function _r(E,I){return si.apply(this,arguments)}function si(){return(si=(0,R.Z)(function*(E,I){const O=kn(E),J=(yield bt()).transaction(gr,"readwrite"),re=J.objectStore(gr),_e=yield re.get(O),et=I(_e);return void 0===et?yield re.delete(O):yield re.put(et,O),yield J.done,et&&(!_e||_e.fid!==et.fid)&&tn(E,et.fid),et})).apply(this,arguments)}function Bn(E){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,R.Z)(function*(E){let I;const O=yield _r(E.appConfig,L=>{const J=ia(L),re=Wt(E,J);return I=re.registrationPromise,re.installationEntry});return""===O.fid?{installationEntry:yield I}:{installationEntry:O,registrationPromise:I}})).apply(this,arguments)}function ia(E){return Co(E||{fid:Ke(),registrationStatus:0})}function Wt(E,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(We.create("app-offline"))};const O={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function ut(E,I){return Tt.apply(this,arguments)}(E,O);return{installationEntry:O,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:xi(E)}:{installationEntry:I}}function Tt(){return(Tt=(0,R.Z)(function*(E,I){try{const O=yield ve(E,I);return mr(E.appConfig,O)}catch(O){throw Xe(O)&&409===O.customData.serverCode?yield Pn(E.appConfig):yield mr(E.appConfig,{fid:I.fid,registrationStatus:0}),O}})).apply(this,arguments)}function xi(E){return yr.apply(this,arguments)}function yr(){return(yr=(0,R.Z)(function*(E){let I=yield jt(E.appConfig);for(;1===I.registrationStatus;)yield Fe(100),I=yield jt(E.appConfig);if(0===I.registrationStatus){const{installationEntry:O,registrationPromise:L}=yield Bn(E);return L||O}return I})).apply(this,arguments)}function jt(E){return _r(E,I=>{if(!I)throw We.create("installation-not-found");return Co(I)})}function Co(E){return function Ai(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Mi(E,I){return U.apply(this,arguments)}function U(){return(U=(0,R.Z)(function*({appConfig:E,heartbeatServiceProvider:I},O){const L=z(E,O),J=q(E,O),re=I.getImmediate({optional:!0});if(re){const pt=yield re.getHeartbeatsHeader();pt&&J.append("x-firebase-client",pt)}const et={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:ne,appId:E.appId}})},lt=yield Ee(()=>fetch(L,et));if(lt.ok)return Ie(yield lt.json());throw yield De("Generate Auth Token",lt)})).apply(this,arguments)}function z(E,{fid:I}){return`${Ae(E)}/${I}/authTokens:generate`}function W(E){return xe.apply(this,arguments)}function xe(){return(xe=(0,R.Z)(function*(E,I=!1){let O;const L=yield _r(E.appConfig,re=>{if(!St(re))throw We.create("not-registered");const _e=re.authToken;if(!I&&yn(_e))return re;if(1===_e.requestStatus)return O=G(E,I),re;{if(!navigator.onLine)throw We.create("app-offline");const et=Qn(re);return O=tt(E,et),et}});return O?yield O:L.authToken})).apply(this,arguments)}function G(E,I){return ee.apply(this,arguments)}function ee(){return(ee=(0,R.Z)(function*(E,I){let O=yield Pe(E.appConfig);for(;1===O.authToken.requestStatus;)yield Fe(100),O=yield Pe(E.appConfig);const L=O.authToken;return 0===L.requestStatus?W(E,I):L})).apply(this,arguments)}function Pe(E){return _r(E,I=>{if(!St(I))throw We.create("not-registered");return function Gi(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function tt(E,I){return _t.apply(this,arguments)}function _t(){return(_t=(0,R.Z)(function*(E,I){try{const O=yield Mi(E,I),L=Object.assign(Object.assign({},I),{authToken:O});return yield mr(E.appConfig,L),O}catch(O){if(!Xe(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield mr(E.appConfig,L)}else yield Pn(E.appConfig);throw O}})).apply(this,arguments)}function St(E){return void 0!==E&&2===E.registrationStatus}function yn(E){return 2===E.requestStatus&&!function It(E){const I=Date.now();return I<E.creationTime||E.creationTime+E.expiresIn<I+36e5}(E)}function Qn(E){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:I})}function La(){return(La=(0,R.Z)(function*(E){const I=E,{installationEntry:O,registrationPromise:L}=yield Bn(I);return L?L.catch(console.error):W(I).catch(console.error),O.fid})).apply(this,arguments)}function Va(){return(Va=(0,R.Z)(function*(E,I=!1){const O=E;return yield Jn(O),(yield W(O,I)).token})).apply(this,arguments)}function Jn(E){return $i.apply(this,arguments)}function $i(){return($i=(0,R.Z)(function*(E){const{registrationPromise:I}=yield Bn(E);I&&(yield I)})).apply(this,arguments)}function ra(E){return We.create("missing-app-config-values",{valueName:E})}const er="installations",ht=E=>{const I=E.getProvider("app").getImmediate(),O=function pi(E){if(!E||!E.options)throw ra("App Configuration");if(!E.name)throw ra("App Name");const I=["projectId","apiKey","appId"];for(const O of I)if(!E.options[O])throw ra(O);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(I);return{app:I,appConfig:O,heartbeatServiceProvider:(0,ae._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},an=E=>{const I=E.getProvider("app").getImmediate(),O=(0,ae._getProvider)(I,er).getImmediate();return{getId:()=>function El(E){return La.apply(this,arguments)}(O),getToken:J=>function Il(E){return Va.apply(this,arguments)}(O,J)}};(function tr(){(0,ae._registerComponent)(new ye.wA(er,ht,"PUBLIC")),(0,ae._registerComponent)(new ye.wA("installations-internal",an,"PRIVATE"))})(),(0,ae.registerVersion)(fe,Z),(0,ae.registerVersion)(fe,Z,"esm2017");const Yr="@firebase/remote-config",Rn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class zs{constructor(I,O,L,J){this.client=I,this.storage=O,this.storageCache=L,this.logger=J}isCachedDataFresh(I,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-O,J=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${J}.`),J}fetch(I){var O=this;return(0,R.Z)(function*(){const[L,J]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(J&&O.isCachedDataFresh(I.cacheMaxAgeMillis,L))return J;I.eTag=J&&J.eTag;const re=yield O.client.fetch(I),_e=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&_e.push(O.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(_e),re})()}}function fd(E=navigator){return E.languages&&E.languages[0]||E.language}class Oi{constructor(I,O,L,J,re,_e){this.firebaseInstallations=I,this.sdkVersion=O,this.namespace=L,this.projectId=J,this.apiKey=re,this.appId=_e}fetch(I){var O=this;return(0,R.Z)(function*(){const[L,J]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),_e=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,et={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},lt={sdk_version:O.sdkVersion,app_instance_id:L,app_instance_id_token:J,app_id:O.appId,language_code:fd()},pt={method:"POST",headers:et,body:JSON.stringify(lt)},Gt=fetch(_e,pt),Mt=new Promise((Vi,ks)=>{I.signal.addEventListener(()=>{const co=new Error("The operation was aborted.");co.name="AbortError",ks(co)})});let $n;try{yield Promise.race([Gt,Mt]),$n=yield Gt}catch(Vi){let ks="fetch-client-network";throw"AbortError"===Vi.name&&(ks="fetch-timeout"),Rn.create(ks,{originalErrorMessage:Vi.message})}let li=$n.status;const Os=$n.headers.get("ETag")||void 0;let ls,jr;if(200===$n.status){let Vi;try{Vi=yield $n.json()}catch(ks){throw Rn.create("fetch-client-parse",{originalErrorMessage:ks.message})}ls=Vi.entries,jr=Vi.state}if("INSTANCE_STATE_UNSPECIFIED"===jr?li=500:"NO_CHANGE"===jr?li=304:("NO_TEMPLATE"===jr||"EMPTY_CONFIG"===jr)&&(ls={}),304!==li&&200!==li)throw Rn.create("fetch-status",{httpStatus:li});return{status:li,eTag:Os,config:ls}})()}}class bg{constructor(I,O){this.client=I,this.storage=O}fetch(I){var O=this;return(0,R.Z)(function*(){const L=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:O,backoffCount:L}){var J=this;return(0,R.Z)(function*(){yield function Ws(E,I){return new Promise((O,L)=>{const J=Math.max(I-Date.now(),0),re=setTimeout(O,J);E.addEventListener(()=>{clearTimeout(re),L(Rn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,O);try{const re=yield J.client.fetch(I);return yield J.storage.deleteThrottleMetadata(),re}catch(re){if(!function pd(E){if(!(E instanceof se.ZR&&E.customData))return!1;const I=Number(E.customData.httpStatus);return 429===I||500===I||503===I||504===I}(re))throw re;const _e={throttleEndTimeMillis:Date.now()+(0,se.$s)(L),backoffCount:L+1};return yield J.storage.setThrottleMetadata(_e),J.attemptFetch(I,_e)}})()}}class gd{constructor(I,O,L,J,re){this.app=I,this._client=O,this._storageCache=L,this._storage=J,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Zc(E,I){const O=E.target.error||void 0;return Rn.create(I,{originalErrorMessage:O&&O.message})}const Ks="app_namespace_store";class Tg{constructor(I,O,L,J=function Cg(){return new Promise((E,I)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=L=>{I(Zc(L,"storage-open"))},O.onsuccess=L=>{E(L.target.result)},O.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Ks,{keyPath:"compositeKey"})}}catch(O){I(Rn.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=I,this.appName=O,this.namespace=L,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var O=this;return(0,R.Z)(function*(){const L=yield O.openDbPromise;return new Promise((J,re)=>{const et=L.transaction([Ks],"readonly").objectStore(Ks),lt=O.createCompositeKey(I);try{const pt=et.get(lt);pt.onerror=Gt=>{re(Zc(Gt,"storage-get"))},pt.onsuccess=Gt=>{const Mt=Gt.target.result;J(Mt?Mt.value:void 0)}}catch(pt){re(Rn.create("storage-get",{originalErrorMessage:pt&&pt.message}))}})})()}set(I,O){var L=this;return(0,R.Z)(function*(){const J=yield L.openDbPromise;return new Promise((re,_e)=>{const lt=J.transaction([Ks],"readwrite").objectStore(Ks),pt=L.createCompositeKey(I);try{const Gt=lt.put({compositeKey:pt,value:O});Gt.onerror=Mt=>{_e(Zc(Mt,"storage-set"))},Gt.onsuccess=()=>{re()}}catch(Gt){_e(Rn.create("storage-set",{originalErrorMessage:Gt&&Gt.message}))}})})()}delete(I){var O=this;return(0,R.Z)(function*(){const L=yield O.openDbPromise;return new Promise((J,re)=>{const et=L.transaction([Ks],"readwrite").objectStore(Ks),lt=O.createCompositeKey(I);try{const pt=et.delete(lt);pt.onerror=Gt=>{re(Zc(Gt,"storage-delete"))},pt.onsuccess=()=>{J()}}catch(pt){re(Rn.create("storage-delete",{originalErrorMessage:pt&&pt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class _d{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,R.Z)(function*(){const O=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),J=I.storage.getActiveConfig(),re=yield O;re&&(I.lastFetchStatus=re);const _e=yield L;_e&&(I.lastSuccessfulFetchTimestampMillis=_e);const et=yield J;et&&(I.activeConfig=et)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Al(){return yd.apply(this,arguments)}function yd(){return(yd=(0,R.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(E){return!1}})).apply(this,arguments)}!function sa(){(0,ae._registerComponent)(new ye.wA("remote-config",function E(I,{instanceIdentifier:O}){const L=I.getProvider("app").getImmediate(),J=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Rn.create("registration-window");if(!(0,se.hl)())throw Rn.create("indexed-db-unavailable");const{projectId:re,apiKey:_e,appId:et}=L.options;if(!re)throw Rn.create("registration-project-id");if(!_e)throw Rn.create("registration-api-key");if(!et)throw Rn.create("registration-app-id");const lt=new Tg(et,L.name,O=O||"firebase"),pt=new _d(lt),Gt=new ue.Yd(Yr);Gt.logLevel=ue.in.ERROR;const Mt=new Oi(J,ae.SDK_VERSION,O,re,_e,et),$n=new bg(Mt,lt),li=new zs($n,lt,pt,Gt),Os=new gd(L,li,pt,lt,Gt);return function dn(E){const I=(0,se.m9)(E);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Os),Os},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Yr,"0.3.8"),(0,ae.registerVersion)(Yr,"0.3.8","esm2017")}();const vd="/firebase-messaging-sw.js",ki="/firebase-cloud-messaging-push-scope",Io="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",oa="google.c.a.c_id",bd="google.c.a.c_l",nf="google.c.a.ts",Pi="google.c.a.e";var aa=(()=>{return(E=aa||(aa={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",aa;var E})();function zi(E){const I=new Uint8Array(E);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wd(E){const O=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(O),J=new Uint8Array(L.length);for(let re=0;re<L.length;++re)J[re]=L.charCodeAt(re);return J}const Ri="fcm_token_details_db",vr="fcm_token_object_Store";function Gc(E){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,R.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(Ri))return null;let I=null;return(yield(0,le.X3)(Ri,5,{upgrade:(L=(0,R.Z)(function*(J,re,_e,et){var lt;if(re<2||!J.objectStoreNames.contains(vr))return;const pt=et.objectStore(vr),Gt=yield pt.index("fcmSenderId").get(E);if(yield pt.clear(),Gt)if(2===re){const Mt=Gt;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;I={token:Mt.fcmToken,createTime:null!==(lt=Mt.createTime)&&void 0!==lt?lt:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:zi(Mt.vapidKey)}}}else if(3===re){const Mt=Gt;I={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:zi(Mt.auth),p256dh:zi(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:zi(Mt.vapidKey)}}}else if(4===re){const Mt=Gt;I={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:zi(Mt.auth),p256dh:zi(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:zi(Mt.vapidKey)}}}}),function(re,_e,et,lt){return L.apply(this,arguments)})})).close(),yield(0,le.Lj)(Ri),yield(0,le.Lj)("fcm_vapid_details_db"),yield(0,le.Lj)("undefined"),$c(I)?I:null;var L}),Cd.apply(this,arguments)}function $c(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:I}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const ts="firebase-messaging-store";let rf=null;function hn(){return rf||(rf=(0,le.X3)("firebase-messaging-database",1,{upgrade:(E,I)=>{0===I&&E.createObjectStore(ts)}})),rf}function qa(E){return So.apply(this,arguments)}function So(){return(So=(0,R.Z)(function*(E){const I=gi(E),L=yield(yield hn()).transaction(ts).objectStore(ts).get(I);if(L)return L;{const J=yield Gc(E.appConfig.senderId);if(J)return yield rn(E,J),J}})).apply(this,arguments)}function rn(E,I){return Za.apply(this,arguments)}function Za(){return(Za=(0,R.Z)(function*(E,I){const O=gi(E),J=(yield hn()).transaction(ts,"readwrite");return yield J.objectStore(ts).put(I,O),yield J.done,I})).apply(this,arguments)}function Ml(E){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,R.Z)(function*(E){const I=gi(E),L=(yield hn()).transaction(ts,"readwrite");yield L.objectStore(ts).delete(I),yield L.done})).apply(this,arguments)}function gi({appConfig:E}){return E.appId}const In=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ns(E,I){return mi.apply(this,arguments)}function mi(){return(mi=(0,R.Z)(function*(E,I){const O=yield ua(E),L=Js(I),J={method:"POST",headers:O,body:JSON.stringify(L)};let re;try{re=yield(yield fetch(is(E.appConfig),J)).json()}catch(_e){throw In.create("token-subscribe-failed",{errorInfo:_e})}if(re.error)throw In.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw In.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function xo(E,I){return vs.apply(this,arguments)}function vs(){return(vs=(0,R.Z)(function*(E,I){const O=yield ua(E),L=Js(I.subscriptionOptions),J={method:"PATCH",headers:O,body:JSON.stringify(L)};let re;try{re=yield(yield fetch(`${is(E.appConfig)}/${I.token}`,J)).json()}catch(_e){throw In.create("token-update-failed",{errorInfo:_e})}if(re.error)throw In.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw In.create("token-update-no-token");return re.token})).apply(this,arguments)}function Ga(E,I){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,R.Z)(function*(E,I){const L={method:"DELETE",headers:yield ua(E)};try{const re=yield(yield fetch(`${is(E.appConfig)}/${I}`,L)).json();if(re.error)throw In.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(J){throw In.create("token-unsubscribe-failed",{errorInfo:J})}})).apply(this,arguments)}function is({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function ua(E){return wt.apply(this,arguments)}function wt(){return(wt=(0,R.Z)(function*({appConfig:E,installations:I}){const O=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Js({p256dh:E,auth:I,endpoint:O,vapidKey:L}){const J={web:{endpoint:O,auth:I,p256dh:E}};return L!==Io&&(J.web.applicationPubKey=L),J}const Yc=6048e5;function $a(E){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,R.Z)(function*(E){const I=yield Ao(E.swRegistration,E.vapidKey),O={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:I.endpoint,auth:zi(I.getKey("auth")),p256dh:zi(I.getKey("p256dh"))},L=yield qa(E.firebaseDependencies);if(L){if(Pl(L.subscriptionOptions,O))return Date.now()>=L.createTime+Yc?Qc(E,{token:L.token,createTime:Date.now(),subscriptionOptions:O}):L.token;try{yield Ga(E.firebaseDependencies,L.token)}catch(J){console.warn(J)}return Me(E.firebaseDependencies,O)}return Me(E.firebaseDependencies,O)})).apply(this,arguments)}function Ol(E){return kl.apply(this,arguments)}function kl(){return(kl=(0,R.Z)(function*(E){const I=yield qa(E.firebaseDependencies);I&&(yield Ga(E.firebaseDependencies,I.token),yield Ml(E.firebaseDependencies));const O=yield E.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Qc(E,I){return da.apply(this,arguments)}function da(){return(da=(0,R.Z)(function*(E,I){try{const O=yield xo(E.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:O,createTime:Date.now()});return yield rn(E.firebaseDependencies,L),O}catch(O){throw yield Ol(E),O}})).apply(this,arguments)}function Me(E,I){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,R.Z)(function*(E,I){const L={token:yield ns(E,I),createTime:Date.now(),subscriptionOptions:I};return yield rn(E,L),L.token})).apply(this,arguments)}function Ao(E,I){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,R.Z)(function*(E,I){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wd(I)})})).apply(this,arguments)}function Pl(E,I){return I.vapidKey===E.vapidKey&&I.endpoint===E.endpoint&&I.auth===E.auth&&I.p256dh===E.p256dh}function Mo(E){const I={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function br(E,I){if(!I.notification)return;E.notification={};const O=I.notification.title;O&&(E.notification.title=O);const L=I.notification.body;L&&(E.notification.body=L);const J=I.notification.image;J&&(E.notification.image=J)}(I,E),function Jc(E,I){!I.data||(E.data=I.data)}(I,E),function Xc(E,I){if(!I.fcmOptions)return;E.fcmOptions={};const O=I.fcmOptions.link;O&&(E.fcmOptions.link=O);const L=I.fcmOptions.analytics_label;L&&(E.fcmOptions.analyticsLabel=L)}(I,E),I}function eu(E){return"object"==typeof E&&!!E&&oa in E}function Td(E,I){const O=[];for(let L=0;L<E.length;L++)O.push(E.charAt(L)),L<I.length&&O.push(I.charAt(L));return O.join("")}function bs(E){return In.create("missing-app-config-values",{valueName:E})}Td("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Td("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ni{constructor(I,O,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function Eg(E){if(!E||!E.options)throw bs("App Configuration Object");if(!E.name)throw bs("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:O}=E;for(const L of I)if(!O[L])throw bs(L);return{appName:E.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:J,installations:O,analyticsProvider:L}}_delete(){return Promise.resolve()}}function wr(E){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,R.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(vd,{scope:ki}),E.swRegistration.update().catch(()=>{})}catch(I){throw In.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function Xs(E,I){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,R.Z)(function*(E,I){if(!I&&!E.swRegistration&&(yield wr(E)),I||!E.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw In.create("invalid-sw-registration");E.swRegistration=I}})).apply(this,arguments)}function tu(E,I){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,R.Z)(function*(E,I){I?E.vapidKey=I:E.vapidKey||(E.vapidKey=Io)})).apply(this,arguments)}function nu(){return(nu=(0,R.Z)(function*(E,I){if(!navigator)throw In.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw In.create("permission-blocked");return yield tu(E,null==I?void 0:I.vapidKey),yield Xs(E,null==I?void 0:I.serviceWorkerRegistration),$a(E)})).apply(this,arguments)}function ha(E,I,O){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,R.Z)(function*(E,I,O){const L=Vl(I);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:O[oa],message_name:O[bd],message_time:O[nf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Vl(E){switch(E){case aa.NOTIFICATION_CLICKED:return"notification_open";case aa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Id(){return(Id=(0,R.Z)(function*(E,I){const O=I.data;if(!O.isFirebaseMessaging)return;E.onMessageHandler&&O.messageType===aa.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Mo(O)):E.onMessageHandler.next(Mo(O)));const L=O.data;eu(L)&&"1"===L[Pi]&&(yield ha(E,O.messageType,L))})).apply(this,arguments)}const Ul="@firebase/messaging",Dd=E=>{const I=new Ni(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function Ed(E,I){return Id.apply(this,arguments)}(I,O)),I},fa=E=>{const I=E.getProvider("messaging").getImmediate();return{getToken:L=>function Fl(E,I){return nu.apply(this,arguments)}(I,L)}};function Bl(){return rr.apply(this,arguments)}function rr(){return(rr=(0,R.Z)(function*(){try{yield(0,se.eu)()}catch(E){return!1}return"undefined"!=typeof window&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Sd(){(0,ae._registerComponent)(new ye.wA("messaging",Dd,"PUBLIC")),(0,ae._registerComponent)(new ye.wA("messaging-internal",fa,"PRIVATE")),(0,ae.registerVersion)(Ul,"0.9.13"),(0,ae.registerVersion)(Ul,"0.9.13","esm2017")}();const Ad="analytics",Dg="firebase_id",ws="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Po="https://www.googletagmanager.com/gtag/js",ei=new ue.Yd("@firebase/analytics");function Md(E){return Promise.all(E.map(I=>I.catch(O=>O)))}function Sg(E,I){const O=document.createElement("script");O.src=`${Po}?l=${E}&id=${I}`,O.async=!0,document.head.appendChild(O)}function pa(E,I,O,L,J,re){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,R.Z)(function*(E,I,O,L,J,re){const _e=L[J];try{if(_e)yield I[_e];else{const lt=(yield Md(O)).find(pt=>pt.measurementId===J);lt&&(yield I[lt.appId])}}catch(et){ei.error(et)}E("config",J,re)})).apply(this,arguments)}function xg(E,I,O,L,J){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,R.Z)(function*(E,I,O,L,J){try{let re=[];if(J&&J.send_to){let _e=J.send_to;Array.isArray(_e)||(_e=[_e]);const et=yield Md(O);for(const lt of _e){const pt=et.find(Mt=>Mt.measurementId===lt),Gt=pt&&I[pt.appId];if(!Gt){re=[];break}re.push(Gt)}}0===re.length&&(re=Object.values(I)),yield Promise.all(re),E("event",L,J||{})}catch(re){ei.error(re)}})).apply(this,arguments)}function fn(){const E=window.document.getElementsByTagName("script");for(const I of Object.values(E))if(I.src&&I.src.includes(Po))return I;return null}const ot=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ya=new class mn{constructor(I={},O=1e3){this.throttleMetadata=I,this.intervalMillis=O}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,O){this.throttleMetadata[I]=O}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Od(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function ga(E){return eo.apply(this,arguments)}function eo(){return(eo=(0,R.Z)(function*(E){var I;const{appId:O,apiKey:L}=E,J={method:"GET",headers:Od(L)},re=ws.replace("{app-id}",O),_e=yield fetch(re,J);if(200!==_e.status&&304!==_e.status){let et="";try{const lt=yield _e.json();(null===(I=lt.error)||void 0===I?void 0:I.message)&&(et=lt.error.message)}catch(lt){}throw ot.create("config-fetch-failed",{httpStatus:_e.status,responseMessage:et})}return _e.json()})).apply(this,arguments)}function Nn(E){return to.apply(this,arguments)}function to(){return(to=(0,R.Z)(function*(E,I=Ya,O){const{appId:L,apiKey:J,measurementId:re}=E.options;if(!L)throw ot.create("no-app-id");if(!J){if(re)return{measurementId:re,appId:L};throw ot.create("no-api-key")}const _e=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},et=new ql;return setTimeout((0,R.Z)(function*(){et.abort()}),void 0!==O?O:6e4),rs({appId:L,apiKey:J,measurementId:re},_e,et,I)})).apply(this,arguments)}function rs(E,I,O){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,R.Z)(function*(E,{throttleEndTimeMillis:I,backoffCount:O},L,J=Ya){const{appId:re,measurementId:_e}=E;try{yield kd(L,I)}catch(et){if(_e)return ei.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_e} provided in the "measurementId" field in the local Firebase config. [${et.message}]`),{appId:re,measurementId:_e};throw et}try{const et=yield ga(E);return J.deleteThrottleMetadata(re),et}catch(et){if(!Pd(et)){if(J.deleteThrottleMetadata(re),_e)return ei.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_e} provided in the "measurementId" field in the local Firebase config. [${et.message}]`),{appId:re,measurementId:_e};throw et}const lt=503===Number(et.customData.httpStatus)?(0,se.$s)(O,J.intervalMillis,30):(0,se.$s)(O,J.intervalMillis),pt={throttleEndTimeMillis:Date.now()+lt,backoffCount:O+1};return J.setThrottleMetadata(re,pt),ei.debug(`Calling attemptFetch again in ${lt} millis`),rs(E,pt,L,J)}})).apply(this,arguments)}function kd(E,I){return new Promise((O,L)=>{const J=Math.max(I-Date.now(),0),re=setTimeout(O,J);E.addEventListener(()=>{clearTimeout(re),L(ot.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Pd(E){if(!(E instanceof se.ZR&&E.customData))return!1;const I=Number(E.customData.httpStatus);return 429===I||500===I||503===I||504===I}class ql{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function ru(){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,R.Z)(function*(){if(!(0,se.hl)())return ei.warn(ot.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(E){return ei.warn(ot.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function ma(){return(ma=(0,R.Z)(function*(E,I,O,L,J,re,_e){var et;const lt=Nn(E);lt.then(li=>{O[li.measurementId]=li.appId,E.options.measurementId&&li.measurementId!==E.options.measurementId&&ei.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${li.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(li=>ei.error(li)),I.push(lt);const pt=ru().then(li=>{if(li)return L.getId()}),[Gt,Mt]=yield Promise.all([lt,pt]);fn()||Sg(re,Gt.measurementId),J("js",new Date);const $n=null!==(et=null==_e?void 0:_e.config)&&void 0!==et?et:{};return $n.origin="firebase",$n.update=!0,null!=Mt&&($n[Dg]=Mt),J("config",Gt.measurementId,$n),Gt.measurementId})).apply(this,arguments)}class No{constructor(I){this.app=I}_delete(){return delete _i[this.app.options.appId],Promise.resolve()}}let _i={},yi=[];const Fo={};let ya,ro,_a="dataLayer",va=!1;function Ts(E,I,O){!function Ka(){const E=[];if((0,se.ru)()&&E.push("This is a browser extension environment."),(0,se.zI)()||E.push("Cookies are not available."),E.length>0){const I=E.map((L,J)=>`(${J+1}) ${L}`).join(" "),O=ot.create("invalid-analytics-context",{errorInfo:I});ei.warn(O.message)}}();const L=E.options.appId;if(!L)throw ot.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw ot.create("no-api-key");ei.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=_i[L])throw ot.create("already-exists",{id:L});if(!va){!function Ro(E){let I=[];Array.isArray(window[E])?I=window[E]:window[E]=I}(_a);const{wrappedGtag:re,gtagCore:_e}=function Ag(E,I,O,L,J){let re=function(..._e){window[L].push(arguments)};return window[J]&&"function"==typeof window[J]&&(re=window[J]),window[J]=function jl(E,I,O,L){function re(){return(re=(0,R.Z)(function*(_e,et,lt){try{"event"===_e?yield xg(E,I,O,et,lt):"config"===_e?yield pa(E,I,O,L,et,lt):E("set",et)}catch(pt){ei.error(pt)}})).apply(this,arguments)}return function J(_e,et,lt){return re.apply(this,arguments)}}(re,E,I,O),{gtagCore:re,wrappedGtag:window[J]}}(_i,yi,Fo,_a,"gtag");ro=re,ya=_e,va=!0}return _i[L]=function no(E,I,O,L,J,re,_e){return ma.apply(this,arguments)}(E,yi,Fo,I,ya,_a,O),new No(E)}function qn(){return(qn=(0,R.Z)(function*(E,I,O,L,J){if(J&&J.global)E("event",O,L);else{const re=yield I;E("event",O,Object.assign(Object.assign({},L),{send_to:re}))}})).apply(this,arguments)}function os(){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,R.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(E){return!1}})).apply(this,arguments)}const sr="@firebase/analytics";!function oo(){(0,ae._registerComponent)(new ye.wA(Ad,(I,{options:O})=>Ts(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ae._registerComponent)(new ye.wA("analytics-internal",function E(I){try{const O=I.getProvider(Ad).getImmediate();return{logEvent:(L,J,re)=>function wa(E,I,O,L){E=(0,se.m9)(E),function Es(E,I,O,L,J){return qn.apply(this,arguments)}(ro,_i[E.app.options.appId],I,O,L).catch(J=>ei.error(J))}(O,L,J,re)}}catch(O){throw ot.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ae.registerVersion)(sr,"0.7.9"),(0,ae.registerVersion)(sr,"0.7.9","esm2017")}();var Nd=P(4408),au=P(7565);const Qa=new class Gn extends au.v{}(class Ss extends Nd.o{constructor(I,O){super(I,O),this.scheduler=I,this.work=O}schedule(I,O=0){return O>0?super.schedule(I,O):(this.delay=O,this.state=I,this.scheduler.flush(this),this)}execute(I,O){return O>0||this.closed?super.execute(I,O):this._execute(I,O)}requestAsyncId(I,O,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,O,L):I.flush(this)}});var Fd=P(4986),lf=P(8505),Fi=P(5363),Wi=P(9468);const Ja=new s.GfV("7.3.0"),Ca="__angularfire_symbol__analyticsIsSupportedValue",xs="__angularfire_symbol__analyticsIsSupported",ao="__angularfire_symbol__remoteConfigIsSupportedValue",As="__angularfire_symbol__remoteConfigIsSupported",Ta="__angularfire_symbol__messagingIsSupportedValue",Ft="__angularfire_symbol__messagingIsSupported";function Ia(E,I,O){if(I){if(1===I.length)return I[0];const re=I.filter(_e=>_e.app===O);if(1===re.length)return re[0]}return O.container.getProvider(E).getImmediate({optional:!0})}globalThis[xs]||(globalThis[xs]=os().then(E=>globalThis[Ca]=E).catch(()=>globalThis[Ca]=!1)),globalThis[Ft]||(globalThis[Ft]=Bl().then(E=>globalThis[Ta]=E).catch(()=>globalThis[Ta]=!1)),globalThis[As]||(globalThis[As]=Al().then(E=>globalThis[ao]=E).catch(()=>globalThis[ao]=!1));const Mg=(E,I)=>{const O=I?[I]:(0,Y.C6)(),L=[];return O.forEach(J=>{J.container.getProvider(E).instances.forEach(_e=>{L.includes(_e)||L.push(_e)})}),L};function Ms(){}class Hr{constructor(I,O=Qa){this.zone=I,this.delegate=O}now(){return this.delegate.now()}schedule(I,O,L){const J=this.zone;return this.delegate.schedule(function(_e){J.runGuarded(()=>{I.apply(this,[_e])})},O,L)}}class $l{constructor(I){this.zone=I,this.task=null}call(I,O){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ms,{},Ms,Ms)),O.pipe((0,lf.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Vd=(()=>{class E{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Hr(Zone.current)),this.insideAngular=O.run(()=>new Hr(Zone.current,Fd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(O){return new(O||E)(s.LFG(s.R0b))},E.\u0275prov=s.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function as(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function vi(E){return E.pipe((0,Fi.Q)(as().outsideAngular))}function cf(E){return as(),function lo(E){return function(O){return(O=O.lift(new $l(E.ngZone))).pipe((0,Wi.R)(E.outsideAngular),(0,Fi.Q)(E.insideAngular))}}(as())(E)}},2090:(Je,be,P)=>{P.d(be,{$s:()=>jt,BH:()=>ze,G6:()=>He,L:()=>le,LL:()=>ce,Mn:()=>De,Sg:()=>ke,UG:()=>me,US:()=>ye,ZB:()=>j,ZR:()=>ve,b$:()=>Xe,d:()=>Ae,eu:()=>Ee,hl:()=>q,jU:()=>Se,m9:()=>Mi,ne:()=>Nr,pd:()=>qs,r3:()=>qi,ru:()=>We,tV:()=>fe,uI:()=>Be,vZ:()=>pr,w1:()=>Ie,xO:()=>Zi,xb:()=>Ut,z$:()=>Ne,zI:()=>Q,zd:()=>Wr});const ae=function(U){const z=[];let W=0;for(let xe=0;xe<U.length;xe++){let G=U.charCodeAt(xe);G<128?z[W++]=G:G<2048?(z[W++]=G>>6|192,z[W++]=63&G|128):55296==(64512&G)&&xe+1<U.length&&56320==(64512&U.charCodeAt(xe+1))?(G=65536+((1023&G)<<10)+(1023&U.charCodeAt(++xe)),z[W++]=G>>18|240,z[W++]=G>>12&63|128,z[W++]=G>>6&63|128,z[W++]=63&G|128):(z[W++]=G>>12|224,z[W++]=G>>6&63|128,z[W++]=63&G|128)}return z},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,z){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,xe=[];for(let G=0;G<U.length;G+=3){const ee=U[G],Pe=G+1<U.length,tt=Pe?U[G+1]:0,_t=G+2<U.length,St=_t?U[G+2]:0;let Qn=(15&tt)<<2|St>>6,Gi=63&St;_t||(Gi=64,Pe||(Qn=64)),xe.push(W[ee>>2],W[(3&ee)<<4|tt>>4],W[Qn],W[Gi])}return xe.join("")},encodeString(U,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(U):this.encodeByteArray(ae(U),z)},decodeString(U,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(U):function(U){const z=[];let W=0,xe=0;for(;W<U.length;){const G=U[W++];if(G<128)z[xe++]=String.fromCharCode(G);else if(G>191&&G<224){const ee=U[W++];z[xe++]=String.fromCharCode((31&G)<<6|63&ee)}else if(G>239&&G<365){const _t=((7&G)<<18|(63&U[W++])<<12|(63&U[W++])<<6|63&U[W++])-65536;z[xe++]=String.fromCharCode(55296+(_t>>10)),z[xe++]=String.fromCharCode(56320+(1023&_t))}else{const ee=U[W++],Pe=U[W++];z[xe++]=String.fromCharCode((15&G)<<12|(63&ee)<<6|63&Pe)}}return z.join("")}(this.decodeStringToByteArray(U,z))},decodeStringToByteArray(U,z){this.init_();const W=z?this.charToByteMapWebSafe_:this.charToByteMap_,xe=[];for(let G=0;G<U.length;){const ee=W[U.charAt(G++)],tt=G<U.length?W[U.charAt(G)]:0;++G;const St=G<U.length?W[U.charAt(G)]:64;++G;const It=G<U.length?W[U.charAt(G)]:64;if(++G,null==ee||null==tt||null==St||null==It)throw Error();xe.push(ee<<2|tt>>4),64!==St&&(xe.push(tt<<4&240|St>>2),64!==It&&xe.push(St<<6&192|It))}return xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},le=function(U){return function(U){const z=ae(U);return ye.encodeByteArray(z,!0)}(U).replace(/\./g,"")},fe=function(U){try{return ye.decodeString(U,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function j(U,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return z}for(const W in z)!z.hasOwnProperty(W)||!ne(W)||(U[W]=j(U[W],z[W]));return U}function ne(U){return"__proto__"!==U}class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,W)=>{this.resolve=z,this.reject=W})}wrapCallback(z){return(W,xe)=>{W?this.reject(W):this.resolve(xe),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(W):z(W,xe))}}}function ke(U,z){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xe=z||"demo-project",G=U.iat||0,ee=U.sub||U.user_id;if(!ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pe=Object.assign({iss:`https://securetoken.google.com/${xe}`,aud:xe,iat:G,exp:G+3600,auth_time:G,sub:ee,user_id:ee,firebase:{sign_in_provider:"custom",identities:{}}},U);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(Pe)),""].join(".")}function Ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(U){return!1}}function Se(){return"object"==typeof self&&self.self===self}function We(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Xe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return Ne().indexOf("Electron/")>=0}function Ie(){const U=Ne();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function De(){return Ne().indexOf("MSAppHost/")>=0}function He(){return!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q(){return"object"==typeof indexedDB}function Ee(){return new Promise((U,z)=>{try{let W=!0;const xe="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(xe);G.onsuccess=()=>{G.result.close(),W||self.indexedDB.deleteDatabase(xe),U(!0)},G.onupgradeneeded=()=>{W=!1},G.onerror=()=>{var ee;z((null===(ee=G.error)||void 0===ee?void 0:ee.message)||"")}}catch(W){z(W)}})}function Q(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ve extends Error{constructor(z,W,xe){super(W),this.code=z,this.customData=xe,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ce.prototype.create)}}class ce{constructor(z,W,xe){this.service=z,this.serviceName=W,this.errors=xe}create(z,...W){const xe=W[0]||{},G=`${this.service}/${z}`,ee=this.errors[z],Pe=ee?function Fe(U,z){return U.replace(ft,(W,xe)=>{const G=z[xe];return null!=G?String(G):`<${xe}?>`})}(ee,xe):"Error";return new ve(G,`${this.serviceName}: ${Pe} (${G}).`,xe)}}const ft=/\{\$([^}]+)}/g;function qi(U,z){return Object.prototype.hasOwnProperty.call(U,z)}function Ut(U){for(const z in U)if(Object.prototype.hasOwnProperty.call(U,z))return!1;return!0}function pr(U,z){if(U===z)return!0;const W=Object.keys(U),xe=Object.keys(z);for(const G of W){if(!xe.includes(G))return!1;const ee=U[G],Pe=z[G];if(Si(ee)&&Si(Pe)){if(!pr(ee,Pe))return!1}else if(ee!==Pe)return!1}for(const G of xe)if(!W.includes(G))return!1;return!0}function Si(U){return null!==U&&"object"==typeof U}function Zi(U){const z=[];for(const[W,xe]of Object.entries(U))Array.isArray(xe)?xe.forEach(G=>{z.push(encodeURIComponent(W)+"="+encodeURIComponent(G))}):z.push(encodeURIComponent(W)+"="+encodeURIComponent(xe));return z.length?"&"+z.join("&"):""}function Wr(U){const z={};return U.replace(/^\?/,"").split("&").forEach(xe=>{if(xe){const[G,ee]=xe.split("=");z[decodeURIComponent(G)]=decodeURIComponent(ee)}}),z}function qs(U){const z=U.indexOf("?");if(!z)return"";const W=U.indexOf("#",z);return U.substring(z,W>0?W:void 0)}function Nr(U,z){const W=new bt(U,z);return W.subscribe.bind(W)}class bt{constructor(z,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{z(this)}).catch(xe=>{this.error(xe)})}next(z){this.forEachObserver(W=>{W.next(z)})}error(z){this.forEachObserver(W=>{W.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,W,xe){let G;if(void 0===z&&void 0===W&&void 0===xe)throw new Error("Missing Observer.");G=function Sn(U,z){if("object"!=typeof U||null===U)return!1;for(const W of z)if(W in U&&"function"==typeof U[W])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:W,complete:xe},void 0===G.next&&(G.next=Pn),void 0===G.error&&(G.error=Pn),void 0===G.complete&&(G.complete=Pn);const ee=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch(Pe){}}),this.observers.push(G),ee}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,z)}sendOne(z,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{W(this.observers[z])}catch(xe){"undefined"!=typeof console&&console.error&&console.error(xe)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pn(){}function jt(U,z=1e3,W=2){const xe=z*Math.pow(W,U),G=Math.round(.5*xe*(Math.random()-.5)*2);return Math.min(144e5,xe+G)}function Mi(U){return U&&U._delegate?U._delegate:U}},8808:(Je,be,P)=>{var s=P(5e3);let Y=null;function R(){return Y}const ue=new s.OlP("DocumentToken");let le=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function fe(){return(0,s.LFG)(j)}()},providedIn:"platform"}),n})();const Z=new s.OlP("Location Initialized");let j=(()=>{class n extends le{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(e){const i=R().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=R().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ne()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ne()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ze(){return new j((0,s.LFG)(ue))}()},providedIn:"platform"}),n})();function ne(){return!!window.history.pushState}function ke(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ne(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Be(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Se(n){const t=(0,s.LFG)(ue).location;return new Xe((0,s.LFG)(le),t&&t.origin||"")}()},providedIn:"root"}),n})();const We=new s.OlP("appBaseHref");let Xe=(()=>{class n extends me{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ke(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Be(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,l){const u=this.prepareExternalUrl(r+Be(l));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,l){const u=this.prepareExternalUrl(r+Be(l));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le),s.LFG(We,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n extends me{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ke(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,l){let u=this.prepareExternalUrl(r+Be(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,l){let u=this.prepareExternalUrl(r+Be(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(le),s.LFG(We,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n{constructor(e,i){this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Ne(He(r)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Be(i))}normalize(e){return n.stripTrailingSlash(function qe(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,He(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Be(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Be(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Be,n.joinWithSlash=ke,n.stripTrailingSlash=Ne,n.\u0275fac=function(e){return new(e||n)(s.LFG(me),s.LFG(le))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function De(){return new Ie((0,s.LFG)(me),(0,s.LFG)(le))}()},providedIn:"root"}),n})();function He(n){return n.replace(/\/index.html$/,"")}let gn=(()=>{class n{constructor(e,i,r,l){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Gs{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let nn=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,l,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Gs(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===l?void 0:l);else if(null!==l){const f=i.get(l);i.move(f,u),Eo(f,r)}});for(let r=0,l=i.length;r<l;r++){const f=i.get(r).context;f.index=r,f.count=l,f.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Eo(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Eo(n,t){n.context.$implicit=t.item}let qt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new dn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Sl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Sl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class dn{constructor(){this.$implicit=null,this.ngIf=null}}function Sl(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}let ir=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,l]=e.split(".");null!=(i=null!=i&&l?`${i}${l}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),zs=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[s.TTD]}),n})();class Ws{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class pd{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const bg=new pd,ys=new Ws;let Ys=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return bg;if((0,s.F4k)(e))return ys;throw function Oi(n,t){return new s.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1}),n})(),Pi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Do="browser";function la(n){return"server"===n}let $c=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new ca((0,s.LFG)(ue),window)}),n})();class ca{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ts(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const l=r.shadowRoot;if(l){const u=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],r-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=zc(this.window.history)||zc(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function zc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class So extends class qa extends class ye{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){Y||(Y=n)}(new So)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Za(){return rn=rn||document.querySelector("base"),rn?rn.getAttribute("href"):null}();return null==e?null:function Qs(n){Ml=Ml||document.createElement("a"),Ml.setAttribute("href",n);const t=Ml.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){rn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Ba(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,t)}}let Ml,rn=null;const gi=new s.OlP("TRANSITION_ID"),In=[{provide:s.ip1,useFactory:function Wc(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=R(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<r.length;l++)i.remove(r[l])})}},deps:[gi,ue,s.zs3],multi:!0}];class ns{static init(){(0,s.VLi)(new ns)}addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const l=t.findTestabilityInTree(i,r);if(null==l)throw new Error("Could not find testability for element.");return l},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let l=r.length,u=!1;const f=function(_){u=u||_,l--,0==l&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?R().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let mi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const xo=new s.OlP("EventManagerPlugins");let vs=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let l=0;l<r.length;l++){const u=r[l];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xo),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Ga{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=R().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Vr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),is=(()=>{class n extends Vr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(l=>{const u=this._doc.createElement("style");u.textContent=l,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(ua),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ua))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function ua(n){R().remove(n)}const wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Js=/%COMP%/g;function da(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?da(n,r,e):(r=r.replace(Js,n),e.push(r))}return e}function Me(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ao=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Cn(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new br(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new Jc(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=da(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(vs),s.LFG(is),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Cn{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(wt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const l=wt[r];l?t.setAttributeNS(l,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=wt[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Me(i)):this.eventManager.addEventListener(t,e,Me(i))}}class br extends Cn{constructor(t,e,i,r){super(t),this.component=i;const l=da(r+"-"+i.id,i.styles,[]);e.addStyles(l),this.contentAttr=function kl(n){return"_ngcontent-%COMP%".replace(Js,n)}(r+"-"+i.id),this.hostAttr=function Qc(n){return"_nghost-%COMP%".replace(Js,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Jc extends Cn{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=da(r.id,r.styles,[]);for(let u=0;u<l.length;u++){const f=document.createElement("style");f.textContent=l[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Xc=(()=>{class n extends Ga{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const eu=["alt","control","meta","shift"],Eg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bs={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ni={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let wr=(()=>{class n extends Ga{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const l=n.parseEventName(i),u=n.eventCallback(l.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(e,l.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const l=n._normalizeKey(i.pop());let u="";if(eu.forEach(_=>{const w=i.indexOf(_);w>-1&&(i.splice(w,1),u+=_+".")}),u+=l,0!=i.length||0===l.length)return null;const f={};return f.domEventName=r,f.fullKey=u,f}static getEventFullKey(e){let i="",r=function Rl(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&bs.hasOwnProperty(t)&&(t=bs[t]))}return Eg[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),eu.forEach(l=>{l!=r&&Ni[l](e)&&(i+=l+".")}),i+=r,i}static eventCallback(e,i,r){return l=>{n.getEventFullKey(l)===e&&r.runGuarded(()=>i(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Fl=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Do},{provide:s.g9A,useValue:function Xs(){So.makeCurrent(),ns.init()},multi:!0},{provide:ue,useFactory:function tu(){return(0,s.RDi)(document),document},deps:[]}]),nu=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Ur(){return new s.qLn},deps:[]},{provide:xo,useClass:Xc,multi:!0,deps:[ue,s.R0b,s.Lbi]},{provide:xo,useClass:wr,multi:!0,deps:[ue]},{provide:Ao,useClass:Ao,deps:[vs,is,s.AFp]},{provide:s.FYo,useExisting:Ao},{provide:Vr,useExisting:is},{provide:is,useClass:is,deps:[ue]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:vs,useClass:vs,deps:[xo,s.R0b]},{provide:class hn{},useClass:mi,deps:[]}];let ha=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:gi,useExisting:s.AFp},In]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(n,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:nu,imports:[Pi,s.hGG]}),n})();"undefined"!=typeof window&&window;var fn=P(8996),Wa=P(3269);function ot(...n){const t=(0,Wa.yG)(n);return(0,fn.D)(n,t)}var Kt=P(7579);class Cr extends Kt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var mn=P(8306);const{isArray:Ya}=Array,{getPrototypeOf:Od,prototype:ga,keys:eo}=Object;function Nn(n){if(1===n.length){const t=n[0];if(Ya(t))return{args:t,keys:null};if(function to(n){return n&&"object"==typeof n&&Od(n)===ga}(t)){const e=eo(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var rs=P(4671),Pt=P(4004);const{isArray:kd}=Array;function ql(n){return(0,Pt.U)(t=>function Pd(n,t){return kd(t)?n(...t):n(t)}(n,t))}function ru(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Fn=P(5403),no=P(9672);function _i(n,t,e){n?(0,no.f)(e,n,t):t()}var yi=P(576);function Fo(n,t){const e=(0,yi.m)(n)?n:()=>n,i=r=>r.error(e());return new mn.y(t?r=>t.schedule(i,0,r):i)}const io=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ya=P(8189);function va(...n){return function ro(){return(0,ya.J)(1)}()((0,fn.D)(n,(0,Wa.yG)(n)))}var ba=P(8421);function Ka(n){return new mn.y(t=>{(0,ba.Xf)(n()).subscribe(t)})}var Ts=P(515),Es=P(727),qn=P(4482);function su(){return(0,qn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Fn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,l=e;e=null,r&&(!l||r===l)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class so extends mn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,qn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Es.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Fn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Es.w0.EMPTY)}return t}refCount(){return su()(this)}}function xn(n,t){return(0,qn.e)((e,i)=>{let r=null,l=0,u=!1;const f=()=>u&&!r&&i.complete();e.subscribe((0,Fn.x)(i,_=>{null==r||r.unsubscribe();let w=0;const D=l++;(0,ba.Xf)(n(_,D)).subscribe(r=(0,Fn.x)(i,A=>i.next(t?t(_,A,D,w++):A),()=>{r=null,f()}))},()=>{u=!0,f()}))})}var Lo=P(5698);function Is(...n){const t=(0,Wa.yG)(n);return(0,qn.e)((e,i)=>{(t?va(n,e,t):va(n,e)).subscribe(i)})}function Ds(n,t,e,i,r){return(l,u)=>{let f=e,_=t,w=0;l.subscribe((0,Fn.x)(u,D=>{const A=w++;_=f?n(_,D,A):(f=!0,D),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}function ss(n,t){return(0,qn.e)(Ds(n,t,arguments.length>=2,!0))}function ai(n,t){return(0,qn.e)((e,i)=>{let r=0;e.subscribe((0,Fn.x)(i,l=>n.call(t,l,r++)&&i.next(l)))})}function Br(n){return(0,qn.e)((t,e)=>{let l,i=null,r=!1;i=t.subscribe((0,Fn.x)(e,void 0,void 0,u=>{l=(0,ba.Xf)(n(u,Br(n)(t))),i?(i.unsubscribe(),i=null,l.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,l.subscribe(e))})}var Zn=P(5577);function os(n,t){return(0,yi.m)(t)?(0,Zn.z)(n,t,1):(0,Zn.z)(n,1)}function Zl(n){return n<=0?()=>Ts.E:(0,qn.e)((t,e)=>{let i=[];t.subscribe((0,Fn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function ou(n=An){return(0,qn.e)((t,e)=>{let i=!1;t.subscribe((0,Fn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function An(){return new io}function af(n){return(0,qn.e)((t,e)=>{let i=!1;t.subscribe((0,Fn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function wa(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ai((r,l)=>n(r,l,i)):rs.y,(0,Lo.q)(1),e?af(t):ou(()=>new io))}var sr=P(8505);class oo{constructor(t,e){this.id=t,this.url=e}}class Nd extends oo{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ss extends oo{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class au extends oo{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gn extends oo{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qa extends oo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gl extends oo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fd extends oo{constructor(t,e,i,r,l){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lf extends oo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fi extends oo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wi{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ja{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ca{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xs{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ao{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class As{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ta{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ft="primary";class Ld{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ea(n){return new Ld(n)}const Li="ngNavigationCancelingError";function Xa(n){const t=Error("NavigationCancelingError: "+n);return t[Li]=!0,t}function Mg(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let l=0;l<i.length;l++){const u=i[l],f=n[l];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Hr(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let l=0;l<e.length;l++)if(r=e[l],!$l(n[r],t[r]))return!1;return!0}function $l(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,l)=>i[l]===r)}return n===t}function Vd(n){return Array.prototype.concat.apply([],n)}function as(n){return n.length>0?n[n.length-1]:null}function bn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function vi(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,fn.D)(Promise.resolve(n)):ot(n)}const cf={exact:function E(n,t,e){if(!pt(n.segments,t.segments)||!J(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!E(n.children[i],t.children[i],e))return!1;return!0},subset:O},lo={exact:function el(n,t){return Hr(n,t)},subset:function I(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>$l(n[e],t[e]))},ignored:()=>!0};function Da(n,t,e){return cf[e.paths](n.root,t.root,e.matrixParams)&&lo[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function O(n,t,e){return L(n,t,t.segments,e)}function L(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!pt(r,e)||t.hasChildren()||!J(r,e,i))}if(n.segments.length===e.length){if(!pt(n.segments,e)||!J(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!O(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(pt(n.segments,r)&&J(n.segments,r,i)&&n.children[Ft])&&L(n.children[Ft],t,l,i)}}function J(n,t,e){return t.every((i,r)=>lo[e](n[r].parameters,i.parameters))}class re{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ea(this.queryParams)),this._queryParamMap}toString(){return li.serialize(this)}}class _e{constructor(t,e){this.segments=t,this.children=e,this.parent=null,bn(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Os(this)}}class et{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ea(this.parameters)),this._parameterMap}toString(){return uu(this)}}function pt(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Mt{}class $n{parse(t){const e=new Og(t);return new re(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ls(t.root,!0)}`,i=function uf(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Vi(e)}=${Vi(r)}`).join("&"):`${Vi(e)}=${Vi(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function ks(n){return encodeURI(n)}(t.fragment)}`:""}`}}const li=new $n;function Os(n){return n.segments.map(t=>uu(t)).join("/")}function ls(n,t){if(!n.hasChildren())return Os(n);if(t){const e=n.children[Ft]?ls(n.children[Ft],!1):"",i=[];return bn(n.children,(r,l)=>{l!==Ft&&i.push(`${l}:${ls(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Gt(n,t){let e=[];return bn(n.children,(i,r)=>{r===Ft&&(e=e.concat(t(i,r)))}),bn(n.children,(i,r)=>{r!==Ft&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Ft?[ls(n.children[Ft],!1)]:[`${r}:${ls(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${Os(n)}/${e[0]}`:`${Os(n)}/(${e.join("//")})`}}function jr(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vi(n){return jr(n).replace(/%3B/gi,";")}function co(n){return jr(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cu(n){return decodeURIComponent(n)}function Bd(n){return cu(n.replace(/\+/g,"%20"))}function uu(n){return`${co(n.path)}${function Hd(n){return Object.keys(n).map(t=>`;${co(t)}=${co(n[t])}`).join("")}(n.parameters)}`}const df=/^[^\/()?;=#]+/;function jd(n){const t=n.match(df);return t?t[0]:""}const zl=/^[^=?&#]+/,hf=/^[^&#]+/;class Og{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ft]=new _e(t,e)),i}parseSegment(){const t=jd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new et(cu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=jd(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=jd(this.remaining);r&&(i=r,this.capture(i))}t[cu(e)]=cu(i)}parseQueryParam(t){const e=function du(n){const t=n.match(zl);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function bw(n){const t=n.match(hf);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Bd(e),l=Bd(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(l)}else t[r]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=jd(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let l;i.indexOf(":")>-1?(l=i.substr(0,i.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=Ft);const u=this.parseChildren();e[l]=1===Object.keys(u).length?u[Ft]:new _e([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ff{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=kg(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=kg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Wl(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Wl(t,this._root).map(e=>e.value)}}function kg(n,t){if(n===t.value)return t;for(const e of t.children){const i=kg(n,e);if(i)return i}return null}function Wl(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Wl(n,e);if(i.length)return i.unshift(t),i}return[]}class Vo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Yl(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class hu extends ff{constructor(t,e){super(t),this.snapshot=e,Gd(this,t)}toString(){return this.snapshot.toString()}}function qd(n,t){const e=function Kl(n,t){const u=new Uo([],{},{},"",{},Ft,t,null,n.root,-1,{});return new Zd("",new Vo(u,[]))}(n,t),i=new Cr([new et("",{})]),r=new Cr({}),l=new Cr({}),u=new Cr({}),f=new Cr(""),_=new Ql(i,r,u,f,l,Ft,t,e.root);return _.snapshot=e.root,new hu(new Vo(_,[]),e)}class Ql{constructor(t,e,i,r,l,u,f,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=l,this.outlet=u,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.U)(t=>Ea(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.U)(t=>Ea(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pg(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],l=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(l.component)break;i--}}return function ww(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Uo{constructor(t,e,i,r,l,u,f,_,w,D,A){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=l,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=D,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ea(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ea(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zd extends ff{constructor(t,e){super(e),this.url=t,Gd(this,e)}toString(){return pf(this._root)}}function Gd(n,t){t.value._routerState=n,t.children.forEach(e=>Gd(n,e))}function pf(n){const t=n.children.length>0?` { ${n.children.map(pf).join(", ")} } `:"";return`${n.value}${t}`}function $d(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Hr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Hr(t.params,e.params)||n.params.next(e.params),function Ms(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Hr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Hr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function zd(n,t){const e=Hr(n.params,t.params)&&function lt(n,t){return pt(n,t)&&n.every((e,i)=>Hr(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||zd(n.parent,t.parent))}function fu(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Py(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return fu(n,i,r);return fu(n,i)})}(n,t,e);return new Vo(i,r)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const u=l.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(f=>fu(n,f)),u}}const i=function Ry(n){return new Ql(new Cr(n.url),new Cr(n.params),new Cr(n.queryParams),new Cr(n.fragment),new Cr(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(l=>fu(n,l));return new Vo(i,r)}}function qr(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Bo(n){return"object"==typeof n&&null!=n&&n.outlets}function pu(n,t,e,i,r){let l={};if(i&&bn(i,(f,_)=>{l[_]=Array.isArray(f)?f.map(w=>`${w}`):`${f}`}),n===t)return new re(e,l,r);const u=Fy(n,t,e);return new re(u,l,r)}function Fy(n,t,e){const i={};return bn(n.children,(r,l)=>{i[l]=r===t?e:Fy(r,t,e)}),new _e(n.segments,i)}class Ng{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&qr(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Bo);if(r&&r!==as(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wd{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Lg(n,t,e){if(n||(n=new _e([],{})),0===n.segments.length&&n.hasChildren())return Yd(n,t,e);const i=function Ly(n,t,e){let i=0,r=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return l;const u=n.segments[r],f=e[i];if(Bo(f))break;const _=`${f}`,w=i<e.length-1?e[i+1]:null;if(r>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!mf(_,w,u))return l;i+=2}else{if(!mf(_,{},u))return l;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const l=new _e(n.segments.slice(0,i.pathIndex),{});return l.children[Ft]=new _e(n.segments.slice(i.pathIndex),n.children),Yd(l,0,r)}return i.match&&0===r.length?new _e(n.segments,{}):i.match&&!n.hasChildren()?Vy(n,t,e):i.match?Yd(n,0,r):Vy(n,t,e)}function Yd(n,t,e){if(0===e.length)return new _e(n.segments,{});{const i=function Fg(n){return Bo(n[0])?n[0].outlets:{[Ft]:n}}(e),r={};return bn(i,(l,u)=>{"string"==typeof l&&(l=[l]),null!==l&&(r[u]=Lg(n.children[u],t,l))}),bn(n.children,(l,u)=>{void 0===i[u]&&(r[u]=l)}),new _e(n.segments,r)}}function Vy(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const l=e[r];if(Bo(l)){const _=tl(l.outlets);return new _e(i,_)}if(0===r&&qr(e[0])){i.push(new et(n.segments[t].path,gu(e[0]))),r++;continue}const u=Bo(l)?l.outlets[Ft]:`${l}`,f=r<e.length-1?e[r+1]:null;u&&f&&qr(f)?(i.push(new et(u,gu(f))),r+=2):(i.push(new et(u,{})),r++)}return new _e(i,{})}function tl(n){const t={};return bn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Vy(new _e([],{}),0,e))}),t}function gu(n){const t={};return bn(n,(e,i)=>t[i]=`${e}`),t}function mf(n,t,e){return n==e.path&&Hr(t,e.parameters)}class mu{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),$d(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Yl(e);t.children.forEach(l=>{const u=l.value.outlet;this.deactivateRoutes(l,r[u],i),delete r[u]}),bn(r,(l,u)=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(t,e,i){const r=t.value,l=e?e.value:null;if(r===l)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else l&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,l=Yl(t);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,l=Yl(t);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Yl(e);t.children.forEach(l=>{this.activateRoutes(l,r[l.value.outlet],i),this.forwardEvent(new As(l.value.snapshot))}),t.children.length&&this.forwardEvent(new xs(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,l=e?e.value:null;if($d(r),r===l)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),$d(f.route.value),this.activateChildRoutes(t,null,u.children)}else{const f=function Kd(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),_=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=_,u.outlet&&u.outlet.activateWith(r,_),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class Qd{constructor(t,e){this.routes=t,this.module=e}}function Ho(n){return"function"==typeof n}function Jl(n){return n instanceof re}const Jd=Symbol("INITIAL_VALUE");function Xd(){return xn(n=>function ma(...n){const t=(0,Wa.yG)(n),e=(0,Wa.jO)(n),{args:i,keys:r}=Nn(n);if(0===i.length)return(0,fn.D)([],t);const l=new mn.y(function No(n,t,e=rs.y){return i=>{_i(t,()=>{const{length:r}=n,l=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)_i(t,()=>{const w=(0,fn.D)(n[_],t);let D=!1;w.subscribe((0,Fn.x)(i,A=>{l[_]=A,D||(D=!0,f--),f||i.next(e(l.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>ru(r,u):rs.y));return e?l.pipe(ql(e)):l}(n.map(t=>t.pipe((0,Lo.q)(1),Is(Jd)))).pipe(ss((t,e)=>{let i=!1;return e.reduce((r,l,u)=>r!==Jd?r:(l===Jd&&(i=!0),i||!1!==l&&u!==e.length-1&&!Jl(l)?r:l),t)},Jd),ai(t=>t!==Jd),(0,Pt.U)(t=>Jl(t)?t:!0===t),(0,Lo.q)(1)))}class Ug{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xl,this.attachRef=null}}class Xl{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Ug,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let yu=(()=>{class n{constructor(e,i,r,l,u){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=l||Ft,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new Uy(e,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Xl),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Uy{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Ql?this.route:t===Xl?this.childContexts:this.parent.get(t,e)}}let Bg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[yu],encapsulation:2}),n})();function vu(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];ec(i,By(t,i))}}function ec(n,t){n.children&&vu(n.children,t)}function By(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function bu(n){const t=n.children&&n.children.map(bu),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ft&&(e.component=Bg),e}function or(n){return n.outlet||Ft}function zn(n,t){const e=n.filter(i=>or(i)===t);return e.push(...n.filter(i=>or(i)!==t)),e}const vf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eh(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},vf):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const l=(t.matcher||Mg)(e,n,t);if(!l)return Object.assign({},vf);const u={};bn(l.posParams,(_,w)=>{u[w]=_.path});const f=l.consumed.length>0?Object.assign(Object.assign({},u),l.consumed[l.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:l.consumed,remainingSegments:e.slice(l.consumed.length),parameters:f,positionalParamSegments:null!==(i=l.posParams)&&void 0!==i?i:{}}}function nl(n,t,e,i,r="corrected"){if(e.length>0&&function jy(n,t,e){return e.some(i=>Sa(n,t,i)&&or(i)!==Ft)}(n,e,i)){const u=new _e(t,function Hy(n,t,e,i){const r={};r[Ft]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const l of e)if(""===l.path&&or(l)!==Ft){const u=new _e([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[or(l)]=u}return r}(n,t,i,new _e(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function qy(n,t,e){return e.some(i=>Sa(n,t,i))}(n,e,i)){const u=new _e(n.segments,function Hg(n,t,e,i,r,l){const u={};for(const f of i)if(Sa(n,e,f)&&!r[or(f)]){const _=new _e([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===l?n.segments.length:t.length,u[or(f)]=_}return Object.assign(Object.assign({},r),u)}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const l=new _e(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function Sa(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function jg(n,t,e,i){return!!(or(n)===i||i!==Ft&&Sa(t,e,n))&&("**"===n.path||eh(t,n,e).matched)}function qg(n,t,e){return 0===t.length&&!n.children[e]}class bf{constructor(t){this.segmentGroup=t||null}}class tc{constructor(t){this.urlTree=t}}function ci(n){return Fo(new bf(n))}function th(n){return Fo(new tc(n))}class nc{constructor(t,e,i,r,l){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=l,this.allowRedirects=!0,this.ngModule=t.get(s.h0i)}apply(){const t=nl(this.urlTree.root,[],[],this.config).segmentGroup,e=new _e(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ft).pipe((0,Pt.U)(l=>this.createUrlTree(wu(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Br(l=>{if(l instanceof tc)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof bf?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ft).pipe((0,Pt.U)(r=>this.createUrlTree(wu(r),t.queryParams,t.fragment))).pipe(Br(r=>{throw r instanceof bf?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new _e([],{[Ft]:t}):t;return new re(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Pt.U)(l=>new _e([],l))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const l of Object.keys(i.children))"primary"===l?r.unshift(l):r.push(l);return(0,fn.D)(r).pipe(os(l=>{const u=i.children[l],f=zn(e,l);return this.expandSegmentGroup(t,f,u,l).pipe((0,Pt.U)(_=>({segment:_,outlet:l})))}),ss((l,u)=>(l[u.outlet]=u.segment,l),{}),function ky(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ai((r,l)=>n(r,l,i)):rs.y,Zl(1),e?af(t):ou(()=>new io))}())}expandSegment(t,e,i,r,l,u){return(0,fn.D)(i).pipe(os(f=>this.expandSegmentAgainstRoute(t,e,i,f,r,l,u).pipe(Br(w=>{if(w instanceof bf)return ot(null);throw w}))),wa(f=>!!f),Br((f,_)=>{if(f instanceof io||"EmptyError"===f.name)return qg(e,r,l)?ot(new _e([],{})):ci(e);throw f}))}expandSegmentAgainstRoute(t,e,i,r,l,u,f){return jg(r,e,l,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,l,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,l,u):ci(e):ci(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,l,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,l,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const l=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?th(l):this.lineralizeSegments(i,l).pipe((0,Zn.z)(u=>{const f=new _e(u,{});return this.expandSegment(t,f,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,l,u){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:D}=eh(e,r,l);if(!f)return ci(e);const A=this.applyRedirectCommands(_,r.redirectTo,D);return r.redirectTo.startsWith("/")?th(A):this.lineralizeSegments(r,A).pipe((0,Zn.z)(N=>this.expandSegment(t,e,i,N.concat(w),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,l){if("**"===i.path)return i.loadChildren?(i._loadedConfig?ot(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,Pt.U)(A=>(i._loadedConfig=A,new _e(r,{})))):ot(new _e(r,{}));const{matched:u,consumedSegments:f,remainingSegments:_}=eh(e,i,r);return u?this.getChildConfig(t,i,r).pipe((0,Zn.z)(D=>{const A=D.module,N=D.routes,{segmentGroup:V,slicedSegments:B}=nl(e,f,_,N),ie=new _e(V.segments,V.children);if(0===B.length&&ie.hasChildren())return this.expandChildren(A,N,ie).pipe((0,Pt.U)($e=>new _e(f,$e)));if(0===N.length&&0===B.length)return ot(new _e(f,{}));const Ce=or(i)===l;return this.expandSegment(A,ie,N,B,Ce?Ft:l,!0).pipe((0,Pt.U)(rt=>new _e(f.concat(rt.segments),rt.children)))})):ci(e)}getChildConfig(t,e,i){return e.children?ot(new Qd(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ot(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Zn.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,Pt.U)(l=>(e._loadedConfig=l,l))):function nh(n){return Fo(Xa(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):ot(new Qd([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?ot(r.map(u=>{const f=t.get(u);let _;if(function Ew(n){return n&&Ho(n.canLoad)}(f))_=f.canLoad(e,i);else{if(!Ho(f))throw new Error("Invalid CanLoad guard");_=f(e,i)}return vi(_)})).pipe(Xd(),(0,sr.b)(u=>{if(!Jl(u))return;const f=Xa(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,Pt.U)(u=>!0===u)):ot(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ot(i);if(r.numberOfChildren>1||!r.children[Ft])return Fo(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[Ft]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const l=this.createSegmentGroup(t,e.root,i,r);return new re(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return bn(t,(r,l)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[l]=e[f]}else i[l]=r}),i}createSegmentGroup(t,e,i,r){const l=this.createSegments(t,e.segments,i,r);let u={};return bn(e.children,(f,_)=>{u[_]=this.createSegmentGroup(t,f,i,r)}),new _e(l,u)}createSegments(t,e,i,r){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,r):this.findOrReturn(l,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function wu(n){const t={};for(const i of Object.keys(n.children)){const l=wu(n.children[i]);(l.segments.length>0||l.hasChildren())&&(t[i]=l)}return function Cf(n){if(1===n.numberOfChildren&&n.children[Ft]){const t=n.children[Ft];return new _e(n.segments.concat(t.segments),t.children)}return n}(new _e(n.segments,t))}class ar{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class xa{constructor(t,e){this.component=t,this.route=e}}function Tf(n,t,e){const i=n._root;return Cu(i,t?t._root:null,e,[i.value])}function il(n,t,e){const i=function Ef(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Cu(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const l=Yl(t);return n.children.forEach(u=>{(function ih(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,u=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(u&&l.routeConfig===u.routeConfig){const _=function $y(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!pt(n.url,t.url);case"pathParamsOrQueryParamsChange":return!pt(n.url,t.url)||!Hr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zd(n,t)||!Hr(n.queryParams,t.queryParams);default:return!zd(n,t)}}(u,l,l.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new ar(i)):(l.data=u.data,l._resolvedData=u._resolvedData),Cu(n,t,l.component?f?f.children:null:e,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new xa(f.outlet.component,u))}else u&&us(t,f,r),r.canActivateChecks.push(new ar(i)),Cu(n,null,l.component?f?f.children:null:e,i,r)})(u,l[u.value.outlet],e,i.concat([u.value]),r),delete l[u.value.outlet]}),bn(l,(u,f)=>us(u,e.getContext(f),r)),r}function us(n,t,e){const i=Yl(n),r=n.value;bn(i,(l,u)=>{us(l,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new xa(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class Yy{}function Ps(n){return new mn.y(t=>t.error(n))}class Gg{constructor(t,e,i,r,l,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=u}recognize(){const t=nl(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ft);if(null===e)return null;const i=new Uo([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Vo(i,e),l=new Zd(this.url,r);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(t){const e=t.value,i=Pg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const l of Object.keys(e.children)){const u=e.children[l],f=zn(t,l),_=this.processSegmentGroup(f,u,l);if(null===_)return null;i.push(..._)}const r=zg(i);return function $g(n){n.sort((t,e)=>t.value.outlet===Ft?-1:e.value.outlet===Ft?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const l of t){const u=this.processSegmentAgainstRoute(l,e,i,r);if(null!==u)return u}return qg(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!jg(t,e,i,r))return null;let l,u=[],f=[];if("**"===t.path){const V=i.length>0?as(i).parameters:{};l=new Uo(i,V,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(t),or(t),t.component,t,Wg(e),rl(e)+i.length,p(t))}else{const V=eh(e,t,i);if(!V.matched)return null;u=V.consumedSegments,f=V.remainingSegments,l=new Uo(u,V.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(t),or(t),t.component,t,Wg(e),rl(e)+u.length,p(t))}const _=function Ky(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:w,slicedSegments:D}=nl(e,u,f,_.filter(V=>void 0===V.redirectTo),this.relativeLinkResolution);if(0===D.length&&w.hasChildren()){const V=this.processChildren(_,w);return null===V?null:[new Vo(l,V)]}if(0===_.length&&0===D.length)return[new Vo(l,[])];const A=or(t)===r,N=this.processSegment(_,w,D,A?Ft:r);return null===N?null:[new Vo(l,N)]}}function Sf(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function zg(n){const t=[],e=new Set;for(const i of n){if(!Sf(i)){t.push(i);continue}const r=t.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=zg(i.children);t.push(new Vo(i.value,r))}return t.filter(i=>!e.has(i))}function Wg(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function rl(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function y(n){return n.data||{}}function p(n){return n.resolve||{}}function K(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ue(n){return xn(t=>{const e=n(t);return e?(0,fn.D)(e).pipe((0,Pt.U)(()=>t)):ot(t)})}class gt extends class mt{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Ln=new s.OlP("ROUTES");class Er{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,Pt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=l.create(t);return new Qd(Vd(u.injector.get(Ln,void 0,s.XFs.Self|s.XFs.Optional)).map(bu),u)}),Br(l=>{throw e._loader$=void 0,l}));return e._loader$=new so(r,()=>new Kt.x).pipe(su()),e._loader$}loadModuleFactory(t){return vi(t()).pipe((0,Zn.z)(e=>e instanceof s.YKP?ot(e):(0,fn.D)(this.compiler.compileModuleAsync(e))))}}class xf{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Yg(n){throw n}function sl(n,t,e){return t.parse("/")}function Eu(n,t){return ot(null)}const oh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vn=(()=>{class n{constructor(e,i,r,l,u,f,_){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=l,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Kt.x,this.errorHandler=Yg,this.malformedUriErrorHandler=sl,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Eu,afterPreactivation:Eu},this.urlHandlingStrategy=new xf,this.routeReuseStrategy=new gt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const A=u.get(s.R0b);this.isNgZoneEnabled=A instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function lu(){return new re(new _e([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Er(u,f,N=>this.triggerEvent(new Wi(N)),N=>this.triggerEvent(new Ja(N))),this.routerState=qd(this.currentUrlTree,this.rootComponentType),this.transitions=new Cr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(ai(r=>0!==r.id),(0,Pt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),xn(r=>{let l=!1,u=!1;return ot(r).pipe((0,sr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),xn(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Mf(f.source)&&(this.browserUrlTree=f.extractedUrl),ot(f).pipe(xn(A=>{const N=this.transitions.getValue();return i.next(new Nd(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),N!==this.transitions.getValue()?Ts.E:Promise.resolve(A)}),function Zy(n,t,e,i){return xn(r=>function bi(n,t,e,i,r){return new nc(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Pt.U)(l=>Object.assign(Object.assign({},r),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,sr.b)(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function m(n,t,e,i,r){return(0,Zn.z)(l=>function Tu(n,t,e,i,r="emptyOnly",l="legacy"){try{const u=new Gg(n,t,e,i,r,l).recognize();return null===u?Ps(new Yy):ot(u)}catch(u){return Ps(u)}}(n,t,l.urlAfterRedirects,e(l.urlAfterRedirects),i,r).pipe((0,Pt.U)(u=>Object.assign(Object.assign({},l),{targetSnapshot:u}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,sr.b)(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(V,A)}this.browserUrlTree=A.urlAfterRedirects}const N=new Qa(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);i.next(N)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:N,extractedUrl:V,source:B,restoredState:ie,extras:Ce}=f,it=new Nd(N,this.serializeUrl(V),B,ie);i.next(it);const rt=qd(V,this.rootComponentType).snapshot;return ot(Object.assign(Object.assign({},f),{targetSnapshot:rt,urlAfterRedirects:V,extras:Object.assign(Object.assign({},Ce),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Ts.E}),Ue(f=>{const{targetSnapshot:_,id:w,extractedUrl:D,rawUrl:A,extras:{skipLocationChange:N,replaceUrl:V}}=f;return this.hooks.beforePreactivation(_,{navigationId:w,appliedUrlTree:D,rawUrlTree:A,skipLocationChange:!!N,replaceUrl:!!V})}),(0,sr.b)(f=>{const _=new Gl(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,Pt.U)(f=>Object.assign(Object.assign({},f),{guards:Tf(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function rh(n,t){return(0,Zn.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:l,canDeactivateChecks:u}}=e;return 0===u.length&&0===l.length?ot(Object.assign(Object.assign({},e),{guardsResult:!0})):function zy(n,t,e,i){return(0,fn.D)(n).pipe((0,Zn.z)(r=>function Df(n,t,e,i,r){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return l&&0!==l.length?ot(l.map(f=>{const _=il(f,t,r);let w;if(function yf(n){return n&&Ho(n.canDeactivate)}(_))w=vi(_.canDeactivate(n,t,e,i));else{if(!Ho(_))throw new Error("Invalid CanDeactivate guard");w=vi(_(n,t,e,i))}return w.pipe(wa())})).pipe(Xd()):ot(!0)}(r.component,r.route,e,t,i)),wa(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Zn.z)(f=>f&&function Vg(n){return"boolean"==typeof n}(f)?function Wy(n,t,e,i){return(0,fn.D)(t).pipe(os(r=>va(function Zg(n,t){return null!==n&&t&&t(new Ca(n)),ot(!0)}(r.route.parent,i),function sh(n,t){return null!==n&&t&&t(new ao(n)),ot(!0)}(r.route,i),function If(n,t,e){const i=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(u=>function Gy(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Ka(()=>ot(u.guards.map(_=>{const w=il(_,u.node,e);let D;if(function _f(n){return n&&Ho(n.canActivateChild)}(w))D=vi(w.canActivateChild(i,n));else{if(!Ho(w))throw new Error("Invalid CanActivateChild guard");D=vi(w(i,n))}return D.pipe(wa())})).pipe(Xd())));return ot(l).pipe(Xd())}(n,r.path,e),function Tr(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return ot(!0);const r=i.map(l=>Ka(()=>{const u=il(l,t,e);let f;if(function _u(n){return n&&Ho(n.canActivate)}(u))f=vi(u.canActivate(t,n));else{if(!Ho(u))throw new Error("Invalid CanActivate guard");f=vi(u(t,n))}return f.pipe(wa())}));return ot(r).pipe(Xd())}(n,r.route,e))),wa(r=>!0!==r,!0))}(i,l,n,t):ot(f)),(0,Pt.U)(f=>Object.assign(Object.assign({},e),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,sr.b)(f=>{if(Jl(f.guardsResult)){const w=Xa(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw w.url=f.guardsResult,w}const _=new Fd(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),ai(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Ue(f=>{if(f.guards.canActivateChecks.length)return ot(f).pipe((0,sr.b)(_=>{const w=new lf(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),xn(_=>{let w=!1;return ot(_).pipe(function b(n,t){return(0,Zn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return ot(e);let l=0;return(0,fn.D)(r).pipe(os(u=>function S(n,t,e,i){return function k(n,t,e,i){const r=K(n);if(0===r.length)return ot({});const l={};return(0,fn.D)(r).pipe((0,Zn.z)(u=>function pe(n,t,e,i){const r=il(n,t,i);return vi(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe((0,sr.b)(f=>{l[u]=f}))),Zl(1),(0,Zn.z)(()=>K(l).length===r.length?ot(l):Ts.E))}(n._resolve,n,t,i).pipe((0,Pt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Pg(n,e).resolve),null)))}(u.route,i,n,t)),(0,sr.b)(()=>l++),Zl(1),(0,Zn.z)(u=>l===r.length?ot(e):Ts.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,sr.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,sr.b)(_=>{const w=new Fi(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),Ue(f=>{const{targetSnapshot:_,id:w,extractedUrl:D,rawUrl:A,extras:{skipLocationChange:N,replaceUrl:V}}=f;return this.hooks.afterPreactivation(_,{navigationId:w,appliedUrlTree:D,rawUrlTree:A,skipLocationChange:!!N,replaceUrl:!!V})}),(0,Pt.U)(f=>{const _=function Rg(n,t,e){const i=fu(n,t._root,e?e._root:void 0);return new hu(i,t)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,sr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,t,e)=>(0,Pt.U)(i=>(new mu(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,sr.b)({next(){l=!0},complete(){l=!0}}),function Rd(n){return(0,qn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var f;l||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===r.id&&(this.currentNavigation=null)}),Br(f=>{if(u=!0,function Ia(n){return n&&n[Li]}(f)){const _=Jl(f.url);_||(this.navigated=!0,this.restoreHistory(r,!0));const w=new au(r.id,this.serializeUrl(r.extractedUrl),f.message);i.next(w),_?setTimeout(()=>{const D=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),A={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Mf(r.source)};this.scheduleNavigation(D,"imperative",null,A,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new Gn(r.id,this.serializeUrl(r.extractedUrl),f);i.next(_);try{r.resolve(this.errorHandler(f))}catch(w){r.reject(w)}}return Ts.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const l={replaceUrl:!0},u=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(u){const _=Object.assign({},u);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(l.state=_)}const f=this.parseUrl(e.url);this.scheduleNavigation(f,i,u,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){vu(e),this.config=e.map(bu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:l,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,w=r||this.routerState.root,D=_?this.currentUrlTree.fragment:u;let A=null;switch(f){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=l||null}return null!==A&&(A=this.removeEmptyProps(A)),function Ny(n,t,e,i,r){if(0===e.length)return pu(t.root,t.root,t.root,i,r);const l=function Cw(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ng(!0,0,n);let t=0,e=!1;const i=n.reduce((r,l,u)=>{if("object"==typeof l&&null!=l){if(l.outlets){const f={};return bn(l.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(l.segmentPath)return[...r,l.segmentPath]}return"string"!=typeof l?[...r,l]:0===u?(l.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?e=!0:".."===f?t++:""!=f&&r.push(f))}),r):[...r,l]},[]);return new Ng(e,t,i)}(e);if(l.toRoot())return pu(t.root,t.root,new _e([],{}),i,r);const u=function Tw(n,t,e){if(n.isAbsolute)return new Wd(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const l=e.snapshot._urlSegment;return new Wd(l,l===t.root,0)}const i=qr(n.commands[0])?0:1;return function gf(n,t,e){let i=n,r=t,l=e;for(;l>r;){if(l-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Wd(i,!1,r-l)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(l,t,n),f=u.processChildren?Yd(u.segmentGroup,u.index,l.commands):Lg(u.segmentGroup,u.index,l.commands);return pu(t.root,u.segmentGroup,f,i,r)}(w,this.currentUrlTree,e,A,null!=D?D:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Jl(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function Af(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},oh):!1===i?Object.assign({},Kg):i,Jl(e))return Da(this.currentUrlTree,e,r);const l=this.parseUrl(e);return Da(this.currentUrlTree,l,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const l=e[r];return null!=l&&(i[r]=l),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ss(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,l,u){var f,_;if(this.disposed)return Promise.resolve(!1);let w,D,A;u?(w=u.resolve,D=u.reject,A=u.promise):A=new Promise((B,ie)=>{w=B,D=ie});const N=++this.navigationId;let V;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),V=r&&r.\u0275routerPageId?r.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):V=0,this.setTransition({id:N,targetPageId:V,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:w,reject:D,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch(B=>Promise.reject(B))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),l=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",l):this.location.go(r,"",l)}restoreHistory(e,i=!1){var r,l;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new au(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Mf(n){return"imperative"!==n}let ah=(()=>{class n{constructor(e,i,r,l,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=l,this.el=u,this.commands=null,this.onChanges=new Kt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:rc(this.skipLocationChange),replaceUrl:rc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:rc(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vn),s.Y36(Ql),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),ol=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Kt.x,this.subscription=e.events.subscribe(l=>{l instanceof Ss&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,l,u){if(0!==e||i||r||l||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:rc(this.skipLocationChange),replaceUrl:rc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:rc(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vn),s.Y36(Ql),s.Y36(me))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(l){return i.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})();function rc(n){return""===n||!!n}let Dw=(()=>{class n{constructor(e,i,r,l,u,f){this.router=e,this.element=i,this.renderer=r,this.cdr=l,this.link=u,this.linkWithHref=f,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=e.events.subscribe(_=>{_ instanceof Ss&&this.update()})}ngAfterContentInit(){ot(this.links.changes,this.linksWithHrefs.changes,ot(null)).pipe((0,ya.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,fn.D)(i).pipe((0,ya.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function Sw(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vn),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(ah,8),s.Y36(ol,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,ah,5),s.Suo(r,ol,5)),2&e){let l;s.iGM(l=s.CRH())&&(i.links=l),s.iGM(l=s.CRH())&&(i.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[s.TTD]}),n})();class Qg{}class Jg{preload(t,e){return ot(null)}}let Aw=(()=>{class n{constructor(e,i,r,l){this.router=e,this.injector=r,this.preloadingStrategy=l,this.loader=new Er(r,i,_=>e.triggerEvent(new Wi(_)),_=>e.triggerEvent(new Ja(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(ai(e=>e instanceof Ss),os(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const l of i)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const u=l._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else l.loadChildren&&!l.canLoad?r.push(this.preloadConfig(e,l)):l.children&&r.push(this.processRoutes(e,l.children));return(0,fn.D)(r).pipe((0,ya.J)(),(0,Pt.U)(l=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?ot(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Zn.z)(l=>(i._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vn),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(Qg))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Qy=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Nd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ss&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ta&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Ta(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const sc=new s.OlP("ROUTER_CONFIGURATION"),oc=new s.OlP("ROUTER_FORROOT_GUARD"),Mw=[Ie,{provide:Mt,useClass:$n},{provide:Vn,useFactory:function Rw(n,t,e,i,r,l,u={},f,_){const w=new Vn(null,n,t,e,i,r,Vd(l));return f&&(w.urlHandlingStrategy=f),_&&(w.routeReuseStrategy=_),function Xy(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,w),u.enableTracing&&w.events.subscribe(D=>{var A,N;null===(A=console.group)||void 0===A||A.call(console,`Router Event: ${D.constructor.name}`),console.log(D.toString()),console.log(D),null===(N=console.groupEnd)||void 0===N||N.call(console)}),w},deps:[Mt,Xl,Ie,s.zs3,s.Sil,Ln,sc,[class ic{},new s.FiY],[class nt{},new s.FiY]]},Xl,{provide:Ql,useFactory:function Nw(n){return n.routerState.root},deps:[Vn]},Aw,Jg,class xw{preload(t,e){return e().pipe(Br(()=>ot(null)))}},{provide:sc,useValue:{enableTracing:!1}}];function Ow(){return new s.PXZ("Router",Vn)}let kw=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[Mw,Jy(e),{provide:oc,useFactory:Pw,deps:[[Vn,new s.FiY,new s.tp0]]},{provide:sc,useValue:i||{}},{provide:me,useFactory:TI,deps:[le,[new s.tBr(We),new s.FiY],sc]},{provide:Qy,useFactory:Xg,deps:[Vn,$c,sc]},{provide:Qg,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Jg},{provide:s.PXZ,multi:!0,useFactory:Ow},[lh,{provide:s.ip1,multi:!0,useFactory:em,deps:[lh]},{provide:tm,useFactory:Fw,deps:[lh]},{provide:s.tb,multi:!0,useExisting:tm}]]}}static forChild(e){return{ngModule:n,providers:[Jy(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(oc,8),s.LFG(Vn,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function Xg(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Qy(n,t,e)}function TI(n,t,e={}){return e.useHash?new Ae(n,t):new Xe(n,t)}function Pw(n){return"guarded"}function Jy(n){return[{provide:s.deG,multi:!0,useValue:n},{provide:Ln,multi:!0,useValue:n}]}let lh=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Kt.x}appInitializer(){return this.injector.get(Z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(f=>i=f),l=this.injector.get(Vn),u=this.injector.get(sc);return"disabled"===u.initialNavigation?(l.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?ot(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),l.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(sc),r=this.injector.get(Aw),l=this.injector.get(Qy),u=this.injector.get(Vn),f=this.injector.get(s.z2F);e===f.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),l.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function em(n){return n.appInitializer.bind(n)}function Fw(n){return n.bootstrapListener.bind(n)}const tm=new s.OlP("Router Initializer");var Of=P(6451),nm=P(5363),Uw=P(6063);class EI extends Kt.x{constructor(t=1/0,e=1/0,i=Uw.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:l,_windowTime:u}=this;e||(i.push(t),!r&&i.push(l.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,l=r.slice();for(let u=0;u<l.length&&!t.closed;u+=i?1:2)t.next(l[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,l=(r?1:2)*t;if(t<1/0&&l<i.length&&i.splice(0,i.length-l),!r){const u=e.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}var II=P(3099);function im(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,(0,II.B)({connector:()=>new EI(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function rm(n,t){return(0,yi.m)(t)?xn(()=>n,t):xn(()=>n)}var sm=P(9468),ti=P(5813),Ir=P(2011);P(5867);var we=P(5861),ds=P(9681),Dr=P(4859),Ot=P(2090),ac=P(1877);const om=new Map,al={activated:!1,tokenObservers:[]},tv={initialized:!1,enabled:!1};function Ui(n){return om.get(n)||al}function Rs(n,t){om.set(n,t)}function nv(){return tv}class rv{constructor(t,e,i,r,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=r,r>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,we.Z)(function*(){e.stop();try{e.pending=new Ot.BH,yield function CA(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Ot.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Zr=new Ot.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Hw(n){if(!Ui(n).activated)throw Zr.create("use-before-activation",{appName:n.name})}function Zw(n,t){return fm.apply(this,arguments)}function fm(){return(fm=(0,we.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const A=yield r.getHeartbeatsHeader();A&&(i["X-Firebase-Client"]=A)}const l={method:"POST",body:JSON.stringify(t),headers:i};let u,f;try{u=yield fetch(n,l)}catch(A){throw Zr.create("fetch-network-error",{originalErrorMessage:A.message})}if(200!==u.status)throw Zr.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(A){throw Zr.create("fetch-parse-error",{originalErrorMessage:A.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Zr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(_[1]),D=Date.now();return{token:f.token,expireTimeMillis:D+w,issuedAtTimeMillis:D}})).apply(this,arguments)}function sv(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const pm="firebase-app-check-store";let ov=null;function FI(){return ov||(ov=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Zr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(pm,{keyPath:"compositeKey"})}}catch(e){t(Zr.create("storage-open",{originalErrorMessage:e.message}))}}),ov)}function Pf(){return(Pf=(0,we.Z)(function*(n,t){const i=(yield FI()).transaction(pm,"readwrite"),l=i.objectStore(pm).put({compositeKey:n,value:t});return new Promise((u,f)=>{l.onsuccess=_=>{u()},i.onerror=_=>{var w;f(Zr.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const ch=new ac.Yd("@firebase/app-check");function cl(n,t){return(0,Ot.hl)()?function DA(n,t){return function ll(n,t){return Pf.apply(this,arguments)}(function mm(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{ch.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function _m(){return nv().enabled}function Ww(){return ym.apply(this,arguments)}function ym(){return(ym=(0,we.Z)(function*(){const n=nv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const VI={error:"UNKNOWN_ERROR"};function Rf(n){return Ot.US.encodeString(JSON.stringify(n),!1)}function ul(n){return Nf.apply(this,arguments)}function Nf(){return(Nf=(0,we.Z)(function*(n,t=!1){const e=n.app;Hw(e);const i=Ui(e);let l,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&Ff(_)&&(r=_)}if(!t&&r&&Ff(r))return{token:r.token};let f,u=!1;if(_m()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Zw(sv(e,yield Ww()),n.heartbeatServiceProvider).then(w=>(i.exchangeTokenPromise=void 0,w)),u=!0);const _=yield i.exchangeTokenPromise;return yield cl(e,_),Rs(e,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?ch.warn(_.message):ch.error(_),l=_}return r?(f={token:r.token},Rs(e,Object.assign(Object.assign({},i),{token:r})),yield cl(e,r)):f=dv(l),u&&uv(e,f),f})).apply(this,arguments)}function Iu(n,t){const e=Ui(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Rs(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function Du(n){const{app:t}=n,e=Ui(t);let i=e.tokenRefresher;i||(i=function UI(n){const{app:t}=n;return new rv((0,we.Z)(function*(){let i;if(i=Ui(t).token?yield ul(n,!0):yield ul(n),i.error)throw i.error}),()=>!0,()=>{const e=Ui(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Rs(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function uv(n,t){const e=Ui(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function Ff(n){return n.expireTimeMillis-Date.now()>0}function dv(n){return{token:Rf(VI),error:n}}class hv{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Ui(this.app);for(const e of t)Iu(this.app,e.next);return Promise.resolve()}}const iC="app-check-internal";!function WI(){(0,ds._registerComponent)(new Dr.wA("app-check",n=>function Yw(n,t){return new hv(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(iC).initialize()})),(0,ds._registerComponent)(new Dr.wA(iC,n=>function vm(n){return{getToken:t=>ul(n,t),addTokenListener:t=>function lc(n,t,e,i){const{app:r}=n,l=Ui(r),u={next:e,error:i,type:t};if(Rs(r,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,u]})),l.token&&Ff(l.token)){const f=l.token;Promise.resolve().then(()=>{e({token:f.token}),Du(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>Du(n))}(n,"INTERNAL",t),removeTokenListener:t=>Iu(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ds.registerVersion)("@firebase/app-check","0.5.8")}();class Tm{constructor(){return(0,ti.vb)("app-check")}}"undefined"!=typeof window&&window;var Em=P(127);const yv=new s.OlP("angularfire2.auth.use-emulator"),QI=new s.OlP("angularfire2.auth.settings"),JI=new s.OlP("angularfire2.auth.tenant-id"),Im=new s.OlP("angularfire2.auth.langugage-code"),XI=new s.OlP("angularfire2.auth.use-device-language"),oC=new s.OlP("angularfire.auth.persistence"),vv=(n,t,e,i,r,l,u,f)=>(0,Ir.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=t.runOutsideAngular(()=>n.auth());if(e&&_.useEmulator(...e),i&&(_.tenantId=i),_.languageCode=r,l&&_.useDeviceLanguage(),u)for(const[w,D]of Object.entries(u))_.settings[w]=D;return f&&_.setPersistence(f),_},[e,i,r,l,u,f]);let Uf=(()=>{class n{constructor(e,i,r,l,u,f,_,w,D,A,N,V){const B=new Kt.x,ie=ot(void 0).pipe((0,nm.Q)(u.outsideAngular),xn(()=>l.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,8775)))),(0,Pt.U)(()=>(0,Ir.on)(e,l,i)),(0,Pt.U)(Ce=>vv(Ce,l,f,w,D,A,_,N)),im({bufferSize:1,refCount:!1}));if(la(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ot(null);else{ie.pipe(wa()).subscribe();const it=ie.pipe(xn(je=>je.getRedirectResult().then(vt=>vt,()=>null)),ti.iC,im({bufferSize:1,refCount:!1})),rt=ie.pipe(xn(je=>new mn.y(vt=>({unsubscribe:l.runOutsideAngular(()=>je.onAuthStateChanged(Ct=>vt.next(Ct),Ct=>vt.error(Ct),()=>vt.complete()))})))),$e=ie.pipe(xn(je=>new mn.y(vt=>({unsubscribe:l.runOutsideAngular(()=>je.onIdTokenChanged(Ct=>vt.next(Ct),Ct=>vt.error(Ct),()=>vt.complete()))}))));this.authState=it.pipe(rm(rt),(0,sm.R)(u.outsideAngular),(0,nm.Q)(u.insideAngular)),this.user=it.pipe(rm($e),(0,sm.R)(u.outsideAngular),(0,nm.Q)(u.insideAngular)),this.idToken=this.user.pipe(xn(je=>je?(0,fn.D)(je.getIdToken()):ot(null))),this.idTokenResult=this.user.pipe(xn(je=>je?(0,fn.D)(je.getIdTokenResult()):ot(null))),this.credential=(0,Of.T)(it,B,this.authState.pipe(ai(je=>!je))).pipe((0,Pt.U)(je=>(null==je?void 0:je.user)?je:null),(0,sm.R)(u.outsideAngular),(0,nm.Q)(u.insideAngular))}return(0,Ir.pX)(this,ie,l,{spy:{apply:(Ce,it,rt)=>{(Ce.startsWith("signIn")||Ce.startsWith("createUser"))&&rt.then($e=>B.next($e))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ir.Dh),s.LFG(Ir.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(ti.HU),s.LFG(yv,8),s.LFG(QI,8),s.LFG(JI,8),s.LFG(Im,8),s.LFG(XI,8),s.LFG(oC,8),s.LFG(Tm,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),aC=(()=>{class n{constructor(){Em.Z.registerVersion("angularfire",ti.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Uf]}),n})(),qo=(()=>{class n{constructor(e){this.fauth=e,this.userObs=new Cr(null)}logout(){return this.fauth.signOut()}register(e,i){return this.fauth.createUserWithEmailAndPassword(e,i)}login(e,i){return this.fauth.signInWithEmailAndPassword(e,i)}refreshData(e){this.userObs.next(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Uf))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lC=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return this.authService.userObs.subscribe(r=>{null==r?this.router.navigateByUrl("Login"):"administrador"!=r.rol&&this.router.navigateByUrl("")}),!0}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qo),s.LFG(Vn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zo=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return this.authService.userObs.subscribe(r=>{null==r&&this.router.navigateByUrl("Login")}),!0}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qo),s.LFG(Vn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cC=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),Su=(()=>{class n extends cC{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const uo=new s.OlP("NgValueAccessor"),bv={provide:uo,useExisting:(0,s.Gpc)(()=>Sm),multi:!0};let Sm=(()=>{class n extends Su{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(l){return i.onChange(l.target.checked)})("blur",function(){return i.onTouched()})},features:[s._Bn([bv]),s.qOj]}),n})();const wv={provide:uo,useExisting:(0,s.Gpc)(()=>hl),multi:!0},eD=new s.OlP("CompositionEventMode");let hl=(()=>{class n extends cC{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Bf(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(eD,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[s._Bn([wv]),s.qOj]}),n})();function fl(n){return null==n||0===n.length}function Cv(n){return null!=n&&"number"==typeof n.length}const lr=new s.OlP("NgValidators"),cc=new s.OlP("NgAsyncValidators"),Tv=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Jt{static min(t){return function uC(n){return t=>{if(fl(t.value)||fl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Ev(n){return t=>{if(fl(t.value)||fl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return xu(t)}static requiredTrue(t){return function Iv(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function dC(n){return fl(n.value)||Tv.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function hC(n){return t=>fl(t.value)||!Cv(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Au(n){return t=>Cv(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function fC(n){if(!n)return xm;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(fl(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Sv(t)}static composeAsync(t){return _C(t)}}function xu(n){return fl(n.value)?{required:!0}:null}function xm(n){return null}function pC(n){return null!=n}function gC(n){const t=(0,s.QGY)(n)?(0,fn.D)(n):n;return(0,s.CqO)(t),t}function Go(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Am(n,t){return t.map(e=>e(n))}function Dv(n){return n.map(t=>function mC(n){return!n.validate}(t)?t:e=>t.validate(e))}function Sv(n){if(!n)return null;const t=n.filter(pC);return 0==t.length?null:function(e){return Go(Am(e,t))}}function Mm(n){return null!=n?Sv(Dv(n)):null}function _C(n){if(!n)return null;const t=n.filter(pC);return 0==t.length?null:function(e){return function Dm(...n){const t=(0,Wa.jO)(n),{args:e,keys:i}=Nn(n),r=new mn.y(l=>{const{length:u}=e;if(!u)return void l.complete();const f=new Array(u);let _=u,w=u;for(let D=0;D<u;D++){let A=!1;(0,ba.Xf)(e[D]).subscribe((0,Fn.x)(l,N=>{A||(A=!0,w--),f[D]=N},()=>_--,void 0,()=>{(!_||!A)&&(w||l.next(i?ru(i,f):f),l.complete())}))}});return t?r.pipe(ql(t)):r}(Am(e,t).map(gC)).pipe((0,Pt.U)(Go))}}function xv(n){return null!=n?_C(Dv(n)):null}function yC(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function vC(n){return n._rawValidators}function Av(n){return n._rawAsyncValidators}function bC(n){return n?Array.isArray(n)?n:[n]:[]}function Hf(n,t){return Array.isArray(n)?n.includes(t):n===t}function wC(n,t){const e=bC(t);return bC(n).forEach(r=>{Hf(e,r)||e.push(r)}),e}function CC(n,t){return bC(t).filter(e=>!Hf(n,e))}class tD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Mm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=xv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Mu extends tD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cr extends tD{get formDirective(){return null}get path(){return null}}class TC{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let uc=(()=>{class n extends TC{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Mu,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[s.qOj]}),n})(),$r=(()=>{class n extends TC{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(cr,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[s.qOj]}),n})();function km(n,t){return[...t.path,n]}function dc(n,t){Ov(n,t),t.valueAccessor.writeValue(n.value),function kv(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&uh(n,t)})}(n,t),function Sr(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Aa(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&uh(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function jf(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function pl(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Rm(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Pm(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Ov(n,t){const e=vC(n);null!==t.validator?n.setValidators(yC(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Av(n);null!==t.asyncValidator?n.setAsyncValidators(yC(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Pm(t._rawValidators,r),Pm(t._rawAsyncValidators,r)}function Rm(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=vC(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(u=>u!==t.validator);l.length!==r.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const r=Av(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(u=>u!==t.asyncValidator);l.length!==r.length&&(e=!0,n.setAsyncValidators(l))}}}const i=()=>{};return Pm(t._rawValidators,i),Pm(t._rawAsyncValidators,i),e}function uh(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function fc(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function pc(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(l=>{l.constructor===hl?e=l:function dh(n){return Object.getPrototypeOf(n.constructor)===Su}(l)?i=l:r=l}),r||i||e||null}function gc(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const hh="VALID",Gf="INVALID",Pu="PENDING",fh="DISABLED";function Fm(n){return(Vm(n)?n.validators:n)||null}function Rv(n){return Array.isArray(n)?Mm(n):n||null}function Lm(n,t){return(Vm(t)?t.asyncValidators:n)||null}function Nv(n){return Array.isArray(n)?xv(n):n||null}function Vm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Um=n=>n instanceof $f,Bm=n=>n instanceof zf,Fv=n=>n instanceof PC;function Lv(n){return Um(n)?n.value:n.getRawValue()}function OC(n,t){const e=Bm(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[t])throw new s.vHH(1001,"")}function kC(n,t){Bm(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new s.vHH(1002,"")})}class Hm{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Rv(this._rawValidators),this._composedAsyncValidatorFn=Nv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===hh}get invalid(){return this.status===Gf}get pending(){return this.status==Pu}get disabled(){return this.status===fh}get enabled(){return this.status!==fh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Rv(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Nv(t)}addValidators(t){this.setValidators(wC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(wC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(CC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(CC(t,this._rawAsyncValidators))}hasValidator(t){return Hf(this._rawValidators,t)}hasAsyncValidator(t){return Hf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Pu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=fh,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=hh,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hh||this.status===Pu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fh:hh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Pu,this._hasOwnPendingAsyncValidator=!0;const e=gC(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function MC(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=Bm(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:Fv(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?fh:this.errors?Gf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pu)?Pu:this._anyControlsHaveStatus(Gf)?Gf:hh}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Vm(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class $f extends Hm{constructor(t=null,e,i){super(Fm(e),Lm(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vm(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){gc(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){gc(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class zf extends Hm{constructor(t,e,i){super(Fm(e),Lm(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){kC(this,t),Object.keys(t).forEach(i=>{OC(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=Lv(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,l)=>{i=e(i,r,l)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class PC extends Hm{constructor(t,e,i){super(Fm(e),Lm(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){kC(this,t),t.forEach((i,r)=>{OC(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>Lv(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const FC={provide:Mu,useExisting:(0,s.Gpc)(()=>ph)},uD=(()=>Promise.resolve(null))();let ph=(()=>{class n extends Mu{constructor(e,i,r,l,u){super(),this._changeDetectorRef=u,this.control=new $f,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=pc(0,l)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),fc(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){dc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){uD.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;uD.then(()=>{var l;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}_getPath(e){return this._parent?km(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(cr,9),s.Y36(lr,10),s.Y36(cc,10),s.Y36(uo,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([FC]),s.qOj,s.TTD]}),n})(),Ma=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const dD={provide:uo,useExisting:(0,s.Gpc)(()=>Wf),multi:!0};let Wf=(()=>{class n extends Su{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},features:[s._Bn([dD]),s.qOj]}),n})(),Yf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Bv=new s.OlP("NgModelWithFormControlWarning"),UC={provide:cr,useExisting:(0,s.Gpc)(()=>Ru)};let Ru=(()=>{class n extends cr{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return dc(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){pl(e.control||null,e,!1),gc(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function ku(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(pl(i||null,e),Um(r)&&(dc(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function hc(n,t){Ov(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Nm(n,t){return Rm(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ov(this.form,this),this._oldForm&&Rm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(lr,10),s.Y36(cc,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([UC]),s.qOj,s.TTD]}),n})();const _D={provide:Mu,useExisting:(0,s.Gpc)(()=>Kf)};let Kf=(()=>{class n extends Mu{constructor(e,i,r,l,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=pc(0,l)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),fc(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return km(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(cr,13),s.Y36(lr,10),s.Y36(cc,10),s.Y36(uo,10),s.Y36(Bv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([_D]),s.qOj,s.TTD]}),n})();const Qf={provide:uo,useExisting:(0,s.Gpc)(()=>Nu),multi:!0};function jv(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Nu=(()=>{class n extends Su{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=jv(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function qv(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([Qf]),s.qOj]}),n})(),Zv=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(jv(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(Nu,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const $m={provide:uo,useExisting:(0,s.Gpc)(()=>$v),multi:!0};function Jf(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let $v=(()=>{class n extends Su{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(l=>this._getOptionId(l));i=(l,u)=>{l._setSelected(r.indexOf(u.toString())>-1)}}else i=(r,l)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],l=i.selectedOptions;if(void 0!==l){const u=l;for(let f=0;f<u.length;f++){const w=this._getOptionValue(u[f].value);r.push(w)}}else{const u=i.options;for(let f=0;f<u.length;f++){const _=u[f];if(_.selected){const w=this._getOptionValue(_.value);r.push(w)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function Gv(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(l){return i.onChange(l.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[s._Bn([$m]),s.qOj]}),n})(),gh=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Jf(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Jf(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36($v,9))},n.\u0275dir=s.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),gl=(()=>{class n{constructor(){this._validator=xm}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):xm,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const yD={provide:lr,useExisting:(0,s.Gpc)(()=>_c),multi:!0};let _c=(()=>{class n extends gl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function zv(n){return null!=n&&!1!==n&&"false"!=`${n}`}(e),this.createValidator=e=>xu}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([yD]),s.qOj]}),n})(),e0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Yf]]}),n})(),YC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[e0]}),n})(),t0=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Bv,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[e0]}),n})(),Ym=(()=>{class n{group(e,i=null){const r=this._reduceControls(e);let f,l=null,u=null;return null!=i&&(function ZA(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(l=null!=i.validators?i.validators:null,u=null!=i.asyncValidators?i.asyncValidators:null,f=null!=i.updateOn?i.updateOn:void 0):(l=null!=i.validator?i.validator:null,u=null!=i.asyncValidator?i.asyncValidator:null)),new zf(r,{asyncValidators:u,updateOn:f,validators:l})}control(e,i,r){return new $f(e,i,r)}array(e,i,r){const l=e.map(u=>this._createControl(u));return new PC(l,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return Um(e)||Bm(e)||Fv(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:t0}),n})();var ep=P(4986);function Km(){return(0,qn.e)((n,t)=>{let e,i=!1;n.subscribe((0,Fn.x)(t,r=>{const l=e;e=r,i&&t.next([l,r]),i=!0}))})}function wi(n,t=rs.y){return n=null!=n?n:KC,(0,qn.e)((e,i)=>{let r,l=!0;e.subscribe((0,Fn.x)(i,u=>{const f=t(u);(l||!n(r,f))&&(l=!1,r=f,i.next(u))}))})}function KC(n,t){return n===t}P(8775);var st,QC=P(3942),JC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ml={},Qm=Qm||{},xt=JC||self;function Jm(){}function n0(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function mh(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Xm="closure_uid_"+(1e9*Math.random()>>>0),zA=0;function r0(n,t,e){return n.call.apply(n.bind,arguments)}function s0(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Tn(n,t,e){return(Tn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?r0:s0).apply(null,arguments)}function e_(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Yi(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,l){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return t.prototype[r].apply(i,u)}}function ur(){this.s=this.s,this.o=this.o}var Wo={};ur.prototype.s=!1,ur.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function CD(n){return Object.prototype.hasOwnProperty.call(n,Xm)&&n[Xm]||(n[Xm]=++zA)}(this);delete Wo[n]}},ur.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const o0=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},a0=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let l=0;l<i;l++)l in r&&t.call(e,r[l],l,n)};function XC(n){return Array.prototype.concat.apply([],arguments)}function l0(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function t_(n){return/^[\s\xa0]*$/.test(n)}var xr,n_=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Bi(n,t){return-1!=n.indexOf(t)}function c0(n,t){return n<t?-1:n>t?1:0}e:{var eT=xt.navigator;if(eT){var u0=eT.userAgent;if(u0){xr=u0;break e}}xr=""}function i_(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function tp(n){const t={};for(const e in n)t[e]=n[e];return t}var tT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function d0(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let l=0;l<tT.length;l++)e=tT[l],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function r_(n){return r_[" "](n),n}r_[" "]=Jm;var np,n,s_=Bi(xr,"Opera"),yc=Bi(xr,"Trident")||Bi(xr,"MSIE"),f0=Bi(xr,"Edge"),o_=f0||yc,p0=Bi(xr,"Gecko")&&!(Bi(xr.toLowerCase(),"webkit")&&!Bi(xr,"Edge"))&&!(Bi(xr,"Trident")||Bi(xr,"MSIE"))&&!Bi(xr,"Edge"),nT=Bi(xr.toLowerCase(),"webkit")&&!Bi(xr,"Edge");function g0(){var n=xt.document;return n?n.documentMode:void 0}e:{var a_="",m0=(n=xr,p0?/rv:([^\);]+)(\)|;)/.exec(n):f0?/Edge\/([\d\.]+)/.exec(n):yc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):nT?/WebKit\/(\S+)/.exec(n):s_?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(m0&&(a_=m0?m0[1]:""),yc){var _0=g0();if(null!=_0&&_0>parseFloat(a_)){np=String(_0);break e}}np=a_}var ED={};var DD=xt.document&&yc&&(g0()||parseInt(np,10))||void 0,SD=function(){if(!xt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{xt.addEventListener("test",Jm,t),xt.removeEventListener("test",Jm,t)}catch(e){}return n}();function Ar(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function ip(n,t){if(Ar.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(p0){e:{try{r_(t.nodeName);var r=!0;break e}catch(l){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:xD[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ip.Z.h.call(this)}}Ar.prototype.h=function(){this.defaultPrevented=!0},Yi(ip,Ar);var xD={2:"touch",3:"pen",4:"mouse"};ip.prototype.h=function(){ip.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var rp="closure_listenable_"+(1e6*Math.random()|0),AD=0;function MD(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++AD,this.ca=this.fa=!1}function l_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function c_(n){this.src=n,this.g={},this.h=0}function v0(n,t){var e=t.type;if(e in n.g){var l,i=n.g[e],r=o0(i,t);(l=0<=r)&&Array.prototype.splice.call(i,r,1),l&&(l_(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function b0(n,t,e,i){for(var r=0;r<n.length;++r){var l=n[r];if(!l.ca&&l.listener==t&&l.capture==!!e&&l.ia==i)return r}return-1}c_.prototype.add=function(n,t,e,i,r){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var u=b0(n,t,i,r);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new MD(t,this.src,l,!!i,r)).fa=e,n.push(t)),t};var u_="closure_lm_"+(1e6*Math.random()|0),d_={};function w0(n,t,e,i,r){if(i&&i.once)return T0(n,t,e,i,r);if(Array.isArray(t)){for(var l=0;l<t.length;l++)w0(n,t[l],e,i,r);return null}return e=D0(e),n&&n[rp]?n.N(t,e,mh(i)?!!i.capture:!!i,r):C0(n,t,e,!1,i,r)}function C0(n,t,e,i,r,l){if(!t)throw Error("Invalid event type");var u=mh(r)?!!r.capture:!!r,f=f_(n);if(f||(n[u_]=f=new c_(n)),(e=f.add(t,e,i,u,l)).proxy)return e;if(i=function rT(){var t=sT;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)SD||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(I0(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function T0(n,t,e,i,r){if(Array.isArray(t)){for(var l=0;l<t.length;l++)T0(n,t[l],e,i,r);return null}return e=D0(e),n&&n[rp]?n.O(t,e,mh(i)?!!i.capture:!!i,r):C0(n,t,e,!0,i,r)}function E0(n,t,e,i,r){if(Array.isArray(t))for(var l=0;l<t.length;l++)E0(n,t[l],e,i,r);else i=mh(i)?!!i.capture:!!i,e=D0(e),n&&n[rp]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=b0(l=n.g[t],e,i,r))&&(l_(l[e]),Array.prototype.splice.call(l,e,1),0==l.length&&(delete n.g[t],n.h--))):n&&(n=f_(n))&&(t=n.g[t.toString()],n=-1,t&&(n=b0(t,e,i,r)),(e=-1<n?t[n]:null)&&h_(e))}function h_(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[rp])v0(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(I0(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=f_(t))?(v0(e,n),0==e.h&&(e.src=null,t[u_]=null)):l_(n)}}}function I0(n){return n in d_?d_[n]:d_[n]="on"+n}function sT(n,t){if(n.ca)n=!0;else{t=new ip(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&h_(n),n=e.call(i,t)}return n}function f_(n){return(n=n[u_])instanceof c_?n:null}var _l="__closure_events_fn_"+(1e9*Math.random()>>>0);function D0(n){return"function"==typeof n?n:(n[_l]||(n[_l]=function(t){return n.handleEvent(t)}),n[_l])}function Ki(){ur.call(this),this.i=new c_(this),this.P=this,this.I=null}function ni(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Ar(t,n);else if(t instanceof Ar)t.target=t.target||n;else{var r=t;d0(t=new Ar(i,n),r)}if(r=!0,e)for(var l=e.length-1;0<=l;l--){var u=t.g=e[l];r=S0(u,i,!0,t)&&r}if(r=S0(u=t.g=n,i,!0,t)&&r,r=S0(u,i,!1,t)&&r,e)for(l=0;l<e.length;l++)r=S0(u=t.g=e[l],i,!1,t)&&r}function S0(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,l=0;l<t.length;++l){var u=t[l];if(u&&!u.ca&&u.capture==e){var f=u.listener,_=u.ia||u.src;u.fa&&v0(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}Yi(Ki,ur),Ki.prototype[rp]=!0,Ki.prototype.removeEventListener=function(n,t,e,i){E0(this,n,t,e,i)},Ki.prototype.M=function(){if(Ki.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)l_(e[i]);delete n.g[t],n.h--}}this.I=null},Ki.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Ki.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var sp=xt.JSON.stringify;function WA(){var n=aT;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var M0,x0=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new YA,n=>n.reset());class YA{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Et(n){xt.setTimeout(()=>{throw n},0)}function A0(n,t){M0||function OD(){var n=xt.Promise.resolve(void 0);M0=function(){n.then(p_)}}(),_h||(M0(),_h=!0),aT.add(n,t)}var _h=!1,aT=new class oT{constructor(){this.h=this.g=null}add(t,e){const i=x0.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function p_(){for(var n;n=WA();){try{n.h.call(n.g)}catch(e){Et(e)}var t=x0;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}_h=!1}function Fu(n,t){Ki.call(this),this.h=n||1,this.g=t||xt,this.j=Tn(this.kb,this),this.l=Date.now()}function Un(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function lT(n,t,e){if("function"==typeof n)e&&(n=Tn(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Tn(n.handleEvent,n)}return 2147483647<Number(t)?-1:xt.setTimeout(n,t||0)}function O0(n){n.g=lT(()=>{n.g=null,n.i&&(n.i=!1,O0(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Yi(Fu,Ki),(st=Fu.prototype).da=!1,st.S=null,st.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ni(this,"tick"),this.da&&(Un(this),this.start()))}},st.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},st.M=function(){Fu.Z.M.call(this),Un(this),delete this.g};class kD extends ur{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:O0(this)}M(){super.M(),this.g&&(xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function op(n){ur.call(this),this.h=n,this.g={}}Yi(op,ur);var k0=[];function P0(n,t,e,i){Array.isArray(e)||(e&&(k0[0]=e.toString()),e=k0);for(var r=0;r<e.length;r++){var l=w0(t,e[r],i||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function R0(n){i_(n.g,function(t,e){this.g.hasOwnProperty(e)&&h_(t)},n),n.g={}}function ap(){this.g=!0}function yh(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function ND(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var l=r[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var u=1;u<r.length;u++)r[u]=""}}}return sp(e)}catch(f){return t}}(n,e)+(i?" "+i:"")})}op.prototype.M=function(){op.Z.M.call(this),R0(this)},op.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ap.prototype.Aa=function(){this.g=!1},ap.prototype.info=function(){};var Lu={},cT=null;function Vu(){return cT=cT||new Ki}function N0(n){Ar.call(this,Lu.Ma,n)}function vh(n){const t=Vu();ni(t,new N0(t,n))}function F0(n,t){Ar.call(this,Lu.STAT_EVENT,n),this.stat=t}function zr(n){const t=Vu();ni(t,new F0(t,n))}function bh(n,t){Ar.call(this,Lu.Na,n),this.size=t}function yl(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return xt.setTimeout(function(){n()},t)}Lu.Ma="serverreachability",Yi(N0,Ar),Lu.STAT_EVENT="statevent",Yi(F0,Ar),Lu.Na="timingevent",Yi(bh,Ar);var g_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},uT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function L0(){}function U0(){}L0.prototype.h=null;var H0,wh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function B0(){Ar.call(this,"d")}function m_(){Ar.call(this,"c")}function __(){}function y_(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new op(this),this.P=KA,this.W=new Fu(n=o_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new FD}function FD(){this.i=null,this.g="",this.h=!1}Yi(B0,Ar),Yi(m_,Ar),Yi(__,L0),__.prototype.g=function(){return new XMLHttpRequest},__.prototype.i=function(){return{}},H0=new __;var KA=45e3,dT={},cp={};function Ch(n,t,e){n.K=1,n.v=T_(Oa(t)),n.s=e,n.U=!0,hT(n,null)}function hT(n,t){n.F=Date.now(),dp(n),n.A=Oa(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),z0(e.h,"t",i),n.C=0,e=n.l.H,n.h=new FD,n.g=ob(n.l,e?t:null,!n.s),0<n.O&&(n.L=new kD(Tn(n.Ia,n,n.g),n.O)),P0(n.V,n.g,"readystatechange",n.gb),t=n.H?tp(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),vh(1),function PD(n,t,e,i,r,l){n.info(function(){if(n.g)if(l)for(var u="",f=l.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var D=w[0];w=w[1];var A=D.split("_");u=2<=A.length&&"type"==A[1]?u+(D+"=")+w+"&":u+(D+"=redacted&")}}else u=null;else u=l;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function fT(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function j0(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=up(n,e),r==cp){4==t&&(n.o=4,zr(14),i=!1),yh(n.j,n.m,null,"[Incomplete Response]");break}if(r==dT){n.o=4,zr(15),yh(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}yh(n.j,n.m,r,null),b_(n,r)}fT(n)&&r!=cp&&r!=dT&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,zr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),k_(t),t.L=!0,zr(11))):(yh(n.j,n.m,e,"[Invalid Chunked Response]"),Uu(n),hp(n))}function up(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?cp:(e=Number(t.substring(e,i)),isNaN(e)?dT:(i+=1)+e>t.length?cp:(t=t.substr(i,e),n.C=i+e,t))}function dp(n){n.Y=Date.now()+n.P,pT(n,n.P)}function pT(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=yl(Tn(n.eb,n),t)}function v_(n){n.B&&(xt.clearTimeout(n.B),n.B=null)}function hp(n){0==n.l.G||n.I||rb(n.l,n)}function Uu(n){v_(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,Un(n.W),R0(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function b_(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||gp(e.i,n)))if(e.I=n.N,!n.J&&gp(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(w){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=yl(Tn(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;ib(e),M_(e)}MT(e),zr(18)}if(1>=E_(e.i)&&e.ka){try{e.ka()}catch(w){}e.ka=void 0}}else Cc(e,11)}else if((n.J||e.g==n)&&ib(e),!t_(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let w=r[t];if(e.U=w[0],w=w[1],2==e.G)if("c"==w[0]){e.J=w[1],e.la=w[2];const D=w[3];null!=D&&(e.ma=D,e.h.info("VER="+e.ma));const A=w[4];null!=A&&(e.za=A,e.h.info("SVER="+e.za));const N=w[5];null!=N&&"number"==typeof N&&0<N&&(e.K=i=1.5*N,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const V=n.g;if(V){const B=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var l=i.i;!l.g&&(Bi(B,"spdy")||Bi(B,"quic")||Bi(B,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(I_(l,l.h),l.h=null))}if(i.D){const ie=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;ie&&(i.sa=ie,Mn(i.F,i.D,ie))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=sb(i,i.H?i.la:null,i.W),u.J){D_(i.i,u);var f=u,_=i.K;_&&f.setTimeout(_),f.B&&(v_(f),dp(f)),i.g=u}else ju(i);0<e.l.length&&tb(e)}else"stop"!=w[0]&&"close"!=w[0]||Cc(e,7);else 3==e.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Cc(e,7):X0(e):"noop"!=w[0]&&e.j&&e.j.wa(w),e.A=0)}vh(4)}catch(w){}}function q0(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(n0(n)||"string"==typeof n)a0(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(n0(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function LD(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(n0(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var l=0;l<r;l++)t.call(void 0,i[l],e&&e[l],n)}}function Yo(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Yo)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function Z0(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];vc(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)vc(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function vc(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(st=y_.prototype).setTimeout=function(n){this.P=n},st.gb=function(n){n=n.target;const t=this.L;t&&3==Ko(n)?t.l():this.Ia(n)},st.Ia=function(n){try{if(n==this.g)e:{const D=Ko(this.g);var t=this.g.Da();const A=this.g.ba();if(!(3>D)&&(3!=D||o_||this.g&&(this.h.h||this.g.ga()||yp(this.g)))){this.I||4!=D||7==t||vh(8==t||0>=A?3:2),v_(this);var e=this.g.ba();this.N=e;t:if(fT(this)){var i=yp(this.g);n="";var r=i.length,l=4==Ko(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Uu(this),hp(this);var u="";break t}this.h.i=new xt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:l&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function RD(n,t,e,i,r,l,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+l+" "+u})}(this.j,this.u,this.A,this.m,this.X,D,e),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!t_(f)){var w=f;break t}}w=null}if(!(e=w)){this.i=!1,this.o=3,zr(12),Uu(this),hp(this);break e}yh(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,b_(this,e)}this.U?(j0(this,D,u),o_&&this.i&&3==D&&(P0(this.V,this.W,"tick",this.fb),this.W.start())):(yh(this.j,this.m,u,null),b_(this,u)),4==D&&Uu(this),this.i&&!this.I&&(4==D?rb(this.l,this):(this.i=!1,dp(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,zr(12)):(this.o=0,zr(13)),Uu(this),hp(this)}}}catch(D){}},st.fb=function(){if(this.g){var n=Ko(this.g),t=this.g.ga();this.C<t.length&&(v_(this),j0(this,n,t),this.i&&4!=n&&dp(this))}},st.cancel=function(){this.I=!0,Uu(this)},st.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function lp(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(vh(3),zr(17)),Uu(this),this.o=2,hp(this)):pT(this,this.Y-n)},(st=Yo.prototype).R=function(){Z0(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},st.T=function(){return Z0(this),this.g.concat()},st.get=function(n,t){return vc(this.h,n)?this.h[n]:t},st.set=function(n,t){vc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},st.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],l=this.get(r);n.call(t,l,r,this)}};var gT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bu(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Bu){this.g=void 0!==t?t:n.g,w_(this,n.j),this.s=n.s,Th(this,n.i),C_(this,n.m),this.l=n.l,t=n.h;var e=new pp;e.i=t.i,t.g&&(e.g=new Yo(t.g),e.h=t.h),G0(this,e),this.o=n.o}else n&&(e=String(n).match(gT))?(this.g=!!t,w_(this,e[1]||"",!0),this.s=Hu(e[2]||""),Th(this,e[3]||"",!0),C_(this,e[4]),this.l=Hu(e[5]||"",!0),G0(this,e[6]||"",!0),this.o=Hu(e[7]||"")):(this.g=!!t,this.h=new pp(null,this.g))}function Oa(n){return new Bu(n)}function w_(n,t,e){n.j=e?Hu(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Th(n,t,e){n.i=e?Hu(t,!0):t}function C_(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function G0(n,t,e){t instanceof pp?(n.h=t,function ZD(n,t){t&&!n.j&&(bc(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(vT(this,i),z0(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=fp(t,jD)),n.h=new pp(t,n.g))}function Mn(n,t,e){n.h.set(t,e)}function T_(n){return Mn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Hu(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function fp(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,_T),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function _T(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Bu.prototype.toString=function(){var n=[],t=this.j;t&&n.push(fp(t,yT,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(fp(t,yT,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(fp(e,"/"==e.charAt(0)?HD:BD,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",fp(e,qD)),n.join("")};var yT=/[#\/\?@]/g,BD=/[#\?:]/g,HD=/[#\?]/g,jD=/[#\?@]/g,qD=/#/g;function pp(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function bc(n){n.g||(n.g=new Yo,n.h=0,n.i&&function mT(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var l=n[e].substring(0,i);r=n[e].substring(i+1)}else l=n[e];t(l,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function vT(n,t){bc(n),t=Eh(n,t),vc(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,vc((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&Z0(n)))}function $0(n,t){return bc(n),t=Eh(n,t),vc(n.g.h,t)}function z0(n,t,e){vT(n,t),0<e.length&&(n.i=null,n.g.set(Eh(n,t),l0(e)),n.h+=e.length)}function Eh(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function wT(n){this.l=n||GD,n=xt.PerformanceNavigationTiming?0<(n=xt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(xt.g&&xt.g.Ea&&xt.g.Ea()&&xt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(st=pp.prototype).add=function(n,t){bc(this),this.i=null,n=Eh(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},st.forEach=function(n,t){bc(this),this.g.forEach(function(e,i){a0(e,function(r){n.call(t,r,i,this)},this)},this)},st.T=function(){bc(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],l=0;l<r.length;l++)e.push(t[i]);return e},st.R=function(n){bc(this);var t=[];if("string"==typeof n)$0(this,n)&&(t=XC(t,this.g.get(Eh(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=XC(t,n[e])}return t},st.set=function(n,t){return bc(this),this.i=null,$0(this,n=Eh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},st.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},st.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var l=0;l<i.length;l++){var u=r;""!==i[l]&&(u+="="+encodeURIComponent(String(i[l]))),n.push(u)}}return this.i=n.join("&")};var GD=10;function CT(n){return!!n.h||!!n.g&&n.g.size>=n.j}function E_(n){return n.h?1:n.g?n.g.size:0}function gp(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function I_(n,t){n.g?n.g.add(t):n.h=t}function D_(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function TT(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return l0(n.i)}function W0(){}function Y0(){this.g=new W0}function $D(n,t,e){const i=e||"";try{q0(n,function(r,l){let u=r;mh(r)&&(u=sp(r)),t.push(i+l+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function S_(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(l){}}function Ih(n){this.l=n.$b||null,this.j=n.ib||!1}function x_(n,t){Ki.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=A_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wT.prototype.cancel=function(){if(this.i=TT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},W0.prototype.stringify=function(n){return xt.JSON.stringify(n,void 0)},W0.prototype.parse=function(n){return xt.JSON.parse(n,void 0)},Yi(Ih,L0),Ih.prototype.g=function(){return new x_(this.l,this.j)},Ih.prototype.i=function(n){return function(){return n}}({}),Yi(x_,Ki);var A_=0;function zD(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function mp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,wc(n)}function wc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(st=x_.prototype).open=function(n,t){if(this.readyState!=A_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,wc(this)},st.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||xt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},st.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mp(this)),this.readyState=A_},st.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,wc(this)),this.g&&(this.readyState=3,wc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==xt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zD(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},st.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?mp(this):wc(this),3==this.readyState&&zD(this)}},st.Ua=function(n){this.g&&(this.response=this.responseText=n,mp(this))},st.Ta=function(n){this.g&&(this.response=n,mp(this))},st.ha=function(){this.g&&mp(this)},st.setRequestHeader=function(n,t){this.v.append(n,t)},st.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},st.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(x_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var WD=xt.JSON.parse;function On(n){Ki.call(this),this.headers=new Yo,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Dh,this.K=this.L=!1}Yi(On,Ki);var Dh="",YD=/^https?$/i,QA=["POST","PUT"];function KD(n){return"content-type"==n.toLowerCase()}function DT(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,ST(n),_p(n)}function ST(n){n.D||(n.D=!0,ni(n,"complete"),ni(n,"error"))}function xT(n){if(n.h&&void 0!==Qm&&(!n.C[1]||4!=Ko(n)||2!=n.ba()))if(n.v&&4==Ko(n))lT(n.Fa,0,n);else if(ni(n,"readystatechange"),4==Ko(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===f){var r=String(n.H).match(gT)[1]||null;if(!r&&xt.self&&xt.self.location){var l=xt.self.location.protocol;r=l.substr(0,l.length-1)}i=!YD.test(r?r.toLowerCase():"")}e=i}if(e)ni(n,"complete"),ni(n,"success");else{n.m=6;try{var u=2<Ko(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",ST(n)}}finally{_p(n)}}}function _p(n,t){if(n.g){K0(n);const e=n.g,i=n.C[0]?Jm:null;n.g=null,n.C=null,t||ni(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function K0(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(xt.clearTimeout(n.A),n.A=null)}function Ko(n){return n.g?n.g.readyState:0}function yp(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Dh:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Q0(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function vp(n){let t="";return i_(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Mn(n,t,e))}function Sh(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function J0(n){this.za=0,this.l=[],this.h=new ap,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Sh("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Sh("baseRetryDelayMs",5e3,n),this.$a=Sh("retryDelaySeedMs",1e4,n),this.Ya=Sh("forwardChannelMaxRetries",2,n),this.ra=Sh("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new wT(n&&n.concurrentRequestLimit),this.Ca=new Y0,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function X0(n){if(O_(n),3==n.G){var t=n.V++,e=Oa(n.F);Mn(e,"SID",n.J),Mn(e,"RID",t),Mn(e,"TYPE","terminate"),ka(n,e),(t=new y_(n,n.h,t,void 0)).K=2,t.v=T_(Oa(e)),e=!1,xt.navigator&&xt.navigator.sendBeacon&&(e=xt.navigator.sendBeacon(t.v.toString(),"")),!e&&xt.Image&&((new Image).src=t.v,e=!0),e||(t.g=ob(t.l,null),t.g.ea(t.v)),t.F=Date.now(),dp(t)}P_(n)}function M_(n){n.g&&(k_(n),n.g.cancel(),n.g=null)}function O_(n){M_(n),n.u&&(xt.clearTimeout(n.u),n.u=null),ib(n),n.i.cancel(),n.m&&("number"==typeof n.m&&xt.clearTimeout(n.m),n.m=null)}function eb(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&tb(n)}function tb(n){CT(n.i)||n.m||(n.m=!0,A0(n.Ha,n),n.C=0)}function AT(n,t){var e;e=t?t.m:n.V++;const i=Oa(n.F);Mn(i,"SID",n.J),Mn(i,"RID",e),Mn(i,"AID",n.U),ka(n,i),n.o&&n.s&&Q0(i,n.o,n.s),e=new y_(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=nb(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),I_(n.i,e),Ch(e,i,t)}function ka(n,t){n.j&&q0({},function(e,i){Mn(t,i,e)})}function nb(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Tn(n.j.Oa,n.j,n):null;e:{var r=n.l;let l=-1;for(;;){const u=["count="+e];-1==l?0<e?(l=r[0].h,u.push("ofs="+l)):l=0:u.push("ofs="+l);let f=!0;for(let _=0;_<e;_++){let w=r[_].h;const D=r[_].g;if(w-=l,0>w)l=Math.max(0,r[_].h-100),f=!1;else try{$D(D,u,"req"+w+"_")}catch(A){i&&i(D)}}if(f){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function ju(n){n.g||n.u||(n.Y=1,A0(n.Ga,n),n.A=0)}function MT(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=yl(Tn(n.Ga,n),JD(n,n.A)),n.A++,0))}function k_(n){null!=n.B&&(xt.clearTimeout(n.B),n.B=null)}function OT(n){n.g=new y_(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Oa(n.oa);Mn(t,"RID","rpc"),Mn(t,"SID",n.J),Mn(t,"CI",n.N?"0":"1"),Mn(t,"AID",n.U),ka(n,t),Mn(t,"TYPE","xmlhttp"),n.o&&n.s&&Q0(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=T_(Oa(t)),e.s=null,e.U=!0,hT(e,n)}function ib(n){null!=n.v&&(xt.clearTimeout(n.v),n.v=null)}function rb(n,t){var e=null;if(n.g==t){ib(n),k_(n),n.g=null;var i=2}else{if(!gp(n.i,t))return;e=t.D,D_(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;ni(i=Vu(),new bh(i,e,t,r)),tb(n)}else ju(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function QD(n,t){return!(E_(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=yl(Tn(n.Ha,n,t),JD(n,n.C)),n.C++,0)))}(n,t)||2==i&&MT(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Cc(n,5);break;case 4:Cc(n,10);break;case 3:Cc(n,6);break;default:Cc(n,2)}}function JD(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Cc(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Tn(n.jb,n);e||(e=new Bu("//www.google.com/images/cleardot.gif"),xt.location&&"http"==xt.location.protocol||w_(e,"https"),T_(e)),function ET(n,t){const e=new ap;if(xt.Image){const i=new Image;i.onload=e_(S_,e,i,"TestLoadImage: loaded",!0,t),i.onerror=e_(S_,e,i,"TestLoadImage: error",!1,t),i.onabort=e_(S_,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=e_(S_,e,i,"TestLoadImage: timeout",!1,t),xt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else zr(2);n.G=0,n.j&&n.j.va(t),P_(n),O_(n)}function P_(n){n.G=0,n.I=-1,n.j&&((0!=TT(n.i).length||0!=n.l.length)&&(n.i.i.length=0,l0(n.l),n.l.length=0),n.j.ua())}function sb(n,t,e){let i=function VD(n){return n instanceof Bu?Oa(n):new Bu(n,void 0)}(e);if(""!=i.i)t&&Th(i,t+"."+i.i),C_(i,i.m);else{const r=xt.location;i=function UD(n,t,e,i){var r=new Bu(null,void 0);return n&&w_(r,n),t&&Th(r,t),e&&C_(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&i_(n.aa,function(r,l){Mn(i,l,r)}),e=n.sa,(t=n.D)&&e&&Mn(i,t,e),Mn(i,"VER",n.ma),ka(n,i),i}function ob(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new On(e&&n.Ba&&!n.qa?new Ih({ib:!0}):n.qa)).L=n.H,t}function ab(){}function bp(){if(yc&&!(10<=Number(DD)))throw Error("Environmental error: no available transport.")}function hs(n,t){Ki.call(this),this.g=new J0(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!t_(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!t_(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new xh(this)}function kT(n){B0.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function lb(){m_.call(this),this.status=1}function xh(n){this.g=n}(st=On.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():H0.g(),this.C=function V0(n){return n.h||(n.h=n.i())}(this.u?this.u:H0),this.g.onreadystatechange=Tn(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(l){return void DT(this,l)}n=e||"";const r=new Yo(this.headers);i&&q0(i,function(l,u){r.set(u,l)}),i=function TD(n){e:{var t=KD;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=xt.FormData&&n instanceof xt.FormData,!(0<=o0(QA,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(l,u){this.g.setRequestHeader(u,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{K0(this),0<this.B&&((this.K=function IT(n){return yc&&function ID(){return function h0(n){var t=ED;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=n_(String(np)).split("."),e=n_("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",l=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==r[0].length&&0==l[0].length)break;n=c0(0==r[1].length?0:parseInt(r[1],10),0==l[1].length?0:parseInt(l[1],10))||c0(0==r[2].length,0==l[2].length)||c0(r[2],l[2]),r=r[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tn(this.pa,this)):this.A=lT(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){DT(this,l)}},st.pa=function(){void 0!==Qm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ni(this,"timeout"),this.abort(8))},st.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ni(this,"complete"),ni(this,"abort"),_p(this))},st.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_p(this,!0)),On.Z.M.call(this)},st.Fa=function(){this.s||(this.F||this.v||this.l?xT(this):this.cb())},st.cb=function(){xT(this)},st.ba=function(){try{return 2<Ko(this)?this.g.status:-1}catch(n){return-1}},st.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},st.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),WD(t)}},st.Da=function(){return this.m},st.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(st=J0.prototype).ma=8,st.G=1,st.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},st.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new y_(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=tp(l),d0(l,this.P)):l=this.P),null===this.o&&(r.H=l),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=nb(this,r,t),Mn(e=Oa(this.F),"RID",n),Mn(e,"CVER",22),this.D&&Mn(e,"X-HTTP-Session-Id",this.D),ka(this,e),this.o&&l&&Q0(e,this.o,l),I_(this.i,r),this.Ra&&Mn(e,"TYPE","init"),this.ja?(Mn(e,"$req",t),Mn(e,"SID","null"),r.$=!0,Ch(r,e,null)):Ch(r,e,t),this.G=2}}else 3==this.G&&(n?AT(this,n):0==this.l.length||CT(this.i)||AT(this))},st.Ga=function(){if(this.u=null,OT(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=yl(Tn(this.bb,this),n)}},st.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,zr(10),M_(this),OT(this))},st.ab=function(){null!=this.v&&(this.v=null,M_(this),MT(this),zr(19))},st.jb=function(n){n?(this.h.info("Successfully pinged google.com"),zr(2)):(this.h.info("Failed to ping google.com"),zr(1))},(st=ab.prototype).xa=function(){},st.wa=function(){},st.va=function(){},st.ua=function(){},st.Oa=function(){},bp.prototype.g=function(n,t){return new hs(n,t)},Yi(hs,Ki),hs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),A0(Tn(n.hb,n,t))),zr(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=sb(n,null,n.W),tb(n)},hs.prototype.close=function(){X0(this.g)},hs.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,eb(this.g,t)}else this.v?((t={}).__data__=sp(n),eb(this.g,t)):eb(this.g,n)},hs.prototype.M=function(){this.g.j=null,delete this.j,X0(this.g),delete this.g,hs.Z.M.call(this)},Yi(kT,B0),Yi(lb,m_),Yi(xh,ab),xh.prototype.xa=function(){ni(this.g,"a")},xh.prototype.wa=function(n){ni(this.g,new kT(n))},xh.prototype.va=function(n){ni(this.g,new lb(n))},xh.prototype.ua=function(){ni(this.g,"b")},bp.prototype.createWebChannel=bp.prototype.g,hs.prototype.send=hs.prototype.u,hs.prototype.open=hs.prototype.m,hs.prototype.close=hs.prototype.close,g_.NO_ERROR=0,g_.TIMEOUT=8,g_.HTTP_ERROR=6,uT.COMPLETE="complete",U0.EventType=wh,wh.OPEN="a",wh.CLOSE="b",wh.ERROR="c",wh.MESSAGE="d",Ki.prototype.listen=Ki.prototype.N,On.prototype.listenOnce=On.prototype.O,On.prototype.getLastError=On.prototype.La,On.prototype.getLastErrorCode=On.prototype.Da,On.prototype.getStatus=On.prototype.ba,On.prototype.getResponseJson=On.prototype.Qa,On.prototype.getResponseText=On.prototype.ga,On.prototype.send=On.prototype.ea;var XD=ml.createWebChannelTransport=function(){return new bp},PT=ml.getStatEventTarget=function(){return Vu()},qu=ml.ErrorCode=g_,RT=ml.EventType=uT,NT=ml.Event=Lu,cb=ml.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},FT=ml.FetchXmlHttpFactory=Ih,wp=ml.WebChannel=U0,LT=ml.XhrIo=On;const VT="@firebase/firestore";class Qi{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qi.UNAUTHENTICATED=new Qi(null),Qi.GOOGLE_CREDENTIALS=new Qi("google-credentials-uid"),Qi.FIRST_PARTY=new Qi("first-party-uid"),Qi.MOCK_USER=new Qi("mock-user");let Ah="9.8.0";const Tc=new ac.Yd("@firebase/firestore");function ub(){return Tc.logLevel}function Le(n,...t){if(Tc.logLevel<=ac.in.DEBUG){const e=t.map(ho);Tc.debug(`Firestore (${Ah}): ${n}`,...e)}}function Ci(n,...t){if(Tc.logLevel<=ac.in.ERROR){const e=t.map(ho);Tc.error(`Firestore (${Ah}): ${n}`,...e)}}function Zu(n,...t){if(Tc.logLevel<=ac.in.WARN){const e=t.map(ho);Tc.warn(`Firestore (${Ah}): ${n}`,...e)}}function ho(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function ct(n="Unexpected state"){const t=`FIRESTORE (${Ah}) INTERNAL ASSERTION FAILED: `+n;throw Ci(t),new Error(t)}function kt(n,t){n||ct()}function Qe(n,t){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Ot.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ui{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class Tp{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class tS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Qi.UNAUTHENTICATED))}shutdown(){}}class nS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class UT{constructor(t){this.t=t,this.currentUser=Qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const l=w=>this.i!==r?(r=this.i,e(w)):Promise.resolve();let u=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ui,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const w=u;t.enqueueRetryable((0,we.Z)(function*(){yield w.promise,yield l(i.currentUser)}))},_=w=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ui)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(kt("string"==typeof i.accessToken),new Tp(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return kt(null===t||"string"==typeof t),new Qi(t)}}class BT{constructor(t,e,i){this.type="FirstParty",this.user=Qi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class db{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new BT(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Qi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iS{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=l=>{null!=l.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.p;return this.p=l.token,Le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>i(l))};const r=l=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>r(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?r(l):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(kt("string"==typeof e.token),this.p=e.token,new hb(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class fo{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.I(i),this.T=i=>e.writeSequenceNumber(i))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function fb(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}fo.A=-1;class R_{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=fb(40);for(let l=0;l<r.length;++l)i.length<20&&r[l]<e&&(i+=t.charAt(r[l]%t.length))}return i}}function Vt(n,t){return n<t?-1:n>t?1:0}function Ec(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function N_(n){return n+"\0"}class di{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return di.fromMillis(Date.now())}static fromDate(t){return di.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new di(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(t){this.timestamp=t}static fromTimestamp(t){return new At(t)}static min(){return new At(new di(0,0))}static max(){return new At(new di(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function HT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Gu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function pb(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class $u{constructor(t,e,i){void 0===e?e=0:e>t.length&&ct(),void 0===i?i=t.length-e:i>t.length-e&&ct(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===$u.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof $u?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const l=t.get(r),u=e.get(r);if(l<u)return-1;if(l>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Qt extends $u{construct(t,e,i){return new Qt(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Re(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Qt(e)}static emptyPath(){return new Qt([])}}const jT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ti extends $u{construct(t,e,i){return new Ti(t,e,i)}static isValidIdentifier(t){return jT.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ti.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ti(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const l=()=>{if(0===i.length)throw new Re(de.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const f=t[r];if("\\"===f){if(r+1===t.length)throw new Re(de.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Re(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(l(),r++)}if(l(),u)throw new Re(de.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ti(e)}static emptyPath(){return new Ti([])}}class zu{constructor(t){this.fields=t,t.sort(Ti.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ec(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Ei{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Ei(e)}static fromUint8Array(t){const e=function(i){let r="";for(let l=0;l<i.length;++l)r+=String.fromCharCode(i[l]);return r}(t);return new Ei(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ei.EMPTY_BYTE_STRING=new Ei("");const qT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ic(n){if(kt(!!n),"string"==typeof n){let t=0;const e=qT.exec(n);if(kt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Wn(n.seconds),nanos:Wn(n.nanos)}}function Wn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Dc(n){return"string"==typeof n?Ei.fromBase64String(n):Ei.fromUint8Array(n)}function dr(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Wu(n){const t=n.mapValue.fields.__previous_value__;return dr(t)?Wu(t):t}function Ep(n){const t=Ic(n.mapValue.fields.__local_write_time__.timestampValue);return new di(t.seconds,t.nanos)}class sS{constructor(t,e,i,r,l,u,f,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class Sc{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Sc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Sc&&t.projectId===this.projectId&&t.database===this.database}}function vl(n){return null==n}function Ip(n){return 0===n&&1/n==-1/0}function F_(n){return"number"==typeof n&&Number.isInteger(n)&&!Ip(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ge{constructor(t){this.path=t}static fromPath(t){return new Ge(Qt.fromString(t))}static fromName(t){return new Ge(Qt.fromString(t).popFirst(5))}static empty(){return new Ge(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Qt.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Qt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ge(new Qt(t.slice()))}}const bl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},L_={nullValue:"NULL_VALUE"};function Yu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dr(n)?4:U_(n)?9007199254740991:10:ct()}function po(n,t){if(n===t)return!0;const e=Yu(n);if(e!==Yu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Ep(n).isEqual(Ep(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const l=Ic(i.timestampValue),u=Ic(r.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Dc(n.bytesValue).isEqual(Dc(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Wn(i.geoPointValue.latitude)===Wn(r.geoPointValue.latitude)&&Wn(i.geoPointValue.longitude)===Wn(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Wn(i.integerValue)===Wn(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const l=Wn(i.doubleValue),u=Wn(r.doubleValue);return l===u?Ip(l)===Ip(u):isNaN(l)&&isNaN(u)}return!1}(n,t);case 9:return Ec(n.arrayValue.values||[],t.arrayValue.values||[],po);case 10:return function(i,r){const l=i.mapValue.fields||{},u=r.mapValue.fields||{};if(HT(l)!==HT(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===u[f]||!po(l[f],u[f])))return!1;return!0}(n,t);default:return ct()}var r}function Mh(n,t){return void 0!==(n.values||[]).find(e=>po(e,t))}function wl(n,t){if(n===t)return 0;const e=Yu(n),i=Yu(t);if(e!==i)return Vt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Vt(n.booleanValue,t.booleanValue);case 2:return function(r,l){const u=Wn(r.integerValue||r.doubleValue),f=Wn(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,t);case 3:return Dp(n.timestampValue,t.timestampValue);case 4:return Dp(Ep(n),Ep(t));case 5:return Vt(n.stringValue,t.stringValue);case 6:return function(r,l){const u=Dc(r),f=Dc(l);return u.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(r,l){const u=r.split("/"),f=l.split("/");for(let _=0;_<u.length&&_<f.length;_++){const w=Vt(u[_],f[_]);if(0!==w)return w}return Vt(u.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,l){const u=Vt(Wn(r.latitude),Wn(l.latitude));return 0!==u?u:Vt(Wn(r.longitude),Wn(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,l){const u=r.values||[],f=l.values||[];for(let _=0;_<u.length&&_<f.length;++_){const w=wl(u[_],f[_]);if(w)return w}return Vt(u.length,f.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,l){if(r===bl.mapValue&&l===bl.mapValue)return 0;if(r===bl.mapValue)return 1;if(l===bl.mapValue)return-1;const u=r.fields||{},f=Object.keys(u),_=l.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let D=0;D<f.length&&D<w.length;++D){const A=Vt(f[D],w[D]);if(0!==A)return A;const N=wl(u[f[D]],_[w[D]]);if(0!==N)return N}return Vt(f.length,w.length)}(n.mapValue,t.mapValue);default:throw ct()}}function Dp(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Vt(n,t);const e=Ic(n),i=Ic(t),r=Vt(e.seconds,i.seconds);return 0!==r?r:Vt(e.nanos,i.nanos)}function xc(n){return ZT(n)}function ZT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Ic(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Dc(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=ZT(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const f of r)u?u=!1:l+=",",l+=`${f}:${ZT(i.fields[f])}`;return l+"}"}(n.mapValue):ct();var t}function Ac(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function gb(n){return!!n&&"integerValue"in n}function Oh(n){return!!n&&"arrayValue"in n}function Sp(n){return!!n&&"nullValue"in n}function mb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function V_(n){return!!n&&"mapValue"in n}function Ku(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Gu(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Ku(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ku(n.arrayValue.values[e]);return t}return Object.assign({},n)}function U_(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function XA(n){return"nullValue"in n?L_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ac(Sc.empty(),Ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ct()}function oS(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ac(Sc.empty(),Ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?bl:ct()}function GT(n,t){const e=wl(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function _b(n,t){const e=wl(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class hr{constructor(t){this.value=t}static empty(){return new hr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!V_(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ku(e)}setAll(t){let e=Ti.emptyPath(),i={},r=[];t.forEach((u,f)=>{if(!e.isImmediateParentOf(f)){const _=this.getFieldsMap(e);this.applyChanges(_,i,r),i={},r=[],e=f.popLast()}u?i[f.lastSegment()]=Ku(u):r.push(f.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,i,r)}delete(t){const e=this.field(t.popLast());V_(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return po(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];V_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Gu(e,(r,l)=>t[r]=l);for(const r of i)delete t[r]}clone(){return new hr(Ku(this.value))}}function $T(n){const t=[];return Gu(n.fields,(e,i)=>{const r=new Ti([e]);if(V_(i)){const l=$T(i.mapValue).fields;if(0===l.length)t.push(r);else for(const u of l)t.push(r.child(u))}else t.push(r)}),new zu(t)}class Dn{constructor(t,e,i,r,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=l,this.documentState=u}static newInvalidDocument(t){return new Dn(t,0,At.min(),At.min(),hr.empty(),0)}static newFoundDocument(t,e,i){return new Dn(t,1,e,At.min(),i,0)}static newNoDocument(t,e){return new Dn(t,2,e,At.min(),hr.empty(),0)}static newUnknownDocument(t,e){return new Dn(t,3,e,At.min(),hr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Dn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xp{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function yb(n){return n.fields.find(t=>2===t.kind)}function Qu(n){return n.fields.filter(t=>2!==t.kind)}xp.UNKNOWN_ID=-1;class Ap{constructor(t,e){this.fieldPath=t,this.kind=e}}class Mp{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Mp(0,go.min())}}function vb(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=At.fromTimestamp(1e9===i?new di(e+1,0):new di(e,i));return new go(r,Ge.empty(),t)}function zT(n){return new go(n.readTime,n.key,-1)}class go{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new go(At.min(),Ge.empty(),-1)}static max(){return new go(At.max(),Ge.empty(),-1)}}function bb(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Ge.comparator(n.documentKey,t.documentKey),0!==e?e:Vt(n.largestBatchId,t.largestBatchId))}class hi{constructor(t,e){this.comparator=t,this.root=e||Mr.EMPTY}insert(t,e){return new hi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Mr.BLACK,null,null))}remove(t){return new hi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Mr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new B_(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new B_(this.root,t,this.comparator,!1)}getReverseIterator(){return new B_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new B_(this.root,t,this.comparator,!0)}}class B_{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,e&&r&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(0===l){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Mr{constructor(t,e,i,r,l){this.key=t,this.value=e,this.color=null!=i?i:Mr.RED,this.left=null!=r?r:Mr.EMPTY,this.right=null!=l?l:Mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,l){return new Mr(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const l=i(t,r.key);return r=l<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===l?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Mr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Mr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const t=this.left.check();if(t!==this.right.check())throw ct();return t+(this.isRed()?0:1)}}Mr.EMPTY=null,Mr.RED=!0,Mr.BLACK=!1,Mr.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Mr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class En{constructor(t){this.comparator=t,this.data=new hi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new aS(this.data.getIterator())}getIteratorFrom(t){return new aS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof En)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,l=i.getNext().key;if(0!==this.comparator(r,l))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new En(this.comparator);return e.data=t,e}}class aS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Op(n){return n.hasNext()?n.getNext():void 0}class eM{constructor(t,e=null,i=[],r=[],l=null,u=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=l,this.startAt=u,this.endAt=f,this.P=null}}function lS(n,t=null,e=[],i=[],r=null,l=null,u=null){return new eM(n,t,e,i,r,l,u)}function kh(n){const t=Qe(n);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+xc(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),vl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>xc(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>xc(i)).join(",")),t.P=e}return t.P}function H_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!Tb(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!po(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!dS(n.startAt,t.startAt)&&dS(n.endAt,t.endAt)}function wb(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ju(n,t){return n.filters.filter(e=>e instanceof Hi&&e.field.isEqual(t))}function cS(n,t,e){let i=L_,r=!0;for(const l of Ju(n,t)){let u=L_,f=!0;switch(l.op){case"<":case"<=":u=XA(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,f=!1;break;case"!=":case"not-in":u=L_}GT({value:i,inclusive:r},{value:u,inclusive:f})<0&&(i=u,r=f)}if(null!==e)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];GT({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function Cb(n,t,e){let i=bl,r=!0;for(const l of Ju(n,t)){let u=bl,f=!0;switch(l.op){case">=":case">":u=oS(l.value),f=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,f=!1;break;case"!=":case"not-in":u=bl}_b({value:i,inclusive:r},{value:u,inclusive:f})>0&&(i=u,r=f)}if(null!==e)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];_b({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class Hi extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.V(t,e,i):new WT(t,e,i):"array-contains"===e?new KT(t,i):"in"===e?new uS(t,i):"not-in"===e?new QT(t,i):"array-contains-any"===e?new iM(t,i):new Hi(t,e,i)}static V(t,e,i){return"in"===e?new YT(t,i):new nM(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(wl(e,this.value)):null!==e&&Yu(this.value)===Yu(e)&&this.v(wl(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ct()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class WT extends Hi{constructor(t,e,i){super(t,e,i),this.key=Ge.fromName(i.referenceValue)}matches(t){const e=Ge.comparator(t.key,this.key);return this.v(e)}}class YT extends Hi{constructor(t,e){super(t,"in",e),this.keys=j_(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class nM extends Hi{constructor(t,e){super(t,"not-in",e),this.keys=j_(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function j_(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Ge.fromName(i.referenceValue))}class KT extends Hi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Oh(e)&&Mh(e.arrayValue,this.value)}}class uS extends Hi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Mh(this.value.arrayValue,e)}}class QT extends Hi{constructor(t,e){super(t,"not-in",e)}matches(t){if(Mh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Mh(this.value.arrayValue,e)}}class iM extends Hi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Oh(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Mh(this.value.arrayValue,i))}}class Mc{constructor(t,e){this.position=t,this.inclusive=e}}class Ph{constructor(t,e="asc"){this.field=t,this.dir=e}}function Tb(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function JT(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const l=t[r],u=n.position[r];if(i=l.field.isKeyField()?Ge.comparator(Ge.fromName(u.referenceValue),e.key):wl(u,e.data.field(l.field)),"desc"===l.dir&&(i*=-1),0!==i)break}return i}function dS(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!po(n.position[e],t.position[e]))return!1;return!0}class Oc{constructor(t,e=null,i=[],r=[],l=null,u="F",f=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function hS(n,t,e,i,r,l,u,f){return new Oc(n,t,e,i,r,l,u,f)}function Rh(n){return new Oc(n)}function Eb(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function XT(n){for(const t of n.filters)if(t.S())return t.field;return null}function Ib(n){return null!==n.collectionGroup}function kc(n){const t=Qe(n);if(null===t.D){t.D=[];const e=XT(t),i=Eb(t);if(null!==e&&null===i)e.isKeyField()||t.D.push(new Ph(e)),t.D.push(new Ph(Ti.keyField(),"asc"));else{let r=!1;for(const l of t.explicitOrderBy)t.D.push(l),l.field.isKeyField()&&(r=!0);if(!r){const l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Ph(Ti.keyField(),l))}}}return t.D}function mo(n){const t=Qe(n);if(!t.C)if("F"===t.limitType)t.C=lS(t.path,t.collectionGroup,kc(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const l of kc(t))e.push(new Ph(l.field,"desc"===l.dir?"asc":"desc"));const i=t.endAt?new Mc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Mc(t.startAt.position,t.startAt.inclusive):null;t.C=lS(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.C}function _o(n,t,e){return new Oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function kp(n,t){return H_(mo(n),mo(t))&&n.limitType===t.limitType}function q_(n){return`${kh(mo(n))}|lt:${n.limitType}`}function Db(n){return`Query(target=${function tM(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${xc(i.value)}`;var i}).join(", ")}]`),vl(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>xc(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>xc(e)).join(",")),`Target(${t})`}(mo(n))}; limitType=${n.limitType})`}function Sb(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Ge.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,l,u){const f=JT(r,l,u);return r.inclusive?f<=0:f<0}(e.startAt,kc(e),i)||e.endAt&&!function(r,l,u){const f=JT(r,l,u);return r.inclusive?f>=0:f>0}(e.endAt,kc(e),i)));var e,i}function Z_(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xb(n){return(t,e)=>{let i=!1;for(const r of kc(n)){const l=eE(r,t,e);if(0!==l)return l;i=i||r.field.isKeyField()}return 0}}function eE(n,t,e){const i=n.field.isKeyField()?Ge.comparator(t.key,e.key):function(r,l,u){const f=l.data.field(r),_=u.data.field(r);return null!==f&&null!==_?wl(f,_):ct()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ct()}}function tE(n,t){if(n.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ip(t)?"-0":t}}function Ab(n){return{integerValue:""+n}}function nE(n,t){return F_(t)?Ab(t):tE(n,t)}class G_{constructor(){this._=void 0}}function pS(n,t,e){return n instanceof Xu?function(i,r){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(l.fields.__previous_value__=r),{mapValue:l}}(e,t):n instanceof Rc?iE(n,t):n instanceof Nh?rE(n,t):function(i,r){const l=Pc(i,r),u=sE(l)+sE(i.k);return gb(l)&&gb(i.k)?Ab(u):tE(i.M,u)}(n,t)}function Mb(n,t,e){return n instanceof Rc?iE(n,t):n instanceof Nh?rE(n,t):e}function Pc(n,t){return n instanceof Fh?gb(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Xu extends G_{}class Rc extends G_{constructor(t){super(),this.elements=t}}function iE(n,t){const e=Ob(t);for(const i of n.elements)e.some(r=>po(r,i))||e.push(i);return{arrayValue:{values:e}}}class Nh extends G_{constructor(t){super(),this.elements=t}}function rE(n,t){let e=Ob(t);for(const i of n.elements)e=e.filter(r=>!po(r,i));return{arrayValue:{values:e}}}class Fh extends G_{constructor(t,e){super(),this.M=t,this.k=e}}function sE(n){return Wn(n.integerValue||n.doubleValue)}function Ob(n){return Oh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Pp{constructor(t,e){this.field=t,this.transform=e}}class rM{constructor(t,e){this.version=t,this.transformResults=e}}class ii{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ii}static exists(t){return new ii(void 0,t)}static updateTime(t){return new ii(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rp(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class $_{}function mS(n,t,e){n instanceof Np?function(i,r,l){const u=i.value.clone(),f=oE(i.fieldTransforms,r,l.transformResults);u.setAll(f),r.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Nc?function(i,r,l){if(!Rp(i.precondition,r))return void r.convertToUnknownDocument(l.version);const u=oE(i.fieldTransforms,r,l.transformResults),f=r.data;f.setAll(Rb(i)),f.setAll(u),r.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function z_(n,t,e){var r;n instanceof Np?function(i,r,l){if(!Rp(i.precondition,r))return;const u=i.value.clone(),f=aE(i.fieldTransforms,l,r);u.setAll(f),r.convertToFoundDocument(Pb(r),u).setHasLocalMutations()}(n,t,e):n instanceof Nc?function(i,r,l){if(!Rp(i.precondition,r))return;const u=aE(i.fieldTransforms,l,r),f=r.data;f.setAll(Rb(i)),f.setAll(u),r.convertToFoundDocument(Pb(r),f).setHasLocalMutations()}(n,t,e):Rp(n.precondition,r=t)&&r.convertToNoDocument(At.min())}function kb(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),l=Pc(i.transform,r||null);null!=l&&(null==e&&(e=hr.empty()),e.set(i.field,l))}return e||null}function W_(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Ec(e,i,(r,l)=>function gS(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Rc&&i instanceof Rc||e instanceof Nh&&i instanceof Nh?Ec(e.elements,i.elements,po):e instanceof Fh&&i instanceof Fh?po(e.k,i.k):e instanceof Xu&&i instanceof Xu);var e,i}(r,l))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function Pb(n){return n.isFoundDocument()?n.version:At.min()}class Np extends $_{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Nc extends $_{constructor(t,e,i,r,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=l,this.type=1}}function Rb(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function oE(n,t,e){const i=new Map;kt(n.length===e.length);for(let r=0;r<e.length;r++){const l=n[r],u=l.transform,f=t.data.field(l.field);i.set(l.field,Mb(u,f,e[r]))}return i}function aE(n,t,e){const i=new Map;for(const r of n){const l=r.transform,u=e.data.field(r.field);i.set(r.field,pS(l,u,t))}return i}class Y_ extends $_{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class lE extends $_{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class cE{constructor(t){this.count=t}}var Ii,Xt;function uE(n){switch(n){default:return ct();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function _S(n){if(void 0===n)return Ci("GRPC error has no .code"),de.UNKNOWN;switch(n){case Ii.OK:return de.OK;case Ii.CANCELLED:return de.CANCELLED;case Ii.UNKNOWN:return de.UNKNOWN;case Ii.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Ii.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Ii.INTERNAL:return de.INTERNAL;case Ii.UNAVAILABLE:return de.UNAVAILABLE;case Ii.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Ii.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Ii.NOT_FOUND:return de.NOT_FOUND;case Ii.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Ii.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Ii.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Ii.ABORTED:return de.ABORTED;case Ii.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Ii.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Ii.DATA_LOSS:return de.DATA_LOSS;default:return ct()}}(Xt=Ii||(Ii={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";class ed{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,l]of i)if(this.equalsFn(r,t))return l}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return void(r[l]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Gu(this.inner,(e,i)=>{for(const[r,l]of i)t(r,l)})}isEmpty(){return pb(this.inner)}size(){return this.innerSize}}const sM=new hi(Ge.comparator);function Qo(){return sM}const oM=new hi(Ge.comparator);function Nb(...n){let t=oM;for(const e of n)t=t.insert(e.key,e);return t}function Fc(){return new ed(n=>n.toString(),(n,t)=>n.isEqual(t))}const yS=new hi(Ge.comparator),vS=new En(Ge.comparator);function ln(...n){let t=vS;for(const e of n)t=t.add(e);return t}const td=new En(Vt);function Fp(){return td}class nd{constructor(t,e,i,r,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,id.createSynthesizedTargetChangeForCurrentChange(t,e)),new nd(At.min(),i,Fp(),Qo(),ln())}}class id{constructor(t,e,i,r,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e){return new id(Ei.EMPTY_BYTE_STRING,e,ln(),ln(),ln())}}class K_{constructor(t,e,i,r){this.O=t,this.removedTargetIds=e,this.key=i,this.F=r}}class Q_{constructor(t,e){this.targetId=t,this.$=e}}class J_{constructor(t,e,i=Ei.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Lp{constructor(){this.B=0,this.L=wS(),this.U=Ei.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(t){t.approximateByteSize()>0&&(this.K=!0,this.U=t)}H(){let t=ln(),e=ln(),i=ln();return this.L.forEach((r,l)=>{switch(l){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ct()}}),new id(this.U,this.q,t,e,i)}J(){this.K=!1,this.L=wS()}Y(t,e){this.K=!0,this.L=this.L.insert(t,e)}X(t){this.K=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class aM{constructor(t){this.nt=t,this.st=new Map,this.it=Qo(),this.rt=bS(),this.ot=new En(Vt)}ut(t){for(const e of t.O)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ht(t){this.forEachTarget(t,e=>{const i=this.lt(e);switch(t.state){case 0:this.ft(e)&&i.W(t.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(t.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(e);break;case 3:this.ft(e)&&(i.et(),i.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),i.W(t.resumeToken));break;default:ct()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach((i,r)=>{this.ft(r)&&e(r)})}_t(t){const e=t.targetId,i=t.$.count,r=this.wt(e);if(r){const l=r.target;if(wb(l))if(0===i){const u=new Ge(l.path);this.ct(e,u,Dn.newNoDocument(u,At.min()))}else kt(1===i);else this.gt(e)!==i&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach((l,u)=>{const f=this.wt(u);if(f){if(l.current&&wb(f.target)){const _=new Ge(f.target.path);null!==this.it.get(_)||this.It(u,_)||this.ct(u,_,Dn.newNoDocument(_,t))}l.j&&(e.set(u,l.H()),l.J())}});let i=ln();this.rt.forEach((l,u)=>{let f=!0;u.forEachWhile(_=>{const w=this.wt(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(i=i.add(l))}),this.it.forEach((l,u)=>u.setReadTime(t));const r=new nd(t,e,this.ot,this.it,i);return this.it=Qo(),this.rt=bS(),this.ot=new En(Vt),r}at(t,e){if(!this.ft(t))return;const i=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,i),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.ft(t))return;const r=this.lt(t);this.It(t,e)?r.Y(e,1):r.X(e),this.rt=this.rt.insert(e,this.Tt(e).delete(t)),i&&(this.it=this.it.insert(e,i))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new Lp,this.st.set(t,e)),e}Tt(t){let e=this.rt.get(t);return e||(e=new En(Vt),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||Le("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.G?null:this.nt.Et(t)}dt(t){this.st.set(t,new Lp),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function bS(){return new hi(Ge.comparator)}function wS(){return new hi(Ge.comparator)}const lM={asc:"ASCENDING",desc:"DESCENDING"},dE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class CS{constructor(t,e){this.databaseId=t,this.N=e}}function Vp(n,t){return n.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hE(n,t){return n.N?t.toBase64():t.toUint8Array()}function TS(n,t){return Vp(n,t.toTimestamp())}function ji(n){return kt(!!n),At.fromTimestamp(function(t){const e=Ic(t);return new di(e.seconds,e.nanos)}(n))}function X_(n,t){return(e=n,new Qt(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function Fb(n){const t=Qt.fromString(n);return kt(c(t)),t}function Up(n,t){return X_(n.databaseId,t.path)}function Pa(n,t){const e=Fb(t);if(e.get(1)!==n.databaseId.projectId)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ge(Lb(e))}function ey(n,t){return X_(n.databaseId,t)}function ty(n){const t=Fb(n);return 4===t.length?Qt.emptyPath():Lb(t)}function ny(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Lb(n){return kt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iy(n,t,e){return{name:Up(n,t),fields:e.value.mapValue.fields}}function fE(n,t,e){const i=Pa(n,t.name),r=ji(t.updateTime),l=new hr({mapValue:{fields:t.fields}}),u=Dn.newFoundDocument(i,r,l);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function ry(n,t){let e;if(t instanceof Np)e={update:iy(n,t.key,t.value)};else if(t instanceof Y_)e={delete:Up(n,t.key)};else if(t instanceof Nc)e={update:iy(n,t.key,t.data),updateMask:a(t.fieldMask)};else{if(!(t instanceof lE))return ct();e={verify:Up(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,l){const u=l.transform;if(u instanceof Xu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Rc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Nh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Fh)return{fieldPath:l.field.canonicalString(),increment:u.k};throw ct()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:TS(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ct()),e;var r}function Vb(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?ii.updateTime(ji(r.updateTime)):void 0!==r.exists?ii.exists(r.exists):ii.none():ii.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(l,u){let f=null;"setToServerValue"in u?(kt("REQUEST_TIME"===u.setToServerValue),f=new Xu):"appendMissingElements"in u?f=new Rc(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new Nh(u.removeAllFromArray.values||[]):"increment"in u?f=new Fh(l,u.increment):ct();const _=Ti.fromServerFormat(u.fieldPath);return new Pp(_,f)}(n,r)):[];var r;if(t.update){const r=Pa(n,t.update.name),l=new hr({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new zu((t.updateMask.fieldPaths||[]).map(w=>Ti.fromServerFormat(w)));return new Nc(r,l,u,e,i)}return new Np(r,l,e,i)}if(t.delete){const r=Pa(n,t.delete);return new Y_(r,e)}if(t.verify){const r=Pa(n,t.verify);return new lE(r,e)}return ct()}function DS(n,t){return{documents:[ey(n,t.path)]}}function SS(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=ey(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=ey(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const w=_.map(D=>function(A){if("=="===A.op){if(mb(A.value))return{unaryFilter:{field:Bp(A.field),op:"IS_NAN"}};if(Sp(A.value))return{unaryFilter:{field:Bp(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(mb(A.value))return{unaryFilter:{field:Bp(A.field),op:"IS_NOT_NAN"}};if(Sp(A.value))return{unaryFilter:{field:Bp(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bp(A.field),op:dM(A.op),value:A.value}}}(D));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(t.filters);r&&(e.structuredQuery.where=r);const l=function(_){if(0!==_.length)return _.map(w=>{return{field:Bp((D=w).field),direction:MS(D.dir)};var D})}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=(w=t.limit,n.N||vl(w)?w:{value:w});var w,f,_;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(f=t.startAt).inclusive,values:f.position}),t.endAt&&(e.structuredQuery.endAt={before:!(_=t.endAt).inclusive,values:_.position}),e}function xS(n){let t=ty(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){kt(1===i);const D=e.from[0];D.allDescendants?r=D.collectionId:t=t.child(D.collectionId)}let l=[];e.where&&(l=AS(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(D=>{return new Ph(Hp((A=D).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;e.limit&&(f=function(D){let A;return A="object"==typeof D?D.value:D,vl(A)?null:A}(e.limit));let _=null;var D;e.startAt&&(_=new Mc((D=e.startAt).values||[],!!D.before));let w=null;return e.endAt&&(w=function(D){return new Mc(D.values||[],!D.before)}(e.endAt)),hS(t,r,u,l,f,"F",_,w)}function AS(n){return n?void 0!==n.unaryFilter?[o(n)]:void 0!==n.fieldFilter?[hM(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>AS(t)).reduce((t,e)=>t.concat(e)):ct():[]}function MS(n){return lM[n]}function dM(n){return dE[n]}function Bp(n){return{fieldPath:n.canonicalString()}}function Hp(n){return Ti.fromServerFormat(n.fieldPath)}function hM(n){return Hi.create(Hp(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(n.fieldFilter.op),n.fieldFilter.value)}function o(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Hp(n.unaryFilter.field);return Hi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Hp(n.unaryFilter.field);return Hi.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Hp(n.unaryFilter.field);return Hi.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Hp(n.unaryFilter.field);return Hi.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}function a(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function c(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function d(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=g(t)),t=h(n.get(e),t);return g(t)}function h(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const l=n.charAt(r);switch(l){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=l}}return e}function g(n){return n+"\x01\x01"}function v(n){const t=n.length;if(kt(t>=2),2===t)return kt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Qt.emptyPath();const e=t-2,i=[];let r="";for(let l=0;l<t;){const u=n.indexOf("\x01",l);switch((u<0||u>e)&&ct(),n.charAt(u+1)){case"\x01":const f=n.substring(l,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(l,u),r+="\0";break;case"\x11":r+=n.substring(l,u+1);break;default:ct()}l=u+2}return new Qt(i)}const C=["userId","batchId"];function T(n,t){return[n,d(t)]}function x(n,t,e){return[n,d(t),e]}const M={},F=["prefixPath","collectionGroup","readTime","documentId"],H=["prefixPath","collectionGroup","documentId"],X=["collectionGroup","readTime","prefixPath","documentId"],Te=["canonicalId","targetId"],Ve=["targetId","path"],Ze=["path","targetId"],at=["collectionId","parent"],Oe=["indexId","uid"],yt=["uid","sequenceNumber"],$t=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pn=["indexId","uid","orderedDocumentKey"],Ns=["userId","collectionPath","documentId"],rd=["userId","collectionPath","largestBatchId"],Ub=["userId","collectionGroup","largestBatchId"],sy=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Bb=[...sy,"documentOverlays"],oy=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Hb=[...oy,"indexConfiguration","indexState","indexEntries"],ay="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ly{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class he{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new he((i,r)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,r)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof he?e:he.resolve(e)}catch(e){return he.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):he.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):he.reject(e)}static resolve(t){return new he((e,i)=>{e(t)})}static reject(t){return new he((e,i)=>{i(t)})}static waitFor(t){return new he((e,i)=>{let r=0,l=0,u=!1;t.forEach(f=>{++r,f.next(()=>{++l,u&&l===r&&e()},_=>i(_))}),u=!0,l===r&&e()})}static or(t){let e=he.resolve(!1);for(const i of t)e=e.next(r=>r?he.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,l)=>{i.push(e.call(this,r,l))}),this.waitFor(i)}}class Lh{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new ui,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new jb(t,e.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=OS(i.target.error);this.At.reject(new jb(t,r))}}static open(t,e,i,r){try{return new Lh(e,t.transaction(r,i))}catch(l){throw new jb(e,l)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||(Le("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new $R(e)}}class Cl{constructor(t,e,i){this.name=t,this.version=e,this.Pt=i,12.2===Cl.Vt((0,Ot.z$)())&&Ci("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Le("SimpleDb","Removing database:",t),qp(window.indexedDB.deleteDatabase(t)).toPromise()}static vt(){if(!(0,Ot.hl)())return!1;if(Cl.St())return!0;const t=(0,Ot.z$)(),e=Cl.Vt(t),i=0<e&&e<10,r=Cl.Dt(t),l=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||l)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Ct)}static xt(t,e){return t.store(e)}static Vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(t){var e=this;return(0,we.Z)(function*(){return e.db||(Le("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const l=indexedDB.open(e.name,e.version);l.onsuccess=u=>{i(u.target.result)},l.onblocked=()=>{r(new jb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new Re(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Re(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new jb(t,f))},l.onupgradeneeded=u=>{Le("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.Pt.kt(u.target.result,l.transaction,u.oldVersion,e.version).next(()=>{Le("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Mt&&(e.db.onversionchange=i=>e.Mt(i)),e.db})()}Ot(t){this.Mt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var l=this;return(0,we.Z)(function*(){const u="readonly"===e;let f=0;for(;;){++f;try{l.db=yield l.Nt(t);const _=Lh.open(l.db,t,u?"readonly":"readwrite",i),w=r(_).next(D=>(_.bt(),D)).catch(D=>(_.abort(D),he.reject(D))).toPromise();return w.catch(()=>{}),yield _.Rt,w}catch(_){const w="FirebaseError"!==_.name&&f<3;if(Le("SimpleDb","Transaction failed with error:",_.message,"Retrying:",w),l.close(),!w)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class GR{constructor(t){this.Ft=t,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(t){this.Ft=t}done(){this.$t=!0}Ut(t){this.Bt=t}delete(){return qp(this.Ft.delete())}}class jb extends Re{constructor(t,e){super(de.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function jp(n){return"IndexedDbTransactionError"===n.name}class $R{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Le("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),qp(i)}add(t){return Le("SimpleDb","ADD",this.store.name,t,t),qp(this.store.add(t))}get(t){return qp(this.store.get(t)).next(e=>(void 0===e&&(e=null),Le("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Le("SimpleDb","DELETE",this.store.name,t),qp(this.store.delete(t))}count(){return Le("SimpleDb","COUNT",this.store.name),qp(this.store.count())}qt(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),l=[];return this.Kt(r,(u,f)=>{l.push(f)}).next(()=>l)}{const r=this.store.getAll(i.range);return new he((l,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{l(f.target.result)}})}}Gt(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new he((r,l)=>{i.onerror=u=>{l(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Qt(t,e){Le("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(l,u,f)=>f.delete())}Wt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Kt(r,e)}zt(t){const e=this.cursor({});return new he((i,r)=>{e.onerror=l=>{const u=OS(l.target.error);r(u)},e.onsuccess=l=>{const u=l.target.result;u?t(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}Kt(t,e){const i=[];return new he((r,l)=>{t.onerror=u=>{l(u.target.error)},t.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new GR(f),w=e(f.primaryKey,f.value,_);if(w instanceof he){const D=w.catch(A=>(_.done(),he.reject(A)));i.push(D)}_.isDone?r():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>he.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.jt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function qp(n){return new he((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=OS(i.target.error);e(r)}})}let fM=!1;function OS(n){const t=Cl.Vt((0,Ot.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fM||(fM=!0,setTimeout(()=>{throw i},0)),i}}return n}class pM extends ly{constructor(t,e){super(),this.Ht=t,this.currentSequenceNumber=e}}function Or(n,t){const e=Qe(n);return Cl.xt(e.Ht,t)}class kS{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const l=this.mutations[r];l.key.isEqual(t.key)&&mS(l,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&z_(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&z_(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(At.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ln())}isEqual(t){return this.batchId===t.batchId&&Ec(this.mutations,t.mutations,(e,i)=>W_(e,i))&&Ec(this.baseMutations,t.baseMutations,(e,i)=>W_(e,i))}}class PS{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){kt(t.mutations.length===i.length);let r=yS;const l=t.mutations;for(let u=0;u<l.length;u++)r=r.insert(l[u].key,i[u].version);return new PS(t,e,i,r)}}class RS{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Vh{constructor(t,e,i,r,l=At.min(),u=At.min(),f=Ei.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(t){return new Vh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Vh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Vh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class gM{constructor(t){this.Jt=t}}function mM(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:pE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Up(r=n.Jt,(l=t).key),fields:l.data.value.mapValue.fields,updateTime:Vp(r,l.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Zp(t.version)};else{if(!t.isUnknownDocument())return ct();i.unknownDocument={path:e.path.toArray(),version:Zp(t.version)}}var r,l;return i}function pE(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Zp(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Gp(n){const t=new di(n.seconds,n.nanoseconds);return At.fromTimestamp(t)}function cy(n,t){const e=(t.baseMutations||[]).map(l=>Vb(n.Jt,l));for(let l=0;l<t.mutations.length-1;++l){const u=t.mutations[l];l+1<t.mutations.length&&void 0!==t.mutations[l+1].transform&&(u.updateTransforms=t.mutations[l+1].transform.fieldTransforms,t.mutations.splice(l+1,1),++l)}const i=t.mutations.map(l=>Vb(n.Jt,l)),r=di.fromMillis(t.localWriteTimeMs);return new kS(t.batchId,r,e,i)}function qb(n){const t=Gp(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Gp(n.lastLimboFreeSnapshotVersion):At.min();let i;var r;return void 0!==n.query.documents?(kt(1===(r=n.query).documents.length),i=mo(Rh(ty(r.documents[0])))):i=mo(xS(n.query)),new Vh(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Ei.fromBase64String(n.resumeToken))}function _M(n,t){const e=Zp(t.snapshotVersion),i=Zp(t.lastLimboFreeSnapshotVersion);let r;r=wb(t.target)?DS(n.Jt,t.target):SS(n.Jt,t.target);const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:kh(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function NS(n){const t=xS({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?_o(t,t.limit,"L"):t}function FS(n,t){return new RS(t.largestBatchId,Vb(n.Jt,t.overlayMutation))}function yM(n,t){const e=t.path.lastSegment();return[n,d(t.path.popLast()),e]}class WR{getBundleMetadata(t,e){return vM(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Gp(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return vM(t).put({bundleId:(i=e).id,createTime:Zp(ji(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return bM(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:NS(r.bundledQuery),readTime:Gp(r.readTime)};var r})}saveNamedQuery(t,e){return bM(t).put({name:(i=e).name,readTime:Zp(ji(i.readTime)),bundledQuery:i.bundledQuery});var i}}function vM(n){return Or(n,"bundles")}function bM(n){return Or(n,"namedQueries")}class LS{constructor(t,e){this.M=t,this.userId=e}static Yt(t,e){return new LS(t,e.uid||"")}getOverlay(t,e){return Zb(t).get(yM(this.userId,e)).next(i=>i?FS(this.M,i):null)}saveOverlays(t,e,i){const r=[];return i.forEach((l,u)=>{const f=new RS(e,u);r.push(this.Xt(t,f))}),he.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(d(u.getCollectionPath())));const l=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);l.push(Zb(t).Qt("collectionPathOverlayIndex",f))}),he.waitFor(l)}getOverlaysForCollection(t,e,i){const r=Fc(),l=d(e),u=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Zb(t).qt("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const w=FS(this.M,_);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const l=Fc();let u;const f=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Zb(t).Wt({index:"collectionGroupOverlayIndex",range:f},(_,w,D)=>{const A=FS(this.M,w);l.size()<r||A.largestBatchId===u?(l.set(A.getKey(),A),u=A.largestBatchId):D.done()}).next(()=>l)}Xt(t,e){return Zb(t).put(function(i,r,l){const[u,f,_]=yM(r,l.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:ry(i.Jt,l.mutation)}}(this.M,this.userId,e))}}function Zb(n){return Or(n,"documentOverlays")}class $p{constructor(){}Zt(t,e){this.te(t,e),e.ee()}te(t,e){if("nullValue"in t)this.ne(e,5);else if("booleanValue"in t)this.ne(e,10),e.se(t.booleanValue?1:0);else if("integerValue"in t)this.ne(e,15),e.se(Wn(t.integerValue));else if("doubleValue"in t){const i=Wn(t.doubleValue);isNaN(i)?this.ne(e,13):(this.ne(e,15),Ip(i)?e.se(0):e.se(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ne(e,20),"string"==typeof i?e.ie(i):(e.ie(`${i.seconds||""}`),e.se(i.nanos||0))}else if("stringValue"in t)this.re(t.stringValue,e),this.oe(e);else if("bytesValue"in t)this.ne(e,30),e.ue(Dc(t.bytesValue)),this.oe(e);else if("referenceValue"in t)this.ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ne(e,45),e.se(i.latitude||0),e.se(i.longitude||0)}else"mapValue"in t?U_(t)?this.ne(e,Number.MAX_SAFE_INTEGER):(this.ce(t.mapValue,e),this.oe(e)):"arrayValue"in t?(this.he(t.arrayValue,e),this.oe(e)):ct()}re(t,e){this.ne(e,25),this.le(t,e)}le(t,e){e.ie(t)}ce(t,e){const i=t.fields||{};this.ne(e,55);for(const r of Object.keys(i))this.re(r,e),this.te(i[r],e)}he(t,e){const i=t.values||[];this.ne(e,50);for(const r of i)this.te(r,e)}ae(t,e){this.ne(e,37),Ge.fromName(t).path.forEach(i=>{this.ne(e,60),this.le(i,e)})}ne(t,e){t.se(e)}oe(t){t.se(2)}}function YR(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function wM(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const l=YR(255&e[r]);if(i+=l,8!==l)break}return i}(n);return Math.ceil(t/8)}$p.fe=new $p;class KR{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this._e(i.value),i=e.next();this.we()}me(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.ge(i.value),i=e.next();this.ye()}pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(e<"\ud800"||"\udbff"<e)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=e.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=e.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(t){const e=this.Ee(t),i=wM(e);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Re(t){const e=this.Ee(t),i=wM(e);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Ae(t.length),this.buffer.set(t,this.position),this.position+=t.length}Se(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(r){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,r,!1),new Uint8Array(l.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}_e(t){const e=255&t;0===e?(this.Pe(0),this.Pe(255)):255===e?(this.Pe(255),this.Pe(0)):this.Pe(e)}ge(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(t){this.Ae(1),this.buffer[this.position++]=t}ve(t){this.Ae(1),this.buffer[this.position++]=~t}Ae(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class QR{constructor(t){this.De=t}ue(t){this.De.de(t)}ie(t){this.De.pe(t)}se(t){this.De.Te(t)}ee(){this.De.be()}}class JR{constructor(t){this.De=t}ue(t){this.De.me(t)}ie(t){this.De.Ie(t)}se(t){this.De.Re(t)}ee(){this.De.Ve()}}class Gb{constructor(){this.De=new KR,this.Ce=new QR(this.De),this.xe=new JR(this.De)}seed(t){this.De.seed(t)}Ne(t){return 0===t?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class zp{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new zp(this.indexId,this.documentKey,this.arrayValue,i)}}function Wp(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=CM(n.arrayValue,t.arrayValue),0!==e?e:(e=CM(n.directionalValue,t.directionalValue),0!==e?e:Ge.comparator(n.documentKey,t.documentKey)))}function CM(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class XR{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];for(const e of t.filters){const i=e;i.S()?this.Fe=i:this.Oe.push(i)}}$e(t){const e=yb(t);if(void 0!==e&&!this.Be(e))return!1;const i=Qu(t);let r=0,l=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const u=i[r];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[l++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(l>=this.Me.length||!this.Ue(this.Me[l++],u))return!1}return!0}Be(t){for(const e of this.Oe)if(this.Le(e,t))return!0;return!1}Le(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Ue(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class eN{constructor(){this.qe=new VS}addToCollectionParentIndex(t,e){return this.qe.add(e),he.resolve()}getCollectionParents(t,e){return he.resolve(this.qe.getEntries(e))}addFieldIndex(t,e){return he.resolve()}deleteFieldIndex(t,e){return he.resolve()}getDocumentsMatchingTarget(t,e){return he.resolve(null)}getIndexType(t,e){return he.resolve(0)}getFieldIndexes(t,e){return he.resolve([])}getNextCollectionGroupToUpdate(t){return he.resolve(null)}getMinOffset(t,e){return he.resolve(go.min())}updateCollectionGroup(t,e,i){return he.resolve()}updateIndexEntries(t,e){return he.resolve()}}class VS{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new En(Qt.comparator),l=!r.has(i);return this.index[e]=r.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new En(Qt.comparator)).toArray()}}const gE=new Uint8Array(0);class tN{constructor(t,e){this.user=t,this.databaseId=e,this.Ke=new VS,this.Ge=new ed(i=>kh(i),(i,r)=>H_(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ke.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ke.add(e)});const l={collectionId:i,parent:d(r)};return TM(t).put(l)}return he.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[N_(e),""],!1,!0);return TM(t).qt(r).next(l=>{for(const u of l){if(u.collectionId!==e)break;i.push(v(u.parent))}return i})}addFieldIndex(t,e){const i=mE(t),r={indexId:(l=e).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var l;return delete r.indexId,i.add(r).next()}deleteFieldIndex(t,e){const i=mE(t),r=_E(t),l=$b(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=$b(t);let r=!0;const l=new Map;return he.forEach(this.Qe(e),u=>this.je(t,u).next(f=>{r&&(r=!!f),l.set(u,f)})).next(()=>{if(r){let u=ln();const f=[];return he.forEach(l,(_,w)=>{var D;Le("IndexedDbIndexManager",`Using index ${D=_,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map($e=>`${$e.fieldPath}:${$e.kind}`).join(",")}`} to execute ${kh(e)}`);const A=function($e,je){const vt=yb(je);if(void 0===vt)return null;for(const Ct of Ju($e,vt.fieldPath))switch(Ct.op){case"array-contains-any":return Ct.value.arrayValue.values||[];case"array-contains":return[Ct.value]}return null}(w,_),N=function($e,je){const vt=new Map;for(const Ct of Qu(je))for(const Zt of Ju($e,Ct.fieldPath))switch(Zt.op){case"==":case"in":vt.set(Ct.fieldPath.canonicalString(),Zt.value);break;case"not-in":case"!=":return vt.set(Ct.fieldPath.canonicalString(),Zt.value),Array.from(vt.values())}return null}(w,_),V=function($e,je){const vt=[];let Ct=!0;for(const Zt of Qu(je)){const _n=0===Zt.kind?cS($e,Zt.fieldPath,$e.startAt):Cb($e,Zt.fieldPath,$e.startAt);vt.push(_n.value),Ct&&(Ct=_n.inclusive)}return new Mc(vt,Ct)}(w,_),B=function($e,je){const vt=[];let Ct=!0;for(const Zt of Qu(je)){const _n=0===Zt.kind?Cb($e,Zt.fieldPath,$e.endAt):cS($e,Zt.fieldPath,$e.endAt);vt.push(_n.value),Ct&&(Ct=_n.inclusive)}return new Mc(vt,Ct)}(w,_),ie=this.We(_,w,V),Ce=this.We(_,w,B),it=this.ze(_,w,N),rt=this.He(_.indexId,A,ie,V.inclusive,Ce,B.inclusive,it);return he.forEach(rt,$e=>i.Gt($e,e.limit).next(je=>{je.forEach(vt=>{const Ct=Ge.fromSegments(vt.documentKey);u.has(Ct)||(u=u.add(Ct),f.push(Ct))})}))}).next(()=>f)}return he.resolve(null)})}Qe(t){let e=this.Ge.get(t);return e||(e=[t],this.Ge.set(t,e),e)}He(t,e,i,r,l,u,f){const _=(null!=e?e.length:1)*Math.max(i.length,l.length),w=_/(null!=e?e.length:1),D=[];for(let A=0;A<_;++A){const N=e?this.Je(e[A/w]):gE,V=this.Ye(t,N,i[A%w],r),B=this.Xe(t,N,l[A%w],u),ie=f.map(Ce=>this.Ye(t,N,Ce,!0));D.push(...this.createRange(V,B,ie))}return D}Ye(t,e,i,r){const l=new zp(t,Ge.empty(),e,i);return r?l:l.ke()}Xe(t,e,i,r){const l=new zp(t,Ge.empty(),e,i);return r?l.ke():l}je(t,e){const i=new XR(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(l=>{let u=null;for(const f of l)i.$e(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(t,e){let i=2;return he.forEach(this.Qe(e),r=>this.je(t,r).next(l=>{l?0!==i&&l.fields.length<function(u){let f=new En(Ti.comparator),_=!1;for(const w of u.filters){const D=w;D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?_=!0:f=f.add(D.field))}for(const w of u.orderBy)w.field.isKeyField()||(f=f.add(w.field));return f.size+(_?1:0)}(r)&&(i=1):i=0})).next(()=>i)}Ze(t,e){const i=new Gb;for(const r of Qu(t)){const l=e.data.field(r.fieldPath);if(null==l)return null;const u=i.Ne(r.kind);$p.fe.Zt(l,u)}return i.Se()}Je(t){const e=new Gb;return $p.fe.Zt(t,e.Ne(0)),e.Se()}tn(t,e){const i=new Gb;return $p.fe.Zt(Ac(this.databaseId,e),i.Ne(function(r){const l=Qu(r);return 0===l.length?0:l[l.length-1].kind}(t))),i.Se()}ze(t,e,i){if(null===i)return[];let r=[];r.push(new Gb);let l=0;for(const u of Qu(t)){const f=i[l++];for(const _ of r)if(this.en(e,u.fieldPath)&&Oh(f))r=this.nn(r,u,f);else{const w=_.Ne(u.kind);$p.fe.Zt(f,w)}}return this.sn(r)}We(t,e,i){return this.ze(t,e,i.position)}sn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Se();return e}nn(t,e,i){const r=[...t],l=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new Gb;_.seed(f.Se()),$p.fe.Zt(u,_.Ne(e.kind)),l.push(_)}return l}en(t,e){return!!t.filters.find(i=>i instanceof Hi&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=mE(t),r=_E(t);return(e?i.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.qt()).next(l=>{const u=[];return he.forEach(l,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(w,D){const A=D?new Mp(D.sequenceNumber,new go(Gp(D.readTime),new Ge(v(D.documentKey)),D.largestBatchId)):Mp.empty(),N=w.fields.map(([V,B])=>new Ap(Ti.fromServerFormat(V),B));return new xp(w.indexId,w.collectionGroup,N,A)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const l=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==l?l:Vt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=mE(t),l=_E(t);return this.rn(t).next(u=>r.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(f=>he.forEach(f,_=>{return l.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:Zp((N=i).readTime),documentKey:d(N.documentKey.path),largestBatchId:N.largestBatchId});var N})))}updateIndexEntries(t,e){const i=new Map;return he.forEach(e,(r,l)=>{const u=i.get(r.collectionGroup);return(u?he.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),he.forEach(f,_=>this.on(t,r,_).next(w=>{const D=this.un(l,_);return w.isEqual(D)?he.resolve():this.an(t,l,_,w,D)}))))})}cn(t,e,i,r){return $b(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,e.key),documentKey:e.key.path.toArray()})}hn(t,e,i,r){return $b(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,e.key),e.key.path.toArray()])}on(t,e,i){const r=$b(t);let l=new En(Wp);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,e)])},(u,f)=>{l=l.add(new zp(i.indexId,e,f.arrayValue,f.directionalValue))}).next(()=>l)}un(t,e){let i=new En(Wp);const r=this.Ze(e,t);if(null==r)return i;const l=yb(e);if(null!=l){const u=t.data.field(l.fieldPath);if(Oh(u))for(const f of u.arrayValue.values||[])i=i.add(new zp(e.indexId,t.key,this.Je(f),r))}else i=i.add(new zp(e.indexId,t.key,gE,r));return i}an(t,e,i,r,l){Le("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(f,_,w,D,A){const N=f.getIterator(),V=_.getIterator();let B=Op(N),ie=Op(V);for(;B||ie;){let Ce=!1,it=!1;if(B&&ie){const rt=w(B,ie);rt<0?it=!0:rt>0&&(Ce=!0)}else null!=B?it=!0:Ce=!0;Ce?(D(ie),ie=Op(V)):it?(A(B),B=Op(N)):(B=Op(N),ie=Op(V))}}(r,l,Wp,f=>{u.push(this.cn(t,e,i,f))},f=>{u.push(this.hn(t,e,i,f))}),he.waitFor(u)}rn(t){let e=1;return _E(t).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,l)=>{l.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,f)=>Wp(u,f)).filter((u,f,_)=>!f||0!==Wp(u,_[f-1]));const r=[];r.push(t);for(const u of i){const f=Wp(u,t),_=Wp(u,e);if(0===f)r[0]=t.ke();else if(f>0&&_<0)r.push(u),r.push(u.ke());else if(_>0)break}r.push(e);const l=[];for(let u=0;u<r.length;u+=2)l.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,gE,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,gE,[]]));return l}getMinOffset(t,e){let i;return he.forEach(this.Qe(e),r=>this.je(t,r).next(l=>{l?(!i||bb(l.indexState.offset,i)<0)&&(i=l.indexState.offset):i=go.min()})).next(()=>i)}}function TM(n){return Or(n,"collectionParents")}function $b(n){return Or(n,"indexEntries")}function mE(n){return Or(n,"indexConfiguration")}function _E(n){return Or(n,"indexState")}const EM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new yo(t,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function IM(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),l=[],u=IDBKeyRange.only(e.batchId);let f=0;const _=i.Wt({range:u},(D,A,N)=>(f++,N.delete()));l.push(_.next(()=>{kt(1===f)}));const w=[];for(const D of e.mutations){const A=x(t,D.key.path,e.batchId);l.push(r.delete(A)),w.push(D.key)}return he.waitFor(l).next(()=>w)}function yE(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ct();t=n.noDocument}return JSON.stringify(t).length}yo.DEFAULT_COLLECTION_PERCENTILE=10,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yo.DEFAULT=new yo(41943040,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yo.DISABLED=new yo(-1,0,0);class US{constructor(t,e,i,r){this.userId=t,this.M=e,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(t,e,i,r){kt(""!==t.uid);const l=t.isAuthenticated()?t.uid:"";return new US(l,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Uh(t).Wt({index:"userMutationsIndex",range:i},(r,l,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const l=uy(t),u=Uh(t);return u.add({}).next(f=>{kt("number"==typeof f);const _=new kS(f,e,i,r),w=function(N,V,B){const ie=B.baseMutations.map(it=>ry(N.Jt,it)),Ce=B.mutations.map(it=>ry(N.Jt,it));return{userId:V,batchId:B.batchId,localWriteTimeMs:B.localWriteTime.toMillis(),baseMutations:ie,mutations:Ce}}(this.M,this.userId,_),D=[];let A=new En((N,V)=>Vt(N.canonicalString(),V.canonicalString()));for(const N of r){const V=x(this.userId,N.key.path,f);A=A.add(N.key.path.popLast()),D.push(u.put(w)),D.push(l.put(V,M))}return A.forEach(N=>{D.push(this.indexManager.addToCollectionParentIndex(t,N))}),t.addOnCommittedListener(()=>{this.ln[f]=_.keys()}),he.waitFor(D).next(()=>_)})}lookupMutationBatch(t,e){return Uh(t).get(e).next(i=>i?(kt(i.userId===this.userId),cy(this.M,i)):null)}fn(t,e){return this.ln[e]?he.resolve(this.ln[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.ln[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return Uh(t).Wt({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(kt(f.batchId>=i),l=cy(this.M,f)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Uh(t).Wt({index:"userMutationsIndex",range:e,reverse:!0},(r,l,u)=>{i=l.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Uh(t).qt("userMutationsIndex",e).next(i=>i.map(r=>cy(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=T(this.userId,e.path),r=IDBKeyRange.lowerBound(i),l=[];return uy(t).Wt({range:r},(u,f,_)=>{const[w,D,A]=u,N=v(D);if(w===this.userId&&e.path.isEqual(N))return Uh(t).get(A).next(V=>{if(!V)throw ct();kt(V.userId===this.userId),l.push(cy(this.M,V))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new En(Vt);const r=[];return e.forEach(l=>{const u=T(this.userId,l.path),f=IDBKeyRange.lowerBound(u),_=uy(t).Wt({range:f},(w,D,A)=>{const[N,V,B]=w,ie=v(V);N===this.userId&&l.path.isEqual(ie)?i=i.add(B):A.done()});r.push(_)}),he.waitFor(r).next(()=>this.dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,l=T(this.userId,i),u=IDBKeyRange.lowerBound(l);let f=new En(Vt);return uy(t).Wt({range:u},(_,w,D)=>{const[A,N,V]=_,B=v(N);A===this.userId&&i.isPrefixOf(B)?B.length===r&&(f=f.add(V)):D.done()}).next(()=>this.dn(t,f))}dn(t,e){const i=[],r=[];return e.forEach(l=>{r.push(Uh(t).get(l).next(u=>{if(null===u)throw ct();kt(u.userId===this.userId),i.push(cy(this.M,u))}))}),he.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return IM(t.Ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this._n(e.batchId)}),he.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}_n(t){delete this.ln[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return he.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return uy(t).Wt({range:i},(l,u,f)=>{if(l[0]===this.userId){const _=v(l[1]);r.push(_)}else f.done()}).next(()=>{kt(0===r.length)})})}containsKey(t,e){return DM(t,this.userId,e)}wn(t){return SM(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function DM(n,t,e){const i=T(t,e.path),r=i[1],l=IDBKeyRange.lowerBound(i);let u=!1;return uy(n).Wt({range:l,jt:!0},(f,_,w)=>{const[D,A,N]=f;D===t&&A===r&&(u=!0),w.done()}).next(()=>u)}function Uh(n){return Or(n,"mutations")}function uy(n){return Or(n,"documentMutations")}function SM(n){return Or(n,"mutationQueues")}class Yp{constructor(t){this.mn=t}next(){return this.mn+=2,this.mn}static gn(){return new Yp(0)}static yn(){return new Yp(-1)}}class nN{constructor(t,e){this.referenceDelegate=t,this.M=e}allocateTargetId(t){return this.pn(t).next(e=>{const i=new Yp(e.highestTargetId);return e.highestTargetId=i.next(),this.In(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.pn(t).next(e=>At.fromTimestamp(new di(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.pn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.pn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.In(t,r)))}addTargetData(t,e){return this.Tn(t,e).next(()=>this.pn(t).next(i=>(i.targetCount+=1,this.En(e,i),this.In(t,i))))}updateTargetData(t,e){return this.Tn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>dy(t).delete(e.targetId)).next(()=>this.pn(t)).next(i=>(kt(i.targetCount>0),i.targetCount-=1,this.In(t,i)))}removeTargets(t,e,i){let r=0;const l=[];return dy(t).Wt((u,f)=>{const _=qb(f);_.sequenceNumber<=e&&null===i.get(_.targetId)&&(r++,l.push(this.removeTargetData(t,_)))}).next(()=>he.waitFor(l)).next(()=>r)}forEachTarget(t,e){return dy(t).Wt((i,r)=>{const l=qb(r);e(l)})}pn(t){return xM(t).get("targetGlobalKey").next(e=>(kt(null!==e),e))}In(t,e){return xM(t).put("targetGlobalKey",e)}Tn(t,e){return dy(t).put(_M(this.M,e))}En(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.pn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=kh(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return dy(t).Wt({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const w=qb(f);H_(e,w.target)&&(l=w,_.done())}).next(()=>l)}addMatchingKeys(t,e,i){const r=[],l=Bh(t);return e.forEach(u=>{const f=d(u.path);r.push(l.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(t,i,u))}),he.waitFor(r)}removeMatchingKeys(t,e,i){const r=Bh(t);return he.forEach(e,l=>{const u=d(l.path);return he.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,l)])})}removeMatchingKeysForTargetId(t,e){const i=Bh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Bh(t);let l=ln();return r.Wt({range:i,jt:!0},(u,f,_)=>{const w=v(u[1]),D=new Ge(w);l=l.add(D)}).next(()=>l)}containsKey(t,e){const i=d(e.path),r=IDBKeyRange.bound([i],[N_(i)],!1,!0);let l=0;return Bh(t).Wt({index:"documentTargetsIndex",jt:!0,range:r},([u,f],_,w)=>{0!==u&&(l++,w.done())}).next(()=>l>0)}Et(t,e){return dy(t).get(e).next(i=>i?qb(i):null)}}function dy(n){return Or(n,"targets")}function xM(n){return Or(n,"targetGlobal")}function Bh(n){return Or(n,"targetDocuments")}function Kp(n){return BS.apply(this,arguments)}function BS(){return BS=(0,we.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==ay)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),BS.apply(this,arguments)}function AM([n,t],[e,i]){const r=Vt(n,e);return 0===r?Vt(t,i):r}class iN{constructor(t){this.An=t,this.buffer=new En(AM),this.Rn=0}bn(){return++this.Rn}Pn(t){const e=[t,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();AM(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class rN{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.Vn=!1,this.vn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(t)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(t){var e=this;const i=this.Vn?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,we.Z)(function*(){e.vn=null,e.Vn=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){jp(r)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Kp(r)}yield e.Sn(t)}))}}class sN{constructor(t,e){this.Dn=t,this.params=e}calculateTargetCount(t,e){return this.Dn.Cn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return he.resolve(fo.A);const i=new iN(e);return this.Dn.forEachTarget(t,r=>i.Pn(r.sequenceNumber)).next(()=>this.Dn.xn(t,r=>i.Pn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Dn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Dn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(EM)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EM):this.Nn(t,e))}getCacheSize(t){return this.Dn.getCacheSize(t)}Nn(t,e){let i,r,l,u,f,_,w;const D=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),r=this.params.maximumSequenceNumbersToCollect):r=A,u=Date.now(),this.nthSequenceNumber(t,r))).next(A=>(i=A,f=Date.now(),this.removeTargets(t,i,e))).next(A=>(l=A,_=Date.now(),this.removeOrphanedDocuments(t,i))).next(A=>(w=Date.now(),ub()<=ac.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-D}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${l} targets in `+(_-f)+`ms\n\tRemoved ${A} documents in `+(w-_)+`ms\nTotal Duration: ${w-D}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:l,documentsRemoved:A})))}}class oN{constructor(t,e){this.db=t,this.garbageCollector=new sN(this,e)}Cn(t){const e=this.kn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}kn(t){let e=0;return this.xn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}xn(t,e){return this.Mn(t,(i,r)=>e(r))}addReference(t,e,i){return vE(t,i)}removeReference(t,e,i){return vE(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return vE(t,e)}On(t,e){return function(i,r){let l=!1;return SM(i).zt(u=>DM(i,u,r).next(f=>(f&&(l=!0),he.resolve(!f)))).next(()=>l)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let l=0;return this.Mn(t,(u,f)=>{if(f<=e){const _=this.On(t,u).next(w=>{if(!w)return l++,i.getEntry(t,u).next(()=>(i.removeEntry(u,At.min()),Bh(t).delete([0,d(u.path)])))});r.push(_)}}).next(()=>he.waitFor(r)).next(()=>i.apply(t)).next(()=>l)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return vE(t,e)}Mn(t,e){const i=Bh(t);let r,l=fo.A;return i.Wt({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:w})=>{0===u?(l!==fo.A&&e(new Ge(v(r)),l),l=w,r=_):l=fo.A}).next(()=>{l!==fo.A&&e(new Ge(v(r)),l)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function vE(n,t){return Bh(n).put((i=n.currentSequenceNumber,{targetId:0,path:d(t.path),sequenceNumber:i}));var i}class MM{constructor(){this.changes=new ed(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Dn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?he.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class aN{constructor(t){this.M=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Qp(t).put(i)}removeEntry(t,e,i){return Qp(t).delete(function(r,l){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],pE(l),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Fn(t,i)))}getEntry(t,e){let i=Dn.newInvalidDocument(e);return Qp(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(zb(e))},(r,l)=>{i=this.$n(e,l)}).next(()=>i)}Bn(t,e){let i={size:0,document:Dn.newInvalidDocument(e)};return Qp(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(zb(e))},(r,l)=>{i={document:this.$n(e,l),size:yE(l)}}).next(()=>i)}getEntries(t,e){let i=Qo();return this.Ln(t,e,(r,l)=>{const u=this.$n(r,l);i=i.insert(r,u)}).next(()=>i)}Un(t,e){let i=Qo(),r=new hi(Ge.comparator);return this.Ln(t,e,(l,u)=>{const f=this.$n(l,u);i=i.insert(l,f),r=r.insert(l,yE(u))}).next(()=>({documents:i,qn:r}))}Ln(t,e,i){if(e.isEmpty())return he.resolve();let r=new En(PM);e.forEach(_=>r=r.add(_));const l=IDBKeyRange.bound(zb(r.first()),zb(r.last())),u=r.getIterator();let f=u.getNext();return Qp(t).Wt({index:"documentKeyIndex",range:l},(_,w,D)=>{const A=Ge.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&PM(f,A)<0;)i(f,null),f=u.getNext();f&&f.isEqual(A)&&(i(f,w),f=u.hasNext()?u.getNext():null),f?D.Ut(zb(f)):D.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),pE(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qp(t).qt(IDBKeyRange.bound(r,l,!0)).next(u=>{let f=Qo();for(const _ of u){const w=this.$n(Ge.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(t,e,i,r){let l=Qo();const u=kM(e,i),f=kM(e,go.max());return Qp(t).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,w,D)=>{const A=this.$n(Ge.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);l=l.insert(A.key,A),l.size===r&&D.done()}).next(()=>l)}newChangeBuffer(t){return new lN(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return OM(t).get("remoteDocumentGlobalKey").next(e=>(kt(!!e),e))}Fn(t,e){return OM(t).put("remoteDocumentGlobalKey",e)}$n(t,e){if(e){const i=function zR(n,t){let e;if(t.document)e=fE(n.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Ge.fromSegments(t.noDocument.path),r=Gp(t.noDocument.readTime);e=Dn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ct();{const i=Ge.fromSegments(t.unknownDocument.path),r=Gp(t.unknownDocument.version);e=Dn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new di(i[0],i[1]);return At.fromTimestamp(r)}(t.readTime)),e}(this.M,e);if(!i.isNoDocument()||!i.version.isEqual(At.min()))return i}return Dn.newInvalidDocument(t)}}class lN extends MM{constructor(t,e){super(),this.Kn=t,this.trackRemovals=e,this.Gn=new ed(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new En((l,u)=>Vt(l.canonicalString(),u.canonicalString()));return this.changes.forEach((l,u)=>{const f=this.Gn.get(l);if(e.push(this.Kn.removeEntry(t,l,f.readTime)),u.isValidDocument()){const _=mM(this.Kn.M,u);r=r.add(l.path.popLast()),i+=yE(_)-f.size,e.push(this.Kn.addEntry(t,l,_))}else if(i-=f.size,this.trackRemovals){const _=mM(this.Kn.M,u.convertToNoDocument(At.min()));e.push(this.Kn.addEntry(t,l,_))}}),r.forEach(l=>{e.push(this.Kn.indexManager.addToCollectionParentIndex(t,l))}),e.push(this.Kn.updateMetadata(t,i)),he.waitFor(e)}getFromCache(t,e){return this.Kn.Bn(t,e).next(i=>(this.Gn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Kn.Un(t,e).next(({documents:i,qn:r})=>(r.forEach((l,u)=>{this.Gn.set(l,{size:u,readTime:i.get(l).readTime})}),i))}}function OM(n){return Or(n,"remoteDocumentGlobal")}function Qp(n){return Or(n,"remoteDocumentsV14")}function zb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function kM(n,t){const e=t.documentKey.path.toArray();return[n,pE(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function PM(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let l=0;l<e.length-2&&l<i.length-2;++l)if(r=Vt(e[l],i[l]),r)return r;return r=Vt(e.length,i.length),r||(r=Vt(e[e.length-2],i[i.length-2]),r||Vt(e[e.length-1],i[i.length-1]))}class cN{constructor(t){this.M=t}kt(t,e,i,r){const l=new Lh("createOrUpgrade",e);var f;i<1&&r>=1&&(t.createObjectStore("owner"),(f=t).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",C,{unique:!0}),f.createObjectStore("documentMutations"),RM(t),function(f){f.createObjectStore("remoteDocuments")}(t));let u=he.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(t),RM(t)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:At.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(l))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").qt().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",C,{unique:!0});const D=_.store("mutations"),A=w.map(N=>D.put(N));return he.waitFor(A)})}(t,l))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Qn(l))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(t),this.jn(l)))),i<7&&r>=7&&(u=u.next(()=>this.Wn(l))),i<8&&r>=8&&(u=u.next(()=>this.zn(t,l))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.Hn(l))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:Ns});_.createIndex("collectionPathOverlayIndex",rd,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Ub,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:F});_.createIndex("documentKeyIndex",H),_.createIndex("collectionGroupIndex",X)}(t)).next(()=>this.Jn(t,l)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Oe}).createIndex("sequenceNumberIndex",yt,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:$t}).createIndex("documentKeyIndex",pn,{unique:!1})}(t)})),u}jn(t){let e=0;return t.store("remoteDocuments").Wt((i,r)=>{e+=yE(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.qt().next(r=>he.forEach(r,l=>{const u=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",u).next(f=>he.forEach(f,_=>{kt(_.userId===l.userId);const w=cy(this.M,_);return IM(t,l.userId,w).next(()=>{})}))}))}Wn(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const l=[];return i.Wt((u,f)=>{const _=new Qt(u),w=[0,d(_)];l.push(e.get(w).next(D=>D?he.resolve():e.put({targetId:0,path:d(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>he.waitFor(l))})}zn(t,e){t.createObjectStore("collectionParents",{keyPath:at});const i=e.store("collectionParents"),r=new VS,l=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:d(_)})}};return e.store("remoteDocuments").Wt({jt:!0},(u,f)=>{const _=new Qt(u);return l(_.popLast())}).next(()=>e.store("documentMutations").Wt({jt:!0},([u,f,_],w)=>{const D=v(f);return l(D.popLast())}))}Hn(t){const e=t.store("targets");return e.Wt((i,r)=>{const l=qb(r),u=_M(this.M,l);return e.put(u)})}Jn(t,e){const i=e.store("remoteDocuments"),r=[];return i.Wt((l,u)=>{const f=e.store("remoteDocumentsV14"),_=(w=u,w.document?new Ge(Qt.fromString(w.document.name).popFirst(5)):w.noDocument?Ge.fromSegments(w.noDocument.path):w.unknownDocument?Ge.fromSegments(w.unknownDocument.path):ct()).path.toArray();var w;const D={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(D))}).next(()=>he.waitFor(r))}}function RM(n){n.createObjectStore("targetDocuments",{keyPath:Ve}).createIndex("documentTargetsIndex",Ze,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Te,{unique:!0}),n.createObjectStore("targetGlobal")}const HS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class jS{constructor(t,e,i,r,l,u,f,_,w,D,A=13){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Yn=l,this.window=u,this.document=f,this.Xn=w,this.Zn=D,this.ts=A,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=N=>Promise.resolve(),!jS.vt())throw new Re(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oN(this,r),this.hs=e+"main",this.M=new gM(_),this.ls=new Cl(this.hs,this.ts,new cN(this.M)),this.fs=new nN(this.referenceDelegate,this.M),this.ds=new aN(this.M),this._s=new WR,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===D&&Ci("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(de.FAILED_PRECONDITION,HS);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.fs.getHighestSequenceNumber(t))}).then(t=>{this.es=new fo(t,this.Xn)}).then(()=>{this.ns=!0}).catch(t=>(this.ls&&this.ls.close(),Promise.reject(t)))}Ts(t){var e=this;return this.cs=function(){var i=(0,we.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ls.Ot(function(){var e=(0,we.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Yn.enqueueAndForget((0,we.Z)(function*(){e.started&&(yield e.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>bE(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(t).next(e=>{e||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(t)).next(e=>this.isPrimary&&!e?this.Rs(t).next(()=>!1):!!e&&this.bs(t).next(()=>!0))).catch(t=>{if(jp(t))return Le("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Yn.enqueueRetryable(()=>this.cs(t)),this.isPrimary=t})}Es(t){return Wb(t).get("owner").next(e=>he.resolve(this.Ps(e)))}Vs(t){return bE(t).delete(this.clientId)}vs(){var t=this;return(0,we.Z)(function*(){if(t.isPrimary&&!t.Ss(t.us,18e5)){t.us=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Or(i,"clientMetadata");return r.qt().next(l=>{const u=t.Ds(l,18e5),f=l.filter(_=>-1===u.indexOf(_));return he.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(t.ws)for(const i of e)t.ws.removeItem(t.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(t){return!!t&&t.ownerId===this.clientId}As(t){return this.Zn?he.resolve(!0):Wb(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)){if(this.Ps(e)&&this.networkEnabled)return!0;if(!this.Ps(e)){if(!e.allowTabSynchronization)throw new Re(de.FAILED_PRECONDITION,HS);return!1}}return!(!this.networkEnabled||!this.inForeground)||bE(t).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Le("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,we.Z)(function*(){t.ns=!1,t.Ns(),t.os&&(t.os.cancel(),t.os=null),t.ks(),t.Ms(),yield t.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new pM(e,fo.A);return t.Rs(i).next(()=>t.Vs(i))}),t.ls.close(),t.Os()})()}Ds(t,e){return t.filter(i=>this.Ss(i.updateTimeMs,e)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",t=>bE(t).qt().next(e=>this.Ds(e,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(t,e){return US.Yt(t,this.M,e,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(t){return new tN(t,this.M.Jt.databaseId)}getDocumentOverlayCache(t){return LS.Yt(this.M,t)}getBundleCache(){return this._s}runTransaction(t,e,i){Le("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",l=14===(u=this.ts)?Hb:13===u?oy:12===u?Bb:11===u?sy:void ct();var u;let f;return this.ls.runTransaction(t,r,l,_=>(f=new pM(_,this.es?this.es.next():fo.A),"readwrite-primary"===e?this.Es(f).next(w=>!!w||this.As(f)).next(w=>{if(!w)throw Ci(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Re(de.FAILED_PRECONDITION,ay);return i(f)}).next(w=>this.bs(f).next(()=>w)):this.$s(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}$s(t){return Wb(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)&&!this.Ps(e)&&!(this.Zn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Re(de.FAILED_PRECONDITION,HS)})}bs(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wb(t).put("owner",e)}static vt(){return Cl.vt()}Rs(t){const e=Wb(t);return e.get("owner").next(i=>this.Ps(i)?(Le("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):he.resolve())}Ss(t,e){const i=Date.now();return!(t<i-e||t>i&&(Ci(`Detected an update time that is in the future: ${t} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Ot.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(t){var e;try{const i=null!==(null===(e=this.ws)||void 0===e?void 0:e.getItem(this.Cs(t)));return Le("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ci("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(t){Ci("Failed to set zombie client id.",t)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(t){}}Cs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Wb(n){return Or(n,"owner")}function bE(n){return Or(n,"clientMetadata")}function qS(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class uN{constructor(t,e,i){this.ds=t,this.Bs=e,this.indexManager=i}Ls(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Us(t,e,i))}Us(t,e,i){return this.ds.getEntry(t,e).next(r=>{for(const l of i)l.applyToLocalView(r);return r})}qs(t,e){t.forEach((i,r)=>{for(const l of e)l.applyToLocalView(r)})}Ks(t,e){return this.ds.getEntries(t,e).next(i=>this.Gs(t,i).next(()=>i))}Gs(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.qs(e,i))}Qs(t,e,i){return Ge.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(t,e.path):Ib(e)?this.Ws(t,e,i):this.zs(t,e,i);var r}js(t,e){return this.Ls(t,new Ge(e)).next(i=>{let r=Nb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(t,e,i){const r=e.collectionGroup;let l=Nb();return this.indexManager.getCollectionParents(t,r).next(u=>he.forEach(u,f=>{const _=(w=e,D=f.child(r),new Oc(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,D;return this.zs(t,_,i).next(w=>{w.forEach((D,A)=>{l=l.insert(D,A)})})}).next(()=>l))}zs(t,e,i){let r;return this.ds.getAllFromCollection(t,e.path,i).next(l=>(r=l,this.Bs.getAllMutationBatchesAffectingQuery(t,e))).next(l=>{for(const u of l)for(const f of u.mutations){const _=f.key;let w=r.get(_);null==w&&(w=Dn.newInvalidDocument(_),r=r.insert(_,w)),z_(f,w,u.localWriteTime),w.isFoundDocument()||(r=r.remove(_))}}).next(()=>(r.forEach((l,u)=>{Sb(e,u)||(r=r.remove(l))}),r))}}class ZS{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Hs=i,this.Js=r}static Ys(t,e){let i=ln(),r=ln();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:r=r.add(l.doc.key)}return new ZS(t,e.fromCache,i,r)}}class NM{constructor(){this.Xs=!1}initialize(t,e){this.Zs=t,this.indexManager=e,this.Xs=!0}Qs(t,e,i,r){return this.ti(t,e).next(l=>l||this.ei(t,e,r,i)).next(l=>l||this.ni(t,e))}ti(t,e){return he.resolve(null)}ei(t,e,i,r){return function fS(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(e)||r.isEqual(At.min())?this.ni(t,e):this.Zs.Ks(t,i).next(l=>{const u=this.si(e,l);return this.ii(e,u,i,r)?this.ni(t,e):(ub()<=ac.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Db(e)),this.ri(t,u,e,vb(r,-1)))})}si(t,e){let i=new En(xb(t));return e.forEach((r,l)=>{Sb(t,l)&&(i=i.add(l))}),i}ii(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const l="F"===t.limitType?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(r)>0)}ni(t,e){return ub()<=ac.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Db(e)),this.Zs.Qs(t,e,go.min())}ri(t,e,i,r){return this.Zs.Qs(t,i,r).next(l=>(e.forEach(u=>{l=l.insert(u.key,u)}),l))}}class dN{constructor(t,e,i,r){this.persistence=t,this.oi=e,this.M=r,this.ui=new hi(Vt),this.ai=new ed(l=>kh(l),H_),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(i)}li(t){this.indexManager=this.persistence.getIndexManager(t),this.Bs=this.persistence.getMutationQueue(t,this.indexManager),this.fi=new uN(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ui))}}function FM(n,t,e,i){return new dN(n,t,e,i)}function LM(n,t){return GS.apply(this,arguments)}function GS(){return GS=(0,we.Z)(function*(n,t){const e=Qe(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.Bs.getAllMutationBatches(i).next(l=>(r=l,e.li(t),e.Bs.getAllMutationBatches(i))).next(l=>{const u=[],f=[];let _=ln();for(const w of r){u.push(w.batchId);for(const D of w.mutations)_=_.add(D.key)}for(const w of l){f.push(w.batchId);for(const D of w.mutations)_=_.add(D.key)}return e.fi.Ks(i,_).next(w=>({di:w,removedBatchIds:u,addedBatchIds:f}))})})}),GS.apply(this,arguments)}function hN(n,t){const e=Qe(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),l=e.hi.newChangeBuffer({trackRemovals:!0});return function(u,f,_,w){const D=_.batch,A=D.keys();let N=he.resolve();return A.forEach(V=>{N=N.next(()=>w.getEntry(f,V)).next(B=>{const ie=_.docVersions.get(V);kt(null!==ie),B.version.compareTo(ie)<0&&(D.applyToRemoteDocument(B,_),B.isValidDocument()&&(B.setReadTime(_.commitVersion),w.addEntry(B)))})}),N.next(()=>u.Bs.removeMutationBatch(f,D))}(e,i,t,l).next(()=>l.apply(i)).next(()=>e.Bs.performConsistencyCheck(i)).next(()=>e.fi.Ks(i,r))})}function VM(n){const t=Qe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.fs.getLastRemoteSnapshotVersion(e))}function fN(n,t){const e=Qe(n),i=t.snapshotVersion;let r=e.ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=e.hi.newChangeBuffer({trackRemovals:!0});r=e.ui;const f=[];t.targetChanges.forEach((w,D)=>{const A=r.get(D);if(!A)return;f.push(e.fs.removeMatchingKeys(l,w.removedDocuments,D).next(()=>e.fs.addMatchingKeys(l,w.addedDocuments,D)));let N=A.withSequenceNumber(l.currentSequenceNumber);var V,B,ie;t.targetMismatches.has(D)?N=N.withResumeToken(Ei.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):w.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(w.resumeToken,i)),r=r.insert(D,N),B=N,ie=w,(0===(V=A).resumeToken.approximateByteSize()||B.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0)&&f.push(e.fs.updateTargetData(l,N))});let _=Qo();if(t.documentUpdates.forEach(w=>{t.resolvedLimboDocuments.has(w)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(l,w))}),f.push(UM(l,u,t.documentUpdates).next(w=>{_=w})),!i.isEqual(At.min())){const w=e.fs.getLastRemoteSnapshotVersion(l).next(D=>e.fs.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(w)}return he.waitFor(f).next(()=>u.apply(l)).next(()=>e.fi.Gs(l,_)).next(()=>_)}).then(l=>(e.ui=r,l))}function UM(n,t,e){let i=ln();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let l=Qo();return e.forEach((u,f)=>{const _=r.get(u);f.isNoDocument()&&f.version.isEqual(At.min())?(t.removeEntry(u,f.readTime),l=l.insert(u,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(f),l=l.insert(u,f)):Le("LocalStore","Ignoring outdated watch update for ",u,". Current version:",_.version," Watch version:",f.version)}),l})}function pN(n,t){const e=Qe(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.Bs.getNextMutationBatchAfterBatchId(i,t)))}function hy(n,t){const e=Qe(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.fs.getTargetData(i,t).next(l=>l?(r=l,he.resolve(r)):e.fs.allocateTargetId(i).next(u=>(r=new Vh(t,u,0,i.currentSequenceNumber),e.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ui=e.ui.insert(i.targetId,i),e.ai.set(t,i.targetId)),i})}function fy(n,t,e){return $S.apply(this,arguments)}function $S(){return $S=(0,we.Z)(function*(n,t,e){const i=Qe(n),r=i.ui.get(t),l=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!jp(u))throw u;Le("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.ui=i.ui.remove(t),i.ai.delete(r.target)}),$S.apply(this,arguments)}function wE(n,t,e){const i=Qe(n);let r=At.min(),l=ln();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,w){const D=Qe(f),A=D.ai.get(w);return void 0!==A?he.resolve(D.ui.get(A)):D.fs.getTargetData(_,w)}(i,u,mo(t)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(u,f.targetId).next(_=>{l=_})}).next(()=>i.oi.Qs(u,t,e?r:At.min(),e?l:ln())).next(f=>(jM(i,Z_(t),f),{documents:f,_i:l})))}function BM(n,t){const e=Qe(n),i=Qe(e.fs),r=e.ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",l=>i.Et(l,t).next(u=>u?u.target:null))}function HM(n,t){const e=Qe(n),i=e.ci.get(t)||At.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.hi.getAllFromCollectionGroup(r,t,vb(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(jM(e,t,r),r))}function jM(n,t,e){let i=At.min();e.forEach((r,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ci.set(t,i)}function zS(){return zS=(0,we.Z)(function*(n,t,e,i){const r=Qe(n);let l=ln(),u=Qo();for(const w of e){const D=t.wi(w.metadata.name);w.document&&(l=l.add(D));const A=t.mi(w);A.setReadTime(t.gi(w.metadata.readTime)),u=u.insert(D,A)}const f=r.hi.newChangeBuffer({trackRemovals:!0}),_=yield hy(r,(w=i,mo(Rh(Qt.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>UM(w,f,u).next(D=>(f.apply(w),D)).next(D=>r.fs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>r.fs.addMatchingKeys(w,l,_.targetId)).next(()=>r.fi.Gs(w,D)).next(()=>D)))}),zS.apply(this,arguments)}function mN(n,t){return WS.apply(this,arguments)}function WS(){return WS=(0,we.Z)(function*(n,t,e=ln()){const i=yield hy(n,mo(NS(t.bundledQuery))),r=Qe(n);return r.persistence.runTransaction("Save named query","readwrite",l=>{const u=ji(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r._s.saveNamedQuery(l,t);const f=i.withResumeToken(Ei.EMPTY_BYTE_STRING,u);return r.ui=r.ui.insert(f.targetId,f),r.fs.updateTargetData(l,f).next(()=>r.fs.removeMatchingKeysForTargetId(l,i.targetId)).next(()=>r.fs.addMatchingKeys(l,e,i.targetId)).next(()=>r._s.saveNamedQuery(l,t))})}),WS.apply(this,arguments)}class _N{constructor(t){this.M=t,this.yi=new Map,this.pi=new Map}getBundleMetadata(t,e){return he.resolve(this.yi.get(e))}saveBundleMetadata(t,e){var i;return this.yi.set(e.id,{id:(i=e).id,version:i.version,createTime:ji(i.createTime)}),he.resolve()}getNamedQuery(t,e){return he.resolve(this.pi.get(e))}saveNamedQuery(t,e){return this.pi.set(e.name,{name:(i=e).name,query:NS(i.bundledQuery),readTime:ji(i.readTime)}),he.resolve();var i}}class yN{constructor(){this.overlays=new hi(Ge.comparator),this.Ii=new Map}getOverlay(t,e){return he.resolve(this.overlays.get(e))}saveOverlays(t,e,i){return i.forEach((r,l)=>{this.Xt(t,e,l)}),he.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Ii.get(i);return void 0!==r&&(r.forEach(l=>this.overlays=this.overlays.remove(l)),this.Ii.delete(i)),he.resolve()}getOverlaysForCollection(t,e,i){const r=Fc(),l=e.length+1,u=new Ge(e.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!e.isPrefixOf(w.path))break;w.path.length===l&&_.largestBatchId>i&&r.set(_.getKey(),_)}return he.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let l=new hi((w,D)=>w-D);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===e&&w.largestBatchId>i){let D=l.get(w.largestBatchId);null===D&&(D=Fc(),l=l.insert(w.largestBatchId,D)),D.set(w.getKey(),w)}}const f=Fc(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,D)=>f.set(w,D)),!(f.size()>=r)););return he.resolve(f)}Xt(t,e,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const u=this.Ii.get(r.largestBatchId).delete(i.key);this.Ii.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new RS(e,i));let l=this.Ii.get(e);void 0===l&&(l=ln(),this.Ii.set(e,l)),this.Ii.set(e,l.add(i.key))}}class YS{constructor(){this.Ti=new En(kr.Ei),this.Ai=new En(kr.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(t,e){const i=new kr(t,e);this.Ti=this.Ti.add(i),this.Ai=this.Ai.add(i)}bi(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Pi(new kr(t,e))}Vi(t,e){t.forEach(i=>this.removeReference(i,e))}vi(t){const e=new Ge(new Qt([])),i=new kr(e,t),r=new kr(e,t+1),l=[];return this.Ai.forEachInRange([i,r],u=>{this.Pi(u),l.push(u.key)}),l}Si(){this.Ti.forEach(t=>this.Pi(t))}Pi(t){this.Ti=this.Ti.delete(t),this.Ai=this.Ai.delete(t)}Di(t){const e=new Ge(new Qt([])),i=new kr(e,t),r=new kr(e,t+1);let l=ln();return this.Ai.forEachInRange([i,r],u=>{l=l.add(u.key)}),l}containsKey(t){const e=new kr(t,0),i=this.Ti.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class kr{constructor(t,e){this.key=t,this.Ci=e}static Ei(t,e){return Ge.comparator(t.key,e.key)||Vt(t.Ci,e.Ci)}static Ri(t,e){return Vt(t.Ci,e.Ci)||Ge.comparator(t.key,e.key)}}class vN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.Bs=[],this.xi=1,this.Ni=new En(kr.Ei)}checkEmpty(t){return he.resolve(0===this.Bs.length)}addMutationBatch(t,e,i,r){const l=this.xi;this.xi++;const u=new kS(l,e,i,r);this.Bs.push(u);for(const f of r)this.Ni=this.Ni.add(new kr(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return he.resolve(u)}lookupMutationBatch(t,e){return he.resolve(this.ki(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Mi(e+1),l=r<0?0:r;return he.resolve(this.Bs.length>l?this.Bs[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(t){return he.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new kr(e,0),r=new kr(e,Number.POSITIVE_INFINITY),l=[];return this.Ni.forEachInRange([i,r],u=>{const f=this.ki(u.Ci);l.push(f)}),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new En(Vt);return e.forEach(r=>{const l=new kr(r,0),u=new kr(r,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([l,u],f=>{i=i.add(f.Ci)})}),he.resolve(this.Oi(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let l=i;Ge.isDocumentKey(l)||(l=l.child(""));const u=new kr(new Ge(l),0);let f=new En(Vt);return this.Ni.forEachWhile(_=>{const w=_.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(f=f.add(_.Ci)),!0)},u),he.resolve(this.Oi(f))}Oi(t){const e=[];return t.forEach(i=>{const r=this.ki(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){kt(0===this.Fi(e.batchId,"removed")),this.Bs.shift();let i=this.Ni;return he.forEach(e.mutations,r=>{const l=new kr(r.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Ni=i})}_n(t){}containsKey(t,e){const i=new kr(e,0),r=this.Ni.firstAfterOrEqual(i);return he.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return he.resolve()}Fi(t,e){return this.Mi(t)}Mi(t){return 0===this.Bs.length?0:t-this.Bs[0].batchId}ki(t){const e=this.Mi(t);return e<0||e>=this.Bs.length?null:this.Bs[e]}}class bN{constructor(t){this.$i=t,this.docs=new hi(Ge.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),l=r?r.size:0,u=this.$i(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return he.resolve(i?i.document.mutableCopy():Dn.newInvalidDocument(e))}getEntries(t,e){let i=Qo();return e.forEach(r=>{const l=this.docs.get(r);i=i.insert(r,l?l.document.mutableCopy():Dn.newInvalidDocument(r))}),he.resolve(i)}getAllFromCollection(t,e,i){let r=Qo();const l=new Ge(e.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!e.isPrefixOf(f.path))break;f.path.length>e.length+1||bb(zT(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return he.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ct()}Bi(t,e){return he.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new wN(this)}getSize(t){return he.resolve(this.size)}}class wN extends MM{constructor(t){super(),this.Kn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Kn.addEntry(t,r)):this.Kn.removeEntry(i)}),he.waitFor(e)}getFromCache(t,e){return this.Kn.getEntry(t,e)}getAllFromCache(t,e){return this.Kn.getEntries(t,e)}}class CN{constructor(t){this.persistence=t,this.Li=new ed(e=>kh(e),H_),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.Ui=0,this.qi=new YS,this.targetCount=0,this.Ki=Yp.gn()}forEachTarget(t,e){return this.Li.forEach((i,r)=>e(r)),he.resolve()}getLastRemoteSnapshotVersion(t){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return he.resolve(this.Ui)}allocateTargetId(t){return this.highestTargetId=this.Ki.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ui&&(this.Ui=e),he.resolve()}Tn(t){this.Li.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ki=new Yp(e),this.highestTargetId=e),t.sequenceNumber>this.Ui&&(this.Ui=t.sequenceNumber)}addTargetData(t,e){return this.Tn(e),this.targetCount+=1,he.resolve()}updateTargetData(t,e){return this.Tn(e),he.resolve()}removeTargetData(t,e){return this.Li.delete(e.target),this.qi.vi(e.targetId),this.targetCount-=1,he.resolve()}removeTargets(t,e,i){let r=0;const l=[];return this.Li.forEach((u,f)=>{f.sequenceNumber<=e&&null===i.get(f.targetId)&&(this.Li.delete(u),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),r++)}),he.waitFor(l).next(()=>r)}getTargetCount(t){return he.resolve(this.targetCount)}getTargetData(t,e){const i=this.Li.get(e)||null;return he.resolve(i)}addMatchingKeys(t,e,i){return this.qi.bi(e,i),he.resolve()}removeMatchingKeys(t,e,i){this.qi.Vi(e,i);const r=this.persistence.referenceDelegate,l=[];return r&&e.forEach(u=>{l.push(r.markPotentiallyOrphaned(t,u))}),he.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.qi.vi(e),he.resolve()}getMatchingKeysForTargetId(t,e){const i=this.qi.Di(e);return he.resolve(i)}containsKey(t,e){return he.resolve(this.qi.containsKey(e))}}class TN{constructor(t,e){this.Gi={},this.overlays={},this.es=new fo(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new CN(this),this.indexManager=new eN,this.ds=new bN(i=>this.referenceDelegate.Qi(i)),this.M=new gM(e),this._s=new _N(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new yN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Gi[t.toKey()];return i||(i=new vN(e,this.referenceDelegate),this.Gi[t.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(t,e,i){Le("MemoryPersistence","Starting transaction:",t);const r=new EN(this.es.next());return this.referenceDelegate.ji(),i(r).next(l=>this.referenceDelegate.Wi(r).next(()=>l)).toPromise().then(l=>(r.raiseOnCommittedEvent(),l))}zi(t,e){return he.or(Object.values(this.Gi).map(i=>()=>i.containsKey(t,e)))}}class EN extends ly{constructor(t){super(),this.currentSequenceNumber=t}}class KS{constructor(t){this.persistence=t,this.Hi=new YS,this.Ji=null}static Yi(t){return new KS(t)}get Xi(){if(this.Ji)return this.Ji;throw ct()}addReference(t,e,i){return this.Hi.addReference(i,e),this.Xi.delete(i.toString()),he.resolve()}removeReference(t,e,i){return this.Hi.removeReference(i,e),this.Xi.add(i.toString()),he.resolve()}markPotentiallyOrphaned(t,e){return this.Xi.add(e.toString()),he.resolve()}removeTarget(t,e){this.Hi.vi(e.targetId).forEach(r=>this.Xi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(l=>this.Xi.add(l.toString()))}).next(()=>i.removeTargetData(t,e))}ji(){this.Ji=new Set}Wi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Xi,i=>{const r=Ge.fromPath(i);return this.Zi(t,r).next(l=>{l||e.removeEntry(r,At.min())})}).next(()=>(this.Ji=null,e.apply(t)))}updateLimboDocument(t,e){return this.Zi(t,e).next(i=>{i?this.Xi.delete(e.toString()):this.Xi.add(e.toString())})}Qi(t){return 0}Zi(t,e){return he.or([()=>he.resolve(this.Hi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.zi(t,e)])}}function qM(n,t){return`firestore_clients_${n}_${t}`}function ZM(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function QS(n,t){return`firestore_targets_${n}_${t}`}class CE{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static tr(t,e,i){const r=JSON.parse(i);let l,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(l=new Re(r.error.code,r.error.message))),u?new CE(t,e,r.state,l):(Ci("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}er(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Yb{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static tr(t,e){const i=JSON.parse(e);let r,l="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(r=new Re(i.error.code,i.error.message))),l?new Yb(t,i.state,r):(Ci("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}er(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class TE{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static tr(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,l=Fp();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=F_(i.activeTargetIds[u]),l=l.add(i.activeTargetIds[u]);return r?new TE(t,l):(Ci("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class JS{constructor(t,e){this.clientId=t,this.onlineState=e}static tr(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new JS(e.clientId,e.onlineState):(Ci("SharedClientState",`Failed to parse online state: ${t}`),null)}}class XS{constructor(){this.activeTargetIds=Fp()}nr(t){this.activeTargetIds=this.activeTargetIds.add(t)}sr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}er(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class e1{constructor(t,e,i,r,l){this.window=t,this.Yn=e,this.persistenceKey=i,this.ir=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new hi(Vt),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.hr=qM(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new XS),this.dr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,we.Z)(function*(){const e=yield t.syncEngine.Fs();for(const r of e){if(r===t.ir)continue;const l=t.getItem(qM(t.persistenceKey,r));if(l){const u=TE.tr(r,l);u&&(t.ar=t.ar.insert(u.clientId,u))}}t.yr();const i=t.storage.getItem(t.mr);if(i){const r=t.pr(i);r&&t.Ir(r)}for(const r of t.cr)t.ur(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.lr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(t){let e=!1;return this.ar.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Er(t,"pending")}updateMutationState(t,e,i){this.Er(t,e,i),this.Ar(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(QS(this.persistenceKey,t));if(i){const r=Yb.tr(t,i);r&&(e=r.state)}}return this.Rr.nr(t),this.yr(),e}removeLocalQueryTarget(t){this.Rr.sr(t),this.yr()}isLocalQueryTarget(t){return this.Rr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(QS(this.persistenceKey,t))}updateQueryState(t,e,i){this.br(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Ar(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Pr(t)}notifyBundleLoaded(t){this.Vr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Le("SharedClientState","READ",t,e),e}setItem(t,e){Le("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Le("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ur(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Le("SharedClientState","EVENT",i.key,i.newValue),i.key===this.hr)return void Ci("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,we.Z)(function*(){if(e.started){if(null!==i.key)if(e.dr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Sr(r,null)}{const r=e.Dr(i.key,i.newValue);if(r)return e.Sr(r.clientId,r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Cr(i.key,i.newValue);if(r)return e.Nr(r)}}else if(e.wr.test(i.key)){if(null!==i.newValue){const r=e.kr(i.key,i.newValue);if(r)return e.Mr(r)}}else if(i.key===e.mr){if(null!==i.newValue){const r=e.pr(i.newValue);if(r)return e.Ir(r)}}else if(i.key===e.lr){const r=function(l){let u=fo.A;if(null!=l)try{const f=JSON.parse(l);kt("number"==typeof f),u=f}catch(f){Ci("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==fo.A&&e.sequenceNumberHandler(r)}else if(i.key===e.gr){const r=e.Or(i.newValue);yield Promise.all(r.map(l=>e.syncEngine.Fr(l)))}}else e.cr.push(i)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(t,e,i){const r=new CE(this.currentUser,t,e,i),l=ZM(this.persistenceKey,this.currentUser,t);this.setItem(l,r.er())}Ar(t){const e=ZM(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Pr(t){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:t}))}br(t,e,i){const r=QS(this.persistenceKey,t),l=new Yb(t,e,i);this.setItem(r,l.er())}Vr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.gr,e)}vr(t){const e=this.dr.exec(t);return e?e[1]:null}Dr(t,e){const i=this.vr(t);return TE.tr(i,e)}Cr(t,e){const i=this._r.exec(t),r=Number(i[1]);return CE.tr(new Qi(void 0!==i[2]?i[2]:null),r,e)}kr(t,e){const i=this.wr.exec(t),r=Number(i[1]);return Yb.tr(r,e)}pr(t){return JS.tr(t)}Or(t){return JSON.parse(t)}Nr(t){var e=this;return(0,we.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.$r(t.batchId,t.state,t.error);Le("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Mr(t){return this.syncEngine.Br(t.targetId,t.state,t.error)}Sr(t,e){const i=e?this.ar.insert(t,e):this.ar.remove(t),r=this.Tr(this.ar),l=this.Tr(i),u=[],f=[];return l.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{l.has(_)||f.push(_)}),this.syncEngine.Lr(u,f).then(()=>{this.ar=i})}Ir(t){this.ar.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Tr(t){let e=Fp();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class GM{constructor(){this.Ur=new XS,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Ur.nr(t),this.qr[t]||"not-current"}updateQueryState(t,e,i){this.qr[t]=e}removeLocalQueryTarget(t){this.Ur.sr(t)}isLocalQueryTarget(t){return this.Ur.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(t){return this.Ur.activeTargetIds.has(t)}start(){return this.Ur=new XS,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class IN{Kr(t){}shutdown(){}}class $M{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Wr(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const DN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class SN{constructor(t){this.Jr=t.Jr,this.Yr=t.Yr}Xr(t){this.Zr=t}eo(t){this.no=t}onMessage(t){this.so=t}close(){this.Yr()}send(t){this.Jr(t)}io(){this.Zr()}ro(t){this.no(t)}oo(t){this.so(t)}}class xN extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.uo=(t.ssl?"https":"http")+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,i,r,l){const u=this.ho(t,e);Le("RestConnection","Sending: ",u,i);const f={};return this.lo(f,r,l),this.fo(t,u,f,i).then(_=>(Le("RestConnection","Received: ",_),_),_=>{throw Zu("RestConnection",`${t} failed with error: `,_,"url: ",u,"request:",i),_})}_o(t,e,i,r,l){return this.co(t,e,i,r,l)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ah,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,l)=>t[l]=r),i&&i.headers.forEach((r,l)=>t[l]=r)}ho(t,e){return`${this.uo}/v1/${e}:${DN[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((l,u)=>{const f=new LT;f.listenOnce(RT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case qu.NO_ERROR:const w=f.getResponseJson();Le("Connection","XHR received:",JSON.stringify(w)),l(w);break;case qu.TIMEOUT:Le("Connection",'RPC "'+t+'" timed out'),u(new Re(de.DEADLINE_EXCEEDED,"Request time out"));break;case qu.HTTP_ERROR:const D=f.getStatus();if(Le("Connection",'RPC "'+t+'" failed with status:',D,"response text:",f.getResponseText()),D>0){const A=f.getResponseJson().error;if(A&&A.status&&A.message){const N=function(V){const B=V.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(B)>=0?B:de.UNKNOWN}(A.status);u(new Re(N,A.message))}else u(new Re(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Re(de.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{Le("Connection",'RPC "'+t+'" completed.')}});const _=JSON.stringify(r);f.send(e,"POST",_,i,15)})}wo(t,e,i){const r=[this.uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=XD(),u=PT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new FT({})),this.lo(f.initMessageHeaders,e,i),(0,Ot.uI)()||(0,Ot.b$)()||(0,Ot.d)()||(0,Ot.w1)()||(0,Ot.Mn)()||(0,Ot.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Le("Connection","Creating WebChannel: "+_,f);const w=l.createWebChannel(_,f);let D=!1,A=!1;const N=new SN({Jr:B=>{A?Le("Connection","Not sending because WebChannel is closed:",B):(D||(Le("Connection","Opening WebChannel transport."),w.open(),D=!0),Le("Connection","WebChannel sending:",B),w.send(B))},Yr:()=>w.close()}),V=(B,ie,Ce)=>{B.listen(ie,it=>{try{Ce(it)}catch(rt){setTimeout(()=>{throw rt},0)}})};return V(w,wp.EventType.OPEN,()=>{A||Le("Connection","WebChannel transport opened.")}),V(w,wp.EventType.CLOSE,()=>{A||(A=!0,Le("Connection","WebChannel transport closed"),N.ro())}),V(w,wp.EventType.ERROR,B=>{A||(A=!0,Zu("Connection","WebChannel transport errored:",B),N.ro(new Re(de.UNAVAILABLE,"The operation could not be completed")))}),V(w,wp.EventType.MESSAGE,B=>{var ie;if(!A){const Ce=B.data[0];kt(!!Ce);const it=Ce,rt=it.error||(null===(ie=it[0])||void 0===ie?void 0:ie.error);if(rt){Le("Connection","WebChannel received error:",rt);const $e=rt.status;let je=function(Ct){const Zt=Ii[Ct];if(void 0!==Zt)return _S(Zt)}($e),vt=rt.message;void 0===je&&(je=de.INTERNAL,vt="Unknown error status: "+$e+" with message "+rt.message),A=!0,N.ro(new Re(je,vt)),w.close()}else Le("Connection","WebChannel received:",Ce),N.oo(Ce)}}),V(u,NT.STAT_EVENT,B=>{B.stat===cb.PROXY?Le("Connection","Detected buffering proxy"):B.stat===cb.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.io()},0),N}}function zM(){return"undefined"!=typeof window?window:null}function EE(){return"undefined"!=typeof document?document:null}function Kb(n){return new CS(n,!0)}class t1{constructor(t,e,i=1e3,r=1.5,l=6e4){this.Yn=t,this.timerId=e,this.mo=i,this.yo=r,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&Le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class WM{constructor(t,e,i,r,l,u,f,_){this.Yn=t,this.Vo=i,this.vo=r,this.So=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new t1(t,e)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,we.Z)(function*(){t.ko()&&(yield t.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(t){this.Uo(),this.stream.send(t)}Bo(){var t=this;return(0,we.Z)(function*(){if(t.Mo())return t.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(t,e){var i=this;return(0,we.Z)(function*(){i.Uo(),i.qo(),i.No.cancel(),i.Do++,4!==t?i.No.reset():e&&e.code===de.RESOURCE_EXHAUSTED?(Ci(e.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),i.No.Ao()):e&&e.code===de.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Ko(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.eo(e)})()}Ko(){}auth(){this.state=1;const t=this.Go(this.Do),e=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Do===e&&this.Qo(i,r)},i=>{t(()=>{const r=new Re(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.jo(r)})})}Qo(t,e){const i=this.Go(this.Do);this.stream=this.Wo(t,e),this.stream.Xr(()=>{i(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(r=>{i(()=>this.jo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.No.Ro((0,we.Z)(function*(){t.state=0,t.start()}))}jo(t){return Le("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Go(t){return e=>{this.Yn.enqueueAndForget(()=>this.Do===t?e():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AN extends WM{constructor(t,e,i,r,l,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.M=l}Wo(t,e){return this.So.wo("Listen",t,e)}onMessage(t){this.No.reset();const e=function cM(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(_=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ct(),r=t.targetChange.targetIds||[],l=function(_,w){return _.N?(kt(void 0===w||"string"==typeof w),Ei.fromBase64String(w||"")):(kt(void 0===w||w instanceof Uint8Array),Ei.fromUint8Array(w||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,f=u&&function(_){const w=void 0===_.code?de.UNKNOWN:_S(_.code);return new Re(w,_.message||"")}(u);e=new J_(i,r,l,f||null)}else if("documentChange"in t){const i=t.documentChange,r=Pa(n,i.document.name),l=ji(i.document.updateTime),u=new hr({mapValue:{fields:i.document.fields}}),f=Dn.newFoundDocument(r,l,u);e=new K_(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){const i=t.documentDelete,r=Pa(n,i.document),l=i.readTime?ji(i.readTime):At.min(),u=Dn.newNoDocument(r,l);e=new K_([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Pa(n,i.document);e=new K_([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ct();{const i=t.filter,l=new cE(i.count||0);e=new Q_(i.targetId,l)}}var _;return e}(this.M,t),i=function(r){if(!("targetChange"in r))return At.min();const l=r.targetChange;return l.targetIds&&l.targetIds.length?At.min():l.readTime?ji(l.readTime):At.min()}(t);return this.listener.zo(e,i)}Ho(t){const e={};e.database=ny(this.M),e.addTarget=function(r,l){let u;const f=l.target;return u=wb(f)?{documents:DS(r,f)}:{query:SS(r,f)},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?u.resumeToken=hE(r,l.resumeToken):l.snapshotVersion.compareTo(At.min())>0&&(u.readTime=Vp(r,l.snapshotVersion.toTimestamp())),u}(this.M,t);const i=function uM(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ct()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Lo(e)}Jo(t){const e={};e.database=ny(this.M),e.removeTarget=t,this.Lo(e)}}class MN extends WM{constructor(t,e,i,r,l,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.M=l,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(t,e){return this.So.wo("Write",t,e)}onMessage(t){if(kt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Yo){this.No.reset();const e=function IS(n,t){return n&&n.length>0?(kt(void 0!==t),n.map(e=>function(i,r){let l=ji(i.updateTime?i.updateTime:r);return l.isEqual(At.min())&&(l=ji(r)),new rM(l,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=ji(t.commitTime);return this.listener.tu(i,e)}return kt(!t.writeResults||0===t.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const t={};t.database=ny(this.M),this.Lo(t)}Zo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>ry(this.M,i))};this.Lo(e)}}class ON extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.So=i,this.M=r,this.su=!1}iu(){if(this.su)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.So.co(t,e,i,r,l)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(de.UNKNOWN,r.toString())})}_o(t,e,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.So._o(t,e,i,r,l)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(de.UNKNOWN,r.toString())})}terminate(){this.su=!0}}class kN{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(t){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.fu(),this.ru=0,"Online"===t&&(this.uu=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}hu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Ci(e),this.uu=!1):Le("OnlineStateTracker",e)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class PN{constructor(t,e,i,r,l){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=l,this.gu.Kr(f=>{i.enqueueAndForget((0,we.Z)(function*(){var _;Hh(u)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,we.Z)(function*(w){const D=Qe(w);D.wu.add(4),yield py(D),D.yu.set("Unknown"),D.wu.delete(4),yield Qb(D)}),function(w){return _.apply(this,arguments)})(u))}))}),this.yu=new kN(i,r)}}function Qb(n){return n1.apply(this,arguments)}function n1(){return n1=(0,we.Z)(function*(n){if(Hh(n))for(const t of n.mu)yield t(!0)}),n1.apply(this,arguments)}function py(n){return r1.apply(this,arguments)}function r1(){return r1=(0,we.Z)(function*(n){for(const t of n.mu)yield t(!1)}),r1.apply(this,arguments)}function IE(n,t){const e=Qe(n);e._u.has(t.targetId)||(e._u.set(t.targetId,t),a1(e)?o1(e):my(e).Mo()&&s1(e,t))}function Jb(n,t){const e=Qe(n),i=my(e);e._u.delete(t),i.Mo()&&YM(e,t),0===e._u.size&&(i.Mo()?i.$o():Hh(e)&&e.yu.set("Unknown"))}function s1(n,t){n.pu.Z(t.targetId),my(n).Ho(t)}function YM(n,t){n.pu.Z(t),my(n).Jo(t)}function o1(n){n.pu=new aM({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n._u.get(t)||null}),my(n).start(),n.yu.au()}function a1(n){return Hh(n)&&!my(n).ko()&&n._u.size>0}function Hh(n){return 0===Qe(n).wu.size}function KM(n){n.pu=void 0}function RN(n){return l1.apply(this,arguments)}function l1(){return l1=(0,we.Z)(function*(n){n._u.forEach((t,e)=>{s1(n,t)})}),l1.apply(this,arguments)}function NN(n,t){return c1.apply(this,arguments)}function c1(){return c1=(0,we.Z)(function*(n,t){KM(n),a1(n)?(n.yu.lu(t),o1(n)):n.yu.set("Unknown")}),c1.apply(this,arguments)}function FN(n,t,e){return u1.apply(this,arguments)}function u1(){return u1=(0,we.Z)(function*(n,t,e){if(n.yu.set("Online"),t instanceof J_&&2===t.state&&t.cause)try{yield(i=(0,we.Z)(function*(r,l){const u=l.cause;for(const f of l.targetIds)r._u.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r._u.delete(f),r.pu.removeTarget(f))}),function(r,l){return i.apply(this,arguments)})(n,t)}catch(i){Le("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield DE(n,i)}else if(t instanceof K_?n.pu.ut(t):t instanceof Q_?n.pu._t(t):n.pu.ht(t),!e.isEqual(At.min()))try{const i=yield VM(n.localStore);e.compareTo(i)>=0&&(yield function(r,l){const u=r.pu.yt(l);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=r._u.get(_);w&&r._u.set(_,w.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach(f=>{const _=r._u.get(f);if(!_)return;r._u.set(f,_.withResumeToken(Ei.EMPTY_BYTE_STRING,_.snapshotVersion)),YM(r,f);const w=new Vh(_.target,f,1,_.sequenceNumber);s1(r,w)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Le("RemoteStore","Failed to raise snapshot:",i),yield DE(n,i)}var i}),u1.apply(this,arguments)}function DE(n,t,e){return d1.apply(this,arguments)}function d1(){return d1=(0,we.Z)(function*(n,t,e){if(!jp(t))throw t;n.wu.add(1),yield py(n),n.yu.set("Offline"),e||(e=()=>VM(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield e(),n.wu.delete(1),yield Qb(n)}))}),d1.apply(this,arguments)}function QM(n,t){return t().catch(e=>DE(n,e,t))}function gy(n){return h1.apply(this,arguments)}function h1(){return h1=(0,we.Z)(function*(n){const t=Qe(n),e=jh(t);let i=t.du.length>0?t.du[t.du.length-1].batchId:-1;for(;LN(t);)try{const r=yield pN(t.localStore,i);if(null===r){0===t.du.length&&e.$o();break}i=r.batchId,VN(t,r)}catch(r){yield DE(t,r)}JM(t)&&XM(t)}),h1.apply(this,arguments)}function LN(n){return Hh(n)&&n.du.length<10}function VN(n,t){n.du.push(t);const e=jh(n);e.Mo()&&e.Xo&&e.Zo(t.mutations)}function JM(n){return Hh(n)&&!jh(n).ko()&&n.du.length>0}function XM(n){jh(n).start()}function UN(n){return f1.apply(this,arguments)}function f1(){return f1=(0,we.Z)(function*(n){jh(n).nu()}),f1.apply(this,arguments)}function BN(n){return p1.apply(this,arguments)}function p1(){return p1=(0,we.Z)(function*(n){const t=jh(n);for(const e of n.du)t.Zo(e.mutations)}),p1.apply(this,arguments)}function HN(n,t,e){return g1.apply(this,arguments)}function g1(){return g1=(0,we.Z)(function*(n,t,e){const i=n.du.shift(),r=PS.from(i,t,e);yield QM(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield gy(n)}),g1.apply(this,arguments)}function jN(n,t){return m1.apply(this,arguments)}function m1(){return m1=(0,we.Z)(function*(n,t){var e;t&&jh(n).Xo&&(yield(e=(0,we.Z)(function*(i,r){if(uE(l=r.code)&&l!==de.ABORTED){const u=i.du.shift();jh(i).Fo(),yield QM(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield gy(i)}var l}),function(i,r){return e.apply(this,arguments)})(n,t)),JM(n)&&XM(n)}),m1.apply(this,arguments)}function eO(n,t){return _1.apply(this,arguments)}function _1(){return _1=(0,we.Z)(function*(n,t){const e=Qe(n);e.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const i=Hh(e);e.wu.add(3),yield py(e),i&&e.yu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.wu.delete(3),yield Qb(e)}),_1.apply(this,arguments)}function y1(n,t){return v1.apply(this,arguments)}function v1(){return v1=(0,we.Z)(function*(n,t){const e=Qe(n);t?(e.wu.delete(2),yield Qb(e)):t||(e.wu.add(2),yield py(e),e.yu.set("Unknown"))}),v1.apply(this,arguments)}function my(n){return n.Iu||(n.Iu=function(t,e,i){const r=Qe(t);return r.iu(),new AN(e,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:RN.bind(null,n),eo:NN.bind(null,n),zo:FN.bind(null,n)}),n.mu.push(function(){var t=(0,we.Z)(function*(e){e?(n.Iu.Fo(),a1(n)?o1(n):n.yu.set("Unknown")):(yield n.Iu.stop(),KM(n))});return function(e){return t.apply(this,arguments)}}())),n.Iu}function jh(n){return n.Tu||(n.Tu=function(t,e,i){const r=Qe(t);return r.iu(),new MN(e,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:UN.bind(null,n),eo:jN.bind(null,n),eu:BN.bind(null,n),tu:HN.bind(null,n)}),n.mu.push(function(){var t=(0,we.Z)(function*(e){e?(n.Tu.Fo(),yield gy(n)):(yield n.Tu.stop(),n.du.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(e){return t.apply(this,arguments)}}())),n.Tu}class b1{constructor(t,e,i,r,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=l,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,l){const u=Date.now()+i,f=new b1(t,e,u,r,l);return f.start(i),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(de.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _y(n,t){if(Ci("AsyncQueue",`${t}: ${n}`),jp(n))return new Re(de.UNAVAILABLE,`${t}: ${n}`);throw n}class yy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ge.comparator(e.key,i.key):(e,i)=>Ge.comparator(e.key,i.key),this.keyedMap=Nb(),this.sortedSet=new hi(this.comparator)}static emptySet(t){return new yy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof yy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,l=i.getNext().key;if(!r.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new yy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class tO{constructor(){this.Eu=new hi(Ge.comparator)}track(t){const e=t.doc.key,i=this.Eu.get(e);i?0!==t.type&&3===i.type?this.Eu=this.Eu.insert(e,t):3===t.type&&1!==i.type?this.Eu=this.Eu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Eu=this.Eu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Eu=this.Eu.remove(e):1===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):ct():this.Eu=this.Eu.insert(e,t)}Au(){const t=[];return this.Eu.inorderTraversal((e,i)=>{t.push(i)}),t}}class vy{constructor(t,e,i,r,l,u,f,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(t,e,i,r){const l=[];return e.forEach(u=>{l.push({type:0,doc:u})}),new vy(t,e,yy.emptySet(e),l,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class qN{constructor(){this.Ru=void 0,this.listeners=[]}}class ZN{constructor(){this.queries=new ed(t=>q_(t),kp),this.onlineState="Unknown",this.bu=new Set}}function w1(n,t){return C1.apply(this,arguments)}function C1(){return C1=(0,we.Z)(function*(n,t){const e=Qe(n),i=t.query;let r=!1,l=e.queries.get(i);if(l||(r=!0,l=new qN),r)try{l.Ru=yield e.onListen(i)}catch(u){const f=_y(u,`Initialization of query '${Db(t.query)}' failed`);return void t.onError(f)}e.queries.set(i,l),l.listeners.push(t),t.Pu(e.onlineState),l.Ru&&t.Vu(l.Ru)&&I1(e)}),C1.apply(this,arguments)}function T1(n,t){return E1.apply(this,arguments)}function E1(){return E1=(0,we.Z)(function*(n,t){const e=Qe(n),i=t.query;let r=!1;const l=e.queries.get(i);if(l){const u=l.listeners.indexOf(t);u>=0&&(l.listeners.splice(u,1),r=0===l.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),E1.apply(this,arguments)}function GN(n,t){const e=Qe(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const f of u.listeners)f.Vu(r)&&(i=!0);u.Ru=r}}i&&I1(e)}function $N(n,t,e){const i=Qe(n),r=i.queries.get(t);if(r)for(const l of r.listeners)l.onError(e);i.queries.delete(t)}function I1(n){n.bu.forEach(t=>{t.next()})}class D1{constructor(t,e,i){this.query=t,this.vu=e,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}Vu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new vy(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Su?this.Cu(t)&&(this.vu.next(t),e=!0):this.xu(t,this.onlineState)&&(this.Nu(t),e=!0),this.Du=t,e}onError(t){this.vu.error(t)}Pu(t){this.onlineState=t;let e=!1;return this.Du&&!this.Su&&this.xu(this.Du,t)&&(this.Nu(this.Du),e=!0),e}xu(t,e){return!t.fromCache||!(this.options.ku&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Cu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(t){t=vy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Su=!0,this.vu.next(t)}}class zN{constructor(t,e){this.payload=t,this.byteLength=e}Mu(){return"metadata"in this.payload}}class nO{constructor(t){this.M=t}wi(t){return Pa(this.M,t)}mi(t){return t.metadata.exists?fE(this.M,t.document,!1):Dn.newNoDocument(this.wi(t.metadata.name),this.gi(t.metadata.readTime))}gi(t){return ji(t)}}class WN{constructor(t,e,i){this.Ou=t,this.localStore=e,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=iO(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=Qt.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new nO(this.M);for(const r of t)if(r.metadata.queries){const l=i.wi(r.metadata.name);for(const u of r.metadata.queries){const f=(e.get(u)||ln()).add(l);e.set(u,f)}}return e}complete(){var t=this;return(0,we.Z)(function*(){const e=yield function gN(n,t,e,i){return zS.apply(this,arguments)}(t.localStore,new nO(t.M),t.documents,t.Ou.id),i=t.$u(t.documents);for(const r of t.queries)yield mN(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function iO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class rO{constructor(t){this.key=t}}class sO{constructor(t){this.key=t}}class oO{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.current=!1,this.Ku=ln(),this.mutatedKeys=ln(),this.Gu=xb(t),this.Qu=new yy(this.Gu)}get ju(){return this.Uu}Wu(t,e){const i=e?e.zu:new tO,r=e?e.Qu:this.Qu;let l=e?e.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,w="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((D,A)=>{const N=r.get(D),V=Sb(this.query,A)?A:null,B=!!N&&this.mutatedKeys.has(N.key),ie=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let Ce=!1;N&&V?N.data.isEqual(V.data)?B!==ie&&(i.track({type:3,doc:V}),Ce=!0):this.Hu(N,V)||(i.track({type:2,doc:V}),Ce=!0,(_&&this.Gu(V,_)>0||w&&this.Gu(V,w)<0)&&(f=!0)):!N&&V?(i.track({type:0,doc:V}),Ce=!0):N&&!V&&(i.track({type:1,doc:N}),Ce=!0,(_||w)&&(f=!0)),Ce&&(V?(u=u.add(V),l=ie?l.add(D):l.delete(D)):(u=u.delete(D),l=l.delete(D)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const D="F"===this.query.limitType?u.last():u.first();u=u.delete(D.key),l=l.delete(D.key),i.track({type:1,doc:D})}return{Qu:u,zu:i,ii:f,mutatedKeys:l}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const l=t.zu.Au();l.sort((w,D)=>function(A,N){const V=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return V(A)-V(N)}(w.type,D.type)||this.Gu(w.doc,D.doc)),this.Ju(i);const u=e?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,_=f!==this.qu;return this.qu=f,0!==l.length||_?{snapshot:new vy(this.query,t.Qu,r,l,t.mutatedKeys,0===f,_,!1),Xu:u}:{Xu:u}}Pu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new tO,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=ln(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new sO(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new rO(i))}),e}ta(t){this.Uu=t._i,this.Ku=ln();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ea(){return vy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class YN{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class KN{constructor(t){this.key=t,this.na=!1}}class QN{constructor(t,e,i,r,l,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.sa={},this.ia=new ed(f=>q_(f),kp),this.ra=new Map,this.oa=new Set,this.ua=new hi(Ge.comparator),this.aa=new Map,this.ca=new YS,this.ha={},this.la=new Map,this.fa=Yp.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function JN(n,t){return S1.apply(this,arguments)}function S1(){return S1=(0,we.Z)(function*(n,t){const e=K1(n);let i,r;const l=e.ia.get(t);if(l)i=l.targetId,e.sharedClientState.addLocalQueryTarget(i),r=l.view.ea();else{const u=yield hy(e.localStore,mo(t));e.isPrimaryClient&&IE(e.remoteStore,u);const f=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield x1(e,t,i,"current"===f)}return r}),S1.apply(this,arguments)}function x1(n,t,e,i){return A1.apply(this,arguments)}function A1(){return A1=(0,we.Z)(function*(n,t,e,i){n._a=(D,A,N)=>{return(V=(0,we.Z)(function*(B,ie,Ce,it){let rt=ie.view.Wu(Ce);rt.ii&&(rt=yield wE(B.localStore,ie.query,!1).then(({documents:vt})=>ie.view.Wu(vt,rt)));const $e=it&&it.targetChanges.get(ie.targetId),je=ie.view.applyChanges(rt,B.isPrimaryClient,$e);return U1(B,ie.targetId,je.Xu),je.snapshot}),function(B,ie,Ce,it){return V.apply(this,arguments)})(n,D,A,N);var V};const r=yield wE(n.localStore,t,!0),l=new oO(t,r._i),u=l.Wu(r.documents),f=id.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),_=l.applyChanges(u,n.isPrimaryClient,f);U1(n,e,_.Xu);const w=new YN(t,e,l);return n.ia.set(t,w),n.ra.has(e)?n.ra.get(e).push(t):n.ra.set(e,[t]),_.snapshot}),A1.apply(this,arguments)}function XN(n,t){return M1.apply(this,arguments)}function M1(){return M1=(0,we.Z)(function*(n,t){const e=Qe(n),i=e.ia.get(t),r=e.ra.get(i.targetId);if(r.length>1)return e.ra.set(i.targetId,r.filter(l=>!kp(l,t))),void e.ia.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield fy(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Jb(e.remoteStore,i.targetId),by(e,i.targetId)}).catch(Kp))):(by(e,i.targetId),yield fy(e.localStore,i.targetId,!0))}),M1.apply(this,arguments)}function O1(){return O1=(0,we.Z)(function*(n,t,e){const i=Q1(n);try{const r=yield function(l,u){const f=Qe(l),_=di.now(),w=u.reduce((A,N)=>A.add(N.key),ln());let D;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>f.fi.Ks(A,w).next(N=>{D=N;const V=[];for(const B of u){const ie=kb(B,D.get(B.key));null!=ie&&V.push(new Nc(B.key,ie,$T(ie.value.mapValue),ii.exists(!0)))}return f.Bs.addMutationBatch(A,_,V,u)})).then(A=>(A.applyToLocalDocumentSet(D),{batchId:A.batchId,changes:D}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(l,u,f){let _=l.ha[l.currentUser.toKey()];_||(_=new hi(Vt)),_=_.insert(u,f),l.ha[l.currentUser.toKey()]=_}(i,r.batchId,e),yield sd(i,r.changes),yield gy(i.remoteStore)}catch(r){const l=_y(r,"Failed to persist write");e.reject(l)}}),O1.apply(this,arguments)}function aO(n,t){return k1.apply(this,arguments)}function k1(){return k1=(0,we.Z)(function*(n,t){const e=Qe(n);try{const i=yield fN(e.localStore,t);t.targetChanges.forEach((r,l)=>{const u=e.aa.get(l);u&&(kt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.na=!0:r.modifiedDocuments.size>0?kt(u.na):r.removedDocuments.size>0&&(kt(u.na),u.na=!1))}),yield sd(e,i,t)}catch(i){yield Kp(i)}}),k1.apply(this,arguments)}function lO(n,t,e){const i=Qe(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ia.forEach((l,u)=>{const f=u.view.Pu(t);f.snapshot&&r.push(f.snapshot)}),function(l,u){const f=Qe(l);f.onlineState=u;let _=!1;f.queries.forEach((w,D)=>{for(const A of D.listeners)A.Pu(u)&&(_=!0)}),_&&I1(f)}(i.eventManager,t),r.length&&i.sa.zo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function tF(n,t,e){return P1.apply(this,arguments)}function P1(){return P1=(0,we.Z)(function*(n,t,e){const i=Qe(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.aa.get(t),l=r&&r.key;if(l){let u=new hi(Ge.comparator);u=u.insert(l,Dn.newNoDocument(l,At.min()));const f=ln().add(l),_=new nd(At.min(),new Map,new En(Vt),u,f);yield aO(i,_),i.ua=i.ua.remove(l),i.aa.delete(t),B1(i)}else yield fy(i.localStore,t,!1).then(()=>by(i,t,e)).catch(Kp)}),P1.apply(this,arguments)}function nF(n,t){return R1.apply(this,arguments)}function R1(){return R1=(0,we.Z)(function*(n,t){const e=Qe(n),i=t.batch.batchId;try{const r=yield hN(e.localStore,t);V1(e,i,null),L1(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield sd(e,r)}catch(r){yield Kp(r)}}),R1.apply(this,arguments)}function iF(n,t,e){return N1.apply(this,arguments)}function N1(){return N1=(0,we.Z)(function*(n,t,e){const i=Qe(n);try{const r=yield function(l,u){const f=Qe(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.Bs.lookupMutationBatch(_,u).next(D=>(kt(null!==D),w=D.keys(),f.Bs.removeMutationBatch(_,D))).next(()=>f.Bs.performConsistencyCheck(_)).next(()=>f.fi.Ks(_,w))})}(i.localStore,t);V1(i,t,e),L1(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield sd(i,r)}catch(r){yield Kp(r)}}),N1.apply(this,arguments)}function F1(){return F1=(0,we.Z)(function*(n,t){const e=Qe(n);Hh(e.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(l){const u=Qe(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.Bs.getHighestUnacknowledgedBatchId(f))}(e.localStore);if(-1===i)return void t.resolve();const r=e.la.get(i)||[];r.push(t),e.la.set(i,r)}catch(i){const r=_y(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),F1.apply(this,arguments)}function L1(n,t){(n.la.get(t)||[]).forEach(e=>{e.resolve()}),n.la.delete(t)}function V1(n,t,e){const i=Qe(n);let r=i.ha[i.currentUser.toKey()];if(r){const l=r.get(t);l&&(e?l.reject(e):l.resolve(),r=r.remove(t)),i.ha[i.currentUser.toKey()]=r}}function by(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ra.get(t))n.ia.delete(i),e&&n.sa.wa(i,e);n.ra.delete(t),n.isPrimaryClient&&n.ca.vi(t).forEach(i=>{n.ca.containsKey(i)||cO(n,i)})}function cO(n,t){n.oa.delete(t.path.canonicalString());const e=n.ua.get(t);null!==e&&(Jb(n.remoteStore,e),n.ua=n.ua.remove(t),n.aa.delete(e),B1(n))}function U1(n,t,e){for(const i of e)i instanceof rO?(n.ca.addReference(i.key,t),sF(n,i)):i instanceof sO?(Le("SyncEngine","Document no longer in limbo: "+i.key),n.ca.removeReference(i.key,t),n.ca.containsKey(i.key)||cO(n,i.key)):ct()}function sF(n,t){const e=t.key,i=e.path.canonicalString();n.ua.get(e)||n.oa.has(i)||(Le("SyncEngine","New document in limbo: "+e),n.oa.add(i),B1(n))}function B1(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const t=n.oa.values().next().value;n.oa.delete(t);const e=new Ge(Qt.fromString(t)),i=n.fa.next();n.aa.set(i,new KN(e)),n.ua=n.ua.insert(e,i),IE(n.remoteStore,new Vh(mo(Rh(e.path)),i,2,fo.A))}}function sd(n,t,e){return H1.apply(this,arguments)}function H1(){return H1=(0,we.Z)(function*(n,t,e){const i=Qe(n),r=[],l=[],u=[];var f;i.ia.isEmpty()||(i.ia.forEach((f,_)=>{u.push(i._a(_,t,e).then(w=>{if(w){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),r.push(w);const D=ZS.Ys(_.targetId,w);l.push(D)}}))}),yield Promise.all(u),i.sa.zo(r),yield(f=(0,we.Z)(function*(_,w){const D=Qe(_);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>he.forEach(w,N=>he.forEach(N.Hs,V=>D.persistence.referenceDelegate.addReference(A,N.targetId,V)).next(()=>he.forEach(N.Js,V=>D.persistence.referenceDelegate.removeReference(A,N.targetId,V)))))}catch(A){if(!jp(A))throw A;Le("LocalStore","Failed to update sequence numbers: "+A)}for(const A of w){const N=A.targetId;if(!A.fromCache){const V=D.ui.get(N),ie=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);D.ui=D.ui.insert(N,ie)}}}),function(_,w){return f.apply(this,arguments)})(i.localStore,l))}),H1.apply(this,arguments)}function oF(n,t){return j1.apply(this,arguments)}function j1(){return j1=(0,we.Z)(function*(n,t){const e=Qe(n);if(!e.currentUser.isEqual(t)){Le("SyncEngine","User change. New user:",t.toKey());const i=yield LM(e.localStore,t);e.currentUser=t,(r=e).la.forEach(u=>{u.forEach(f=>{f.reject(new Re(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.la.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield sd(e,i.di)}var r}),j1.apply(this,arguments)}function aF(n,t){const e=Qe(n),i=e.aa.get(t);if(i&&i.na)return ln().add(i.key);{let r=ln();const l=e.ra.get(t);if(!l)return r;for(const u of l){const f=e.ia.get(u);r=r.unionWith(f.view.ju)}return r}}function lF(n,t){return q1.apply(this,arguments)}function q1(){return q1=(0,we.Z)(function*(n,t){const e=Qe(n),i=yield wE(e.localStore,t.query,!0),r=t.view.ta(i);return e.isPrimaryClient&&U1(e,t.targetId,r.Xu),r}),q1.apply(this,arguments)}function cF(n,t){return Z1.apply(this,arguments)}function Z1(){return Z1=(0,we.Z)(function*(n,t){const e=Qe(n);return HM(e.localStore,t).then(i=>sd(e,i))}),Z1.apply(this,arguments)}function uF(n,t,e,i){return G1.apply(this,arguments)}function G1(){return G1=(0,we.Z)(function*(n,t,e,i){const r=Qe(n),l=yield function(u,f){const _=Qe(u),w=Qe(_.Bs);return _.persistence.runTransaction("Lookup mutation documents","readonly",D=>w.fn(D,f).next(A=>A?_.fi.Ks(D,A):he.resolve(null)))}(r.localStore,t);var f;null!==l?("pending"===e?yield gy(r.remoteStore):"acknowledged"===e||"rejected"===e?(V1(r,t,i||null),L1(r,t),f=t,Qe(Qe(r.localStore).Bs)._n(f)):ct(),yield sd(r,l)):Le("SyncEngine","Cannot apply mutation batch with id: "+t)}),G1.apply(this,arguments)}function $1(){return $1=(0,we.Z)(function*(n,t){const e=Qe(n);if(K1(e),Q1(e),!0===t&&!0!==e.da){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield uO(e,i.toArray());e.da=!0,yield y1(e.remoteStore,!0);for(const l of r)IE(e.remoteStore,l)}else if(!1===t&&!1!==e.da){const i=[];let r=Promise.resolve();e.ra.forEach((l,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(by(e,u),fy(e.localStore,u,!0))),Jb(e.remoteStore,u)}),yield r,yield uO(e,i),function(l){const u=Qe(l);u.aa.forEach((f,_)=>{Jb(u.remoteStore,_)}),u.ca.Si(),u.aa=new Map,u.ua=new hi(Ge.comparator)}(e),e.da=!1,yield y1(e.remoteStore,!1)}}),$1.apply(this,arguments)}function uO(n,t,e){return z1.apply(this,arguments)}function z1(){return z1=(0,we.Z)(function*(n,t,e){const i=Qe(n),r=[],l=[];for(const u of t){let f;const _=i.ra.get(u);if(_&&0!==_.length){f=yield hy(i.localStore,mo(_[0]));for(const w of _){const D=i.ia.get(w),A=yield lF(i,D);A.snapshot&&l.push(A.snapshot)}}else{const w=yield BM(i.localStore,u);f=yield hy(i.localStore,w),yield x1(i,dO(w),u,!1)}r.push(f)}return i.sa.zo(l),r}),z1.apply(this,arguments)}function dO(n){return hS(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function hF(n){const t=Qe(n);return Qe(Qe(t.localStore).persistence).Fs()}function fF(n,t,e,i){return W1.apply(this,arguments)}function W1(){return W1=(0,we.Z)(function*(n,t,e,i){const r=Qe(n);if(r.da)return void Le("SyncEngine","Ignoring unexpected query state notification.");const l=r.ra.get(t);if(l&&l.length>0)switch(e){case"current":case"not-current":{const u=yield HM(r.localStore,Z_(l[0])),f=nd.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield sd(r,u,f);break}case"rejected":yield fy(r.localStore,t,!0),by(r,t,i);break;default:ct()}}),W1.apply(this,arguments)}function pF(n,t,e){return Y1.apply(this,arguments)}function Y1(){return Y1=(0,we.Z)(function*(n,t,e){const i=K1(n);if(i.da){for(const r of t){if(i.ra.has(r)){Le("SyncEngine","Adding an already active target "+r);continue}const l=yield BM(i.localStore,r),u=yield hy(i.localStore,l);yield x1(i,dO(l),u.targetId,!1),IE(i.remoteStore,u)}for(const r of e)i.ra.has(r)&&(yield fy(i.localStore,r,!1).then(()=>{Jb(i.remoteStore,r),by(i,r)}).catch(Kp))}}),Y1.apply(this,arguments)}function K1(n){const t=Qe(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=aO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aF.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tF.bind(null,t),t.sa.zo=GN.bind(null,t.eventManager),t.sa.wa=$N.bind(null,t.eventManager),t}function Q1(n){const t=Qe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nF.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iF.bind(null,t),t}class hO{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,we.Z)(function*(){e.M=Kb(t.databaseInfo.databaseId),e.sharedClientState=e.ga(t),e.persistence=e.ya(t),yield e.persistence.start(),e.gcScheduler=e.pa(t),e.localStore=e.Ia(t)})()}pa(t){return null}Ia(t){return FM(this.persistence,new NM,t.initialUser,this.M)}ya(t){return new TN(KS.Yi,this.M)}ga(t){return new GM}terminate(){var t=this;return(0,we.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class fO extends hO{constructor(t,e,i){super(),this.Ta=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield e().call(i,t),yield i.Ta.initialize(i,t),yield Q1(i.Ta.syncEngine),yield gy(i.Ta.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Ia(t){return FM(this.persistence,new NM,t.initialUser,this.M)}pa(t){return new rN(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}ya(t){const e=qS(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?yo.withCacheSize(this.cacheSizeBytes):yo.DEFAULT;return new jS(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,zM(),EE(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(t){return new GM}}class mF extends fO{constructor(t,e){super(t,e,!1),this.Ta=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield e().call(i,t);const r=i.Ta.syncEngine;i.sharedClientState instanceof e1&&(i.sharedClientState.syncEngine={$r:uF.bind(null,r),Br:fF.bind(null,r),Lr:pF.bind(null,r),Fs:hF.bind(null,r),Fr:cF.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var l=(0,we.Z)(function*(u){yield function dF(n,t){return $1.apply(this,arguments)}(i.Ta.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return l.apply(this,arguments)}}())})()}ga(t){const e=zM();if(!e1.vt(e))throw new Re(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=qS(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new e1(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class J1{initialize(t,e){var i=this;return(0,we.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>lO(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=oF.bind(null,i.syncEngine),yield y1(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new ZN}createDatastore(t){const e=Kb(t.databaseInfo.databaseId),i=new xN(t.databaseInfo);return new ON(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,l=f=>lO(this.syncEngine,f,0),u=$M.vt()?new $M:new IN,new PN(e,i,r,l,u);var e,i,r,l,u}createSyncEngine(t,e){return function(i,r,l,u,f,_,w){const D=new QN(i,r,l,u,f,_);return w&&(D.da=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,we.Z)(function*(e){const i=Qe(e);Le("RemoteStore","RemoteStore shutting down."),i.wu.add(5),yield py(i),i.gu.shutdown(),i.yu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function pO(n,t=10240){let e=0;return{read:()=>(0,we.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class SE{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ea(this.observer.next,t)}error(t){this.observer.error?this.Ea(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Aa(){this.muted=!0}Ea(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class _F{constructor(t,e){this.Ra=t,this.M=e,this.metadata=new ui,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(i=>{i&&i.Mu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ra.cancel()}getMetadata(){var t=this;return(0,we.Z)(function*(){return t.metadata.promise})()}ma(){var t=this;return(0,we.Z)(function*(){return yield t.getMetadata(),t.Pa()})()}Pa(){var t=this;return(0,we.Z)(function*(){const e=yield t.Va();if(null===e)return null;const i=t.ba.decode(e),r=Number(i);isNaN(r)&&t.va(`length string (${i}) is not valid number`);const l=yield t.Sa(r);return new zN(JSON.parse(l),e.length+r)})()}Da(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Va(){var t=this;return(0,we.Z)(function*(){for(;t.Da()<0&&!(yield t.Ca()););if(0===t.buffer.length)return null;const e=t.Da();e<0&&t.va("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Sa(t){var e=this;return(0,we.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ca())&&e.va("Reached the end of bundle when more is expected.");const i=e.ba.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}va(t){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${t}`)}Ca(){var t=this;return(0,we.Z)(function*(){const e=yield t.Ra.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class yF{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Re(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,we.Z)(function*(l,u){const f=Qe(l),_=ny(f.M)+"/documents",w={documents:u.map(V=>Up(f.M,V))},D=yield f._o("BatchGetDocuments",_,w),A=new Map;D.forEach(V=>{const B=function ES(n,t){return"found"in t?function(e,i){kt(!!i.found);const r=Pa(e,i.found.name),l=ji(i.found.updateTime),u=new hr({mapValue:{fields:i.found.fields}});return Dn.newFoundDocument(r,l,u)}(n,t):"missing"in t?function(e,i){kt(!!i.missing),kt(!!i.readTime);const r=Pa(e,i.missing),l=ji(i.readTime);return Dn.newNoDocument(r,l)}(n,t):ct()}(f.M,V);A.set(B.key.toString(),B)});const N=[];return u.forEach(V=>{const B=A.get(V.toString());kt(!!B),N.push(B)}),N}),function(l,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Y_(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const l=Ge.fromPath(r);t.mutations.push(new lE(l,t.precondition(l)))}),yield(i=(0,we.Z)(function*(r,l){const u=Qe(r),f=ny(u.M)+"/documents",_={writes:l.map(w=>ry(u.M,w))};yield u.co("Commit",f,_)}),function(r,l){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ct();e=At.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Re(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ii.updateTime(e):ii.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(At.min()))throw new Re(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ii.updateTime(e)}return ii.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class vF{constructor(t,e,i,r,l){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=l,this.xa=i.maxAttempts,this.No=new t1(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var t=this;this.No.Ro((0,we.Z)(function*(){const e=new yF(t.datastore),i=t.ka(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(l=>{t.Ma(l)}))}).catch(r=>{t.Ma(r)})}))}ka(t){try{const e=this.updateFunction(t);return!vl(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ma(t){this.xa>0&&this.Oa(t)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(t)}Oa(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!uE(e)}return!1}}class bF{constructor(t,e,i,r){var l=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Qi.UNAUTHENTICATED,this.clientId=R_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,we.Z)(function*(f){Le("FirestoreClient","Received user=",f.uid),yield l.authCredentialListener(f),l.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Le("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,we.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=_y(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function gO(n,t){return X1.apply(this,arguments)}function X1(){return X1=(0,we.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,we.Z)(function*(l){i.isEqual(l)||(yield LM(t.localStore,l),i=l)});return function(l){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),X1.apply(this,arguments)}function mO(n,t){return ex.apply(this,arguments)}function ex(){return ex=(0,we.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield tx(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>eO(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,l)=>eO(t.remoteStore,l)),n.onlineComponents=t}),ex.apply(this,arguments)}function tx(n){return nx.apply(this,arguments)}function nx(){return nx=(0,we.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield gO(n,new hO)),n.offlineComponents}),nx.apply(this,arguments)}function xE(n){return ix.apply(this,arguments)}function ix(){return ix=(0,we.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield mO(n,new J1)),n.onlineComponents}),ix.apply(this,arguments)}function _O(n){return tx(n).then(t=>t.persistence)}function rx(n){return tx(n).then(t=>t.localStore)}function yO(n){return xE(n).then(t=>t.remoteStore)}function sx(n){return xE(n).then(t=>t.syncEngine)}function wy(n){return ox.apply(this,arguments)}function ox(){return ox=(0,we.Z)(function*(n){const t=yield xE(n),e=t.eventManager;return e.onListen=JN.bind(null,t.syncEngine),e.onUnlisten=XN.bind(null,t.syncEngine),e}),ox.apply(this,arguments)}function vO(n,t,e={}){const i=new ui;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,l,u,f,_){const w=new SE({next:A=>{l.enqueueAndForget(()=>T1(r,D));const N=A.docs.has(u);!N&&A.fromCache?_.reject(new Re(de.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&A.fromCache&&f&&"server"===f.source?_.reject(new Re(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),D=new D1(Rh(u.path),w,{includeMetadataChanges:!0,ku:!0});return w1(r,D)}(yield wy(n),n.asyncQueue,t,e,i)})),i.promise}function bO(n,t,e={}){const i=new ui;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,l,u,f,_){const w=new SE({next:A=>{l.enqueueAndForget(()=>T1(r,D)),A.fromCache&&"server"===f.source?_.reject(new Re(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),D=new D1(u,w,{includeMetadataChanges:!0,ku:!0});return w1(r,D)}(yield wy(n),n.asyncQueue,t,e,i)})),i.promise}const wO=new Map;function ax(n,t,e){if(!e)throw new Re(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function CO(n,t,e,i){if(!0===t&&!0===i)throw new Re(de.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function TO(n){if(!Ge.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function EO(n){if(Ge.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function AE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ct()}function sn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Re(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=AE(n);throw new Re(de.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function IO(n,t){if(t<=0)throw new Re(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class DO{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Re(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Re(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,CO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xb{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DO({}),this._settingsFrozen=!1,t instanceof Sc?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Re(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(r.options.projectId)}(t))}get app(){if(!this._app)throw new Re(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Re(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DO(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new tS;switch(e.type){case"gapi":const i=e.client;return kt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new db(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Re(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=wO.get(t);e&&(Le("ComponentProvider","Removing Datastore"),wO.delete(t),e.terminate())}(this),Promise.resolve()}}class Yn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Yn(this.firestore,t,this._key)}}class fs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new fs(this.firestore,t,this._query)}}class Lc extends fs{constructor(t,e,i){super(t,e,Rh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Yn(this.firestore,null,new Ge(t))}withConverter(t){return new Lc(this.firestore,t,this._path)}}function SO(n,t,...e){if(n=(0,Ot.m9)(n),ax("collection","path",t),n instanceof Xb){const i=Qt.fromString(t,...e);return EO(i),new Lc(n,null,i)}{if(!(n instanceof Yn||n instanceof Lc))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qt.fromString(t,...e));return EO(i),new Lc(n.firestore,null,i)}}function ME(n,t,...e){if(n=(0,Ot.m9)(n),1===arguments.length&&(t=R_.R()),ax("doc","path",t),n instanceof Xb){const i=Qt.fromString(t,...e);return TO(i),new Yn(n,null,new Ge(i))}{if(!(n instanceof Yn||n instanceof Lc))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qt.fromString(t,...e));return TO(i),new Yn(n.firestore,n instanceof Lc?n.converter:null,new Ge(i))}}function xO(n,t){return n=(0,Ot.m9)(n),t=(0,Ot.m9)(t),(n instanceof Yn||n instanceof Lc)&&(t instanceof Yn||t instanceof Lc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function AO(n,t){return n=(0,Ot.m9)(n),t=(0,Ot.m9)(t),n instanceof fs&&t instanceof fs&&n.firestore===t.firestore&&kp(n._query,t._query)&&n.converter===t.converter}class OF{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new t1(this,"async_queue_retry"),this.Qa=()=>{const e=EE();e&&Le("AsyncQueue","Visibility state changed to "+e.visibilityState),this.No.Po()};const t=EE();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ja(),this.Wa(t)}enterRestrictedMode(t){if(!this.Ba){this.Ba=!0,this.Ka=t||!1;const e=EE();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Qa)}}enqueue(t){if(this.ja(),this.Ba)return new Promise(()=>{});const e=new ui;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.$a.push(t),this.za()))}za(){var t=this;return(0,we.Z)(function*(){if(0!==t.$a.length){try{yield t.$a[0](),t.$a.shift(),t.No.reset()}catch(e){if(!jp(e))throw e;Le("AsyncQueue","Operation failed with retryable error: "+e)}t.$a.length>0&&t.No.Ro(()=>t.za())}})()}Wa(t){const e=this.Fa.then(()=>(this.qa=!0,t().catch(i=>{throw this.Ua=i,this.qa=!1,Ci("INTERNAL UNHANDLED ERROR: ",function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),u}(i)),i}).then(i=>(this.qa=!1,i))));return this.Fa=e,e}enqueueAfterDelay(t,e,i){this.ja(),this.Ga.indexOf(t)>-1&&(e=0);const r=b1.createAndSchedule(this,t,e,i,l=>this.Ha(l));return this.La.push(r),r}ja(){this.Ua&&ct()}verifyOperationInProgress(){}Ja(){var t=this;return(0,we.Z)(function*(){let e;do{e=t.Fa,yield e}while(e!==t.Fa)})()}Ya(t){for(const e of this.La)if(e.timerId===t)return!0;return!1}Xa(t){return this.Ja().then(()=>{this.La.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.La)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Ja()})}Za(t){this.Ga.push(t)}Ha(t){const e=this.La.indexOf(t);this.La.splice(e,1)}}function lx(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class kF{constructor(){this._progressObserver={},this._taskCompletionResolver=new ui,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class ri extends Xb{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new OF,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||MO(this),this._firestoreClient.terminate()}}function Ji(n){return n._firestoreClient||MO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function MO(n){var t;const e=n._freezeSettings(),i=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new sS(n._databaseId,l,n._persistenceKey,(f=e).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var l,f;n._firestoreClient=new bF(n._authCredentials,n._appCheckCredentials,n._queue,i)}function OO(n,t,e){const i=new ui;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield gO(n,e),yield mO(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(l=r).name?l.code===de.FAILED_PRECONDITION||l.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var l})).then(()=>i.promise)}function kO(n){if(n._initialized||n._terminated)throw new Re(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class od{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Re(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ti(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Vc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vc(Ei.fromBase64String(t))}catch(e){throw new Re(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Vc(Ei.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Jp{constructor(t){this._methodName=t}}class OE{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Re(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Re(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}}const jF=/^__.*__$/;class qF{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Nc(t,this.data,this.fieldMask,e,this.fieldTransforms):new Np(t,this.data,e,this.fieldTransforms)}}class PO{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Nc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function RO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class kE{constructor(t,e,i,r,l,u){this.settings=t,this.databaseId=e,this.M=i,this.ignoreUndefinedProperties=r,void 0===l&&this.tc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(t){return new kE(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.nc({path:i,ic:!1});return r.rc(t),r}oc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.nc({path:i,ic:!1});return r.tc(),r}uc(t){return this.nc({path:void 0,ic:!0})}ac(t){return NE(t,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}tc(){if(this.path)for(let t=0;t<this.path.length;t++)this.rc(this.path.get(t))}rc(t){if(0===t.length)throw this.ac("Document fields must not be empty");if(RO(this.ec)&&jF.test(t))throw this.ac('Document fields cannot begin and end with "__"')}}class ZF{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.M=i||Kb(t)}lc(t,e,i,r=!1){return new kE({ec:t,methodName:e,hc:i,path:Ti.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Xp(n){const t=n._freezeSettings(),e=Kb(n._databaseId);return new ZF(n._databaseId,!!t.ignoreUndefinedProperties,e)}function PE(n,t,e,i,r,l={}){const u=n.lc(l.merge||l.mergeFields?2:0,t,e,r);hx("Data must be an object, but it was:",u,i);const f=LO(i,u);let _,w;if(l.merge)_=new zu(u.fieldMask),w=u.fieldTransforms;else if(l.mergeFields){const D=[];for(const A of l.mergeFields){const N=fx(t,A,e);if(!u.contains(N))throw new Re(de.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);UO(D,N)||D.push(N)}_=new zu(D),w=u.fieldTransforms.filter(A=>_.covers(A.field))}else _=null,w=u.fieldTransforms;return new qF(new hr(f),_,w)}class ew extends Jp{_toFieldTransform(t){if(2!==t.ec)throw t.ac(1===t.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ew}}function NO(n,t,e){return new kE({ec:3,hc:t.settings.hc,methodName:n._methodName,ic:e},t.databaseId,t.M,t.ignoreUndefinedProperties)}class cx extends Jp{_toFieldTransform(t){return new Pp(t.path,new Xu)}isEqual(t){return t instanceof cx}}class GF extends Jp{constructor(t,e){super(t),this.fc=e}_toFieldTransform(t){const e=NO(this,t,!0),i=this.fc.map(l=>eg(l,e)),r=new Rc(i);return new Pp(t.path,r)}isEqual(t){return this===t}}class $F extends Jp{constructor(t,e){super(t),this.fc=e}_toFieldTransform(t){const e=NO(this,t,!0),i=this.fc.map(l=>eg(l,e)),r=new Nh(i);return new Pp(t.path,r)}isEqual(t){return this===t}}class zF extends Jp{constructor(t,e){super(t),this.dc=e}_toFieldTransform(t){const e=new Fh(t.M,nE(t.M,this.dc));return new Pp(t.path,e)}isEqual(t){return this===t}}function ux(n,t,e,i){const r=n.lc(1,t,e);hx("Data must be an object, but it was:",r,i);const l=[],u=hr.empty();Gu(i,(_,w)=>{const D=RE(t,_,e);w=(0,Ot.m9)(w);const A=r.oc(D);if(w instanceof ew)l.push(D);else{const N=eg(w,A);null!=N&&(l.push(D),u.set(D,N))}});const f=new zu(l);return new PO(u,f,r.fieldTransforms)}function dx(n,t,e,i,r,l){const u=n.lc(1,t,e),f=[fx(t,i,e)],_=[r];if(l.length%2!=0)throw new Re(de.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<l.length;N+=2)f.push(fx(t,l[N])),_.push(l[N+1]);const w=[],D=hr.empty();for(let N=f.length-1;N>=0;--N)if(!UO(w,f[N])){const V=f[N];let B=_[N];B=(0,Ot.m9)(B);const ie=u.oc(V);if(B instanceof ew)w.push(V);else{const Ce=eg(B,ie);null!=Ce&&(w.push(V),D.set(V,Ce))}}const A=new zu(w);return new PO(D,A,u.fieldTransforms)}function FO(n,t,e,i=!1){return eg(e,n.lc(i?4:3,t))}function eg(n,t){if(VO(n=(0,Ot.m9)(n)))return hx("Unsupported field value:",t,n),LO(n,t);if(n instanceof Jp)return function(e,i){if(!RO(i.ec))throw i.ac(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ac(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,i){const r=[];let l=0;for(const u of e){let f=eg(u,i.uc(l));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),l++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,Ot.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return nE(i.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=di.fromDate(e);return{timestampValue:Vp(i.M,r)}}if(e instanceof di){const r=new di(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Vp(i.M,r)}}if(e instanceof OE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Vc)return{bytesValue:hE(i.M,e._byteString)};if(e instanceof Yn){const r=i.databaseId,l=e.firestore._databaseId;if(!l.isEqual(r))throw i.ac(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:X_(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ac(`Unsupported field value: ${AE(e)}`)}(n,t)}function LO(n,t){const e={};return pb(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gu(n,(i,r)=>{const l=eg(r,t.sc(i));null!=l&&(e[i]=l)}),{mapValue:{fields:e}}}function VO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof di||n instanceof OE||n instanceof Vc||n instanceof Yn||n instanceof Jp)}function hx(n,t,e){if(!VO(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=AE(e);throw t.ac("an object"===i?n+" a custom object":n+" "+i)}var i}function fx(n,t,e){if((t=(0,Ot.m9)(t))instanceof od)return t._internalPath;if("string"==typeof t)return RE(n,t);throw NE("Field path arguments must be of type string or ",n,!1,void 0,e)}const WF=new RegExp("[~\\*/\\[\\]]");function RE(n,t,e){if(t.search(WF)>=0)throw NE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new od(...t.split("."))._internalPath}catch(i){throw NE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function NE(n,t,e,i,r){const l=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(l||u)&&(_+=" (found",l&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Re(de.INVALID_ARGUMENT,f+n+_)}function UO(n,t){return n.some(e=>e.isEqual(t))}class tw{constructor(t,e,i,r,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new YF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(FE("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class YF extends tw{data(){return super.data()}}function FE(n,t){return"string"==typeof t?RE(n,t):t instanceof od?t._internalPath:t._delegate._internalPath}class tg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ad extends tw{constructor(t,e,i,r,l,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new nw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(FE("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class nw extends ad{data(t={}){return super.data(t)}}class qh{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new tg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new nw(this._firestore,this._userDataWriter,i.key,i,new tg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Re(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new nw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new tg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:l++}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new nw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new tg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,w=-1;return 0!==u.type&&(_=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),1!==u.type&&(l=l.add(u.doc),w=l.indexOf(u.doc.key)),{type:KF(u.type),doc:f,oldIndex:_,newIndex:w}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function KF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}function BO(n,t){return n instanceof ad&&t instanceof ad?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof qh&&t instanceof qh&&n._firestore===t._firestore&&AO(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function HO(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iw{}function Zh(n,...t){for(const e of t)n=e._apply(n);return n}class QF extends iw{constructor(t,e,i){super(),this._c=t,this.wc=e,this.mc=i,this.type="where"}_apply(t){const e=Xp(t.firestore),i=function(r,l,u,f,_,w,D){let A;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){zO(D,w);const V=[];for(const B of D)V.push($O(f,r,B));A={arrayValue:{values:V}}}else A=$O(f,r,D)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||zO(D,w),A=FO(u,"where",D,"in"===w||"not-in"===w);const N=Hi.create(_,w,A);return function(V,B){if(B.S()){const Ce=XT(V);if(null!==Ce&&!Ce.isEqual(B.field))throw new Re(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ce.toString()}' and '${B.field.toString()}'`);const it=Eb(V);null!==it&&WO(0,B.field,it)}const ie=function(Ce,it){for(const rt of Ce.filters)if(it.indexOf(rt.op)>=0)return rt.op;return null}(V,function(Ce){switch(Ce){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(null!==ie)throw new Re(de.INVALID_ARGUMENT,ie===B.op?`Invalid query. You cannot use more than one '${B.op.toString()}' filter.`:`Invalid query. You cannot use '${B.op.toString()}' filters with '${ie.toString()}' filters.`)}(r,N),N}(t._query,0,e,t.firestore._databaseId,this._c,this.wc,this.mc);return new fs(t.firestore,t.converter,function(r,l){const u=r.filters.concat([l]);return new Oc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class XF extends iw{constructor(t,e){super(),this._c=t,this.gc=e,this.type="orderBy"}_apply(t){const e=function(i,r,l){if(null!==i.startAt)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Ph(r,l);return function(f,_){if(null===Eb(f)){const w=XT(f);null!==w&&WO(0,w,_.field)}}(i,u),u}(t._query,this._c,this.gc);return new fs(t.firestore,t.converter,function(i,r){const l=i.explicitOrderBy.concat([r]);return new Oc(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class jO extends iw{constructor(t,e,i){super(),this.type=t,this.yc=e,this.Ic=i}_apply(t){return new fs(t.firestore,t.converter,_o(t._query,this.yc,this.Ic))}}class qO extends iw{constructor(t,e,i){super(),this.type=t,this.Tc=e,this.Ec=i}_apply(t){const e=GO(t,this.type,this.Tc,this.Ec);return new fs(t.firestore,t.converter,(r=e,new Oc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class ZO extends iw{constructor(t,e,i){super(),this.type=t,this.Tc=e,this.Ec=i}_apply(t){const e=GO(t,this.type,this.Tc,this.Ec);return new fs(t.firestore,t.converter,(r=e,new Oc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function GO(n,t,e,i){if(e[0]=(0,Ot.m9)(e[0]),e[0]instanceof tw)return function(r,l,u,f,_){if(!f)throw new Re(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const D of kc(r))if(D.field.isKeyField())w.push(Ac(l,f.key));else{const A=f.data.field(D.field);if(dr(A))throw new Re(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const N=D.field.canonicalString();throw new Re(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}w.push(A)}return new Mc(w,_)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Xp(n.firestore);return function(l,u,f,_,w,D){const A=l.explicitOrderBy;if(w.length>A.length)throw new Re(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let V=0;V<w.length;V++){const B=w[V];if(A[V].field.isKeyField()){if("string"!=typeof B)throw new Re(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof B}`);if(!Ib(l)&&-1!==B.indexOf("/"))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${B}' contains a slash.`);const ie=l.path.child(Qt.fromString(B));if(!Ge.isDocumentKey(ie))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ie}' is not because it contains an odd number of segments.`);const Ce=new Ge(ie);N.push(Ac(u,Ce))}else{const ie=FO(f,_,B);N.push(ie)}}return new Mc(N,D)}(n._query,n.firestore._databaseId,r,t,e,i)}}function $O(n,t,e){if("string"==typeof(e=(0,Ot.m9)(e))){if(""===e)throw new Re(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ib(t)&&-1!==e.indexOf("/"))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Qt.fromString(e));if(!Ge.isDocumentKey(i))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ac(n,new Ge(i))}if(e instanceof Yn)return Ac(n,e._key);throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${AE(e)}.`)}function zO(n,t){if(!Array.isArray(n)||0===n.length)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function WO(n,t,e){if(!e.isEqual(t))throw new Re(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const aL={maxAttempts:5};class px{convertValue(t,e="none"){switch(Yu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Wn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Dc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ct()}}convertObject(t,e){const i={};return Gu(t.fields,(r,l)=>{i[r]=this.convertValue(l,e)}),i}convertGeoPoint(t){return new OE(Wn(t.latitude),Wn(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Wu(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Ep(t));default:return null}}convertTimestamp(t){const e=Ic(t);return new di(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Qt.fromString(t);kt(c(i));const r=new Sc(i.get(1),i.get(3)),l=new Ge(i.popFirst(5));return r.isEqual(e)||Ci(`Document ${l} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}function LE(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class lL extends px{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Yn(this.firestore,null,e)}}class YO{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Xp(t)}set(t,e,i){this._verifyNotCommitted();const r=Gh(t,this._firestore),l=LE(r.converter,e,i),u=PE(this._dataReader,"WriteBatch.set",r._key,l,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,ii.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const l=Gh(t,this._firestore);let u;return u="string"==typeof(e=(0,Ot.m9)(e))||e instanceof od?dx(this._dataReader,"WriteBatch.update",l._key,e,i,r):ux(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(u.toMutation(l._key,ii.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Gh(t,this._firestore);return this._mutations=this._mutations.concat(new Y_(e._key,ii.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gh(n,t){if((n=(0,Ot.m9)(n)).firestore!==t)throw new Re(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ng extends px{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Yn(this.firestore,null,e)}}function KO(n,t,e){n=sn(n,Yn);const i=sn(n.firestore,ri),r=LE(n.converter,t,e);return Cy(i,[PE(Xp(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,ii.none())])}function QO(n,t,e,...i){n=sn(n,Yn);const r=sn(n.firestore,ri),l=Xp(r);let u;return u="string"==typeof(t=(0,Ot.m9)(t))||t instanceof od?dx(l,"updateDoc",n._key,t,e,i):ux(l,"updateDoc",n._key,t),Cy(r,[u.toMutation(n._key,ii.exists(!0))])}function JO(n,...t){var e,i,r;n=(0,Ot.m9)(n);let l={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||lx(t[u])||(l=t[u],u++);const f={includeMetadataChanges:l.includeMetadataChanges};if(lx(t[u])){const A=t[u];t[u]=null===(e=A.next)||void 0===e?void 0:e.bind(A),t[u+1]=null===(i=A.error)||void 0===i?void 0:i.bind(A),t[u+2]=null===(r=A.complete)||void 0===r?void 0:r.bind(A)}let _,w,D;if(n instanceof Yn)w=sn(n.firestore,ri),D=Rh(n._key.path),_={next:A=>{t[u]&&t[u](gx(w,n,A))},error:t[u+1],complete:t[u+2]};else{const A=sn(n,fs);w=sn(A.firestore,ri),D=A._query;const N=new ng(w);_={next:V=>{t[u]&&t[u](new qh(w,N,A,V))},error:t[u+1],complete:t[u+2]},HO(n._query)}return function(A,N,V,B){const ie=new SE(B),Ce=new D1(N,ie,V);return A.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return w1(yield wy(A),Ce)})),()=>{ie.Aa(),A.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return T1(yield wy(A),Ce)}))}}(Ji(w),D,f,_)}function Cy(n,t){return function(e,i){const r=new ui;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function eF(n,t,e){return O1.apply(this,arguments)}(yield sx(e),i,r)})),r.promise}(Ji(n),t)}function gx(n,t,e){const i=e.docs.get(t._key),r=new ng(n);return new ad(n,r,t._key,i,new tg(e.hasPendingWrites,e.fromCache),t.converter)}class yL extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Xp(t)}get(t){const e=Gh(t,this._firestore),i=new lL(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ct();const l=r[0];if(l.isFoundDocument())return new tw(this._firestore,i,l.key,l,e.converter);if(l.isNoDocument())return new tw(this._firestore,i,e._key,null,e.converter);throw ct()})}set(t,e,i){const r=Gh(t,this._firestore),l=LE(r.converter,e,i),u=PE(this._dataReader,"Transaction.set",r._key,l,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const l=Gh(t,this._firestore);let u;return u="string"==typeof(e=(0,Ot.m9)(e))||e instanceof od?dx(this._dataReader,"Transaction.update",l._key,e,i,r):ux(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,u),this}delete(t){const e=Gh(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Gh(t,this._firestore),i=new ng(this._firestore);return super.get(t).then(r=>new ad(this._firestore,i,e._key,r._document,new tg(!1,!1),e.converter))}}function mx(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function ek(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function tk(){if(!function rS(){return"undefined"!=typeof atob}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Ah=ds.SDK_VERSION,(0,ds._registerComponent)(new Dr.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=new ri(r,new UT(e.getProvider("auth-internal")),new iS(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),l._setSettings(i),l},"PUBLIC")),(0,ds.registerVersion)(VT,"3.4.9",n),(0,ds.registerVersion)(VT,"3.4.9","esm2017")}();class rw{constructor(t){this._delegate=t}static fromBase64String(t){return tk(),new rw(Vc.fromBase64String(t))}static fromUint8Array(t){return ek(),new rw(Vc.fromUint8Array(t))}toBase64(){return tk(),this._delegate.toBase64()}toUint8Array(){return ek(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function _x(n){return function SL(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class xL{enableIndexedDbPersistence(t,e){return function RF(n,t){kO(n=sn(n,ri));const e=Ji(n),i=n._freezeSettings(),r=new J1;return OO(e,r,new fO(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function NF(n){kO(n=sn(n,ri));const t=Ji(n),e=n._freezeSettings(),i=new J1;return OO(t,i,new mF(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function FF(n){if(n._initialized&&!n._terminated)throw new Re(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ui;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(e=(0,we.Z)(function*(i){if(!Cl.vt())return Promise.resolve();const r=i+"main";yield Cl.delete(r)}),function(i){return e.apply(this,arguments)})(qS(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class nk{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Sc||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Zu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function AF(n,t,e,i={}){var r;const l=(n=sn(n,Xb))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==t&&Zu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=Qi.MOCK_USER;else{u=(0,Ot.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Re(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Qi(_)}n._authCredentials=new nS(new Tp(u,f))}}(this._delegate,t,e,i)}enableNetwork(){return function VF(n){return function wF(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const t=yield _O(n),e=yield yO(n);return t.setNetworkEnabled(!0),function(i){const r=Qe(i);return r.wu.delete(0),Qb(r)}(e)}))}(Ji(n=sn(n,ri)))}(this._delegate)}disableNetwork(){return function UF(n){return function CF(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const t=yield _O(n),e=yield yO(n);return t.setNetworkEnabled(!1),(i=(0,we.Z)(function*(r){const l=Qe(r);l.wu.add(0),yield py(l),l.yu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Ji(n=sn(n,ri)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,CO("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function LF(n){return function(t){const e=new ui;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function rF(n,t){return F1.apply(this,arguments)}(yield sx(t),e)})),e.promise}(Ji(n=sn(n,ri)))}(this._delegate)}onSnapshotsInSync(t){return function _L(n,t){return function IF(n,t){const e=new SE(t);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield wy(n),r=e,Qe(i).bu.add(r),void r.next();var i,r})),()=>{e.Aa(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield wy(n),r=e,void Qe(i).bu.delete(r);var i,r}))}}(Ji(n=sn(n,ri)),lx(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Ty(this,SO(this._delegate,t))}catch(e){throw Fs(e,"collection()","Firestore.collection()")}}doc(t){try{return new Ra(this,ME(this._delegate,t))}catch(e){throw Fs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ls(this,function MF(n,t){if(n=sn(n,Xb),ax("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Re(de.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fs(n,null,(e=t,new Oc(Qt.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Fs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function vL(n,t,e){n=sn(n,ri);const i=Object.assign(Object.assign({},aL),e);return function(r){if(r.maxAttempts<1)throw new Re(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function DF(n,t,e){const i=new ui;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const r=yield(l=n,xE(l).then(u=>u.datastore));var l;new vF(n.asyncQueue,r,e,t,i).run()})),i.promise}(Ji(n),r=>t(new yL(n,r)),i)}(this._delegate,e=>t(new ik(this,e)))}batch(){return Ji(this._delegate),new rk(new YO(this._delegate,t=>Cy(this._delegate,t)))}loadBundle(t){return function BF(n,t){const e=Ji(n=sn(n,ri)),i=new kF;return function SF(n,t,e,i){const r=function(l,u){let f;return f="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,w){if(_ instanceof Uint8Array)return pO(_,w);if(_ instanceof ArrayBuffer)return pO(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new _F(_,u);var _}(e,Kb(t));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function gF(n,t,e){const i=Qe(n);var r;(r=(0,we.Z)(function*(l,u,f){try{const _=yield u.getMetadata();if(yield function(N,V){const B=Qe(N),ie=ji(V.createTime);return B.persistence.runTransaction("hasNewerBundle","readonly",Ce=>B._s.getBundleMetadata(Ce,V.id)).then(Ce=>!!Ce&&Ce.createTime.compareTo(ie)>=0)}(l.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(N=_).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);f._updateProgress(iO(_));const w=new WN(_,l.localStore,u.M);let D=yield u.ma();for(;D;){const N=yield w.Fu(D);N&&f._updateProgress(N),D=yield u.ma()}const A=yield w.complete();return yield sd(l,A.Lu,void 0),yield function(N,V){const B=Qe(N);return B.persistence.runTransaction("Save bundle","readwrite",ie=>B._s.saveBundleMetadata(ie,V))}(l.localStore,_),f._completeWith(A.progress),Promise.resolve(A.Bu)}catch(_){return Zu("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var N}),function(l,u,f){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield sx(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function HF(n,t){return function xF(n,t){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(e,i){const r=Qe(e);return r.persistence.runTransaction("Get named query","readonly",l=>r._s.getNamedQuery(l,i))}(yield rx(n),t)}))}(Ji(n=sn(n,ri)),t).then(e=>e?new fs(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ls(this,e):null)}}class VE extends px{constructor(t){super(),this.firestore=t}convertBytes(t){return new rw(new Vc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Ra.forKey(e,this.firestore,null)}}class ik{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new VE(t)}get(t){const e=rg(t);return this._delegate.get(e).then(i=>new sw(this._firestore,new ad(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=rg(t);return i?(mx("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const l=rg(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,i,...r),this}delete(t){const e=rg(t);return this._delegate.delete(e),this}}class rk{constructor(t){this._delegate=t}set(t,e,i){const r=rg(t);return i?(mx("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const l=rg(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,i,...r),this}delete(t){const e=rg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class ig{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new nw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ow(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=ig.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let l=r.get(e);return l||(l=new ig(t,new VE(t),e),r.set(e,l)),l}}ig.INSTANCES=new WeakMap;class Ra{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new VE(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ra(e,new Yn(e._delegate,i,new Ge(t)))}static forKey(t,e,i){return new Ra(e,new Yn(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Ty(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Ty(this.firestore,SO(this._delegate,t))}catch(e){throw Fs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Ot.m9)(t))instanceof Yn&&xO(this._delegate,t)}set(t,e){e=mx("DocumentReference.set",e);try{return e?KO(this._delegate,t,e):KO(this._delegate,t)}catch(i){throw Fs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?QO(this._delegate,t):QO(this._delegate,t,e,...i)}catch(r){throw Fs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function gL(n){return Cy(sn(n.firestore,ri),[new Y_(n._key,ii.none())])}(this._delegate)}onSnapshot(...t){const e=sk(t),i=ok(t,r=>new sw(this.firestore,new ad(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return JO(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function uL(n){n=sn(n,Yn);const t=sn(n.firestore,ri),e=Ji(t),i=new ng(t);return function TF(n,t){const e=new ui;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,l,u){try{const f=yield function(_,w){const D=Qe(_);return D.persistence.runTransaction("read document","readonly",A=>D.fi.Ls(A,w))}(r,l);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Re(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=_y(f,`Failed to get document '${l} from cache`);u.reject(_)}}),function(r,l,u){return i.apply(this,arguments)})(yield rx(n),t,e);var i})),e.promise}(e,n._key).then(r=>new ad(t,i,n._key,r,new tg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function dL(n){n=sn(n,Yn);const t=sn(n.firestore,ri);return vO(Ji(t),n._key,{source:"server"}).then(e=>gx(t,n,e))}(this._delegate):function cL(n){n=sn(n,Yn);const t=sn(n.firestore,ri);return vO(Ji(t),n._key).then(e=>gx(t,n,e))}(this._delegate),e.then(i=>new sw(this.firestore,new ad(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Ra(this.firestore,this._delegate.withConverter(t?ig.getInstance(this.firestore,t):null))}}function Fs(n,t,e){return n.message=n.message.replace(t,e),n}function sk(n){for(const t of n)if("object"==typeof t&&!_x(t))return t;return{}}function ok(n,t){var e,i;let r;return r=_x(n[0])?n[0]:_x(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{r.next&&r.next(t(l))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class sw{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ra(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return BO(this._delegate,t._delegate)}}class ow extends sw{data(t){const e=this._delegate.data(t);return function Cp(n,t){n||ct()}(void 0!==e),e}}class Ls{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new VE(t)}where(t,e,i){try{return new Ls(this.firestore,Zh(this._delegate,function JF(n,t,e){const i=t,r=FE("where",n);return new QF(r,i,e)}(t,e,i)))}catch(r){throw Fs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ls(this.firestore,Zh(this._delegate,function eL(n,t="asc"){const e=t,i=FE("orderBy",n);return new XF(i,e)}(t,e)))}catch(i){throw Fs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ls(this.firestore,Zh(this._delegate,function tL(n){return IO("limit",n),new jO("limit",n,"F")}(t)))}catch(e){throw Fs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ls(this.firestore,Zh(this._delegate,function nL(n){return IO("limitToLast",n),new jO("limitToLast",n,"L")}(t)))}catch(e){throw Fs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ls(this.firestore,Zh(this._delegate,function iL(...n){return new qO("startAt",n,!0)}(...t)))}catch(e){throw Fs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ls(this.firestore,Zh(this._delegate,function rL(...n){return new qO("startAfter",n,!1)}(...t)))}catch(e){throw Fs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ls(this.firestore,Zh(this._delegate,function sL(...n){return new ZO("endBefore",n,!1)}(...t)))}catch(e){throw Fs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ls(this.firestore,Zh(this._delegate,function oL(...n){return new ZO("endAt",n,!0)}(...t)))}catch(e){throw Fs(e,"endAt()","Query.endAt()")}}isEqual(t){return AO(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function fL(n){n=sn(n,fs);const t=sn(n.firestore,ri),e=Ji(t),i=new ng(t);return function EF(n,t){const e=new ui;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,l,u){try{const f=yield wE(r,l,!0),_=new oO(l,f._i),w=_.Wu(f.documents),D=_.applyChanges(w,!1);u.resolve(D.snapshot)}catch(f){const _=_y(f,`Failed to execute query '${l} against cache`);u.reject(_)}}),function(r,l,u){return i.apply(this,arguments)})(yield rx(n),t,e);var i})),e.promise}(e,n._query).then(r=>new qh(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function pL(n){n=sn(n,fs);const t=sn(n.firestore,ri),e=Ji(t),i=new ng(t);return bO(e,n._query,{source:"server"}).then(r=>new qh(t,i,n,r))}(this._delegate):function hL(n){n=sn(n,fs);const t=sn(n.firestore,ri),e=Ji(t),i=new ng(t);return HO(n._query),bO(e,n._query).then(r=>new qh(t,i,n,r))}(this._delegate),e.then(i=>new yx(this.firestore,new qh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=sk(t),i=ok(t,r=>new yx(this.firestore,new qh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return JO(this._delegate,e,i)}withConverter(t){return new Ls(this.firestore,this._delegate.withConverter(t?ig.getInstance(this.firestore,t):null))}}class ML{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new ow(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class yx{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ls(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new ow(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new ML(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new ow(this._firestore,i))})}isEqual(t){return BO(this._delegate,t._delegate)}}class Ty extends Ls{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ra(this.firestore,t):null}doc(t){try{return new Ra(this.firestore,void 0===t?ME(this._delegate):ME(this._delegate,t))}catch(e){throw Fs(e,"doc()","CollectionReference.doc()")}}add(t){return function mL(n,t){const e=sn(n.firestore,ri),i=ME(n),r=LE(n.converter,t);return Cy(e,[PE(Xp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ii.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Ra(this.firestore,e))}isEqual(t){return xO(this._delegate,t._delegate)}withConverter(t){return new Ty(this.firestore,this._delegate.withConverter(t?ig.getInstance(this.firestore,t):null))}}function rg(n){return sn(n,Yn)}class vx{constructor(...t){this._delegate=new od(...t)}static documentId(){return new vx(Ti.keyField().canonicalString())}isEqual(t){return(t=(0,Ot.m9)(t))instanceof od&&this._delegate._internalPath.isEqual(t._internalPath)}}class sg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function wL(){return new cx("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new sg(t)}static delete(){const t=function bL(){return new ew("deleteField")}();return t._methodName="FieldValue.delete",new sg(t)}static arrayUnion(...t){const e=function CL(...n){return new GF("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new sg(e)}static arrayRemove(...t){const e=function TL(...n){return new $F("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new sg(e)}static increment(t){const e=function EL(n){return new zF("increment",n)}(t);return e._methodName="FieldValue.increment",new sg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const OL={Firestore:nk,GeoPoint:OE,Timestamp:di,Blob:rw,Transaction:ik,WriteBatch:rk,DocumentReference:Ra,DocumentSnapshot:sw,Query:Ls,QueryDocumentSnapshot:ow,QuerySnapshot:yx,CollectionReference:Ty,FieldPath:vx,FieldValue:sg,setLogLevel:function AL(n){!function eS(n){Tc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function ak(n,t){return function RL(n,t=ep.z){return new mn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function bx(n,t){return ak(n,t).pipe((0,Pt.U)(e=>({payload:e,type:"query"})))}function UE(n,t){return bx(n,t).pipe(Is(void 0),Km(),(0,Pt.U)(([e,i])=>{const r=i.payload.docChanges(),l=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(D=>D.doc.ref.isEqual(u.ref)),w=null==e?void 0:e.payload.docs.find(D=>D.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||l.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),l}))}function lk(n,t,e){return UE(n,e).pipe(ss((i,r)=>function FL(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function LL(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return wx(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return wx(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return wx(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(l=>l.payload),t),[]),wi(),(0,Pt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function wx(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function ck(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function PL(n){(function kL(n,t){n.INTERNAL.registerComponent(new Dr.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},OL)))})(n,(t,e)=>new nk(t,e,new xL)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(QC.Z);class uk{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=UE(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Pt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Is(void 0),Km(),ai(([i,r])=>r.length>0||!i),(0,Pt.U)(([i,r])=>r),ti.iC)}auditTrail(t){return this.stateChanges(t).pipe(ss((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=ck(t);return lk(this.query,e,this.afs.schedulers.outsideAngular).pipe(ti.iC)}valueChanges(t={}){return bx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),ti.iC)}get(t){return(0,fn.D)(this.query.get(t)).pipe(ti.iC)}add(t){return this.ref.add(t)}doc(t){return new dk(this.ref.doc(t),this.afs)}}class dk{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:l}=pk(i,e);return new uk(r,l,this.afs)}snapshotChanges(){return function NL(n,t){return ak(n,t).pipe(Is(void 0),Km(),(0,Pt.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ti.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Pt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,fn.D)(this.ref.get(t)).pipe(ti.iC)}}class VL{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?UE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),ai(e=>e.length>0),ti.iC):UE(this.query,this.afs.schedulers.outsideAngular).pipe(ti.iC)}auditTrail(t){return this.stateChanges(t).pipe(ss((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=ck(t);return lk(this.query,e,this.afs.schedulers.outsideAngular).pipe(ti.iC)}valueChanges(t={}){return bx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),ti.iC)}get(t){return(0,fn.D)(this.query.get(t)).pipe(ti.iC)}}const hk=new s.OlP("angularfire2.enableFirestorePersistence"),fk=new s.OlP("angularfire2.firestore.persistenceSettings"),UL=new s.OlP("angularfire2.firestore.settings"),BL=new s.OlP("angularfire2.firestore.use-emulator");function pk(n,t=(e=>e)){return{query:t(n),ref:n}}let gk=(()=>{class n{constructor(e,i,r,l,u,f,_,w,D,A,N,V,B,ie,Ce,it,rt){this.schedulers=_;const $e=(0,Ir.on)(e,f,i),je=D;A&&vv($e,f,N,B,ie,Ce,V,it),[this.firestore,this.persistenceEnabled$]=(0,Ir.cc)(`${$e.name}.firestore`,"AngularFirestore",$e.name,()=>{const vt=f.runOutsideAngular(()=>$e.firestore());if(l&&vt.settings(l),je&&vt.useEmulator(...je),r&&!la(u)){const Ct=()=>{try{return(0,fn.D)(vt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Zt){return"undefined"!=typeof console&&console.warn(Zt),ot(!1)}};return[vt,f.runOutsideAngular(Ct)]}return[vt,ot(!1)]},[l,je,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:l,query:u}=pk(r,i),f=this.schedulers.ngZone.run(()=>l);return new uk(f,u,this)}collectionGroup(e,i){const r=i||(u=>u),l=this.firestore.collectionGroup(e);return new VL(r(l),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new dk(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ir.Dh),s.LFG(Ir.xv,8),s.LFG(hk,8),s.LFG(UL,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(ti.HU),s.LFG(fk,8),s.LFG(BL,8),s.LFG(Uf,8),s.LFG(yv,8),s.LFG(QI,8),s.LFG(JI,8),s.LFG(Im,8),s.LFG(XI,8),s.LFG(oC,8),s.LFG(Tm,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),HL=(()=>{class n{constructor(){Em.Z.registerVersion("angularfire",ti.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:hk,useValue:!0},{provide:fk,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[gk]}),n})();const mk="firebasestorage.googleapis.com",_k="storageBucket";class Di extends Ot.ZR{constructor(t,e){super(Cx(t),`Firebase Storage: ${e} (${Cx(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Di.prototype)}_codeEquals(t){return Cx(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Cx(n){return"storage/"+n}function Tx(){return new Di("unknown","An unknown error occurred, please check the error payload for server response.")}function yk(){return new Di("canceled","User canceled the upload/download.")}function vk(){return new Di("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ey(n){return new Di("invalid-argument",n)}function bk(){return new Di("app-deleted","The Firebase app was deleted.")}function wk(n){return new Di("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function aw(n,t){return new Di("invalid-format","String does not match format '"+n+"': "+t)}function lw(n){throw new Di("internal-error","Internal error: "+n)}class ps{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=ps.makeFromUrl(t,e)}catch(r){return new ps(t,"")}if(""===i.path)return i;throw function JL(n){return new Di("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+r+"(/(.*))?$","i");function w(je){je.path_=decodeURIComponent(je.path)}const A=e.replace(/[.]/g,"\\."),$e=[{regex:f,indices:{bucket:1,path:3},postModify:function l(je){"/"===je.path.charAt(je.path.length-1)&&(je.path_=je.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${A}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:w},{regex:new RegExp(`^https?://${e===mk?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:w}];for(let je=0;je<$e.length;je++){const vt=$e[je],Ct=vt.regex.exec(t);if(Ct){let _n=Ct[vt.indices.path];_n||(_n=""),i=new ps(Ct[vt.indices.bucket],_n),vt.postModify(i);break}}if(null==i)throw function QL(n){return new Di("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class n2{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function BE(n){return"string"==typeof n||n instanceof String}function Ck(n){return Ex()&&n instanceof Blob}function Ex(){return"undefined"!=typeof Blob}function Ix(n,t,e,i){if(i<t)throw Ey(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Ey(`Invalid value for '${n}'. Expected ${e} or less.`)}function ld(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function Tk(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var $h=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}($h||($h={})),$h))();class c2{constructor(t,e,i,r,l,u,f,_,w,D,A){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=_,this.timeout_=w,this.progressCallback_=D,this.connectionFactory_=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,V)=>{this.resolve_=N,this.reject_=V,this.start_()})}start_(){const e=(i,r)=>{const l=this.resolve_,u=this.reject_,f=r.connection;if(r.wasSuccessCode)try{const _=this.callback_(f,f.getResponse());!function o2(n){return void 0!==n}(_)?l():l(_)}catch(_){u(_)}else if(null!==f){const _=Tx();_.serverResponse=f.getErrorText(),u(this.errorCallback_?this.errorCallback_(f,_):_)}else u(r.canceled?this.appDelete_?bk():yk():function KL(){return new Di("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new HE(!1,null,!0)):this.backoffId_=function r2(n,t,e){let i=1,r=null,l=null,u=!1,f=0;function _(){return 2===f}let w=!1;function D(...Ce){w||(w=!0,t.apply(null,Ce))}function A(Ce){r=setTimeout(()=>{r=null,n(V,_())},Ce)}function N(){l&&clearTimeout(l)}function V(Ce,...it){if(w)return void N();if(Ce)return N(),void D.call(null,Ce,...it);if(_()||u)return N(),void D.call(null,Ce,...it);let $e;i<64&&(i*=2),1===f?(f=2,$e=0):$e=1e3*(i+Math.random()),A($e)}let B=!1;function ie(Ce){B||(B=!0,N(),!w&&(null!==r?(Ce||(f=2),clearTimeout(r),A(0)):Ce||(f=1)))}return A(0),l=setTimeout(()=>{u=!0,ie(!0)},e),ie}((i,r)=>{if(r)return void i(!1,new HE(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===$h.NO_ERROR,_=l.getStatus();if(!f||this.isRetryStatusCode_(_)){const D=l.getErrorCode()===$h.ABORT;return void i(!1,new HE(!1,null,D))}const w=-1!==this.successCodes_.indexOf(_);i(!0,new HE(w,l))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function s2(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),l=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||l}}class HE{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function m2(...n){const t=function g2(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(Ex())return new Blob(n);throw new Di("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Jo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dx{constructor(t,e){this.data=t,this.contentType=e||null}}function Sx(n,t){switch(n){case Jo.RAW:return new Dx(Ek(t));case Jo.BASE64:case Jo.BASE64URL:return new Dx(Ik(n,t));case Jo.DATA_URL:return new Dx(function b2(n){const t=new Dk(n);return t.base64?Ik(Jo.BASE64,t.rest):function v2(n){let t;try{t=decodeURIComponent(n)}catch(e){throw aw(Jo.DATA_URL,"Malformed data URL.")}return Ek(t)}(t.rest)}(t),function w2(n){return new Dk(n).contentType}(t))}throw Tx()}function Ek(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function Ik(n,t){switch(n){case Jo.BASE64:{const r=-1!==t.indexOf("-"),l=-1!==t.indexOf("_");if(r||l)throw aw(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Jo.BASE64URL:{const r=-1!==t.indexOf("+"),l=-1!==t.indexOf("/");if(r||l)throw aw(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function y2(n){return atob(n)}(t)}catch(r){throw aw(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class Dk{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw aw(Jo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function C2(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Uc{constructor(t,e){let i=0,r="";Ck(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(Ck(this.data_)){const r=function _2(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new Uc(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Uc(i,!0)}}static getBlob(...t){if(Ex()){const e=t.map(i=>i instanceof Uc?i.data_:i);return new Uc(m2.apply(null,e))}{const e=t.map(u=>BE(u)?Sx(Jo.RAW,u).data:u.data_);let i=0;e.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let l=0;return e.forEach(u=>{for(let f=0;f<u.length;f++)r[l++]=u[f]}),new Uc(r,!0)}}uploadData(){return this.data_}}function xx(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function l2(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function Sk(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function I2(n,t){return t}class Vs{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||I2}}let jE=null;function cw(){if(jE)return jE;const n=[];n.push(new Vs("bucket")),n.push(new Vs("generation")),n.push(new Vs("metageneration")),n.push(new Vs("name","fullPath",!0));const e=new Vs("name");e.xform=function t(l,u){return function D2(n){return!BE(n)||n.length<2?n:Sk(n)}(u)},n.push(e);const r=new Vs("size");return r.xform=function i(l,u){return void 0!==u?Number(u):u},n.push(r),n.push(new Vs("timeCreated")),n.push(new Vs("updated")),n.push(new Vs("md5Hash",null,!0)),n.push(new Vs("cacheControl",null,!0)),n.push(new Vs("contentDisposition",null,!0)),n.push(new Vs("contentEncoding",null,!0)),n.push(new Vs("contentLanguage",null,!0)),n.push(new Vs("contentType",null,!0)),n.push(new Vs("metadata","customMetadata",!0)),jE=n,jE}function xk(n,t,e){const i=xx(t);return null===i?null:function x2(n,t,e){const i={type:"file"},r=e.length;for(let l=0;l<r;l++){const u=e[l];i[u.local]=u.xform(i,t[u.server])}return function S2(n,t){Object.defineProperty(n,"ref",{get:function e(){const l=new ps(n.bucket,n.fullPath);return t._makeStorageReference(l)}})}(i,n),i}(n,i,e)}function Ax(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const l=t[r];l.writable&&(e[l.server]=n[l.local])}return JSON.stringify(e)}const Ak="prefixes";class Bc{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Hc(n){if(!n)throw Tx()}function qE(n,t){return function e(i,r){const l=xk(n,r,t);return Hc(null!==l),l}}function Iy(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function WL(){return new Di("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function zL(){return new Di("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function $L(n){return new Di("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function YL(n){return new Di("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function uw(n){const t=Iy(n);return function e(i,r){let l=t(i,r);return 404===i.getStatus()&&(l=function GL(n){return new Di("object-not-found","Object '"+n+"' does not exist.")}(n.path)),l.serverResponse=r.serverResponse,l}}function Ok(n,t,e){const r=ld(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,f=new Bc(r,"GET",qE(n,e),u);return f.errorHandler=uw(t),f}function R2(n,t,e,i,r){const l={};l.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(l.delimiter=e),i&&(l.pageToken=i),r&&(l.maxResults=r);const f=ld(t.bucketOnlyServerUrl(),n.host,n._protocol),w=n.maxOperationRetryTime,D=new Bc(f,"GET",function k2(n,t){return function e(i,r){const l=function O2(n,t,e){const i=xx(e);return null===i?null:function M2(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[Ak])for(const r of e[Ak]){const l=r.replace(/\/$/,""),u=n._makeStorageReference(new ps(t,l));i.prefixes.push(u)}if(e.items)for(const r of e.items){const l=n._makeStorageReference(new ps(t,r.name));i.items.push(l)}return i}(n,t,i)}(n,t,r);return Hc(null!==l),l}}(n,t.bucket),w);return D.urlParams=l,D.errorHandler=Iy(t),D}function Pk(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function V2(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class ZE{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function Mx(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){Hc(!1)}return Hc(!!e&&-1!==(t||["active"]).indexOf(e)),e}const j2={STATE_CHANGED:"state_changed"},Us={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ox(n){switch(n){case"running":case"pausing":case"canceling":return Us.RUNNING;case"paused":return Us.PAUSED;case"success":return Us.SUCCESS;case"canceled":return Us.CANCELED;default:return Us.ERROR}}class q2{constructor(t,e,i){if(function a2(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const l=t;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function Dy(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class G2 extends class Z2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$h.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$h.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$h.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw lw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const l in r)r.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,r[l].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw lw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Tl(){return new G2}class Lk{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=cw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,l)=>{this._resolve=r,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function U2(n,t,e,i,r){const l=t.bucketOnlyServerUrl(),u=Pk(t,i,r),f={name:u.fullPath},_=ld(l,n.host,n._protocol),D={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},A=Ax(u,e),B=new Bc(_,"POST",function V(ie){let Ce;Mx(ie);try{Ce=ie.getResponseHeader("X-Goog-Upload-URL")}catch(it){Hc(!1)}return Hc(BE(Ce)),Ce},n.maxUploadRetryTime);return B.urlParams=f,B.headers=D,B.body=A,B.errorHandler=Iy(t),B}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Tl,t,e);this._request=r,r.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function B2(n,t,e,i){const _=new Bc(e,"POST",function l(w){const D=Mx(w,["active","final"]);let A=null;try{A=w.getResponseHeader("X-Goog-Upload-Size-Received")}catch(V){Hc(!1)}A||Hc(!1);const N=Number(A);return Hc(!isNaN(N)),new ZE(N,i.size(),"final"===D)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=Iy(t),_}(this._ref.storage,this._ref._location,t,this._blob),l=this._ref.storage._makeRequest(r,Tl,e,i);this._request=l,l.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new ZE(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,l)=>{let u;try{u=function H2(n,t,e,i,r,l,u,f){const _=new ZE(0,0);if(u?(_.current=u.current,_.total=u.total):(_.current=0,_.total=i.size()),i.size()!==_.total)throw function e2(){return new Di("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const w=_.total-_.current;let D=w;r>0&&(D=Math.min(D,r));const A=_.current,B={"X-Goog-Upload-Command":D===w?"upload, finalize":"upload","X-Goog-Upload-Offset":`${_.current}`},ie=i.slice(A,A+D);if(null===ie)throw vk();const $e=new Bc(e,"POST",function Ce(je,vt){const Ct=Mx(je,["active","final"]),Zt=_.current+D,_n=i.size();let Kn;return Kn="final"===Ct?qE(t,l)(je,vt):null,new ZE(Zt,_n,"final"===Ct,Kn)},t.maxUploadRetryTime);return $e.headers=B,$e.body=ie.uploadData(),$e.progressCallback=f||null,$e.errorHandler=Iy(n),$e}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const f=this._ref.storage._makeRequest(u,Tl,r,l);this._request=f,f.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=Ok(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Tl,t,e);this._request=r,r.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function Rk(n,t,e,i,r){const l=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},_=function f(){let $e="";for(let je=0;je<2;je++)$e+=Math.random().toString().slice(2);return $e}();u["Content-Type"]="multipart/related; boundary="+_;const w=Pk(t,i,r),D=Ax(w,e),V=Uc.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+D+"\r\n--"+_+"\r\nContent-Type: "+w.contentType+"\r\n\r\n",i,"\r\n--"+_+"--");if(null===V)throw vk();const B={name:w.fullPath},ie=ld(l,n.host,n._protocol),it=n.maxUploadRetryTime,rt=new Bc(ie,"POST",qE(n,e),it);return rt.urlParams=B,rt.headers=u,rt.body=V.uploadData(),rt.errorHandler=Iy(t),rt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Tl,t,e);this._request=r,r.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=yk(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=Ox(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const l=new q2(e||void 0,i||void 0,r||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(Ox(this._state)){case Us.SUCCESS:Dy(this._resolve.bind(null,this.snapshot))();break;case Us.CANCELED:case Us.ERROR:Dy(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(Ox(this._state)){case Us.RUNNING:case Us.PAUSED:t.next&&Dy(t.next.bind(t,this.snapshot))();break;case Us.SUCCESS:t.complete&&Dy(t.complete.bind(t))();break;default:t.error&&Dy(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class og{constructor(t,e){this._service=t,this._location=e instanceof ps?e:ps.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new og(t,e)}get root(){const t=new ps(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Sk(this._location.path)}get storage(){return this._service}get parent(){const t=function T2(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new ps(this._location.bucket,t);return new og(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw wk(t)}}function Uk(n,t,e){return kx.apply(this,arguments)}function kx(){return kx=(0,we.Z)(function*(n,t,e){const r=yield Bk(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield Uk(n,t,r.nextPageToken))}),kx.apply(this,arguments)}function Bk(n,t){null!=t&&"number"==typeof t.maxResults&&Ix("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=R2(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Tl)}function iV(n){n._throwIfRoot("getDownloadURL");const t=function N2(n,t,e){const r=ld(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,f=new Bc(r,"GET",function P2(n,t){return function e(i,r){const l=xk(n,r,t);return Hc(null!==l),function A2(n,t,e,i){const r=xx(t);if(null===r||!BE(r.downloadTokens))return null;const l=r.downloadTokens;if(0===l.length)return null;const u=encodeURIComponent;return l.split(",").map(w=>{const A=n.fullPath;return ld("/b/"+u(n.bucket)+"/o/"+u(A),e,i)+Tk({alt:"media",token:w})})[0]}(l,r,n.host,n._protocol)}}(n,e),u);return f.errorHandler=uw(t),f}(n.storage,n._location,cw());return n.storage.makeRequestWithTokens(t,Tl).then(e=>{if(null===e)throw function t2(){return new Di("no-download-url","The given file does not have any download URLs.")}();return e})}function Hk(n,t){const e=function E2(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new ps(n._location.bucket,e);return new og(n.storage,i)}function jk(n,t){if(n instanceof Px){const e=n;if(null==e._bucket)throw function XL(){return new Di("no-default-bucket","No default bucket found. Did you set the '"+_k+"' property when initializing the app?")}();const i=new og(e,e._bucket);return null!=t?jk(i,t):i}return void 0!==t?Hk(n,t):n}function aV(n,t){if(t&&function sV(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof Px)return function oV(n,t){return new og(n,t)}(n,t);throw Ey("To use ref(service, url), the first argument must be a Storage instance.")}return jk(n,t)}function qk(n,t){const e=null==t?void 0:t[_k];return null==e?null:ps.makeFromBucketSpec(e,n)}class Px{constructor(t,e,i,r,l){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=l,this._bucket=null,this._host=mk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ps.makeFromBucketSpec(r,this._host):qk(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?ps.makeFromBucketSpec(this._url,t):qk(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Ix("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Ix("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,we.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,we.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new og(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new n2(bk());{const l=function p2(n,t,e,i,r,l){const u=Tk(n.urlParams),f=n.url+u,_=Object.assign({},n.headers);return function h2(n,t){t&&(n["X-Firebase-GMPID"]=t)}(_,t),function u2(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(_,e),function d2(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(_,l),function f2(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(_,i),new c2(f,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(t,e){var i=this;return(0,we.Z)(function*(){const[r,l]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,l).getPromise()})()}}const Zk="@firebase/storage";function zk(n,t){return aV(n=(0,Ot.m9)(n),t)}function yV(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new Px(e,i,r,t,ds.SDK_VERSION)}!function vV(){(0,ds._registerComponent)(new Dr.wA("storage",yV,"PUBLIC").setMultipleInstances(!0)),(0,ds.registerVersion)(Zk,"0.9.6",""),(0,ds.registerVersion)(Zk,"0.9.6","esm2017")}();class GE{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Wk{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new GE(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new GE(i,this,this._ref))},e)}on(t,e,i,r){let l;return e&&(l="function"==typeof e?u=>e(new GE(u,this,this._ref)):{next:e.next?u=>e.next(new GE(u,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,l,i||void 0,r||void 0)}}class Yk{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new cd(t,this._service))}get items(){return this._delegate.items.map(t=>new cd(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class cd{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function mV(n,t){return Hk(n,t)}(this._delegate,t);return new cd(e,this.storage)}get root(){return new cd(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new cd(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new Wk(function cV(n,t,e){return function J2(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new Lk(n,new Uc(t),e)}(n=(0,Ot.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Jo.RAW,i){this._throwIfRoot("putString");const r=Sx(e,t),l=Object.assign({},i);return null==l.contentType&&null!=r.contentType&&(l.contentType=r.contentType),new Wk(new Lk(this._delegate,new Uc(r.data,!0),l),this)}listAll(){return function fV(n){return function eV(n){const t={prefixes:[],items:[]};return Uk(n,t).then(()=>t)}(n=(0,Ot.m9)(n))}(this._delegate).then(t=>new Yk(t,this.storage))}list(t){return function hV(n,t){return Bk(n=(0,Ot.m9)(n),t)}(this._delegate,t||void 0).then(e=>new Yk(e,this.storage))}getMetadata(){return function uV(n){return function tV(n){n._throwIfRoot("getMetadata");const t=Ok(n.storage,n._location,cw());return n.storage.makeRequestWithTokens(t,Tl)}(n=(0,Ot.m9)(n))}(this._delegate)}updateMetadata(t){return function dV(n,t){return function nV(n,t){n._throwIfRoot("updateMetadata");const e=function F2(n,t,e,i){const l=ld(t.fullServerUrl(),n.host,n._protocol),f=Ax(e,i),w=n.maxOperationRetryTime,D=new Bc(l,"PATCH",qE(n,i),w);return D.headers={"Content-Type":"application/json; charset=utf-8"},D.body=f,D.errorHandler=uw(t),D}(n.storage,n._location,t,cw());return n.storage.makeRequestWithTokens(e,Tl)}(n=(0,Ot.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function pV(n){return iV(n=(0,Ot.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function gV(n){return function rV(n){n._throwIfRoot("deleteObject");const t=function L2(n,t){const i=ld(t.fullServerUrl(),n.host,n._protocol),f=new Bc(i,"DELETE",function u(_,w){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=uw(t),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Tl)}(n=(0,Ot.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw wk(t)}}class Kk{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(Qk(t))throw Ey("ref() expected a child path but got a URL, use refFromURL instead.");return new cd(zk(this._delegate,t),this)}refFromURL(t){if(!Qk(t))throw Ey("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ps.makeFromUrl(t,this._delegate.host)}catch(e){throw Ey("refFromUrl() expected a valid full URL but got an invalid one.")}return new cd(zk(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function _V(n,t,e,i={}){!function lV(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,Ot.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function Qk(n){return/^[A-Za-z]+:\/\//.test(n)}function TV(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new Kk(e,i)}function Jk(n){const t=function IV(n){return new mn.y(t=>{const e=u=>t.next(u);e(n.snapshot);const l=n.on("state_changed",e);return n.then(u=>{e(u),t.complete()},u=>{e(n.snapshot),(u=>{t.error(u)})(u)}),function(){l()}}).pipe(function jL(n,t=ep.z){return(0,qn.e)((e,i)=>{let r=null,l=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const w=l;l=null,i.next(w)}};function _(){const w=u+n,D=t.now();if(D<w)return r=this.schedule(void 0,w-D),void i.add(r);f()}e.subscribe((0,Fn.x)(i,w=>{l=w,u=t.now(),r||(r=t.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{l=r=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Pt.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function $E(n){return{getDownloadURL:()=>ot(void 0).pipe(ti.fc,xn(()=>n.getDownloadURL()),ti.iC),getMetadata:()=>ot(void 0).pipe(ti.fc,xn(()=>n.getMetadata()),ti.iC),delete:()=>(0,fn.D)(n.delete()),child:t=>$E(n.child(t)),updateMetadata:t=>(0,fn.D)(n.updateMetadata(t)),put:(t,e)=>Jk(n.put(t,e)),putString:(t,e,i)=>Jk(n.putString(t,e,i)),list:t=>(0,fn.D)(n.list(t)),listAll:()=>(0,fn.D)(n.listAll())}}!function EV(n){const t={TaskState:Us,TaskEvent:j2,StringFormat:Jo,Storage:Kk,Reference:cd};n.INTERNAL.registerComponent(new Dr.wA("storage-compat",TV,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.14")}(QC.Z);const DV=new s.OlP("angularfire2.storageBucket"),SV=new s.OlP("angularfire2.storage.maxUploadRetryTime"),xV=new s.OlP("angularfire2.storage.maxOperationRetryTime"),AV=new s.OlP("angularfire2.storage.use-emulator");let MV=(()=>{class n{constructor(e,i,r,l,u,f,_,w,D,A){const N=(0,Ir.on)(e,u,i);this.storage=(0,Ir.cc)(`${N.name}.storage.${r}`,"AngularFireStorage",N.name,()=>{const V=u.runOutsideAngular(()=>N.storage(r||void 0)),B=D;return B&&V.useEmulator(...B),_&&V.setMaxUploadRetryTime(_),w&&V.setMaxOperationRetryTime(w),V},[_,w])}ref(e){return $E(this.storage.ref(e))}refFromURL(e){return $E(this.storage.refFromURL(e))}upload(e,i,r){return $E(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ir.Dh),s.LFG(Ir.xv,8),s.LFG(DV,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(ti.HU),s.LFG(SV,8),s.LFG(xV,8),s.LFG(AV,8),s.LFG(Tm,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),zh=(()=>{class n{constructor(e,i){this.afs=e,this.storage=i}getAll(e){return this.afs.collection(e).valueChanges()}setObj(e,i,r){return this.afs.collection(e).doc(r).set(i,{merge:!0})}removeObj(e,i){return this.afs.collection(e).doc(i.id).delete()}getWithFilter(e,i,r){return this.afs.collection(e,l=>l.where(i,"==",r)).valueChanges()}getUsersWithFilter(e,i){return this.afs.collection("users",r=>r.where(e,"==",i).where("habilitado","==",!0)).valueChanges()}updateUser(e,i){return this.afs.collection("users").doc(e.email).update({habilitado:i})}uploadImage(e,i){var r=this;return(0,we.Z)(function*(){try{return yield(yield r.storage.ref("/users/"+e).putString(i,"data_url")).ref.getDownloadURL()}catch(l){return console.error(l),null}})()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gk),s.LFG(MV))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zE=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-loading"]],decls:2,vars:0,consts:[[1,"loading-overlay"],["src","../../../assets/loading.gif","alt","Loading..."]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"img",1),s.qZA())},styles:[".loading-overlay[_ngcontent-%COMP%]{display:flex;background:rgba(255,255,255,.7);position:fixed;bottom:0;left:0;right:0;top:0;z-index:9998;align-items:center;justify-content:center}"]}),n})();function OV(n,t){1&n&&s._UZ(0,"app-loading")}const kV=function(n){return{"background-image":n}};function PV(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",14)(1,"button",15),s.NdJ("click",function(){const l=s.CHM(e).$implicit;return s.oxw().loginWithUsersDefaults(l.email,l.password)}),s.qZA()()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngStyle",s.VKq(1,kV,"url("+e.pathImg+")"))}}const Xk=function(n,t){return{"is-invalid":n,"is-valid":t}};let RV=(()=>{class n{constructor(e,i,r,l){this.router=e,this.auth=i,this.afs=r,this.formBuilder=l,this.errorMsj=new Kt.x,this.error=!1,this.cargando=!1,this.loginForm=this.formBuilder.group({email:["",[Jt.required,Jt.email]],password:["",[Jt.required]]})}ngOnInit(){this.afs.getAll("users").subscribe(e=>{let i=e;i.filter(l=>"especialista"==l.rol).slice(0,2),this.users=i.filter(l=>"paciente"==l.rol).slice(0,3),this.users=this.users.concat(i.filter(l=>"especialista"==l.rol).slice(0,2)),this.users.push(i.filter(l=>"administrador"==l.rol)[0])})}get f(){return this.loginForm.controls}getErrorMessage(e){let i="";return this.f[e].hasError("required")?i="Empty.":this.f[e].getError("email")&&(i="Invalid format"),i}isNotValidField(e){return(this.f[e].touched||1==this.f[e].dirty)&&!this.f[e].valid}onLogin(){this.cargando=!0,this.error=!1,this.auth.login(this.loginForm.value.email,this.loginForm.value.password).then(e=>{if(e){let i=this.afs.getUsersWithFilter("email",this.loginForm.value.email).subscribe(r=>{r&&(console.info(r),this.auth.refreshData(r[0]),this.loginForm.reset(),this.router.navigateByUrl("")),i.unsubscribe()})}}).catch(e=>{this.errorMsj.next(e.message.toLowerCase().replace("firebase: ","")),this.error=!0,this.cargando=!1,console.info("ERROR ->",e)})}loginWithUsersDefaults(e,i){this.f.email.setValue(e),this.f.password.setValue(i),this.onLogin()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vn),s.Y36(qo),s.Y36(zh),s.Y36(Ym))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:27,vars:17,consts:[[4,"ngIf"],[1,"form-header"],[1,"form-content"],[3,"formGroup"],[1,"form-group"],["for","email"],["type","text","formControlName","email","id","email","name","email","required","",1,"form-control","form-style",3,"ngClass"],[1,"invalid-feedback"],["for","password"],["type","password","formControlName","password","id","password","name","password","required","",1,"form-control","form-style","is-invalid",3,"ngClass"],[1,"error-text"],["type","submit",3,"disabled","click"],[1,"row"],["class","col-4 mb-1",4,"ngFor","ngForOf"],[1,"col-4","mb-1"],[1,"btn-img",3,"ngStyle","click"]],template:function(e,i){1&e&&(s.YNc(0,OV,1,0,"app-loading",0),s.TgZ(1,"div",1)(2,"h1"),s._uU(3,"Account Login"),s.qZA()(),s.TgZ(4,"div",2)(5,"form",3)(6,"div",4)(7,"label",5),s._uU(8,"Username"),s.qZA(),s._UZ(9,"input",6),s.TgZ(10,"div",7),s._uU(11),s.qZA()(),s.TgZ(12,"div",4)(13,"label",8),s._uU(14,"Password"),s.qZA(),s._UZ(15,"input",9),s.TgZ(16,"div",7),s._uU(17),s.qZA()(),s.TgZ(18,"div",4)(19,"label",10),s._uU(20),s.ALo(21,"async"),s.qZA()(),s.TgZ(22,"div",4)(23,"button",11),s.NdJ("click",function(){return i.onLogin()}),s._uU(24,"Log In"),s.qZA()()()(),s.TgZ(25,"div",12),s.YNc(26,PV,2,3,"div",13),s.qZA()),2&e&&(s.Q6J("ngIf",i.cargando),s.xp6(5),s.Q6J("formGroup",i.loginForm),s.xp6(4),s.Q6J("ngClass",s.WLB(11,Xk,i.isNotValidField("email"),!i.isNotValidField("email")&&i.f.email.touched)),s.xp6(2),s.hij(" ",i.getErrorMessage("email")," "),s.xp6(4),s.Q6J("ngClass",s.WLB(14,Xk,i.isNotValidField("password"),!i.isNotValidField("password")&&i.f.password.touched)),s.xp6(2),s.hij(" ",i.getErrorMessage("password")," "),s.xp6(3),s.Oqu(s.lcZ(21,9,i.errorMsj)),s.xp6(3),s.Q6J("disabled",i.loginForm.invalid),s.xp6(3),s.Q6J("ngForOf",i.users))},directives:[qt,zE,Ma,$r,Ru,hl,uc,Kf,_c,gn,nn,ir],pipes:[Ys],styles:["label[_ngcontent-%COMP%]{display:block;margin:0 0 10px;color:#0009;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;letter-spacing:.2em}input[_ngcontent-%COMP%]{outline:none;display:block;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;height:100%;color:#0009;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;transition:.3s ease}button[_ngcontent-%COMP%]{outline:none;background:#4285F4;width:100%;border:0;border-radius:4px;padding:12px 20px;color:#fff;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;text-transform:uppercase;cursor:pointer}h1[_ngcontent-%COMP%]{padding:4px 0;color:#4285f4;font-size:24px;font-weight:700;text-transform:uppercase}.form-remember[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:red;letter-spacing:0;text-transform:none;text-align:center}.form-remember[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:inline-block;width:auto;margin:0 10px 0 0}.form-recovery[_ngcontent-%COMP%]{color:#4285f4;font-size:12px;text-decoration:none}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}.error-text[_ngcontent-%COMP%]{color:#dc3545}.btn-img[_ngcontent-%COMP%]{background-repeat:no-repeat;height:100px;width:120px;background-size:cover;border-radius:10px;background-position:center}"]}),n})(),NV=(()=>{class n{constructor(e,i,r){this.el=e,this._zone=i,this.cd=r,this.siteKey=null,this.theme="light",this.type="image",this.size="normal",this.tabindex=0,this.initCallback="initRecaptcha",this.onResponse=new s.vpe,this.onExpire=new s.vpe,this._instance=null,this._language=null}get language(){return this._language}set language(e){this._language=e,this.init()}ngAfterViewInit(){window.grecaptcha?window.grecaptcha.render?this.init():setTimeout(()=>{this.init()},100):window[this.initCallback]=()=>{this.init()}}init(){this._instance=window.grecaptcha.render(this.el.nativeElement.children[0],{sitekey:this.siteKey,theme:this.theme,type:this.type,size:this.size,tabindex:this.tabindex,hl:this.language,callback:e=>{this._zone.run(()=>this.recaptchaCallback(e))},"expired-callback":()=>{this._zone.run(()=>this.recaptchaExpiredCallback())}})}reset(){null!==this._instance&&(window.grecaptcha.reset(this._instance),this.cd.markForCheck())}getResponse(){return null===this._instance?null:window.grecaptcha.getResponse(this._instance)}recaptchaCallback(e){this.onResponse.emit({response:e})}recaptchaExpiredCallback(){this.onExpire.emit()}ngOnDestroy(){null!=this._instance&&window.grecaptcha.reset(this._instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-captcha"]],hostAttrs:[1,"p-element"],inputs:{siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabindex:"tabindex",initCallback:"initCallback",language:"language"},outputs:{onResponse:"onResponse",onExpire:"onExpire"},decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"div")},encapsulation:2,changeDetection:0}),n})(),FV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Pi]]}),n})();const LV=["file"];function VV(n,t){1&n&&s._UZ(0,"app-loading")}const Wh=function(n,t){return{"is-invalid":n,"is-valid":t}};function UV(n,t){if(1&n&&(s.TgZ(0,"div",4)(1,"label",34),s._uU(2,"Obra social"),s.qZA(),s._UZ(3,"input",35),s.TgZ(4,"div",13),s._uU(5),s.qZA()()),2&n){const e=s.oxw(2);s.xp6(3),s.Q6J("ngClass",s.WLB(2,Wh,e.isNotValidField("obraSocial"),!e.isNotValidField("obraSocial")&&e.f.obraSocial.touched)),s.xp6(2),s.hij(" ",e.getErrorMessage("obraSocial")," ")}}function BV(n,t){if(1&n&&(s.TgZ(0,"option",40),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e.value),s.xp6(1),s.Oqu(e.value)}}function HV(n,t){if(1&n&&(s.TgZ(0,"div",4)(1,"div",9)(2,"div",10)(3,"label",36),s._uU(4,"Especialidad"),s.qZA(),s.TgZ(5,"select",37),s.YNc(6,BV,2,2,"option",38),s.qZA(),s.TgZ(7,"div",13),s._uU(8),s.qZA()(),s.TgZ(9,"div",10)(10,"label"),s._uU(11,"Crear nueva"),s.qZA(),s.TgZ(12,"button",39),s._uU(13,"Agregar"),s.qZA()()()()),2&n){const e=s.oxw(2);s.xp6(5),s.Q6J("ngClass",s.WLB(3,Wh,e.isNotValidField("especialidad"),!e.isNotValidField("especialidad")&&e.f.especialidad.touched)),s.xp6(1),s.Q6J("ngForOf",e.especialidades),s.xp6(2),s.hij(" ",e.getErrorMessage("especialidad")," ")}}function jV(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"div",9)(2,"div",10)(3,"div",4)(4,"label",11),s._uU(5,"DNI"),s.qZA(),s._UZ(6,"input",12),s.TgZ(7,"div",13),s._uU(8),s.qZA()()(),s.TgZ(9,"div",10)(10,"div",4)(11,"label",11),s._uU(12,"EDAD"),s.qZA(),s._UZ(13,"input",14),s.TgZ(14,"div",13),s._uU(15),s.qZA()()(),s.TgZ(16,"div",10)(17,"div",4)(18,"label",15),s._uU(19,"Nombre"),s.qZA(),s._UZ(20,"input",16),s.TgZ(21,"div",13),s._uU(22),s.qZA()()(),s.TgZ(23,"div",10)(24,"div",4)(25,"label",17),s._uU(26,"Apellido"),s.qZA(),s._UZ(27,"input",18),s.TgZ(28,"div",13),s._uU(29),s.qZA()()()(),s.YNc(30,UV,6,5,"div",19),s.YNc(31,HV,14,6,"div",19),s.TgZ(32,"div",4)(33,"label",20),s._uU(34,"Email"),s.qZA(),s._UZ(35,"input",21),s.TgZ(36,"div",13),s._uU(37),s.qZA()(),s.TgZ(38,"div",4)(39,"label",22),s._uU(40,"Password"),s.qZA(),s._UZ(41,"input",23),s.TgZ(42,"div",13),s._uU(43),s.qZA()(),s.TgZ(44,"div",24)(45,"div",25)(46,"div",26),s._uU(47,"Foto"),s.qZA(),s.TgZ(48,"div",27),s.NdJ("click",function(){return s.CHM(e),s.oxw().uploadFile()}),s._uU(49),s.qZA(),s.TgZ(50,"input",28,29),s.NdJ("change",function(){return s.CHM(e),s.oxw().onChangeFile()}),s.qZA()()(),s.TgZ(52,"div",30)(53,"p-captcha",31),s.NdJ("onResponse",function(r){return s.CHM(e),s.oxw().showResponse(r)}),s.qZA()(),s.TgZ(54,"div",4)(55,"label",32),s._uU(56),s.ALo(57,"async"),s.qZA()(),s.TgZ(58,"button",33),s.NdJ("click",function(){return s.CHM(e),s.oxw().onRegister()}),s._uU(59,"Register"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(6),s.Q6J("ngClass",s.WLB(19,Wh,e.isNotValidField("dni"),!e.isNotValidField("dni")&&e.f.dni.touched)),s.xp6(2),s.hij(" ",e.getErrorMessage("dni")," "),s.xp6(5),s.Q6J("ngClass",s.WLB(22,Wh,e.isNotValidField("edad"),!e.isNotValidField("edad")&&e.f.edad.touched)),s.xp6(2),s.hij(" ",e.getErrorMessage("edad")," "),s.xp6(5),s.Q6J("ngClass",s.WLB(25,Wh,e.isNotValidField("nombre"),!e.isNotValidField("nombre")&&e.f.nombre.touched)),s.xp6(2),s.hij(" ",e.getErrorMessage("nombre")," "),s.xp6(5),s.Q6J("ngClass",s.WLB(28,Wh,e.isNotValidField("apellido"),!e.isNotValidField("apellido")&&e.f.apellido.touched)),s.xp6(2),s.hij(" ",e.getErrorMessage("apellido")," "),s.xp6(1),s.Q6J("ngIf","paciente"==e.f.rol.value),s.xp6(1),s.Q6J("ngIf","especialista"==e.f.rol.value),s.xp6(4),s.Q6J("ngClass",s.WLB(31,Wh,e.isNotValidField("email"),!e.isNotValidField("email")&&e.f.email.touched)),s.xp6(2),s.hij(" ",e.getErrorMessage("email")," "),s.xp6(4),s.Q6J("ngClass",s.WLB(34,Wh,e.isNotValidField("password"),!e.isNotValidField("password")&&e.f.password.touched)),s.xp6(2),s.hij(" ",e.getErrorMessage("password")," "),s.xp6(6),s.Oqu(e.archivoMsj),s.xp6(7),s.Oqu(s.lcZ(57,17,e.errorMsj)),s.xp6(2),s.Q6J("disabled",e.regisForm.invalid)}}let qV=(()=>{class n{constructor(e,i,r,l){this.router=e,this.auth=i,this.afs=r,this.formBuilder=l,this.test=new s.vpe,this.errorMsj=new Kt.x,this.error=!1,this.cargando=!1,this.regisForm=this.formBuilder.group({nombre:["",[Jt.required]],apellido:["",[Jt.required]],dni:["",[Jt.required,Jt.minLength(8),Jt.maxLength(8),Jt.pattern("^[0-9]*$")]],edad:["",[Jt.required,Jt.min(18),Jt.max(150)]],obraSocial:["",[Jt.required]],email:["",[Jt.required,Jt.email]],password:["",[Jt.required]],rol:["",[Jt.required]]}),this.archivoMsj="No file chosen..."}ngOnInit(){this.afs.getAll("especialidades").subscribe(e=>{e&&(this.especialidades=e)})}get f(){return this.regisForm.controls}getErrorMessage(e){let i="";return this.f[e].hasError("required")?i="Vac\xedo.":this.f[e].getError("email")?i="Formato de email inv\xe1lido":this.f[e].getError("minlength")||this.f[e].getError("maxlength")?i="Cantidad de caracteres inv\xe1lido":this.f[e].getError("min")?i="Tienes que ser mayor de edad":this.f[e].getError("max")?i="Lo siento, dudamos que tenga esa edad.":this.f[e].getError("pattern")&&(i="S\xf3lo valores n\xfamericos."),i}isNotValidField(e){return(this.f[e].touched||1==this.f[e].dirty)&&!this.f[e].valid}uploadFile(){this.file.nativeElement.click()}onChangeFile(){let e=this.file.nativeElement.files[0],i=new FileReader;this.archivoMsj=e.name,i.readAsDataURL(e),i.onloadend=()=>{this.archivo=i.result}}setRol(e){this.f.rol.setValue(e),"especialista"==this.f.rol.value?(this.regisForm.addControl("especialidad",new $f("",Jt.required)),this.regisForm.removeControl("obraSocial")):"paciente"==this.f.rol.value&&(this.regisForm.addControl("obraSocial",new $f("",Jt.required)),this.regisForm.removeControl("especialidad")),this.test.emit(!0)}onRegister(){let e=this.regisForm.value;this.cargando=!0,this.archivo?this.auth.register(e.email,e.password).then(i=>{i&&this.afs.uploadImage(e.email,this.archivo).then(r=>{e.habilitado=!0,r&&(e.pathImg=r),this.afs.setObj("users",e,e.email).then(l=>{this.auth.refreshData(e),this.router.navigate([""]),this.regisForm.reset(),this.cargando=!1})}).catch(r=>{this.errorMsj=r.message,this.error=!0,this.cargando=!1})}).catch(i=>{this.errorMsj=i.message,this.error=!0,this.cargando=!1,console.info("ERROR ->",i)}):(this.error=!0,this.errorMsj.next("Falta u archivo"))}showResponse(e){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vn),s.Y36(qo),s.Y36(zh),s.Y36(Ym))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-register"]],viewQuery:function(e,i){if(1&e&&s.Gf(LV,5),2&e){let r;s.iGM(r=s.CRH())&&(i.file=r.first)}},outputs:{test:"test"},decls:17,vars:7,consts:[[4,"ngIf"],[1,"form-header"],[1,"form-content"],[3,"formGroup"],[1,"form-group"],[1,"d-flex","justify-content-around"],[1,"text-center"],[1,"btn-paciente",3,"click"],[1,"btn-especialista",3,"click"],[1,"row"],[1,"col-6"],["for","dni"],["type","text","formControlName","dni","id","dni","name","dni","required","",1,"form-control","form-style",3,"ngClass"],[1,"invalid-feedback"],["type","number","formControlName","edad","id","edad","name","edad","required","",1,"form-control","form-style",3,"ngClass"],["for","nombre"],["type","text","formControlName","nombre","id","nombre","name","nombre","required","",1,"form-control","form-style",3,"ngClass"],["for","apellido"],["type","text","formControlName","apellido","id","apellido","name","apellido","required","",1,"form-control","form-style",3,"ngClass"],["class","form-group",4,"ngIf"],["for","email"],["type","text","formControlName","email","name","email","required","",1,"form-control","form-style",3,"ngClass"],["for","password"],["type","password","formControlName","password","name","password","required","",1,"form-control","form-style",3,"ngClass"],[1,"file-upload"],[1,"file-upload-select"],[1,"file-select-button"],[1,"file-select-name",3,"click"],["type","file","name","file-upload-input","id","file-upload-input",3,"change"],["file",""],[1,"col-12","offset-2"],["siteKey","6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI",3,"onResponse"],[1,"form-remember"],["type","submit",3,"disabled","click"],["for","obraSocial"],["type","text","formControlName","obraSocial","id","obraSocial","name","obraSocial","required","",1,"form-control","form-style",3,"ngClass"],["for","especilidad"],["formControlName","especialidad","id","especialidad","required","",1,"input",3,"ngClass"],["class","input test",3,"value",4,"ngFor","ngForOf"],[2,"font-size","small"],[1,"input","test",3,"value"]],template:function(e,i){1&e&&(s.YNc(0,VV,1,0,"app-loading",0),s.TgZ(1,"div",1)(2,"h1"),s._uU(3,"Register Account"),s.qZA()(),s.TgZ(4,"div",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"div")(9,"label",6),s._uU(10,"Paciente"),s.qZA(),s.TgZ(11,"button",7),s.NdJ("click",function(){return i.setRol("paciente")}),s.qZA()(),s.TgZ(12,"div")(13,"label",6),s._uU(14,"Profesional"),s.qZA(),s.TgZ(15,"button",8),s.NdJ("click",function(){return i.setRol("especialista")}),s.qZA()()()(),s.YNc(16,jV,60,37,"div",0),s.qZA()()),2&e&&(s.Q6J("ngIf",i.cargando),s.xp6(5),s.Q6J("formGroup",i.regisForm),s.xp6(6),s.ekj("btn-active","paciente"==i.f.rol.value),s.xp6(4),s.ekj("btn-active","especialista"==i.f.rol.value),s.xp6(1),s.Q6J("ngIf",""!=i.f.rol.value))},directives:[qt,zE,Ma,$r,Ru,hl,uc,Kf,_c,gn,Wf,Nu,nn,Zv,gh,NV],pipes:[Ys],styles:[".input[_ngcontent-%COMP%]{outline:none;display:block;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;color:#0009;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;color:#fff;transition:.3s ease}.btn-paciente[_ngcontent-%COMP%]{background-image:url(paciente.11d48024ce08dc56.webp);background-repeat:no-repeat;height:100px;width:100px;background-size:cover;border-radius:10px;background-position:center}.btn-active[_ngcontent-%COMP%]{transform:scale(.98);background-color:#dbdbdb;box-shadow:3px 2px 22px 1px #00000080}.btn-especialista[_ngcontent-%COMP%]{background-image:url(doctor.9778f8f40d5a74fa.png);background-repeat:no-repeat;height:100px;width:100px;background-size:cover;border-radius:10px;background-position:center}input[_ngcontent-%COMP%]{outline:none;display:block;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;color:#0009;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;color:#fff;transition:.3s ease}button[_ngcontent-%COMP%]{outline:none;width:100%;border:0;border-radius:4px;padding:12px 20px;background:#FFFFFF;color:#4285f4;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;text-transform:uppercase;cursor:pointer}label[_ngcontent-%COMP%]{display:block;margin:0 0 10px;color:#fff;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;letter-spacing:.2em}h1[_ngcontent-%COMP%]{padding:4px 0;position:relative;z-index:40;color:#fff;font-size:24px;font-weight:700;text-transform:uppercase}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]{display:block;color:#dbdbdb;cursor:pointer;text-align:left;background:rgba(0,0,0,.1);overflow:hidden;position:relative;border-radius:6px}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   .file-select-button[_ngcontent-%COMP%]{background:rgba(0,0,0,.1);padding:10px;display:inline-block}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   .file-select-name[_ngcontent-%COMP%]{display:inline-block;padding:10px}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]:hover{background:#FFFFFF;color:#0009;transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]:hover   .file-select-button[_ngcontent-%COMP%]{background:rgba(66,133,244,.5);color:#fff;transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}.test[_ngcontent-%COMP%]{background:rgba(66,133,244,.5)}"]}),n})();const ZV=function(n){return{visible:n}},GV=function(n){return{hidden:n}},$V=function(n){return{active:n}};let zV=(()=>{class n{constructor(){this.visible=!1}ngOnInit(){this.heightPanelOne=$(".form-panel.two").height(),this.heightPanelTwo=$(".form-panel.two")[0].scrollHeight}onClick(e){e?(this.visible=!1,$(".form").animate({height:600},300)):(this.visible=!0,$(".form").animate({height:this.heightPanelTwo},300))}onTest(e){e&&(this.heightPanelTwo=830)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-auth"]],decls:6,vars:9,consts:[[1,"form"],[1,"form-toggle",3,"ngClass","click"],[1,"form-panel","one",3,"ngClass"],[1,"form-panel","two",3,"ngClass","click"],[3,"test"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.NdJ("click",function(){return i.onClick(!0)}),s.qZA(),s.TgZ(2,"div",2),s._UZ(3,"app-login"),s.qZA(),s.TgZ(4,"div",3),s.NdJ("click",function(){return i.onClick(!1)}),s.TgZ(5,"app-register",4),s.NdJ("test",function(l){return i.onTest(l)}),s.qZA()()()),2&e&&(s.xp6(1),s.Q6J("ngClass",s.VKq(3,ZV,i.visible)),s.xp6(1),s.Q6J("ngClass",s.VKq(5,GV,i.visible)),s.xp6(2),s.Q6J("ngClass",s.VKq(7,$V,i.visible)))},directives:[gn,RV,qV],styles:['.overlay[_ngcontent-%COMP%], .form-panel.one[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;display:none;background:rgba(0,0,0,.8);width:100%;height:100%}.form[_ngcontent-%COMP%]{z-index:15;position:relative;background:#FFFFFF;width:600px;border-radius:4px;box-shadow:0 0 30px #0000001a;box-sizing:border-box;margin:70px auto 10px;overflow:hidden}.form-toggle[_ngcontent-%COMP%]{z-index:10;position:absolute;top:60px;right:60px;background:#FFFFFF;width:60px;height:60px;border-radius:100%;transform-origin:center;transform:translateY(-25%) scale(0);opacity:0;cursor:pointer;transition:all .3s ease}.form-toggle[_ngcontent-%COMP%]:before, .form-toggle[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;top:50%;left:50%;width:30px;height:4px;background:#4285F4;transform:translate(-50%,-50%)}.form-toggle[_ngcontent-%COMP%]:before{transform:translate(-50%,-50%) rotate(45deg)}.form-toggle[_ngcontent-%COMP%]:after{transform:translate(-50%,-50%) rotate(-45deg)}.form-toggle.visible[_ngcontent-%COMP%]{transform:translateY(-25%) scale(1);opacity:1}.form-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin:0 0 20px}.form-group[_ngcontent-%COMP%]:last-child{margin:0}.form-panel[_ngcontent-%COMP%]{padding:60px calc(5% + 60px) 60px 60px;box-sizing:border-box}.form-panel.one[_ngcontent-%COMP%]:before{content:"";display:block;opacity:0;visibility:hidden;transition:.3s ease}.form-panel.one.hidden[_ngcontent-%COMP%]:before{display:block;opacity:1;visibility:visible}.form-panel.two[_ngcontent-%COMP%]{z-index:5;position:absolute;top:0;left:95%;background:#4285F4;width:100%;min-height:100%;padding:60px calc(10% + 60px) 60px 60px;transition:.3s ease;cursor:pointer}.form-panel.two[_ngcontent-%COMP%]:before, .form-panel.two[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;top:60px;left:1.5%;background:rgba(255,255,255,.2);height:30px;width:2px;transition:.3s ease}.form-panel.two[_ngcontent-%COMP%]:after{left:3%}.form-panel.two[_ngcontent-%COMP%]:hover{left:93%;box-shadow:0 0 10px #0003}.form-panel.two[_ngcontent-%COMP%]:hover:before, .form-panel.two[_ngcontent-%COMP%]:hover:after{opacity:0}.form-panel.two.active[_ngcontent-%COMP%]{left:10%;box-shadow:0 0 10px #0003;cursor:default}.form-panel.two.active[_ngcontent-%COMP%]:before, .form-panel.two.active[_ngcontent-%COMP%]:after{opacity:0}']}),n})();const WV=function(){return["/Login"]};let YV=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home"]],decls:24,vars:2,consts:[[1,"headerimgbx"],[1,"header-im"],["src","../../../assets/background.jpg","alt","",1,"headerimg"],[1,"header-rig"],[1,"headertext-bx"],[1,"title"],[1,"txt"],[1,"buttn",3,"routerLink"],[1,"socialbx"],[1,"social-item"],[1,"sctext"],[1,"iconbx"],[1,"bi","bi-linkedin"],[1,"bi","bi-github"]],template:function(e,i){1&e&&(s.TgZ(0,"header")(1,"div",0)(2,"div",1),s._UZ(3,"img",2),s.qZA()(),s.TgZ(4,"div",3)(5,"div",4)(6,"h1",5),s._uU(7,"Bienvenido "),s.qZA(),s.TgZ(8,"p",6),s._uU(9,"En nuestra clinica podra acceder de forma f\xe1cil y administrar sus turnos como usted quiera. Adem\xe1s tenemos la posibilidad de atenci\xf3n totalmente online. "),s.qZA(),s.TgZ(10,"a",7),s._uU(11,"Sign In"),s.qZA()(),s._UZ(12,"br"),s.TgZ(13,"div",8)(14,"div",9)(15,"p",10),s._uU(16,"Linkedin"),s.qZA(),s.TgZ(17,"div",11),s._UZ(18,"i",12),s.qZA()(),s.TgZ(19,"div",9)(20,"p",10),s._uU(21,"Github"),s.qZA(),s.TgZ(22,"div",11),s._UZ(23,"i",13),s.qZA()()()()()),2&e&&(s.xp6(10),s.Q6J("routerLink",s.DdM(1,WV)))},directives:[ol],styles:[".header-im[_ngcontent-%COMP%]{width:87%;position:relative;z-index:0}img[_ngcontent-%COMP%]{width:100%;z-index:5;border-radius:3px}a[_ngcontent-%COMP%]{text-decoration:none}header[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;height:90vh;justify-content:space-around;align-items:center;overflow:hidden}.header-rig[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;width:40%;margin-right:25px}.headerimgbx[_ngcontent-%COMP%]{width:60%;display:flex;align-items:center;justify-content:center;position:relative}.textbx[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;font-size:4rem;text-overflow:ellipsis;width:45%;color:#fff;text-shadow:-4px -3px 4px #292929}.title[_ngcontent-%COMP%]{font-size:50px;width:100%;text-align:right;margin-bottom:0}.txt[_ngcontent-%COMP%]{margin:5px 0;width:100%;padding:10px;line-height:1.5;font-weight:600;text-align:right}.headertext-bx[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-end}.buttn[_ngcontent-%COMP%]{margin:0;padding:10px 25px;background:#4285F4;font-size:20px;font-weight:700;border-radius:4px;color:#fff}.social-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;margin-bottom:1rem}.socialbx[_ngcontent-%COMP%]{width:33%;margin:10px}.iconbx[_ngcontent-%COMP%]{padding:5px;background:#4285F4;width:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;color:#fff}.sctext[_ngcontent-%COMP%]{font-weight:600;text-align:right}i[_ngcontent-%COMP%]{font-size:x-large}@media only screen and (max-width: 1200px){.right[_ngcontent-%COMP%]:before{content:none}header[_ngcontent-%COMP%]{height:100vh;flex-direction:column;justify-content:flex-start;align-items:center;top:400px}.header-im[_ngcontent-%COMP%]{width:87%;position:relative;z-index:0;margin-top:25px}.textbx[_ngcontent-%COMP%]{font-size:30px;bottom:22px;top:inherit;width:100%}.header-rig[_ngcontent-%COMP%]{width:100%;margin-right:0;margin-top:35px;padding:20px}h1.title[_ngcontent-%COMP%]{font-size:35px;width:100%;text-align:center;padding:0}p.txt[_ngcontent-%COMP%]{font-size:15px;width:100%;font-weight:200;overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;max-height:60px;height:60px;text-align:center}.socialbx[_ngcontent-%COMP%]{display:none}.social-item[_ngcontent-%COMP%]{justify-content:center}.iconbx[_ngcontent-%COMP%]{border-radius:0;border:1px solid #dadada;background:none;color:#29294b;-webkit-border-radius:0;-moz-border-radius:0;-ms-border-radius:0;-o-border-radius:0}.buttn[_ngcontent-%COMP%]{background:transparent;border:2px solid #4285F4;color:#4285f4}.headertext-bx[_ngcontent-%COMP%]{align-items:center}p.sctext[_ngcontent-%COMP%]{display:none}}@media only screen and (max-width: 600px){.headerimgbx[_ngcontent-%COMP%]:after{height:160px}.header-rig[_ngcontent-%COMP%]{padding:20px 0}.txt[_ngcontent-%COMP%]{padding:10px 0}.header-im[_ngcontent-%COMP%]:after{right:-25px}}"]}),n})();function KV(n,t){1&n&&(s.TgZ(0,"div",19),s._uU(1,"Habilitado"),s.qZA())}function QV(n,t){1&n&&(s.TgZ(0,"div",20),s._uU(1,"Inhabilitado"),s.qZA())}function JV(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td",7),s._uU(2),s.qZA(),s.TgZ(3,"td")(4,"div",8)(5,"div",9)(6,"div",10),s._UZ(7,"img",11),s.qZA(),s.TgZ(8,"div",12)(9,"div",13),s._uU(10),s.qZA(),s.TgZ(11,"div",14),s._uU(12),s.qZA()()()()(),s.TgZ(13,"td",2),s._uU(14),s.qZA(),s.TgZ(15,"td",2),s.YNc(16,KV,2,0,"div",15),s.YNc(17,QV,2,0,"ng-template",null,16,s.W1O),s.qZA(),s.TgZ(19,"td",2)(20,"div",17)(21,"input",18),s.NdJ("ngModelChange",function(r){return s.CHM(e).$implicit.seleccionado=r}),s.qZA()()()()}if(2&n){const e=t.$implicit,i=s.MAs(18);s.xp6(2),s.Oqu(e.dni),s.xp6(5),s.Q6J("src",e.pathImg,s.LSH),s.xp6(3),s.AsE("",e.nombre," ",e.apellido,""),s.xp6(2),s.Oqu(e.email),s.xp6(2),s.Oqu(e.rol),s.xp6(2),s.Q6J("ngIf",e.habilitado)("ngIfElse",i),s.xp6(5),s.Q6J("ngModel",e.seleccionado)}}let XV=(()=>{class n{constructor(e){this.afs=e}ngOnInit(){}onClick(e){let i=this.listUser.filter(r=>1==r.seleccionado);i&&i.forEach(r=>{this.afs.updateUser(r,e).then(l=>{})})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-tabla-usuarios"]],inputs:{listUser:"listUser"},decls:21,vars:1,consts:[[1,"table-responsive"],[1,"align-middle","mb-0","table","table-borderless","table-striped","table-hover"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-block","text-center","card-footer"],[1,"mr-2","btn-icon","btn-icon-only","btn","btn-outline-danger",3,"click"],[1,"btn-wide","btn","btn-success",3,"click"],[1,"text-center","text-muted"],[1,"widget-content","p-0","text-center"],[1,"widget-content-wrapper"],[1,"widget-content-left"],["width","40",1,"rounded-circle",3,"src"],[1,"widget-content-left","flex2"],[1,"widget-heading"],[1,"widget-subheading","opacity-7"],["class","badge badge-success",4,"ngIf","ngIfElse"],["deshabilitado",""],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"badge","badge-success"],[1,"badge","badge-danger"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),s._uU(5,"DNI"),s.qZA(),s.TgZ(6,"th",2),s._uU(7,"User"),s.qZA(),s.TgZ(8,"th",2),s._uU(9,"Rol"),s.qZA(),s.TgZ(10,"th",2),s._uU(11,"Status"),s.qZA(),s.TgZ(12,"th",2),s._uU(13," - "),s.qZA()()(),s.TgZ(14,"tbody"),s.YNc(15,JV,22,9,"tr",3),s.qZA()()(),s.TgZ(16,"div",4)(17,"button",5),s.NdJ("click",function(){return i.onClick(!1)}),s._uU(18,"Deshabilitar"),s.qZA(),s.TgZ(19,"button",6),s.NdJ("click",function(){return i.onClick(!0)}),s._uU(20,"Habilitar"),s.qZA()()),2&e&&(s.xp6(15),s.Q6J("ngForOf",i.listUser))},directives:[nn,qt,Sm,uc,ph],styles:[""]}),n})();const eU=["file"];function tU(n,t){1&n&&s._UZ(0,"app-loading")}const Sy=function(n,t){return{"is-invalid":n,"is-valid":t}};let nU=(()=>{class n{constructor(e,i,r,l){this.router=e,this.auth=i,this.afs=r,this.formBuilder=l,this.errorMsj=new Kt.x,this.error=!1,this.cargando=!1,this.regisForm=this.formBuilder.group({nombre:["",[Jt.required]],apellido:["",[Jt.required]],dni:["",[Jt.required,Jt.minLength(8),Jt.maxLength(8),Jt.pattern("^[0-9]*$")]],edad:["",[Jt.required,Jt.min(18),Jt.max(150)]],email:["",[Jt.required,Jt.email]],password:["",[Jt.required]],rol:[{value:"administrador"}]}),this.archivoMsj="No file chosen..."}ngOnInit(){}get f(){return this.regisForm.controls}getErrorMessage(e){let i="";return this.f[e].hasError("required")?i="Vac\xedo.":this.f[e].getError("email")?i="Formato de email inv\xe1lido":this.f[e].getError("minlength")||this.f[e].getError("maxlength")?i="Cantidad de caracteres inv\xe1lido":this.f[e].getError("min")?i="Tienes que ser mayor de edad":this.f[e].getError("max")?i="Lo siento, dudamos que tenga esa edad.":this.f[e].getError("pattern")&&(i="S\xd3LO N\xdaMEROS."),i}isNotValidField(e){return(this.f[e].touched||1==this.f[e].dirty)&&!this.f[e].valid}uploadFile(){this.file.nativeElement.click()}onChangeFile(){let e=this.file.nativeElement.files[0];this.archivoMsj=e.name;let i=new FileReader;i.readAsDataURL(e),i.onloadend=()=>{this.archivo=i.result}}onCrear(){let e=this.regisForm.value;this.cargando=!0,this.auth.register(e.email,e.password).then(i=>{i&&this.archivo&&this.afs.uploadImage(e.email,this.archivo).then(r=>{e.habilitado=!0,r&&(e.pathImg=r),this.afs.setObj("users",e,e.email).then(l=>{this.router.navigate([""]),this.regisForm.reset(),this.cargando=!1})}).catch(r=>{this.errorMsj.next(r.message),this.error=!0,this.cargando=!1})}).catch(i=>{this.errorMsj.next(i.message),this.error=!0,this.cargando=!1,console.info("ERROR ->",i)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vn),s.Y36(qo),s.Y36(zh),s.Y36(Ym))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-crear-usuario"]],viewQuery:function(e,i){if(1&e&&s.Gf(eU,5),2&e){let r;s.iGM(r=s.CRH())&&(i.file=r.first)}},decls:61,vars:37,consts:[[4,"ngIf"],[1,"form-header"],[1,"form-content"],[3,"formGroup"],[1,"row"],[1,"col-6"],[1,"form-group"],["for","dni"],["type","text","formControlName","dni","id","dni","name","dni","required","",1,"form-control","form-style",3,"ngClass"],[1,"invalid-feedback"],["type","number","formControlName","edad","id","edad","name","edad","required","",1,"form-control","form-style",3,"ngClass"],["for","nombre"],["type","text","formControlName","nombre","id","nombre","name","nombre","required","",1,"form-control","form-style",3,"ngClass"],["for","apellido"],["type","text","formControlName","apellido","id","apellido","name","apellido","required","",1,"form-control","form-style",3,"ngClass"],["for","email"],["type","text","formControlName","email","name","email","required","",1,"form-control","form-style",3,"ngClass"],["for","password"],["type","password","formControlName","password","name","password","required","",1,"form-control","form-style",3,"ngClass"],[1,"file-upload"],[1,"file-upload-select"],[1,"file-select-button"],[1,"file-select-name",3,"click"],["type","file","name","file-upload-input","id","file-upload-input",3,"change"],["file",""],[1,"form-remember",2,"color","red"],["type","submit",3,"disabled","click"]],template:function(e,i){1&e&&(s.YNc(0,tU,1,0,"app-loading",0),s.TgZ(1,"div",1)(2,"h1"),s._uU(3,"New Users Admin"),s.qZA()(),s.TgZ(4,"div",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),s._uU(10,"DNI"),s.qZA(),s._UZ(11,"input",8),s.TgZ(12,"div",9),s._uU(13),s.qZA()()(),s.TgZ(14,"div",5)(15,"div",6)(16,"label",7),s._uU(17,"EDAD"),s.qZA(),s._UZ(18,"input",10),s.TgZ(19,"div",9),s._uU(20),s.qZA()()(),s.TgZ(21,"div",5)(22,"div",6)(23,"label",11),s._uU(24,"Nombre"),s.qZA(),s._UZ(25,"input",12),s.TgZ(26,"div",9),s._uU(27),s.qZA()()(),s.TgZ(28,"div",5)(29,"div",6)(30,"label",13),s._uU(31,"Apellido"),s.qZA(),s._UZ(32,"input",14),s.TgZ(33,"div",9),s._uU(34),s.qZA()()()(),s.TgZ(35,"div",6)(36,"label",15),s._uU(37,"Email"),s.qZA(),s._UZ(38,"input",16),s.TgZ(39,"div",9),s._uU(40),s.qZA()(),s.TgZ(41,"div",6)(42,"label",17),s._uU(43,"Password"),s.qZA(),s._UZ(44,"input",18),s.TgZ(45,"div",9),s._uU(46),s.qZA()(),s.TgZ(47,"div",19)(48,"div",20)(49,"div",21),s._uU(50,"Foto"),s.qZA(),s.TgZ(51,"div",22),s.NdJ("click",function(){return i.uploadFile()}),s._uU(52),s.qZA(),s.TgZ(53,"input",23,24),s.NdJ("change",function(){return i.onChangeFile()}),s.qZA()()(),s.TgZ(55,"div",6)(56,"label",25),s._uU(57),s.ALo(58,"async"),s.qZA()(),s.TgZ(59,"button",26),s.NdJ("click",function(){return i.onCrear()}),s._uU(60,"Crear usuario"),s.qZA()()()),2&e&&(s.Q6J("ngIf",i.cargando),s.xp6(5),s.Q6J("formGroup",i.regisForm),s.xp6(6),s.Q6J("ngClass",s.WLB(19,Sy,i.isNotValidField("dni"),!i.isNotValidField("dni")&&i.f.dni.touched)),s.xp6(2),s.hij(" ",i.getErrorMessage("dni")," "),s.xp6(5),s.Q6J("ngClass",s.WLB(22,Sy,i.isNotValidField("edad"),!i.isNotValidField("edad")&&i.f.edad.touched)),s.xp6(2),s.hij(" ",i.getErrorMessage("edad")," "),s.xp6(5),s.Q6J("ngClass",s.WLB(25,Sy,i.isNotValidField("nombre"),!i.isNotValidField("nombre")&&i.f.nombre.touched)),s.xp6(2),s.hij(" ",i.getErrorMessage("nombre")," "),s.xp6(5),s.Q6J("ngClass",s.WLB(28,Sy,i.isNotValidField("apellido"),!i.isNotValidField("apellido")&&i.f.apellido.touched)),s.xp6(2),s.hij(" ",i.getErrorMessage("apellido")," "),s.xp6(4),s.Q6J("ngClass",s.WLB(31,Sy,i.isNotValidField("email"),!i.isNotValidField("email")&&i.f.email.touched)),s.xp6(2),s.hij(" ",i.getErrorMessage("email")," "),s.xp6(4),s.Q6J("ngClass",s.WLB(34,Sy,i.isNotValidField("password"),!i.isNotValidField("password")&&i.f.password.touched)),s.xp6(2),s.hij(" ",i.getErrorMessage("password")," "),s.xp6(6),s.Oqu(i.archivoMsj),s.xp6(5),s.Oqu(s.lcZ(58,17,i.errorMsj)),s.xp6(2),s.Q6J("disabled",i.regisForm.invalid))},directives:[qt,zE,Ma,$r,Ru,hl,uc,Kf,_c,gn,Wf],pipes:[Ys],styles:[".input[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{outline:none;display:block;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;color:#0009;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;transition:.3s ease}button[_ngcontent-%COMP%]{outline:none;width:100%;border:0;border-radius:4px;padding:12px 20px;background:#FFFFFF;color:#4285f4;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;text-transform:uppercase;cursor:pointer}label[_ngcontent-%COMP%]{display:block;margin:0 0 10px;color:#4285f4;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;letter-spacing:.2em}h1[_ngcontent-%COMP%]{padding:4px 0;position:relative;z-index:40;color:#4285f4;font-size:24px;font-weight:700;text-transform:uppercase}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]{display:block;color:#dbdbdb;cursor:pointer;text-align:left;background:rgba(0,0,0,.1);overflow:hidden;position:relative;border-radius:6px}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   .file-select-button[_ngcontent-%COMP%]{background:rgba(0,0,0,.1);padding:10px;display:inline-block}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   .file-select-name[_ngcontent-%COMP%]{display:inline-block;padding:10px}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]:hover{background:#FFFFFF;color:#0009;transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]:hover   .file-select-button[_ngcontent-%COMP%]{background:rgba(66,133,244,.5);color:#fff;transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}.test[_ngcontent-%COMP%]{background:rgba(66,133,244,.5)}"]}),n})();function iU(n,t){if(1&n&&s._UZ(0,"app-tabla-usuarios",9),2&n){const e=s.oxw();s.Q6J("listUser",e.users)}}function rU(n,t){1&n&&(s.TgZ(0,"div",10),s._UZ(1,"app-crear-usuario"),s.qZA())}let sU=(()=>{class n{constructor(e){this.afs=e,this.nuevoUsuario=!1}ngOnInit(){this.afs.getAll("users").subscribe(e=>{this.users=e,console.info(this.users)})}onClick(){this.nuevoUsuario=!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-master-usuarios"]],decls:11,vars:2,consts:[[1,"row"],[1,"col-md-12"],[1,"main-card","mb-3","card"],[1,"card-header"],[1,"btn-actions-pane-right"],["role","group",1,"btn-group-sm","btn-group"],[1,"btn","btn-accent",3,"click"],[3,"listUser",4,"ngIf"],["class","col mb-3",4,"ngIf"],[3,"listUser"],[1,"col","mb-3"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),s._uU(4,"Active Users "),s.TgZ(5,"div",4)(6,"div",5)(7,"button",6),s.NdJ("click",function(){return i.onClick()}),s._uU(8,"Nuevo"),s.qZA()()()(),s.YNc(9,iU,1,1,"app-tabla-usuarios",7),s.qZA()(),s.YNc(10,rU,2,0,"div",8),s.qZA()),2&e&&(s.xp6(9),s.Q6J("ngIf",i.users),s.xp6(1),s.Q6J("ngIf",i.nuevoUsuario))},directives:[qt,XV,nU],styles:[".btn-accent[_ngcontent-%COMP%]{background-color:#4285f4;color:#fff}"]}),n})();class wn{static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var l,u,f,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((u=t.length)!=e.length)return!1;for(l=u;0!=l--;)if(!this.equalsByValue(t[l],e[l]))return!1;return!0}if(i!=r)return!1;var _=t instanceof Date,w=e instanceof Date;if(_!=w)return!1;if(_&&w)return t.getTime()==e.getTime();var D=t instanceof RegExp,A=e instanceof RegExp;if(D!=A)return!1;if(D&&A)return t.toString()==e.toString();var N=Object.keys(t);if((u=N.length)!==Object.keys(e).length)return!1;for(l=u;0!=l--;)if(!Object.prototype.hasOwnProperty.call(e,N[l]))return!1;for(l=u;0!=l--;)if(!this.equalsByValue(t[f=N[l]],e[f]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),r=t;for(let l=0,u=i.length;l<u;++l){if(null==r)return null;r=r[i[l]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let l=!1;for(let u=0;u<i.length;u++)if(this.findIndexInList(i[u],r)>e){i.splice(u,0,t),l=!0;break}l||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!(t instanceof Date)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}}var eP=0;function WE(){return"pr_id_"+ ++eP}var Pr=function oU(){let n=[];const r=l=>l&&parseInt(l.style.zIndex,10)||0;return{get:r,set:(l,u,f)=>{u&&(u.style.zIndex=String(((l,u)=>{let f=n.length>0?n[n.length-1]:{key:l,value:u},_=f.value+(f.key===l?0:u)+1;return n.push({key:l,value:_}),_})(l,f)))},clear:l=>{l&&((l=>{n=n.filter(u=>u.value!==l)})(r(l)),l.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const tP=["*"];let gs=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),ag=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[gs.STARTS_WITH,gs.CONTAINS,gs.NOT_CONTAINS,gs.ENDS_WITH,gs.EQUALS,gs.NOT_EQUALS],numeric:[gs.EQUALS,gs.NOT_EQUALS,gs.LESS_THAN,gs.LESS_THAN_OR_EQUAL_TO,gs.GREATER_THAN,gs.GREATER_THAN_OR_EQUAL_TO],date:[gs.DATE_IS,gs.DATE_IS_NOT,gs.DATE_BEFORE,gs.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new Kt.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Object.assign(Object.assign({},this.translation),e),this.translationSource.next(this.translation)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vo=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})(),nP=(()=>{class n{constructor(){this.filters={startsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let l=wn.removeAccents(i.toString()).toLocaleLowerCase(r);return wn.removeAccents(e.toString()).toLocaleLowerCase(r).slice(0,l.length)===l},contains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let l=wn.removeAccents(i.toString()).toLocaleLowerCase(r);return-1!==wn.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(l)},notContains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let l=wn.removeAccents(i.toString()).toLocaleLowerCase(r);return-1===wn.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(l)},endsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let l=wn.removeAccents(i.toString()).toLocaleLowerCase(r),u=wn.removeAccents(e.toString()).toLocaleLowerCase(r);return-1!==u.indexOf(l,u.length-l.length)},equals:(e,i,r)=>null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():wn.removeAccents(e.toString()).toLocaleLowerCase(r)==wn.removeAccents(i.toString()).toLocaleLowerCase(r)),notEquals:(e,i,r)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():wn.removeAccents(e.toString()).toLocaleLowerCase(r)==wn.removeAccents(i.toString()).toLocaleLowerCase(r))),in:(e,i)=>{if(null==i||0===i.length)return!0;for(let r=0;r<i.length;r++)if(wn.equals(e,i[r]))return!0;return!1},between:(e,i)=>null==i||null==i[0]||null==i[1]||null!=e&&(e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1]),lt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<i.getTime():e<i),lte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i),gt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>i.getTime():e>i),gte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i),is:(e,i,r)=>this.filters.equals(e,i,r),isNot:(e,i,r)=>this.filters.notEquals(e,i,r),before:(e,i,r)=>this.filters.lt(e,i,r),after:(e,i,r)=>this.filters.gt(e,i,r),dateIs:(e,i)=>null==i||null!=e&&e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>null==i||null!=e&&e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>null==i||null!=e&&e.getTime()<i.getTime(),dateAfter:(e,i)=>null==i||null!=e&&e.getTime()>i.getTime()}}filter(e,i,r,l,u){let f=[];if(e)for(let _ of e)for(let w of i){let D=wn.resolveFieldData(_,w);if(this.filters[l](D,r,u)){f.push(_);break}}return f}register(e,i){this.filters[e]=i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yh=(()=>{class n{constructor(){this.messageSource=new Kt.x,this.clearSource=new Kt.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Rx=(()=>{class n{constructor(){this.clickSource=new Kt.x,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-header"]],ngContentSelectors:tP,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),rP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-footer"]],ngContentSelectors:tP,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),lg=(()=>{class n{constructor(e){this.template=e}getType(){return this.name}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),Kh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Pi]]}),n})(),ge=(()=>{class n{static addClass(e,i){e.classList?e.classList.add(i):e.className+=" "+i}static addMultipleClasses(e,i){if(e.classList){let r=i.trim().split(" ");for(let l=0;l<r.length;l++)e.classList.add(r[l])}else{let r=i.split(" ");for(let l=0;l<r.length;l++)e.className+=" "+r[l]}}static removeClass(e,i){e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,i){return e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return e?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var l=0;l<i.length;l++){if(i[l]==e)return r;1==i[l].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],l=0;for(var u=0;u<r.length;u++){if(r[u]==e)return l;r[u].attributes&&r[u].attributes[i]&&1==r[u].nodeType&&l++}return-1}static relativePosition(e,i){let r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const l=i.offsetHeight,u=i.getBoundingClientRect(),f=this.getViewport();let _,w;u.top+l+r.height>f.height?(_=-1*r.height,e.style.transformOrigin="bottom",u.top+_<0&&(_=-1*u.top)):(_=l,e.style.transformOrigin="top"),w=r.width>f.width?-1*u.left:u.left+r.width>f.width?-1*(u.left+r.width-f.width):0,e.style.top=_+"px",e.style.left=w+"px"}static absolutePosition(e,i){let V,B,r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),l=r.height,u=r.width,f=i.offsetHeight,_=i.offsetWidth,w=i.getBoundingClientRect(),D=this.getWindowScrollTop(),A=this.getWindowScrollLeft(),N=this.getViewport();w.top+f+l>N.height?(V=w.top+D-l,e.style.transformOrigin="bottom",V<0&&(V=D)):(V=f+w.top+D,e.style.transformOrigin="top"),B=w.left+u>N.width?Math.max(0,w.left+A+_-u):w.left+A,e.style.top=V+"px",e.style.left=B+"px"}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const l=/(auto|scroll)/,u=f=>{let _=window.getComputedStyle(f,null);return l.test(_.getPropertyValue("overflow"))||l.test(_.getPropertyValue("overflowX"))||l.test(_.getPropertyValue("overflowY"))};for(let f of r){let _=1===f.nodeType&&f.dataset.scrollselectors;if(_){let w=_.split(",");for(let D of w){let A=this.findSingle(f,D);A&&u(A)&&i.push(A)}}9!==f.nodeType&&u(f)&&i.push(f)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),l=r?parseFloat(r):0,u=getComputedStyle(e).getPropertyValue("paddingTop"),f=u?parseFloat(u):0,_=e.getBoundingClientRect(),D=i.getBoundingClientRect().top+document.body.scrollTop-(_.top+document.body.scrollTop)-l-f,A=e.scrollTop,N=e.clientHeight,V=this.getOuterHeight(i);D<0?e.scrollTop=A+D:D+V>N&&(e.scrollTop=A+D-N+V)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,l=0,u=function(){l=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=l,r=+new Date,+l<1&&(window.requestAnimationFrame&&requestAnimationFrame(u)||setTimeout(u,16))};u()}static fadeOut(e,i){var r=1,f=50/i;let _=setInterval(()=>{(r-=f)<=0&&(r=0,clearInterval(_)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(u){return-1!==[].indexOf.call(document.querySelectorAll(u),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let l=getComputedStyle(e);r+=parseFloat(l.marginLeft)+parseFloat(l.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let l=getComputedStyle(e);r+=parseFloat(l.marginTop)+parseFloat(l.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,l=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||l.clientWidth,height:e.innerHeight||r.clientHeight||l.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(e){let i=n.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),r=[];for(let l of i)"none"!=getComputedStyle(l).display&&"hidden"!=getComputedStyle(l).visibility&&r.push(l);return r}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class YE{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=ge.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let cg=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(ge.removeClass(i,"p-ink-active"),!ge.getHeight(i)&&!ge.getWidth(i)){let f=Math.max(ge.getOuterWidth(this.el.nativeElement),ge.getOuterHeight(this.el.nativeElement));i.style.height=f+"px",i.style.width=f+"px"}let r=ge.getOffset(this.el.nativeElement),l=e.pageX-r.left+document.body.scrollTop-ge.getWidth(i)/2,u=e.pageY-r.top+document.body.scrollLeft-ge.getHeight(i)/2;i.style.top=u+"px",i.style.left=l+"px",ge.addClass(i,"p-ink-active")}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&ge.removeClass(e,"p-ink-active")}onAnimationEnd(e){ge.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),ge.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(ag,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),ug=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Pi]]}),n})();class sP{}const ud="*";function dg(n,t){return{type:7,name:n,definitions:t,options:{}}}function bo(n,t=null){return{type:4,styles:t,timings:n}}function oP(n,t=null){return{type:2,steps:n,options:t}}function fr(n){return{type:6,styles:n,offset:null}}function aP(n,t,e){return{type:0,name:n,styles:t,options:e}}function Bs(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function lP(n,t=null){return{type:8,animation:n,options:t}}function lU(n=null){return{type:9,options:n}}function cP(n,t=null){return{type:10,animation:n,options:t}}function cU(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function uP(n){Promise.resolve(null).then(n)}class dw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){uP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class dP{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const l=this.players.length;0==l?uP(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==l&&this._onFinish()}),u.onDestroy(()=>{++i==l&&this._onDestroy()}),u.onStart(()=>{++r==l&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const hP=["container"],uU=function(n,t,e,i){return{"pi-info-circle":n,"pi-exclamation-triangle":t,"pi-times-circle":e,"pi-check":i}};function dU(n,t){if(1&n&&(s.ynx(0),s._UZ(1,"span",6),s.TgZ(2,"div",7)(3,"div",8),s._uU(4),s.qZA(),s.TgZ(5,"div",9),s._uU(6),s.qZA()(),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Tol("p-toast-message-icon pi"+(e.message.icon?" "+e.message.icon:"")),s.Q6J("ngClass",s.l5B(5,uU,"info"==e.message.severity,"warn"==e.message.severity,"error"==e.message.severity,"success"==e.message.severity)),s.xp6(3),s.Oqu(e.message.summary),s.xp6(2),s.Oqu(e.message.detail)}}function hU(n,t){1&n&&s.GkF(0)}function fU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",10),s.NdJ("click",function(r){return s.CHM(e),s.oxw().onCloseIconClick(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw().onCloseIconClick(r)}),s._UZ(1,"span",11),s.qZA()}}const pU=function(n){return[n,"p-toast-message"]},gU=function(n,t,e,i){return{showTransformParams:n,hideTransformParams:t,showTransitionParams:e,hideTransitionParams:i}},mU=function(n){return{value:"visible",params:n}},_U=function(n){return{$implicit:n}};function yU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-toastItem",3),s.NdJ("onClose",function(r){return s.CHM(e),s.oxw().onMessageClose(r)})("@toastAnimation.start",function(r){return s.CHM(e),s.oxw().onAnimationStart(r)})("@toastAnimation.done",function(r){return s.CHM(e),s.oxw().onAnimationEnd(r)}),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.Q6J("message",e)("index",i)("template",r.template)("@toastAnimation",void 0)("showTransformOptions",r.showTransformOptions)("hideTransformOptions",r.hideTransformOptions)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}}let vU=(()=>{class n{constructor(e){this.zone=e,this.onClose=new s.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(e){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-toastItem"]],viewQuery:function(e,i){if(1&e&&s.Gf(hP,5),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()}),s.TgZ(2,"div",2),s.YNc(3,dU,7,10,"ng-container",3),s.YNc(4,hU,1,0,"ng-container",4),s.YNc(5,fU,2,0,"button",5),s.qZA()()),2&e&&(s.Tol(i.message.styleClass),s.Q6J("ngClass",s.VKq(10,pU,"p-toast-message-"+i.message.severity))("@messageState",s.VKq(17,mU,s.l5B(12,gU,i.showTransformOptions,i.hideTransformOptions,i.showTransitionOptions,i.hideTransitionOptions))),s.uIk("id",i.message.id),s.xp6(2),s.Q6J("ngClass",i.message.contentStyleClass),s.xp6(1),s.Q6J("ngIf",!i.template),s.xp6(1),s.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",s.VKq(19,_U,i.message)),s.xp6(1),s.Q6J("ngIf",!1!==i.message.closable))},directives:[gn,qt,zs,cg],encapsulation:2,data:{animation:[dg("messageState",[aP("visible",fr({transform:"translateY(0)",opacity:1})),Bs("void => *",[fr({transform:"{{showTransformParams}}",opacity:0}),bo("{{showTransitionParams}}")]),Bs("* => void",[bo("{{hideTransitionParams}}",fr({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),n})(),bU=(()=>{class n{constructor(e,i,r){this.messageService=e,this.cd=i,this.config=r,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new s.vpe,this.id=WE()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(e instanceof Array){const i=e.filter(r=>this.canAdd(r));this.add(i)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let i=this.key===e.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,e)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,e)),i}containsMessage(e,i){return!!e&&null!=e.find(r=>r.summary===i.summary&&r.detail==i.detail&&r.severity===i.severity)}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.template=e.template})}onMessageClose(e){this.messages.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){"void"===e.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&Pr.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(e){"void"===e.toState&&this.autoZIndex&&wn.isEmpty(this.messages)&&Pr.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints){let r="";for(let l in this.breakpoints[i])r+=l+":"+this.breakpoints[i][l]+" !important;";e+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-toast[${this.id}] {\n                           ${r}\n                        }\n                    }\n                `}this.styleElement.innerHTML=e}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&Pr.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yh),s.Y36(s.sBO),s.Y36(ag))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-toast"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,lg,4),2&e){let l;s.iGM(l=s.CRH())&&(i.templates=l)}},viewQuery:function(e,i){if(1&e&&s.Gf(hP,5),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.YNc(2,yU,1,8,"p-toastItem",2),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass","p-toast p-component p-toast-"+i.position)("ngStyle",i.style),s.xp6(2),s.Q6J("ngForOf",i.messages))},directives:[vU,gn,ir,nn],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[dg("toastAnimation",[Bs(":enter, :leave",[cU("@*",lU())])])]},changeDetection:0}),n})(),wU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Pi,ug],Kh]}),n})(),CU=(()=>{class n{constructor(e){this.el=e}onkeydown(e){if(!0!==this.pFocusTrapDisabled){e.preventDefault();let i=ge.getFocusableElements(this.el.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);e.shiftKey?-1==r||0===r?i[i.length-1].focus():i[r-1].focus():-1==r||r===i.length-1?i[0].focus():i[r+1].focus()}else i[0].focus()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(e,i){1&e&&s.NdJ("keydown.tab",function(l){return i.onkeydown(l)})("keydown.shift.tab",function(l){return i.onkeydown(l)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),n})(),TU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Pi]]}),n})();const EU=["titlebar"],IU=["content"],DU=["footer"];function SU(n,t){if(1&n&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&n){const e=s.oxw(4);s.uIk("id",e.id+"-label"),s.xp6(1),s.Oqu(e.header)}}function xU(n,t){if(1&n&&(s.TgZ(0,"span",17),s.Hsn(1,1),s.qZA()),2&n){const e=s.oxw(4);s.uIk("id",e.id+"-label")}}function AU(n,t){1&n&&s.GkF(0)}const MU=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function OU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(){return s.CHM(e),s.oxw(4).maximize()})("keydown.enter",function(){return s.CHM(e),s.oxw(4).maximize()}),s._UZ(1,"span",19),s.qZA()}if(2&n){const e=s.oxw(4);s.Q6J("ngClass",s.DdM(2,MU)),s.xp6(1),s.Q6J("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}const kU=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function PU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",20),s.NdJ("click",function(r){return s.CHM(e),s.oxw(4).close(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(4).close(r)}),s._UZ(1,"span",21),s.qZA()}if(2&n){const e=s.oxw(4);s.Q6J("ngClass",s.DdM(4,kU)),s.uIk("aria-label",e.closeAriaLabel)("tabindex",e.closeTabindex),s.xp6(1),s.Q6J("ngClass",e.closeIcon)}}function RU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",11,12),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw(3).initDrag(r)}),s.YNc(2,SU,2,2,"span",13),s.YNc(3,xU,2,1,"span",13),s.YNc(4,AU,1,0,"ng-container",8),s.TgZ(5,"div",14),s.YNc(6,OU,2,3,"button",15),s.YNc(7,PU,2,5,"button",16),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(2),s.Q6J("ngIf",!e.headerFacet&&!e.headerTemplate),s.xp6(1),s.Q6J("ngIf",e.headerFacet),s.xp6(1),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(2),s.Q6J("ngIf",e.maximizable),s.xp6(1),s.Q6J("ngIf",e.closable)}}function NU(n,t){1&n&&s.GkF(0)}function FU(n,t){1&n&&s.GkF(0)}function LU(n,t){if(1&n&&(s.TgZ(0,"div",22,23),s.Hsn(2,2),s.YNc(3,FU,1,0,"ng-container",8),s.qZA()),2&n){const e=s.oxw(3);s.xp6(3),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}function VU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",24),s.NdJ("mousedown",function(r){return s.CHM(e),s.oxw(3).initResize(r)}),s.qZA()}}const UU=function(n,t,e,i){return{"p-dialog p-component":!0,"p-dialog-rtl":n,"p-dialog-draggable":t,"p-dialog-resizable":e,"p-dialog-maximized":i}},BU=function(n,t){return{transform:n,transition:t}},HU=function(n){return{value:"visible",params:n}};function jU(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3,4),s.NdJ("@animation.start",function(r){return s.CHM(e),s.oxw(2).onAnimationStart(r)})("@animation.done",function(r){return s.CHM(e),s.oxw(2).onAnimationEnd(r)}),s.YNc(2,RU,8,5,"div",5),s.TgZ(3,"div",6,7),s.Hsn(5),s.YNc(6,NU,1,0,"ng-container",8),s.qZA(),s.YNc(7,LU,4,1,"div",9),s.YNc(8,VU,1,0,"div",10),s.qZA()}if(2&n){const e=s.oxw(2);s.Tol(e.styleClass),s.Q6J("ngClass",s.l5B(15,UU,e.rtl,e.draggable,e.resizable,e.maximized))("ngStyle",e.style)("pFocusTrapDisabled",!1===e.focusTrap)("@animation",s.VKq(23,HU,s.WLB(20,BU,e.transformOptions,e.transitionOptions))),s.uIk("aria-labelledby",e.id+"-label"),s.xp6(2),s.Q6J("ngIf",e.showHeader),s.xp6(1),s.Tol(e.contentStyleClass),s.Q6J("ngClass","p-dialog-content")("ngStyle",e.contentStyle),s.xp6(3),s.Q6J("ngTemplateOutlet",e.contentTemplate),s.xp6(1),s.Q6J("ngIf",e.footerFacet||e.footerTemplate),s.xp6(1),s.Q6J("ngIf",e.resizable)}}const qU=function(n,t,e,i,r,l,u,f,_,w){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":n,"p-dialog-mask-scrollblocker":t,"p-dialog-left":e,"p-dialog-right":i,"p-dialog-top":r,"p-dialog-top-left":l,"p-dialog-top-right":u,"p-dialog-bottom":f,"p-dialog-bottom-left":_,"p-dialog-bottom-right":w}};function ZU(n,t){if(1&n&&(s.TgZ(0,"div",1),s.YNc(1,jU,9,25,"div",2),s.qZA()),2&n){const e=s.oxw();s.Tol(e.maskStyleClass),s.Q6J("ngClass",s.rFY(4,qU,[e.modal,e.modal||e.blockScroll,"left"===e.position,"right"===e.position,"top"===e.position,"topleft"===e.position||"top-left"===e.position,"topright"===e.position||"top-right"===e.position,"bottom"===e.position,"bottomleft"===e.position||"bottom-left"===e.position,"bottomright"===e.position||"bottom-right"===e.position])),s.xp6(1),s.Q6J("ngIf",e.visible)}}const GU=["*",[["p-header"]],[["p-footer"]]],$U=["*","p-header","p-footer"],zU=lP([fr({transform:"{{transform}}",opacity:0}),bo("{{transition}}")]),WU=lP([bo("{{transition}}",fr({transform:"{{transform}}",opacity:0}))]);let YU=(()=>{class n{constructor(e,i,r,l,u){this.el=e,this.renderer=i,this.zone=r,this.cd=l,this.config=u,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new s.vpe,this.onHide=new s.vpe,this.visibleChange=new s.vpe,this.onResizeInit=new s.vpe,this.onResizeEnd=new s.vpe,this.onDragEnd=new s.vpe,this.onMaximize=new s.vpe,this.id=WE(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(e){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(e){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(e){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(e){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":default:this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(e){e&&(this._style=Object.assign({},e),this.originalStyle=e)}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let e=ge.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}close(e){this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)})),this.modal&&ge.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&ge.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?ge.addClass(document.body,"p-overflow-hidden"):ge.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(Pr.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints)e+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[i]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=e}}initDrag(e){ge.hasClass(e.target,"p-dialog-header-icon")||ge.hasClass(e.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",ge.addClass(document.body,"p-unselectable-text"))}onKeydown(e){if(this.focusTrap&&9===e.which){e.preventDefault();let i=ge.getFocusableElements(this.container);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);e.shiftKey?-1==r||0===r?i[i.length-1].focus():i[r-1].focus():-1==r||r===i.length-1?i[0].focus():i[r+1].focus()}else i[0].focus()}}onDrag(e){if(this.dragging){let i=ge.getOuterWidth(this.container),r=ge.getOuterHeight(this.container),l=e.pageX-this.lastPageX,u=e.pageY-this.lastPageY,f=this.container.getBoundingClientRect(),_=f.left+l,w=f.top+u,D=ge.getViewport();this.container.style.position="fixed",this.keepInViewport?(_>=this.minX&&_+i<D.width&&(this._style.left=_+"px",this.lastPageX=e.pageX,this.container.style.left=_+"px"),w>=this.minY&&w+r<D.height&&(this._style.top=w+"px",this.lastPageY=e.pageY,this.container.style.top=w+"px")):(this.lastPageX=e.pageX,this.container.style.left=_+"px",this.lastPageY=e.pageY,this.container.style.top=w+"px")}}endDrag(e){this.dragging&&(this.dragging=!1,ge.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(e))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(e){this.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,ge.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(e))}onResize(e){if(this.resizing){let i=e.pageX-this.lastPageX,r=e.pageY-this.lastPageY,l=ge.getOuterWidth(this.container),u=ge.getOuterHeight(this.container),f=ge.getOuterHeight(this.contentViewChild.nativeElement),_=l+i,w=u+r,D=this.container.style.minWidth,A=this.container.style.minHeight,N=this.container.getBoundingClientRect(),V=ge.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(_+=i,w+=r),(!D||_>parseInt(D))&&N.left+_<V.width&&(this._style.width=_+"px",this.container.style.width=this._style.width),(!A||w>parseInt(A))&&N.top+w<V.height&&(this.contentViewChild.nativeElement.style.height=f+w-u+"px",this._style.height&&(this._style.height=w+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,ge.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(e))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{27==i.which&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):ge.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&ge.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&ge.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(ge.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&ge.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&Pr.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(ag))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dialog"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,iP,5),s.Suo(r,rP,5),s.Suo(r,lg,4)),2&e){let l;s.iGM(l=s.CRH())&&(i.headerFacet=l.first),s.iGM(l=s.CRH())&&(i.footerFacet=l.first),s.iGM(l=s.CRH())&&(i.templates=l)}},viewQuery:function(e,i){if(1&e&&(s.Gf(EU,5),s.Gf(IU,5),s.Gf(DU,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.headerViewChild=r.first),s.iGM(r=s.CRH())&&(i.contentViewChild=r.first),s.iGM(r=s.CRH())&&(i.footerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:$U,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"]],template:function(e,i){1&e&&(s.F$t(GU),s.YNc(0,ZU,2,15,"div",0)),2&e&&s.Q6J("ngIf",i.maskVisible)},directives:[qt,gn,CU,ir,zs,cg],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translate(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0px!important;left:0px!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[dg("animation",[Bs("void => visible",[cP(zU)]),Bs("visible => void",[cP(WU)])])]},changeDetection:0}),n})(),KU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Pi,TU,ug],Kh]}),n})();function KE(n,t=0){return function JU(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}var eB=P(1144);const tB=["addListener","removeListener"],nB=["addEventListener","removeEventListener"],iB=["on","off"];function QE(n,t,e,i){if((0,yi.m)(e)&&(i=e,e=void 0),i)return QE(n,t,e).pipe(ql(i));const[r,l]=function oB(n){return(0,yi.m)(n.addEventListener)&&(0,yi.m)(n.removeEventListener)}(n)?nB.map(u=>f=>n[u](t,f,e)):function rB(n){return(0,yi.m)(n.addListener)&&(0,yi.m)(n.removeListener)}(n)?tB.map(fP(n,t)):function sB(n){return(0,yi.m)(n.on)&&(0,yi.m)(n.off)}(n)?iB.map(fP(n,t)):[];if(!r&&(0,eB.z)(n))return(0,Zn.z)(u=>QE(u,t,e))((0,ba.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new mn.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>l(f)})}function fP(n,t){return e=>i=>n[e](t,i)}var pP=P(4408);const hw={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=hw;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(l=>{e=void 0,n(l)});return new Es.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=hw;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=hw;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var gP=P(7565);const cB=new class lB extends gP.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class aB extends pP.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=hw.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(hw.cancelAnimationFrame(e),t._scheduled=void 0)}});let Fx,uB=1;const JE={};function mP(n){return n in JE&&(delete JE[n],!0)}const dB={setImmediate(n){const t=uB++;return JE[t]=!0,Fx||(Fx=Promise.resolve()),Fx.then(()=>mP(t)&&n()),t},clearImmediate(n){mP(n)}},{setImmediate:hB,clearImmediate:fB}=dB,XE={setImmediate(...n){const{delegate:t}=XE;return((null==t?void 0:t.setImmediate)||hB)(...n)},clearImmediate(n){const{delegate:t}=XE;return((null==t?void 0:t.clearImmediate)||fB)(n)},delegate:void 0},mB=new class gB extends gP.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class pB extends pP.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=XE.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(XE.clearImmediate(e),t._scheduled=void 0)}});function _P(n){return!!n&&(n instanceof mn.y||(0,yi.m)(n.lift)&&(0,yi.m)(n.subscribe))}var yB=P(3532);function Lx(n,t=ep.z){return function _B(n){return(0,qn.e)((t,e)=>{let i=!1,r=null,l=null,u=!1;const f=()=>{if(null==l||l.unsubscribe(),l=null,i){i=!1;const w=r;r=null,e.next(w)}u&&e.complete()},_=()=>{l=null,u&&e.complete()};t.subscribe((0,Fn.x)(e,w=>{i=!0,r=w,l||(0,ba.Xf)(n(w)).subscribe(l=(0,Fn.x)(e,f,_))},()=>{u=!0,(!i||!l||l.closed)&&e.complete()}))})}(()=>function bB(n=0,t,e=ep.P){let i=-1;return null!=t&&((0,yB.K)(t)?e=t:i=t),new mn.y(r=>{let l=function vB(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;l<0&&(l=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},l)})}(n,t))}var wB=P(5032);function Vx(n){return(0,qn.e)((t,e)=>{(0,ba.Xf)(n).subscribe((0,Fn.x)(e,()=>e.complete(),wB.Z)),!e.closed&&t.subscribe(e)})}let Ux;try{Ux="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Ux=!1}let eI,hg,yP=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Ri(n){return n===Do}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ux)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function pw(){if("object"!=typeof document||!document)return 0;if(null==eI){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),eI=0,0===n.scrollLeft&&(n.scrollLeft=1,eI=0===n.scrollLeft?1:2),n.remove()}return eI}const DB=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function SB(){return(0,s.f3M)(ue)}});let bP=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null,l=(e.body?e.body.dir:null)||r;this.value="ltr"===l||"rtl"===l?l:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(DB,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();class MB extends class xB{}{constructor(t){super(),this._data=t}connect(){return _P(this._data)?this._data:ot(this._data)}disconnect(){}}class OB{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,i,r,l){t.forEachOperation((u,f,_)=>{let w,D;null==u.previousIndex?(w=this._insertView(()=>i(u,f,_),_,e,r(u)),D=w?1:0):null==_?(this._detachAndCacheView(f,e),D=3):(w=this._moveView(f,_,e,r(u)),D=2),l&&l({context:null==w?void 0:w.context,operation:D,record:u})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,i,r){const l=this._insertViewFromCache(e,i);if(l)return void(l.context.$implicit=r);const u=t();return i.createEmbeddedView(u.templateRef,u.context,u.index)}_detachAndCacheView(t,e){const i=e.detach(t);this._maybeCacheView(i,e)}_moveView(t,e,i,r){const l=i.get(t);return i.move(l,e),l.context.$implicit=r,l}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const i=e.indexOf(t);-1===i?t.destroy():e.remove(i)}}_insertViewFromCache(t,e){const i=this._viewCache.pop();return i&&e.insert(i,t),i||null}}const CP=new s.OlP("_ViewRepeater"),kB=["contentWrapper"],PB=["*"],TP=new s.OlP("VIRTUAL_SCROLL_STRATEGY");class RB{constructor(t,e,i){this._scrolledIndexChange=new Kt.x,this.scrolledIndexChange=this._scrolledIndexChange.pipe(wi()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,i){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},i=this._viewport.getViewportSize(),r=this._viewport.getDataLength();let l=this._viewport.measureScrollOffset(),u=this._itemSize>0?l/this._itemSize:0;if(e.end>r){const _=Math.ceil(i/this._itemSize),w=Math.max(0,Math.min(u,r-_));u!=w&&(u=w,l=w*this._itemSize,e.start=Math.floor(u)),e.end=Math.max(0,Math.min(r,e.start+_))}const f=l-e.start*this._itemSize;if(f<this._minBufferPx&&0!=e.start){const _=Math.ceil((this._maxBufferPx-f)/this._itemSize);e.start=Math.max(0,e.start-_),e.end=Math.min(r,Math.ceil(u+(i+this._minBufferPx)/this._itemSize))}else{const _=e.end*this._itemSize-(l+i);if(_<this._minBufferPx&&e.end!=r){const w=Math.ceil((this._maxBufferPx-_)/this._itemSize);w>0&&(e.end=Math.min(r,e.end+w),e.start=Math.max(0,Math.floor(u-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(u))}}function NB(n){return n._scrollStrategy}let EP=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new RB(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=KE(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=KE(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=KE(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[s._Bn([{provide:TP,useFactory:NB,deps:[(0,s.Gpc)(()=>n)]}]),s.TTD]}),n})(),IP=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Kt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new mn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Lx(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ot()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(ai(l=>!l||r.indexOf(l)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,l)=>{this._scrollableContainsElement(l,e)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=function XU(n){return n instanceof s.SBq?n.nativeElement:n}(i),l=e.getElementRef().nativeElement;do{if(r==l)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>QE(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(yP),s.LFG(ue,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DP=(()=>{class n{constructor(e,i,r,l){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=l,this._destroyed=new Kt.x,this._elementScrolled=new mn.y(u=>this.ngZone.runOutsideAngular(()=>QE(this.elementRef.nativeElement,"scroll").pipe(Vx(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=pw()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==pw()?e.left=e.right:1==pw()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;!function EB(){if(null==hg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return hg=!1,hg;if("scrollBehavior"in document.documentElement.style)hg=!0;else{const n=Element.prototype.scrollTo;hg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return hg}()?(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left)):i.scrollTo(e)}measureScrollOffset(e){const i="left",r="right",l=this.elementRef.nativeElement;if("top"==e)return l.scrollTop;if("bottom"==e)return l.scrollHeight-l.clientHeight-l.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==e?e=u?r:i:"end"==e&&(e=u?i:r),u&&2==pw()?e==i?l.scrollWidth-l.clientWidth-l.scrollLeft:l.scrollLeft:u&&1==pw()?e==i?l.scrollLeft+l.scrollWidth-l.clientWidth:-l.scrollLeft:e==i?l.scrollLeft:l.scrollWidth-l.clientWidth-l.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(IP),s.Y36(s.R0b),s.Y36(bP,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),VB=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Kt.x,this._changeListener=l=>{this._change.next(l)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,l=r.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-l.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Lx(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yP),s.LFG(s.R0b),s.LFG(ue,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BB="undefined"!=typeof requestAnimationFrame?cB:mB;let tI=(()=>{class n extends DP{constructor(e,i,r,l,u,f,_){super(e,f,r,u),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=l,this._detachedSubject=new Kt.x,this._renderedRangeSubject=new Kt.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new mn.y(w=>this._scrollStrategy.scrolledIndexChange.subscribe(D=>Promise.resolve().then(()=>this.ngZone.run(()=>w.next(D))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Es.w0.EMPTY,this._viewportChanges=_.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=function QU(n){return null!=n&&"false"!=`${n}`}(e)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Is(null),Lx(0,BB)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Vx(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function UB(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){const l="horizontal"==this.orientation,u=l?"X":"Y";let _=`translate${u}(${Number((l&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(_+=` translate${u}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=_&&(this._renderedContentTransform=_,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(TP,8),s.Y36(bP,8),s.Y36(IP),s.Y36(VB))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&s.Gf(kB,7),2&e){let r;s.iGM(r=s.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[s._Bn([{provide:DP,useExisting:n}]),s.qOj],ngContentSelectors:PB,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(3),s.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),n})();function SP(n,t,e){if(!e.getBoundingClientRect)return 0;const r=e.getBoundingClientRect();return"horizontal"===n?"start"===t?r.left:r.right:"start"===t?r.top:r.bottom}let xP=(()=>{class n{constructor(e,i,r,l,u,f){this._viewContainerRef=e,this._template=i,this._differs=r,this._viewRepeater=l,this._viewport=u,this.viewChange=new Kt.x,this._dataSourceChanges=new Kt.x,this.dataStream=this._dataSourceChanges.pipe(Is(null),Km(),xn(([_,w])=>this._changeDataSource(_,w)),im(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new Kt.x,this.dataStream.subscribe(_=>{this._data=_,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Vx(this._destroyed)).subscribe(_=>{this._renderedRange=_,f.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function AB(n){return n&&"function"==typeof n.connect}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new MB(_P(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(i,r)=>e(i+(this._renderedRange?this._renderedRange.start:0),r):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=KE(e)}measureRangeSize(e,i){if(e.start>=e.end)return 0;const r=e.start-this._renderedRange.start,l=e.end-e.start;let u,f;for(let _=0;_<l;_++){const w=this._viewContainerRef.get(_+r);if(w&&w.rootNodes.length){u=f=w.rootNodes[0];break}}for(let _=l-1;_>-1;_--){const w=this._viewContainerRef.get(_+r);if(w&&w.rootNodes.length){f=w.rootNodes[w.rootNodes.length-1];break}}return u&&f?SP(i,"end",f)-SP(i,"start",u):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,i):i)),this._needsUpdate=!0)}_changeDataSource(e,i){return e&&e.disconnect(this),this._needsUpdate=!0,i?i.connect(this):ot()}_updateContext(){const e=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=e,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(l,u,f)=>this._getEmbeddedViewArgs(l,f),l=>l.item),e.forEachIdentityChange(l=>{this._viewContainerRef.get(l.currentIndex).context.$implicit=l.item});const i=this._data.length;let r=this._viewContainerRef.length;for(;r--;){const l=this._viewContainerRef.get(r);l.context.index=this._renderedRange.start+r,l.context.count=i,this._updateComputedContextProperties(l.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,i){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(CP),s.Y36(tI,4),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[s._Bn([{provide:CP,useClass:OB}])]}),n})(),AP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),nI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[wP,CB,AP],wP,AP]}),n})(),MP=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let e=this.getTarget(this.el.nativeElement);e.addEventListener("focus",this.focusListener),e.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?ge.appendChild(this.container,this.el.nativeElement):ge.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),ge.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Pr.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Pr.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+ge.getWindowScrollLeft(),top:e.top+ge.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),i=e.left+ge.getOuterWidth(this.el.nativeElement),r=e.top+(ge.getOuterHeight(this.el.nativeElement)-ge.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-ge.getOuterWidth(this.container),r=e.top+(ge.getOuterHeight(this.el.nativeElement)-ge.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(ge.getOuterWidth(this.el.nativeElement)-ge.getOuterWidth(this.container))/2,r=e.top-ge.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(ge.getOuterWidth(this.el.nativeElement)-ge.getOuterWidth(this.container))/2,r=e.top+ge.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}getTarget(e){return ge.hasClass(e,"p-inputwrapper")?ge.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,r=e.left,l=ge.getOuterWidth(this.container),u=ge.getOuterHeight(this.container),f=ge.getViewport();return r+l>f.width||r<0||i<0||i+u>f.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new YE(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let e=this.getTarget(this.el.nativeElement);e.removeEventListener("focus",this.focusListener),e.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):ge.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Pr.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(ag))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[s.TTD]}),n})(),OP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Pi]]}),n})();function HB(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.label)}}function jB(n,t){1&n&&s.GkF(0)}const kP=function(n){return{height:n}},qB=function(n,t){return{"p-highlight":n,"p-disabled":t}},ZB=function(n){return{"p-highlight":n}},PP=function(n){return{"pi pi-check":n}},gw=function(n){return{$implicit:n}},GB=["container"],$B=["filterInput"],zB=["in"];function WB(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.valuesAsString||"empty")}}function YB(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",18),s.NdJ("click",function(r){s.CHM(e);const l=s.oxw().$implicit;return s.oxw(3).removeChip(l,r)}),s.qZA()}}function KB(n,t){if(1&n&&(s.TgZ(0,"div",14,15)(2,"span",16),s._uU(3),s.qZA(),s.YNc(4,YB,1,0,"span",17),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(3);s.xp6(3),s.Oqu(i.findLabelByValue(e)),s.xp6(1),s.Q6J("ngIf",!i.disabled)}}function QB(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.Oqu(e.placeholder||e.defaultLabel||"empty")}}function JB(n,t){if(1&n&&(s.ynx(0),s.YNc(1,KB,5,2,"div",13),s.YNc(2,QB,2,1,"ng-container",7),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.value),s.xp6(1),s.Q6J("ngIf",!e.value||0===e.value.length)}}function XB(n,t){if(1&n&&(s.ynx(0),s.YNc(1,WB,2,1,"ng-container",7),s.YNc(2,JB,3,2,"ng-container",7),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf","comma"===e.display),s.xp6(1),s.Q6J("ngIf","chip"===e.display)}}function e3(n,t){1&n&&s.GkF(0)}function t3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",19),s.NdJ("click",function(r){return s.CHM(e),s.oxw().clear(r)}),s.qZA()}}function n3(n,t){1&n&&s.GkF(0)}const i3=function(n){return{"p-checkbox-disabled":n}},r3=function(n,t,e){return{"p-highlight":n,"p-focus":t,"p-disabled":e}};function s3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",32)(1,"div",2)(2,"input",33),s.NdJ("focus",function(){return s.CHM(e),s.oxw(3).onHeaderCheckboxFocus()})("blur",function(){return s.CHM(e),s.oxw(3).onHeaderCheckboxBlur()})("keydown.space",function(r){return s.CHM(e),s.oxw(3).toggleAll(r)}),s.qZA()(),s.TgZ(3,"div",34),s.NdJ("click",function(r){return s.CHM(e),s.oxw(3).toggleAll(r)}),s._UZ(4,"span",35),s.qZA()()}if(2&n){const e=s.oxw(3);s.Q6J("ngClass",s.VKq(6,i3,e.disabled||e.toggleAllDisabled)),s.xp6(2),s.Q6J("checked",e.allChecked)("disabled",e.disabled||e.toggleAllDisabled),s.xp6(1),s.Q6J("ngClass",s.kEZ(8,r3,e.allChecked,e.headerCheckboxFocus,e.disabled||e.toggleAllDisabled)),s.uIk("aria-checked",e.allChecked),s.xp6(1),s.Q6J("ngClass",s.VKq(12,PP,e.allChecked))}}function o3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",36)(1,"input",37,38),s.NdJ("input",function(r){return s.CHM(e),s.oxw(3).onFilterInputChange(r)}),s.qZA(),s._UZ(3,"span",39),s.qZA()}if(2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("value",e.filterValue||"")("disabled",e.disabled),s.uIk("autocomplete",e.autocomplete)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel)}}function a3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",26),s.Hsn(1),s.YNc(2,n3,1,0,"ng-container",27),s.YNc(3,s3,5,14,"div",28),s.YNc(4,o3,4,5,"div",29),s.TgZ(5,"button",30),s.NdJ("click",function(r){return s.CHM(e),s.oxw(2).close(r)}),s._UZ(6,"span",31),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",e.showToggleAll&&!e.selectionLimit),s.xp6(1),s.Q6J("ngIf",e.filter)}}function l3(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.xp6(1),s.Oqu(i.getOptionGroupLabel(e)||"empty")}}function c3(n,t){1&n&&s.GkF(0)}function u3(n,t){1&n&&s.GkF(0)}function d3(n,t){if(1&n&&(s.TgZ(0,"li",41),s.YNc(1,l3,2,1,"span",7),s.YNc(2,c3,1,0,"ng-container",8),s.qZA(),s.YNc(3,u3,1,0,"ng-container",8)),2&n){const e=t.$implicit;s.oxw(2);const i=s.MAs(7),r=s.oxw();s.xp6(1),s.Q6J("ngIf",!r.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.groupTemplate)("ngTemplateOutletContext",s.VKq(5,gw,e)),s.xp6(1),s.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",s.VKq(7,gw,r.getOptionGroupChildren(e)))}}function h3(n,t){if(1&n&&(s.ynx(0),s.YNc(1,d3,4,9,"ng-template",40),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.optionsToRender)}}function f3(n,t){1&n&&s.GkF(0)}function p3(n,t){if(1&n&&(s.ynx(0),s.YNc(1,f3,1,0,"ng-container",8),s.BQk()),2&n){s.oxw();const e=s.MAs(7),i=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",s.VKq(2,gw,i.optionsToRender))}}function g3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-multiSelectItem",45),s.NdJ("onClick",function(r){return s.CHM(e),s.oxw(4).onOptionClick(r)})("onKeydown",function(r){return s.CHM(e),s.oxw(4).onOptionKeydown(r)}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("option",e)("selected",i.isSelected(e))("label",i.getOptionLabel(e))("disabled",i.isOptionDisabled(e))("template",i.itemTemplate)}}function m3(n,t){if(1&n&&(s.ynx(0),s.YNc(1,g3,1,5,"ng-template",40),s.BQk()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function _3(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"p-multiSelectItem",50),s.NdJ("onClick",function(r){return s.CHM(e),s.oxw(5).onOptionClick(r)})("onKeydown",function(r){return s.CHM(e),s.oxw(5).onOptionKeydown(r)}),s.qZA(),s.BQk()}if(2&n){const e=t.$implicit,i=s.oxw(5);s.xp6(1),s.Q6J("option",e)("selected",i.isSelected(e))("label",i.getOptionLabel(e))("disabled",i.isOptionDisabled(e))("template",i.itemTemplate)("itemSize",i.itemSize)}}function y3(n,t){if(1&n&&(s.TgZ(0,"cdk-virtual-scroll-viewport",47,48),s.YNc(2,_3,2,6,"ng-container",49),s.qZA()),2&n){const e=s.oxw(2).$implicit,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(3,kP,i.scrollHeight))("itemSize",i.itemSize),s.xp6(2),s.Q6J("cdkVirtualForOf",e)}}function v3(n,t){if(1&n&&s.YNc(0,y3,3,5,"cdk-virtual-scroll-viewport",46),2&n){const e=s.oxw(3);s.Q6J("ngIf",e.virtualScroll&&!e.emptyOptions)}}function b3(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(4);s.xp6(1),s.hij(" ",e.emptyFilterMessageLabel," ")}}function w3(n,t){1&n&&s.GkF(0,null,52)}function C3(n,t){if(1&n&&(s.TgZ(0,"li",51),s.YNc(1,b3,2,1,"ng-container",42),s.YNc(2,w3,2,0,"ng-container",27),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function T3(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(4);s.xp6(1),s.hij(" ",e.emptyMessageLabel," ")}}function E3(n,t){1&n&&s.GkF(0,null,53)}function I3(n,t){if(1&n&&(s.TgZ(0,"li",51),s.YNc(1,T3,2,1,"ng-container",42),s.YNc(2,E3,2,0,"ng-container",27),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function D3(n,t){if(1&n&&(s.YNc(0,m3,2,1,"ng-container",42),s.YNc(1,v3,1,1,"ng-template",null,43,s.W1O),s.YNc(3,C3,3,3,"li",44),s.YNc(4,I3,3,3,"li",44)),2&n){const e=s.MAs(2),i=s.oxw(2);s.Q6J("ngIf",!i.virtualScroll)("ngIfElse",e),s.xp6(3),s.Q6J("ngIf",i.hasFilter()&&i.emptyOptions),s.xp6(1),s.Q6J("ngIf",!i.hasFilter()&&i.emptyOptions)}}function S3(n,t){1&n&&s.GkF(0)}function x3(n,t){if(1&n&&(s.TgZ(0,"div",54),s.Hsn(1,1),s.YNc(2,S3,1,0,"ng-container",27),s.qZA()),2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const A3=function(){return["p-multiselect-panel p-component"]},M3=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},O3=function(n){return{value:"visible",params:n}},k3=function(n){return{"p-multiselect-virtualscroll":n}};function P3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",20),s.NdJ("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.done",function(r){return s.CHM(e),s.oxw().onOverlayAnimationEnd(r)})("keydown",function(r){return s.CHM(e),s.oxw().onKeydown(r)})("click",function(r){return s.CHM(e),s.oxw().onOverlayClick(r)}),s.YNc(1,a3,7,3,"div",21),s.TgZ(2,"div",22)(3,"ul",23),s.YNc(4,h3,2,1,"ng-container",7),s.YNc(5,p3,2,4,"ng-container",7),s.YNc(6,D3,5,4,"ng-template",null,24,s.W1O),s.qZA()(),s.YNc(8,x3,3,1,"div",25),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngClass",s.DdM(12,A3))("@overlayAnimation",s.VKq(16,O3,s.WLB(13,M3,e.showTransitionOptions,e.hideTransitionOptions)))("ngStyle",e.panelStyle),s.xp6(1),s.Q6J("ngIf",e.showHeader),s.xp6(1),s.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),s.xp6(1),s.Q6J("ngClass",s.VKq(18,k3,e.virtualScroll)),s.xp6(1),s.Q6J("ngIf",e.group),s.xp6(1),s.Q6J("ngIf",!e.group),s.xp6(3),s.Q6J("ngIf",e.footerFacet||e.footerTemplate)}}const R3=[[["p-header"]],[["p-footer"]]],N3=function(n,t,e,i){return{"p-multiselect p-component":!0,"p-multiselect-open":n,"p-multiselect-chip":t,"p-focus":e,"p-disabled":i}},F3=function(n,t){return{"p-placeholder":n,"p-multiselect-label-empty":t}},L3=function(){return{"p-multiselect-trigger":!0}},V3=["p-header","p-footer"],U3={provide:uo,useExisting:(0,s.Gpc)(()=>RP),multi:!0};let B3=(()=>{class n{constructor(){this.onClick=new s.vpe,this.onKeydown=new s.vpe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}onOptionKeydown(e){this.onKeydown.emit({originalEvent:e,option:this.option})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick",onKeydown:"onKeydown"},decls:6,vars:20,consts:[["pRipple","",1,"p-multiselect-item",3,"ngStyle","ngClass","click","keydown"],[1,"p-checkbox","p-component"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.TgZ(0,"li",0),s.NdJ("click",function(l){return i.onOptionClick(l)})("keydown",function(l){return i.onOptionKeydown(l)}),s.TgZ(1,"div",1)(2,"div",2),s._UZ(3,"span",3),s.qZA()(),s.YNc(4,HB,2,1,"span",4),s.YNc(5,jB,1,0,"ng-container",5),s.qZA()),2&e&&(s.Q6J("ngStyle",s.VKq(9,kP,i.itemSize+"px"))("ngClass",s.WLB(11,qB,i.selected,i.disabled)),s.uIk("aria-label",i.label)("tabindex",i.disabled?null:"0"),s.xp6(2),s.Q6J("ngClass",s.VKq(14,ZB,i.selected)),s.xp6(1),s.Q6J("ngClass",s.VKq(16,PP,i.selected)),s.xp6(1),s.Q6J("ngIf",!i.template),s.xp6(1),s.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",s.VKq(18,gw,i.option)))},directives:[cg,ir,gn,qt,zs],encapsulation:2}),n})(),RP=(()=>{class n{constructor(e,i,r,l,u,f){this.el=e,this.renderer=i,this.cd=r,this.filterService=l,this.config=u,this.overlayService=f,this.filter=!0,this.displaySelectedLabel=!0,this.maxSelectedLabels=3,this.selectedItemsLabel="ellipsis",this.showToggleAll=!0,this.emptyFilterMessage="",this.emptyMessage="",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.showHeader=!0,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.display="comma",this.autocomplete="on",this.showClear=!1,this.onChange=new s.vpe,this.onFilter=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClick=new s.vpe,this.onClear=new s.vpe,this.onPanelShow=new s.vpe,this.onPanelHide=new s.vpe,this.scrollHeight="200px",this.onModelChange=()=>{},this.onModelTouched=()=>{}}set defaultLabel(e){this._defaultLabel=e,this.updateLabel()}get defaultLabel(){return this._defaultLabel}set placeholder(e){this._placeholder=e,this.updateLabel()}get placeholder(){return this._placeholder}get options(){return this._options}set options(e){this._options=e,this.updateLabel()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngOnInit(){this.updateLabel()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"selectedItems":this.selectedItemsTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.alignOverlay(),this.filtered=!1)}getOptionLabel(e){return this.optionLabel?wn.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?wn.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}getOptionGroupLabel(e){return this.optionGroupLabel?wn.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?wn.resolveFieldData(e,this.optionGroupChildren):e.items}isOptionDisabled(e){return(this.optionDisabled?wn.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled)||this.maxSelectionLimitReached&&!this.isSelected(e)}writeValue(e){this.value=e,this.updateLabel(),this.updateFilledState(),this.checkSelectionLimit(),this.cd.markForCheck()}checkSelectionLimit(){this.maxSelectionLimitReached=!(!this.selectionLimit||!this.value||this.value.length!==this.selectionLimit)}updateFilledState(){this.filled=this.value&&this.value.length>0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onOptionClick(e){let i=e.option;if(this.isOptionDisabled(i))return;let r=this.getOptionValue(i),l=this.findSelectionIndex(r);-1!=l?(this.value=this.value.filter((u,f)=>f!=l),this.selectionLimit&&(this.maxSelectionLimitReached=!1)):((!this.selectionLimit||!this.value||this.value.length<this.selectionLimit)&&(this.value=[...this.value||[],r]),this.checkSelectionLimit()),this.onModelChange(this.value),this.onChange.emit({originalEvent:e.originalEvent,value:this.value,itemValue:r}),this.updateLabel(),this.updateFilledState()}isSelected(e){return-1!=this.findSelectionIndex(this.getOptionValue(e))}findSelectionIndex(e){let i=-1;if(this.value)for(let r=0;r<this.value.length;r++)if(wn.equals(this.value[r],e,this.dataKey)){i=r;break}return i}get toggleAllDisabled(){let e=this.optionsToRender;if(!e||0===e.length)return!0;for(let i of e)if(!this.isOptionDisabled(i))return!1;return!0}toggleAll(e){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateFilledState(),this.updateLabel(),e.preventDefault())}checkAll(){let i=[];this.optionsToRender.forEach(r=>{if(this.group){let l=this.getOptionGroupChildren(r);l&&l.forEach(u=>{let f=this.isOptionDisabled(u);(!f||f&&this.isSelected(u))&&i.push(this.getOptionValue(u))})}else{let l=this.isOptionDisabled(r);(!l||l&&this.isSelected(r))&&i.push(this.getOptionValue(r))}}),this.value=i}uncheckAll(){let i=[];this.optionsToRender.forEach(r=>{this.group?r.items&&r.items.forEach(l=>{this.isOptionDisabled(l)&&this.isSelected(l)&&i.push(this.getOptionValue(l))}):this.isOptionDisabled(r)&&this.isSelected(r)&&i.push(this.getOptionValue(r))}),this.value=i}show(){this.overlayVisible||(this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.overlay=e.element,this.appendOverlay(),this.autoZIndex&&Pr.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(e){"void"===e.toState&&Pr.clear(e.element)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):ge.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=ge.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.overlay&&(this.appendTo?ge.absolutePosition(this.overlay,this.containerViewChild.nativeElement):ge.relativePosition(this.overlay,this.containerViewChild.nativeElement))}hide(){this.overlayVisible=!1,this.unbindDocumentClickListener(),this.resetFilterOnHide&&(this.filterInputChild.nativeElement.value="",this._filterValue=null,this._filteredOptions=null),this.onPanelHide.emit(),this.cd.markForCheck()}close(e){this.hide(),e.preventDefault(),e.stopPropagation()}clear(e){this.value=null,this.updateLabel(),this.updateFilledState(),this.onClear.emit(),this.onModelChange(this.value),e.stopPropagation()}onMouseclick(e,i){this.disabled||this.readonly||e.target.isSameNode(this.accessibleViewChild.nativeElement)||(this.onClick.emit(e),!this.isOverlayClick(e)&&!ge.hasClass(e.target,"p-multiselect-token-icon")&&(this.overlayVisible?this.hide():(i.focus(),this.show())))}removeChip(e,i){this.value=this.value.filter(r=>!wn.equals(r,e,this.dataKey)),this.onModelChange(this.value),this.checkSelectionLimit(),this.onChange.emit({originalEvent:i,value:this.value,itemValue:e}),this.updateLabel(),this.updateFilledState()}isOverlayClick(e){let i=e.target;return!!this.overlay&&(this.overlay.isSameNode(i)||this.overlay.contains(i))}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target)||this.isOverlayClick(e))}onInputFocus(e){this.focus=!0,this.onFocus.emit({originalEvent:e})}onInputBlur(e){this.focus=!1,this.onBlur.emit({originalEvent:e}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onOptionKeydown(e){if(!this.readonly)switch(e.originalEvent.which){case 40:var i=this.findNextItem(e.originalEvent.target.parentElement);i&&i.focus(),e.originalEvent.preventDefault();break;case 38:var r=this.findPrevItem(e.originalEvent.target.parentElement);r&&r.focus(),e.originalEvent.preventDefault();break;case 13:this.onOptionClick(e),e.originalEvent.preventDefault();break;case 9:this.hide()}}findNextItem(e){let i=e.nextElementSibling;return i?ge.hasClass(i.children[0],"p-disabled")||ge.isHidden(i.children[0])||ge.hasClass(i,"p-multiselect-item-group")?this.findNextItem(i):i.children[0]:null}findPrevItem(e){let i=e.previousElementSibling;return i?ge.hasClass(i.children[0],"p-disabled")||ge.isHidden(i.children[0])||ge.hasClass(i,"p-multiselect-item-group")?this.findPrevItem(i):i.children[0]:null}onKeydown(e){switch(e.which){case 40:!this.overlayVisible&&e.altKey&&(this.show(),e.preventDefault());break;case 32:this.overlayVisible||(this.show(),e.preventDefault());break;case 27:this.hide()}}updateLabel(){if(this.value&&this.options&&this.value.length&&this.displaySelectedLabel){let e="";for(let i=0;i<this.value.length;i++){let r=this.findLabelByValue(this.value[i]);r&&(e.length>0&&(e+=", "),e+=r)}if(this.value.length<=this.maxSelectedLabels||"ellipsis"===this.selectedItemsLabel)this.valuesAsString=e;else{let i=/{(.*?)}/;this.valuesAsString=i.test(this.selectedItemsLabel)?this.selectedItemsLabel.replace(this.selectedItemsLabel.match(i)[0],this.value.length+""):this.selectedItemsLabel}}else this.valuesAsString=this.placeholder||this.defaultLabel}findLabelByValue(e){if(this.group){let i=null;for(let r=0;r<this.options.length;r++){let l=this.getOptionGroupChildren(this.options[r]);if(l&&(i=this.searchLabelByValue(e,l),i))break}return i}return this.searchLabelByValue(e,this.options)}searchLabelByValue(e,i){let r=null;for(let l=0;l<i.length;l++){let u=i[l],f=this.getOptionValue(u);if(null==e&&null==f||wn.equals(e,f,this.dataKey)){r=this.getOptionLabel(u);break}}return r}get allChecked(){let e=this.optionsToRender;if(!e||0===e.length)return!1;{let i=0,r=0,l=0,u=this.group?0:this.optionsToRender.length;for(let f of e)if(this.group)for(let _ of this.getOptionGroupChildren(f)){let w=this.isOptionDisabled(_),D=this.isSelected(_);if(w)D?i++:r++;else{if(!D)return!1;l++}u++}else{let _=this.isOptionDisabled(f),w=this.isSelected(f);if(_)w?i++:r++;else{if(!w)return!1;l++}}return u===i||u===l||l&&u===l+r+i}}get optionsToRender(){return this._filteredOptions||this.options}get emptyOptions(){let e=this.optionsToRender;return!e||0===e.length}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(vo.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(vo.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}onFilterInputChange(e){this._filterValue=e.target.value,this.activateFilter(),this.onFilter.emit({originalEvent:e,filter:this._filterValue}),this.cd.detectChanges(),this.alignOverlay()}activateFilter(){if(this.hasFilter()&&this._options){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.group){let i=[];for(let r of this.options){let l=this.filterService.filter(this.getOptionGroupChildren(r),e,this.filterValue,this.filterMatchMode,this.filterLocale);l&&l.length&&i.push(Object.assign(Object.assign({},r),{[this.optionGroupChildren]:l}))}this._filteredOptions=i}else this._filteredOptions=this.filterService.filter(this.options,e,this._filterValue,this.filterMatchMode,this.filterLocale)}else this._filteredOptions=null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{!this.preventDocumentDefault&&this.isOutsideClicked(i)&&this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){ge.isAndroid()||this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new YE(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&Pr.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(nP),s.Y36(ag),s.Y36(Rx))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-multiSelect"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,rP,5),s.Suo(r,iP,5),s.Suo(r,lg,4)),2&e){let l;s.iGM(l=s.CRH())&&(i.footerFacet=l.first),s.iGM(l=s.CRH())&&(i.headerFacet=l.first),s.iGM(l=s.CRH())&&(i.templates=l)}},viewQuery:function(e,i){if(1&e&&(s.Gf(GB,5),s.Gf($B,5),s.Gf(zB,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.filterInputChild=r.first),s.iGM(r=s.CRH())&&(i.accessibleViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus||i.overlayVisible)("p-multiselect-clearable",i.showClear&&!i.disabled)},inputs:{style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:"disabled",readonly:"readonly",group:"group",filter:"filter",filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:"overlayVisible",tabindex:"tabindex",appendTo:"appendTo",dataKey:"dataKey",name:"name",label:"label",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:"selectionLimit",selectedItemsLabel:"selectedItemsLabel",showToggleAll:"showToggleAll",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:"showHeader",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",filterBy:"filterBy",virtualScroll:"virtualScroll",itemSize:"itemSize",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",display:"display",autocomplete:"autocomplete",showClear:"showClear",scrollHeight:"scrollHeight",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide"},features:[s._Bn([U3])],ngContentSelectors:V3,decls:13,vars:34,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","readonly","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[1,"p-multiselect-label-container",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[1,"p-multiselect-label",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-multiselect-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass"],[1,"p-multiselect-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","keydown","click",4,"ngIf"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],["token",""],[1,"p-multiselect-token-label"],["class","p-multiselect-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-multiselect-token-icon","pi","pi-times-circle",3,"click"],[1,"p-multiselect-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","keydown","click"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass"],["itemslist",""],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],[4,"ngTemplateOutlet"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link",3,"click"],[1,"p-multiselect-close-icon","pi","pi-times"],[1,"p-checkbox","p-component",3,"ngClass"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[1,"p-multiselect-filter-container"],["type","text","role","textbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"value","disabled","input"],["filterInput",""],[1,"p-multiselect-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-multiselect-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],["class","p-multiselect-empty-message",4,"ngIf"],[3,"option","selected","label","disabled","template","onClick","onKeydown"],[3,"ngStyle","itemSize",4,"ngIf"],[3,"ngStyle","itemSize"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[3,"option","selected","label","disabled","template","itemSize","onClick","onKeydown"],[1,"p-multiselect-empty-message"],["emptyFilter",""],["empty",""],[1,"p-multiselect-footer"]],template:function(e,i){if(1&e){const r=s.EpF();s.F$t(R3),s.TgZ(0,"div",0,1),s.NdJ("click",function(u){s.CHM(r);const f=s.MAs(4);return i.onMouseclick(u,f)}),s.TgZ(2,"div",2)(3,"input",3,4),s.NdJ("focus",function(u){return i.onInputFocus(u)})("blur",function(u){return i.onInputBlur(u)})("keydown",function(u){return i.onKeydown(u)}),s.qZA()(),s.TgZ(5,"div",5)(6,"div",6),s.YNc(7,XB,3,2,"ng-container",7),s.YNc(8,e3,1,0,"ng-container",8),s.qZA(),s.YNc(9,t3,1,0,"i",9),s.qZA(),s.TgZ(10,"div",10),s._UZ(11,"span",11),s.qZA(),s.YNc(12,P3,9,20,"div",12),s.qZA()}2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.l5B(23,N3,i.overlayVisible,"chip"===i.display,i.focus,i.disabled))("ngStyle",i.style),s.xp6(3),s.Q6J("disabled",i.disabled),s.uIk("label",i.label)("id",i.inputId)("name",i.name)("tabindex",i.tabindex)("aria-expanded",i.overlayVisible)("aria-labelledby",i.ariaLabelledBy),s.xp6(2),s.Q6J("pTooltip",i.tooltip)("tooltipPosition",i.tooltipPosition)("positionStyle",i.tooltipPositionStyle)("tooltipStyleClass",i.tooltipStyleClass),s.xp6(1),s.Q6J("ngClass",s.WLB(28,F3,i.valuesAsString===(i.defaultLabel||i.placeholder),!(null!=i.valuesAsString&&0!==i.valuesAsString.length||null!=i.placeholder&&0!==i.placeholder.length))),s.xp6(1),s.Q6J("ngIf",!i.selectedItemsTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",i.selectedItemsTemplate)("ngTemplateOutletContext",s.VKq(31,gw,i.value)),s.xp6(1),s.Q6J("ngIf",null!=i.value&&i.filled&&!i.disabled&&i.showClear),s.xp6(1),s.Q6J("ngClass",s.DdM(33,L3)),s.xp6(1),s.Q6J("ngClass",i.dropdownIcon),s.xp6(1),s.Q6J("ngIf",i.overlayVisible))},directives:[B3,tI,gn,ir,MP,qt,nn,zs,cg,EP,xP],styles:[".p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect .p-multiselect-panel{min-width:100%}.p-multiselect-panel{position:absolute;top:0;left:0}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}\n"],encapsulation:2,data:{animation:[dg("overlayAnimation",[Bs(":enter",[fr({opacity:0,transform:"scaleY(0.8)"}),bo("{{showTransitionParams}}")]),Bs(":leave",[bo("{{hideTransitionParams}}",fr({opacity:0}))])])]},changeDetection:0}),n})(),H3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Pi,Kh,nI,OP,ug],Kh,nI]}),n})();function j3(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.label||"empty")}}function q3(n,t){1&n&&s.GkF(0)}const NP=function(n){return{height:n}},Z3=function(n,t){return{"p-dropdown-item":!0,"p-highlight":n,"p-disabled":t}},Hx=function(n){return{$implicit:n}},G3=["container"],$3=["filter"],z3=["in"],W3=["editableInput"];function Y3(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.label||"empty")}}function K3(n,t){1&n&&s.GkF(0)}const Q3=function(n){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":n}};function J3(n,t){if(1&n&&(s.TgZ(0,"span",12),s.YNc(1,Y3,2,1,"ng-container",13),s.YNc(2,K3,1,0,"ng-container",14),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(9,Q3,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),s.uIk("id",e.labelId),s.xp6(1),s.Q6J("ngIf",!e.selectedItemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",s.VKq(11,Hx,e.selectedOption))}}const X3=function(n){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":n}};function e6(n,t){if(1&n&&(s.TgZ(0,"span",15),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(2,X3,null==e.placeholder||0===e.placeholder.length)),s.xp6(1),s.Oqu(e.placeholder||"empty")}}function t6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",16,17),s.NdJ("click",function(){return s.CHM(e),s.oxw().onEditableInputClick()})("input",function(r){return s.CHM(e),s.oxw().onEditableInputChange(r)})("focus",function(r){return s.CHM(e),s.oxw().onEditableInputFocus(r)})("blur",function(r){return s.CHM(e),s.oxw().onInputBlur(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("disabled",e.disabled),s.uIk("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function n6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",18),s.NdJ("click",function(r){return s.CHM(e),s.oxw().clear(r)}),s.qZA()}}function i6(n,t){1&n&&s.GkF(0)}function r6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",26)(1,"div",27),s.NdJ("click",function(r){return r.stopPropagation()}),s.TgZ(2,"input",28,29),s.NdJ("keydown.enter",function(r){return r.preventDefault()})("keydown",function(r){return s.CHM(e),s.oxw(2).onKeydown(r,!1)})("input",function(r){return s.CHM(e),s.oxw(2).onFilterInputChange(r)}),s.qZA(),s._UZ(4,"span",30),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("value",e.filterValue||""),s.uIk("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.overlayVisible?"p-highlighted-option":e.labelId)}}function s6(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.xp6(1),s.Oqu(i.getOptionGroupLabel(e)||"empty")}}function o6(n,t){1&n&&s.GkF(0)}function a6(n,t){1&n&&s.GkF(0)}const FP=function(n,t){return{$implicit:n,selectedOption:t}};function l6(n,t){if(1&n&&(s.TgZ(0,"li",32),s.YNc(1,s6,2,1,"span",13),s.YNc(2,o6,1,0,"ng-container",14),s.qZA(),s.YNc(3,a6,1,0,"ng-container",14)),2&n){const e=t.$implicit;s.oxw(2);const i=s.MAs(8),r=s.oxw();s.xp6(1),s.Q6J("ngIf",!r.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.groupTemplate)("ngTemplateOutletContext",s.VKq(5,Hx,e)),s.xp6(1),s.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",s.WLB(7,FP,r.getOptionGroupChildren(e),r.selectedOption))}}function c6(n,t){if(1&n&&(s.ynx(0),s.YNc(1,l6,4,10,"ng-template",31),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.optionsToDisplay)}}function u6(n,t){1&n&&s.GkF(0)}function d6(n,t){if(1&n&&(s.ynx(0),s.YNc(1,u6,1,0,"ng-container",14),s.BQk()),2&n){s.oxw();const e=s.MAs(8),i=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",s.WLB(2,FP,i.optionsToDisplay,i.selectedOption))}}function h6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdownItem",35),s.NdJ("onClick",function(r){return s.CHM(e),s.oxw(4).onItemClick(r)}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(2).selectedOption,r=s.oxw(2);s.Q6J("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function f6(n,t){if(1&n&&(s.ynx(0),s.YNc(1,h6,1,5,"ng-template",31),s.BQk()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function p6(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"p-dropdownItem",35),s.NdJ("onClick",function(r){return s.CHM(e),s.oxw(5).onItemClick(r)}),s.qZA(),s.BQk()}if(2&n){const e=t.$implicit,i=s.oxw(3).selectedOption,r=s.oxw(2);s.xp6(1),s.Q6J("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function g6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"cdk-virtual-scroll-viewport",37,38),s.NdJ("scrolledIndexChange",function(){return s.CHM(e),s.oxw(4).scrollToSelectedVirtualScrollElement()}),s.YNc(2,p6,2,5,"ng-container",39),s.qZA()}if(2&n){const e=s.oxw(2).$implicit,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(3,NP,i.scrollHeight))("itemSize",i.itemSize),s.xp6(2),s.Q6J("cdkVirtualForOf",e)}}function m6(n,t){if(1&n&&s.YNc(0,g6,3,5,"cdk-virtual-scroll-viewport",36),2&n){const e=s.oxw(3);s.Q6J("ngIf",e.virtualScroll&&e.optionsToDisplay&&e.optionsToDisplay.length)}}function _6(n,t){if(1&n&&(s.YNc(0,f6,2,1,"ng-container",33),s.YNc(1,m6,1,1,"ng-template",null,34,s.W1O)),2&n){const e=s.MAs(2),i=s.oxw(2);s.Q6J("ngIf",!i.virtualScroll)("ngIfElse",e)}}function y6(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.emptyFilterMessageLabel," ")}}function v6(n,t){1&n&&s.GkF(0,null,41)}function b6(n,t){if(1&n&&(s.TgZ(0,"li",40),s.YNc(1,y6,2,1,"ng-container",33),s.YNc(2,v6,2,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function w6(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.emptyMessageLabel," ")}}function C6(n,t){1&n&&s.GkF(0,null,42)}function T6(n,t){if(1&n&&(s.TgZ(0,"li",40),s.YNc(1,w6,2,1,"ng-container",33),s.YNc(2,C6,2,0,"ng-container",20),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function E6(n,t){1&n&&s.GkF(0)}const I6=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},D6=function(n){return{value:"visible",params:n}},S6=function(n){return{"p-dropdown-virtualscroll":n}};function x6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("click",function(r){return s.CHM(e),s.oxw().onOverlayClick(r)})("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationEnd(r)}),s.YNc(1,i6,1,0,"ng-container",20),s.YNc(2,r6,5,4,"div",21),s.TgZ(3,"div",22)(4,"ul",23),s.YNc(5,c6,2,1,"ng-container",13),s.YNc(6,d6,2,5,"ng-container",13),s.YNc(7,_6,3,2,"ng-template",null,24,s.W1O),s.YNc(9,b6,3,3,"li",25),s.YNc(10,T6,3,3,"li",25),s.qZA()(),s.YNc(11,E6,1,0,"ng-container",20),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",s.VKq(19,D6,s.WLB(16,I6,e.showTransitionOptions,e.hideTransitionOptions)))("ngStyle",e.panelStyle),s.xp6(1),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",e.filter),s.xp6(1),s.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),s.xp6(1),s.Q6J("ngClass",s.VKq(21,S6,e.virtualScroll)),s.uIk("id",e.listId),s.xp6(1),s.Q6J("ngIf",e.group),s.xp6(1),s.Q6J("ngIf",!e.group),s.xp6(3),s.Q6J("ngIf",e.filterValue&&e.isEmpty()),s.xp6(1),s.Q6J("ngIf",!e.filterValue&&e.isEmpty()),s.xp6(1),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const A6=function(n,t,e,i){return{"p-dropdown p-component":!0,"p-disabled":n,"p-dropdown-open":t,"p-focus":e,"p-dropdown-clearable":i}},M6={provide:uo,useExisting:(0,s.Gpc)(()=>LP),multi:!0};let O6=(()=>{class n{constructor(){this.onClick=new s.vpe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.TgZ(0,"li",0),s.NdJ("click",function(l){return i.onOptionClick(l)}),s.YNc(1,j3,2,1,"span",1),s.YNc(2,q3,1,0,"ng-container",2),s.qZA()),2&e&&(s.Q6J("ngStyle",s.VKq(8,NP,i.itemSize+"px"))("id",i.selected?"p-highlighted-option":"")("ngClass",s.WLB(10,Z3,i.selected,i.disabled)),s.uIk("aria-label",i.label)("aria-selected",i.selected),s.xp6(1),s.Q6J("ngIf",!i.template),s.xp6(1),s.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",s.VKq(13,Hx,i.option)))},directives:[cg,ir,gn,qt,zs],encapsulation:2}),n})(),LP=(()=>{class n{constructor(e,i,r,l,u,f,_){this.el=e,this.renderer=i,this.cd=r,this.zone=l,this.filterService=u,this.config=f,this.overlayService=_,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new s.vpe,this.onFilter=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClick=new s.vpe,this.onShow=new s.vpe,this.onHide=new s.vpe,this.onClear=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0,this.id=WE()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),this.selectedOption||(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(vo.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(vo.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?wn.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?wn.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?wn.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?wn.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?wn.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const i=e.option;this.isOptionDisabled(i)||(this.selectItem(e.originalEvent,i),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(e,i){this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let i=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(i.start>this.virtualScrollSelectedIndex||i.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}ge.findSingle(this.overlay,"li.p-highlight")&&ge.scrollInView(this.itemsWrapper,ge.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}isInputClick(e){return ge.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.overlay=e.element,this.itemsWrapper=ge.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&Pr.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let r=ge.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");r&&r.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e);break;case"void":this.onOverlayHide(),this.onHide.emit(e)}}onOverlayAnimationEnd(e){"void"===e.toState&&Pr.clear(e.element)}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(e){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(e&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):ge.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=ge.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?ge.absolutePosition(this.overlay,this.containerViewChild.nativeElement):ge.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e-1;0<=r;r--){let l=this.optionsToDisplay[r];if(!this.isOptionDisabled(l)){i=l;break}}if(!i)for(let r=this.optionsToDisplay.length-1;r>=e;r--){let l=this.optionsToDisplay[r];if(!this.isOptionDisabled(l)){i=l;break}}}return i}findNextEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e+1;r<this.optionsToDisplay.length;r++){let l=this.optionsToDisplay[r];if(!this.isOptionDisabled(l)){i=l;break}}if(!i)for(let r=0;r<e;r++){let l=this.optionsToDisplay[r];if(!this.isOptionDisabled(l)){i=l;break}}}return i}onKeydown(e,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let l=r.itemIndex+1;l<this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[l]),this.selectedOptionUpdated=!0):this.optionsToDisplay[r.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,l=this.findNextEnabledOption(r);l&&(this.selectItem(e,l),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let l=r.itemIndex-1;if(l>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[l]),this.selectedOptionUpdated=!0;else if(l<0){let u=this.optionsToDisplay[r.groupIndex-1];u&&(this.selectItem(e,this.getOptionGroupChildren(u)[this.getOptionGroupChildren(u).length-1]),this.selectedOptionUpdated=!0)}}}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,l=this.findPrevEnabledOption(r);l&&(this.selectItem(e,l),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),e.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),e.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!e.metaKey&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const i=e.key;let r;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){let l=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};r=this.searchOptionWithinGroup(l)}else{let l=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;r=this.searchOption(++l)}r&&!this.isOptionDisabled(r)&&(this.selectItem(e,r),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let i;return this.searchValue&&(i=this.searchOptionInRange(e,this.optionsToDisplay.length),i||(i=this.searchOptionInRange(0,e))),i}searchOptionInRange(e,i){for(let r=e;r<i;r++){let l=this.optionsToDisplay[r];if(this.getOptionLabel(l).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(l))return l}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let r=e.groupIndex;r<this.optionsToDisplay.length;r++)for(let l=e.groupIndex===r?e.itemIndex+1:0;l<this.getOptionGroupChildren(this.optionsToDisplay[r]).length;l++){let u=this.getOptionGroupChildren(this.optionsToDisplay[r])[l];if(this.getOptionLabel(u).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(u))return u}for(let r=0;r<=e.groupIndex;r++)for(let l=0;l<(e.groupIndex===r?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[r]).length);l++){let u=this.getOptionGroupChildren(this.optionsToDisplay[r])[l];if(this.getOptionLabel(u).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(u))return u}}return null}findOptionIndex(e,i){let r=-1;if(i)for(let l=0;l<i.length;l++)if(null==e&&null==this.getOptionValue(i[l])||wn.equals(e,this.getOptionValue(i[l]),this.dataKey)){r=l;break}return r}findOptionGroupIndex(e,i){let r,l;if(i)for(let u=0;u<i.length&&(r=u,l=this.findOptionIndex(e,this.getOptionGroupChildren(i[u])),-1===l);u++);return-1!==l?{groupIndex:r,itemIndex:l}:-1}findOption(e,i,r){if(this.group&&!r){let l;if(i&&i.length)for(let u of i)if(l=this.findOption(e,this.getOptionGroupChildren(u),!0),l)break;return l}{let l=this.findOptionIndex(e,i);return-1!=l?i[l]:null}}onFilterInputChange(e){let i=e.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let i=[];for(let r of this.options){let l=this.filterService.filter(this.getOptionGroupChildren(r),e,this.filterValue,this.filterMatchMode,this.filterLocale);l&&l.length&&i.push(Object.assign(Object.assign({},r),{[this.optionGroupChildren]:l}))}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?ge.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():ge.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{!this.preventDocumentDefault&&this.isOutsideClicked(i)&&(this.hide(),this.unbindDocumentClickListener()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!ge.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new YE(this.containerViewChild.nativeElement,e=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(e)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&Pr.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(nP),s.Y36(ag),s.Y36(Rx))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dropdown"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,lg,4),2&e){let l;s.iGM(l=s.CRH())&&(i.templates=l)}},viewQuery:function(e,i){if(1&e&&(s.Gf(G3,5),s.Gf($3,5),s.Gf(z3,5),s.Gf(tI,5),s.Gf(W3,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.filterViewChild=r.first),s.iGM(r=s.CRH())&&(i.accessibleViewChild=r.first),s.iGM(r=s.CRH())&&(i.viewPort=r.first),s.iGM(r=s.CRH())&&(i.editableInputViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[s._Bn([M6])],decls:12,vars:25,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","combobox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("click",function(l){return i.onMouseclick(l)}),s.TgZ(2,"div",2)(3,"input",3,4),s.NdJ("focus",function(l){return i.onInputFocus(l)})("blur",function(l){return i.onInputBlur(l)})("keydown",function(l){return i.onKeydown(l,!0)}),s.qZA()(),s.YNc(5,J3,3,13,"span",5),s.YNc(6,e6,2,4,"span",6),s.YNc(7,t6,2,4,"input",7),s.YNc(8,n6,1,0,"i",8),s.TgZ(9,"div",9),s._UZ(10,"span",10),s.qZA(),s.YNc(11,x6,12,23,"div",11),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.l5B(20,A6,i.disabled,i.overlayVisible,i.focused,i.showClear&&!i.disabled))("ngStyle",i.style),s.xp6(3),s.Q6J("disabled",i.disabled),s.uIk("id",i.inputId)("placeholder",i.placeholder)("aria-label",i.ariaLabel)("aria-expanded",!1)("aria-labelledby",i.ariaLabelledBy)("tabindex",i.tabindex)("autofocus",i.autofocus)("aria-activedescendant",i.overlayVisible?i.labelId:null),s.xp6(2),s.Q6J("ngIf",!i.editable&&null!=i.label),s.xp6(1),s.Q6J("ngIf",!i.editable&&null==i.label),s.xp6(1),s.Q6J("ngIf",i.editable),s.xp6(1),s.Q6J("ngIf",null!=i.value&&i.showClear&&!i.disabled),s.xp6(1),s.uIk("aria-expanded",i.overlayVisible),s.xp6(1),s.Q6J("ngClass",i.dropdownIcon),s.xp6(1),s.Q6J("ngIf",i.overlayVisible))},directives:[O6,tI,gn,ir,qt,MP,zs,nn,EP,xP],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[dg("overlayAnimation",[Bs(":enter",[fr({opacity:0,transform:"scaleY(0.8)"}),bo("{{showTransitionParams}}")]),Bs(":leave",[bo("{{hideTransitionParams}}",fr({opacity:0}))])])]},changeDetection:0}),n})(),k6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Pi,Kh,nI,OP,ug],Kh,nI]}),n})(),VP=(()=>{class n{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,ge.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",this.label?e.appendChild(document.createTextNode(this.label)):e.innerHTML="&nbsp;",this.el.nativeElement.appendChild(e),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}createIconEl(){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&ge.addClass(e,i);let r=this.getIconClass();r&&ge.addMultipleClasses(e,r);let l=ge.findSingle(this.el.nativeElement,".p-button-label");l?this.el.nativeElement.insertBefore(e,l):this.el.nativeElement.appendChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let e=ge.findSingle(this.el.nativeElement,".p-button-icon");e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let e=ge.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(e)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(ge.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),jx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Pi,ug]]}),n})();const R6=["container"],N6=["inputfield"],F6=["contentWrapper"];function L6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",8),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).clear()}),s.qZA()}}function V6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",9),s.NdJ("click",function(r){s.CHM(e),s.oxw();const l=s.MAs(1);return s.oxw().onButtonClick(r,l)}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("icon",e.icon)("disabled",e.disabled),s.uIk("aria-label",e.iconAriaLabel)}}function U6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",4,5),s.NdJ("focus",function(r){return s.CHM(e),s.oxw().onInputFocus(r)})("keydown",function(r){return s.CHM(e),s.oxw().onInputKeydown(r)})("click",function(){return s.CHM(e),s.oxw().onInputClick()})("blur",function(r){return s.CHM(e),s.oxw().onInputBlur(r)})("input",function(r){return s.CHM(e),s.oxw().onUserInput(r)}),s.qZA(),s.YNc(2,L6,1,0,"i",6),s.YNc(3,V6,1,3,"button",7)}if(2&n){const e=s.oxw();s.Tol(e.inputStyleClass),s.Q6J("value",e.inputFieldValue)("readonly",e.readonlyInput)("ngStyle",e.inputStyle)("placeholder",e.placeholder||"")("disabled",e.disabled)("ngClass","p-inputtext p-component"),s.uIk("id",e.inputId)("name",e.name)("required",e.required)("aria-required",e.required)("tabindex",e.tabindex)("inputmode",e.touchUI?"off":null)("aria-labelledby",e.ariaLabelledBy),s.xp6(2),s.Q6J("ngIf",e.showClear&&!e.disabled&&null!=e.value),s.xp6(1),s.Q6J("ngIf",e.showIcon)}}function B6(n,t){1&n&&s.GkF(0)}function H6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",30),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(4).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(4).onPrevButtonClick(r)}),s._UZ(1,"span",31),s.qZA()}}function j6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",32),s.NdJ("click",function(r){return s.CHM(e),s.oxw(4).switchToMonthView(r)})("keydown",function(r){return s.CHM(e),s.oxw(4).onContainerButtonKeydown(r)}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.Q6J("disabled",i.switchViewButtonDisabled()),s.xp6(1),s.hij(" ",i.getMonthName(e.month)," ")}}function q6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",33),s.NdJ("click",function(r){return s.CHM(e),s.oxw(4).switchToYearView(r)})("keydown",function(r){return s.CHM(e),s.oxw(4).onContainerButtonKeydown(r)}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.Q6J("disabled",i.switchViewButtonDisabled()),s.xp6(1),s.hij(" ",i.getYear(e)," ")}}function Z6(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(5);s.xp6(1),s.AsE("",e.yearPickerValues()[0]," - ",e.yearPickerValues()[e.yearPickerValues().length-1],"")}}function G6(n,t){1&n&&s.GkF(0)}const UP=function(n){return{$implicit:n}};function $6(n,t){if(1&n&&(s.TgZ(0,"span",34),s.YNc(1,Z6,2,2,"ng-container",13),s.YNc(2,G6,1,0,"ng-container",35),s.qZA()),2&n){const e=s.oxw(4);s.xp6(1),s.Q6J("ngIf",!e.decadeTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",e.decadeTemplate)("ngTemplateOutletContext",s.VKq(3,UP,e.yearPickerValues))}}function z6(n,t){if(1&n&&(s.TgZ(0,"th",41)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=s.oxw(5);s.xp6(2),s.Oqu(e.getTranslation("weekHeader"))}}function W6(n,t){if(1&n&&(s.TgZ(0,"th",42)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e)}}function Y6(n,t){if(1&n&&(s.TgZ(0,"td",45)(1,"span",46),s._uU(2),s.qZA()()),2&n){const e=s.oxw().index,i=s.oxw(2).$implicit;s.xp6(2),s.hij(" ",i.weekNumbers[e]," ")}}function K6(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2).$implicit;s.xp6(1),s.Oqu(e.day)}}function Q6(n,t){1&n&&s.GkF(0)}const J6=function(n,t){return{"p-highlight":n,"p-disabled":t}};function X6(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"span",48),s.NdJ("click",function(r){s.CHM(e);const l=s.oxw().$implicit;return s.oxw(6).onDateSelect(r,l)})("keydown",function(r){s.CHM(e);const l=s.oxw().$implicit,u=s.oxw(3).index;return s.oxw(3).onDateCellKeydown(r,l,u)}),s.YNc(2,K6,2,1,"ng-container",13),s.YNc(3,Q6,1,0,"ng-container",35),s.qZA(),s.BQk()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(6);s.xp6(1),s.Q6J("ngClass",s.WLB(4,J6,i.isSelected(e),!e.selectable)),s.xp6(1),s.Q6J("ngIf",!i.dateTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",s.VKq(7,UP,e))}}const eH=function(n,t){return{"p-datepicker-other-month":n,"p-datepicker-today":t}};function tH(n,t){if(1&n&&(s.TgZ(0,"td",47),s.YNc(1,X6,4,9,"ng-container",13),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(6);s.Q6J("ngClass",s.WLB(2,eH,e.otherMonth,e.today)),s.xp6(1),s.Q6J("ngIf",!e.otherMonth||i.showOtherMonths)}}function nH(n,t){if(1&n&&(s.TgZ(0,"tr"),s.YNc(1,Y6,3,1,"td",43),s.YNc(2,tH,2,5,"td",44),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(5);s.xp6(1),s.Q6J("ngIf",i.showWeek),s.xp6(1),s.Q6J("ngForOf",e)}}function iH(n,t){if(1&n&&(s.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),s.YNc(4,z6,3,1,"th",38),s.YNc(5,W6,3,1,"th",39),s.qZA()(),s.TgZ(6,"tbody"),s.YNc(7,nH,3,2,"tr",40),s.qZA()()()),2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.xp6(4),s.Q6J("ngIf",i.showWeek),s.xp6(1),s.Q6J("ngForOf",i.weekDays),s.xp6(2),s.Q6J("ngForOf",e.dates)}}function rH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",20)(1,"div",21),s.YNc(2,H6,2,0,"button",22),s.TgZ(3,"div",23),s.YNc(4,j6,2,2,"button",24),s.YNc(5,q6,2,2,"button",25),s.YNc(6,$6,3,5,"span",26),s.qZA(),s.TgZ(7,"button",27),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(3).onNextButtonClick(r)}),s._UZ(8,"span",28),s.qZA()(),s.YNc(9,iH,8,3,"div",29),s.qZA()}if(2&n){const e=t.index,i=s.oxw(3);s.xp6(2),s.Q6J("ngIf",0===e),s.xp6(2),s.Q6J("ngIf","date"===i.currentView),s.xp6(1),s.Q6J("ngIf","year"!==i.currentView),s.xp6(1),s.Q6J("ngIf","year"===i.currentView),s.xp6(1),s.Udp("display",1===i.numberOfMonths||e===i.numberOfMonths-1?"inline-flex":"none"),s.xp6(2),s.Q6J("ngIf","date"===i.currentView)}}const BP=function(n){return{"p-highlight":n}};function sH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",51),s.NdJ("click",function(r){const u=s.CHM(e).index;return s.oxw(4).onMonthSelect(r,u)})("keydown",function(r){const u=s.CHM(e).index;return s.oxw(4).onMonthCellKeydown(r,u)}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(4);s.Q6J("ngClass",s.VKq(2,BP,r.isMonthSelected(i))),s.xp6(1),s.hij(" ",e," ")}}function oH(n,t){if(1&n&&(s.TgZ(0,"div",49),s.YNc(1,sH,2,4,"span",50),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.monthPickerValues())}}function aH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",54),s.NdJ("click",function(r){const u=s.CHM(e).$implicit;return s.oxw(4).onYearSelect(r,u)})("keydown",function(r){const u=s.CHM(e).$implicit;return s.oxw(4).onYearCellKeydown(r,u)}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("ngClass",s.VKq(2,BP,i.isYearSelected(e))),s.xp6(1),s.hij(" ",e," ")}}function lH(n,t){if(1&n&&(s.TgZ(0,"div",52),s.YNc(1,aH,2,4,"span",53),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.yearPickerValues())}}function cH(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"div",16),s.YNc(2,rH,10,7,"div",17),s.qZA(),s.YNc(3,oH,2,1,"div",18),s.YNc(4,lH,2,1,"div",19),s.BQk()),2&n){const e=s.oxw(2);s.xp6(2),s.Q6J("ngForOf",e.months),s.xp6(1),s.Q6J("ngIf","month"===e.currentView),s.xp6(1),s.Q6J("ngIf","year"===e.currentView)}}function uH(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function dH(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function hH(n,t){if(1&n&&(s.TgZ(0,"div",60)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=s.oxw(3);s.xp6(2),s.Oqu(e.timeSeparator)}}function fH(n,t){1&n&&(s.ynx(0),s._uU(1,"0"),s.BQk())}function pH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",65)(1,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).incrementSecond(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(3).incrementSecond(r)})("mousedown",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseDown(r,2,1)})("mouseup",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(3).onTimePickerElementMouseLeave()}),s._UZ(2,"span",58),s.qZA(),s.TgZ(3,"span"),s.YNc(4,fH,2,0,"ng-container",13),s._uU(5),s.qZA(),s.TgZ(6,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).decrementSecond(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(3).decrementSecond(r)})("mousedown",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseDown(r,2,-1)})("mouseup",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(3).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(3).onTimePickerElementMouseLeave()}),s._UZ(7,"span",59),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(4),s.Q6J("ngIf",e.currentSecond<10),s.xp6(1),s.Oqu(e.currentSecond)}}function gH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",66)(1,"button",67),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)}),s._UZ(2,"span",58),s.qZA(),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.TgZ(5,"button",67),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(3).toggleAMPM(r)}),s._UZ(6,"span",59),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(4),s.Oqu(e.pm?"PM":"AM")}}function mH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",55)(1,"div",56)(2,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).incrementHour(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).incrementHour(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,0,1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(3,"span",58),s.qZA(),s.TgZ(4,"span"),s.YNc(5,uH,2,0,"ng-container",13),s._uU(6),s.qZA(),s.TgZ(7,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).decrementHour(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).decrementHour(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,0,-1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(8,"span",59),s.qZA()(),s.TgZ(9,"div",60)(10,"span"),s._uU(11),s.qZA()(),s.TgZ(12,"div",61)(13,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).incrementMinute(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).incrementMinute(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,1,1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(14,"span",58),s.qZA(),s.TgZ(15,"span"),s.YNc(16,dH,2,0,"ng-container",13),s._uU(17),s.qZA(),s.TgZ(18,"button",57),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return s.CHM(e),s.oxw(2).decrementMinute(r)})("keydown.space",function(r){return s.CHM(e),s.oxw(2).decrementMinute(r)})("mousedown",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseDown(r,1,-1)})("mouseup",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return s.CHM(e),s.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return s.CHM(e),s.oxw(2).onTimePickerElementMouseLeave()}),s._UZ(19,"span",59),s.qZA()(),s.YNc(20,hH,3,1,"div",62),s.YNc(21,pH,8,2,"div",63),s.YNc(22,gH,7,1,"div",64),s.qZA()}if(2&n){const e=s.oxw(2);s.xp6(5),s.Q6J("ngIf",e.currentHour<10),s.xp6(1),s.Oqu(e.currentHour),s.xp6(5),s.Oqu(e.timeSeparator),s.xp6(5),s.Q6J("ngIf",e.currentMinute<10),s.xp6(1),s.Oqu(e.currentMinute),s.xp6(3),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf","12"==e.hourFormat)}}const HP=function(n){return[n]};function _H(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",68)(1,"button",69),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(2).onTodayButtonClick(r)}),s.qZA(),s.TgZ(2,"button",69),s.NdJ("keydown",function(r){return s.CHM(e),s.oxw(2).onContainerButtonKeydown(r)})("click",function(r){return s.CHM(e),s.oxw(2).onClearButtonClick(r)}),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("label",e.getTranslation("today"))("ngClass",s.VKq(4,HP,e.todayButtonStyleClass)),s.xp6(1),s.Q6J("label",e.getTranslation("clear"))("ngClass",s.VKq(6,HP,e.clearButtonStyleClass))}}function yH(n,t){1&n&&s.GkF(0)}const vH=function(n,t,e,i,r,l){return{"p-datepicker p-component":!0,"p-datepicker-inline":n,"p-disabled":t,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":l}},jP=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},bH=function(n){return{value:"visibleTouchUI",params:n}},wH=function(n){return{value:"visible",params:n}};function CH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",10,11),s.NdJ("@overlayAnimation.start",function(r){return s.CHM(e),s.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.done",function(r){return s.CHM(e),s.oxw().onOverlayAnimationDone(r)})("click",function(r){return s.CHM(e),s.oxw().onOverlayClick(r)}),s.Hsn(2),s.YNc(3,B6,1,0,"ng-container",12),s.YNc(4,cH,5,3,"ng-container",13),s.YNc(5,mH,23,8,"div",14),s.YNc(6,_H,3,8,"div",15),s.Hsn(7,1),s.YNc(8,yH,1,0,"ng-container",12),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngStyle",e.panelStyle)("ngClass",s.HTZ(11,vH,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,"month"===e.view,e.touchUI))("@overlayAnimation",e.touchUI?s.VKq(21,bH,s.WLB(18,jP,e.showTransitionOptions,e.hideTransitionOptions)):s.VKq(26,wH,s.WLB(23,jP,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0===e.inline),s.xp6(3),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",!e.timeOnly),s.xp6(1),s.Q6J("ngIf",(e.showTime||e.timeOnly)&&"date"===e.currentView),s.xp6(1),s.Q6J("ngIf",e.showButtonBar),s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const TH=[[["p-header"]],[["p-footer"]]],EH=function(n,t,e,i){return{"p-calendar":!0,"p-calendar-w-btn":n,"p-calendar-timeonly":t,"p-calendar-disabled":e,"p-focus":i}},IH=["p-header","p-footer"],DH={provide:uo,useExisting:(0,s.Gpc)(()=>qx),multi:!0};let qx=(()=>{class n{constructor(e,i,r,l,u,f){this.el=e,this.renderer=i,this.cd=r,this.zone=l,this.config=u,this.overlayService=f,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClose=new s.vpe,this.onSelect=new s.vpe,this.onClear=new s.vpe,this.onInput=new s.vpe,this.onTodayClick=new s.vpe,this.onClearClick=new s.vpe,this.onMonthChange=new s.vpe,this.onYearChange=new s.vpe,this.onClickOutside=new s.vpe,this.onShow=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(_,w){return"12"==this.hourFormat?12===_?w?12:0:w?_+12:_:_}}set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){const i=e||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(e){this._minDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){const i=e.split(":"),r=parseInt(i[0]),l=parseInt(i[1]);this.populateYearOptions(r,l)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=WE();const e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":default:this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=ge.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,i){this.yearOptions=[];for(let r=e;r<=i;r++)this.yearOptions.push(r)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),i=this.getTranslation(vo.DAY_NAMES_MIN);for(let r=0;r<7;r++)this.weekDays.push(i[e]),e=6==e?0:++e}monthPickerValues(){let e=[];for(let i=0;i<=11;i++)e.push(this.config.getTranslation("monthNamesShort")[i]);return e}yearPickerValues(){let e=[],i=this.currentYear-this.currentYear%10;for(let r=0;r<10;r++)e.push(i+r);return e}createMonths(e,i){this.months=this.months=[];for(let r=0;r<this.numberOfMonths;r++){let l=e+r,u=i;l>11&&(l=l%11-1,u=i+1),this.months.push(this.createMonth(l,u))}}getWeekNumber(e){let i=new Date(e.getTime());i.setDate(i.getDate()+4-(i.getDay()||7));let r=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((r-i.getTime())/864e5)/7)+1}createMonth(e,i){let r=[],l=this.getFirstDayOfMonthIndex(e,i),u=this.getDaysCountInMonth(e,i),f=this.getDaysCountInPrevMonth(e,i),_=1,w=new Date,D=[],A=Math.ceil((u+l)/7);for(let N=0;N<A;N++){let V=[];if(0==N){for(let ie=f-l+1;ie<=f;ie++){let Ce=this.getPreviousMonthAndYear(e,i);V.push({day:ie,month:Ce.month,year:Ce.year,otherMonth:!0,today:this.isToday(w,ie,Ce.month,Ce.year),selectable:this.isSelectable(ie,Ce.month,Ce.year,!0)})}let B=7-V.length;for(let ie=0;ie<B;ie++)V.push({day:_,month:e,year:i,today:this.isToday(w,_,e,i),selectable:this.isSelectable(_,e,i,!1)}),_++}else for(let B=0;B<7;B++){if(_>u){let ie=this.getNextMonthAndYear(e,i);V.push({day:_-u,month:ie.month,year:ie.year,otherMonth:!0,today:this.isToday(w,_-u,ie.month,ie.year),selectable:this.isSelectable(_-u,ie.month,ie.year,!0)})}else V.push({day:_,month:e,year:i,today:this.isToday(w,_,e,i),selectable:this.isSelectable(_,e,i,!1)});_++}this.showWeek&&D.push(this.getWeekNumber(new Date(V[0].year,V[0].month,V[0].day))),r.push(V)}return{month:e,year:i,dates:r,weekNumbers:D}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-e,this.yearOptions[this.yearOptions.length-1]-e)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+e,this.yearOptions[this.yearOptions.length-1]+e)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,i){!this.disabled&&i.selectable?(this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((r,l)=>!this.isDateEquals(r,i)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()):e.preventDefault()}shouldSelectDate(e){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(e,i){"month"===this.view?this.onDateSelect(e,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,i){"year"===this.view?this.onDateSelect(e,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value)if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++)e+=this.formatDateTime(this.value[i]),i!==this.value.length-1&&(e+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let r=this.value[1];e=this.formatDateTime(this.value[0]),r&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(r))}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let i=this.keepInvalid?e:null;return this.isValidDate(e)&&(this.timeOnly?i=this.formatTime(e):(i=this.formatDate(e,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(e)))),i}setCurrentHourPM(e){"12"==this.hourFormat?(this.pm=e>11,this.currentHour=e>=12?12==e?12:e-12:0==e?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let i=new Date(e.year,e.month,e.day);if(this.showTime&&(i.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let r=this.value[0],l=this.value[1];!l&&i.getTime()>=r.getTime()?l=i:(r=i,l=null),this.updateModel([r,l])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(e){if(this.value=e,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;this.value&&(i=this.value.map(r=>this.formatDateTime(r))),this.onModelChange(i)}}getFirstDayOfMonthIndex(e,i){let r=new Date;r.setDate(1),r.setMonth(e),r.setFullYear(i);let l=r.getDay()+this.getSundayIndex();return l>=7?l-7:l}getDaysCountInMonth(e,i){return 32-this.daylightSavingAdjust(new Date(i,e,32)).getDate()}getDaysCountInPrevMonth(e,i){let r=this.getPreviousMonthAndYear(e,i);return this.getDaysCountInMonth(r.month,r.year)}getPreviousMonthAndYear(e,i){let r,l;return 0===e?(r=11,l=i-1):(r=e-1,l=i),{month:r,year:l}}getNextMonthAndYear(e,i){let r,l;return 11===e?(r=0,l=i+1):(r=e+1,l=i),{month:r,year:l}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let i=!1;for(let r of this.value)if(i=this.isDateEquals(r,e),i)break;return i}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(e){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&i.getMonth()===e&&i.getFullYear()===this.currentYear}return!1}isYearSelected(e){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&i.getFullYear()===e}return!1}isDateEquals(e,i){return!!(e&&e instanceof Date)&&e.getDate()===i.day&&e.getMonth()===i.month&&e.getFullYear()===i.year}isDateBetween(e,i,r){if(e&&i){let u=new Date(r.year,r.month,r.day);return e.getTime()<=u.getTime()&&i.getTime()>=u.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(e,i,r,l){return e.getDate()===i&&e.getMonth()===r&&e.getFullYear()===l}isSelectable(e,i,r,l){let u=!0,f=!0,_=!0,w=!0;return!(l&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>r||this.minDate.getFullYear()===r&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>e))&&(u=!1),this.maxDate&&(this.maxDate.getFullYear()<r||this.maxDate.getFullYear()===r&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<e))&&(f=!1),this.disabledDates&&(_=!this.isDateDisabled(e,i,r)),this.disabledDays&&(w=!this.isDayDisabled(e,i,r)),u&&f&&_&&w)}isDateDisabled(e,i,r){if(this.disabledDates)for(let l of this.disabledDates)if(l.getFullYear()===r&&l.getMonth()===i&&l.getDate()===e)return!0;return!1}isDayDisabled(e,i,r){if(this.disabledDays){let u=new Date(r,i,e).getDay();return-1!==this.disabledDays.indexOf(u)}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,i){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return"month"===this.currentView?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:this.inline||this.trapFocus(e);break;case 27:this.overlayVisible=!1,e.preventDefault()}}onInputKeydown(e){this.isKeydown=!0,40===e.keyCode&&this.contentViewChild?this.trapFocus(e):27===e.keyCode||13===e.keyCode?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):9===e.keyCode&&this.contentViewChild&&(ge.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,i,r){const l=e.currentTarget,u=l.parentElement;switch(e.which){case 40:{l.tabIndex="-1";let f=ge.index(u),_=u.parentElement.nextElementSibling;_?ge.hasClass(_.children[f].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(_.children[f].children[0].tabIndex="0",_.children[f].children[0].focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 38:{l.tabIndex="-1";let f=ge.index(u),_=u.parentElement.previousElementSibling;if(_){let w=_.children[f].children[0];ge.hasClass(w,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(w.tabIndex="0",w.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{l.tabIndex="-1";let f=u.previousElementSibling;if(f){let _=f.children[0];ge.hasClass(_,"p-disabled")||ge.hasClass(_.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,r):(_.tabIndex="0",_.focus())}else this.navigateToMonth(!0,r);e.preventDefault();break}case 39:{l.tabIndex="-1";let f=u.nextElementSibling;if(f){let _=f.children[0];ge.hasClass(_,"p-disabled")?this.navigateToMonth(!1,r):(_.tabIndex="0",_.focus())}else this.navigateToMonth(!1,r);e.preventDefault();break}case 13:case 32:this.onDateSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onMonthCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var l=r.parentElement.children,u=ge.index(r);let f=l[40===e.which?u+3:u-3];f&&(f.tabIndex="0",f.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let f=r.previousElementSibling;f?(f.tabIndex="0",f.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let f=r.nextElementSibling;f?(f.tabIndex="0",f.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:this.onMonthSelect(e,i),e.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onYearCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var l=r.parentElement.children,u=ge.index(r);let f=l[40===e.which?u+2:u-2];f&&(f.tabIndex="0",f.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let f=r.previousElementSibling;f?(f.tabIndex="0",f.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let f=r.nextElementSibling;f?(f.tabIndex="0",f.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:this.onYearSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.trapFocus(e)}}navigateToMonth(e,i){if(e)if(1===this.numberOfMonths||0===i)this.navigationState={backward:!0},this.navBackward(event);else{let l=ge.find(this.contentViewChild.nativeElement.children[i-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),u=l[l.length-1];u.tabIndex="0",u.focus()}else if(1===this.numberOfMonths||i===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let l=ge.findSingle(this.contentViewChild.nativeElement.children[i+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");l.tabIndex="0",l.focus()}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?ge.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():ge.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;i=ge.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(e=i[i.length-1])}else e=ge.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){let e;if("month"===this.currentView){let i=ge.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),r=ge.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");i.forEach(l=>l.tabIndex=-1),e=r||i[0],0===i.length&&ge.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(u=>u.tabIndex=-1)}else if("year"===this.currentView){let i=ge.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),r=ge.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year.p-highlight");i.forEach(l=>l.tabIndex=-1),e=r||i[0],0===i.length&&ge.find(this.contentViewChild.nativeElement,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(u=>u.tabIndex=-1)}else if(e=ge.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"),!e){let i=ge.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");e=i||ge.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}e&&(e.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{e.focus()},1),this.preventFocus=!1)}trapFocus(e){let i=ge.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);if(e.shiftKey)if(-1==r||0===r)if(this.focusTrap)i[i.length-1].focus();else{if(-1===r)return this.hideOverlay();if(0===r)return}else i[r-1].focus();else if(-1==r||r===i.length-1){if(!this.focusTrap&&-1!=r)return this.hideOverlay();i[0].focus()}else i[r+1].focus()}else i[0].focus();e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(e,i,r,l){let u=this.value;const f=this.convertTo24Hour(e,l);this.isRangeSelection()&&(u=this.value[1]||this.value[0]),this.isMultipleSelection()&&(u=this.value[this.value.length-1]);const _=u?u.toDateString():null;return!(this.minDate&&_&&this.minDate.toDateString()===_&&(this.minDate.getHours()>f||this.minDate.getHours()===f&&(this.minDate.getMinutes()>i||this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r))||this.maxDate&&_&&this.maxDate.toDateString()===_&&(this.maxDate.getHours()<f||this.maxDate.getHours()===f&&(this.maxDate.getMinutes()<i||this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<r)))}incrementHour(e){let r=this.currentHour+this.stepHour,l=this.pm;"24"==this.hourFormat?r=r>=24?r-24:r:"12"==this.hourFormat&&(this.currentHour<12&&r>11&&(l=!this.pm),r=r>=13?r-12:r),this.validateTime(r,this.currentMinute,this.currentSecond,l)&&(this.currentHour=r,this.pm=l),e.preventDefault()}onTimePickerElementMouseDown(e,i,r){this.disabled||(this.repeat(e,null,i,r),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,i,r,l){let u=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,r,l),this.cd.markForCheck()},u),r){case 0:1===l?this.incrementHour(e):this.decrementHour(e);break;case 1:1===l?this.incrementMinute(e):this.decrementMinute(e);break;case 2:1===l?this.incrementSecond(e):this.decrementSecond(e)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let i=this.currentHour-this.stepHour,r=this.pm;"24"==this.hourFormat?i=i<0?24+i:i:"12"==this.hourFormat&&(12===this.currentHour&&(r=!this.pm),i=i<=0?12+i:i),this.validateTime(i,this.currentMinute,this.currentSecond,r)&&(this.currentHour=i,this.pm=r),e.preventDefault()}incrementMinute(e){let i=this.currentMinute+this.stepMinute;i=i>59?i-60:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}decrementMinute(e){let i=this.currentMinute-this.stepMinute;i=i<0?60+i:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}incrementSecond(e){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}decrementSecond(e){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,e.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(e=this.value[1]?[this.value[0],e]:[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){const i=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,i)&&(this.pm=i,this.updateTime()),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let i=e.target.value;try{let r=this.parseValueFromString(i);this.isValidSelection(r)&&(this.updateModel(r),this.updateUI())}catch(r){this.updateModel(this.keepInvalid?i:null)}this.filled=null!=i&&i.length,this.onInput.emit(e)}isValidSelection(e){let i=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)||(i=!1):e.every(r=>this.isSelectable(r.getDate(),r.getMonth(),r.getFullYear(),!1))&&this.isRangeSelection()&&(i=e.length>1&&e[1]>e[0]),i}parseValueFromString(e){if(!e||0===e.trim().length)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(e);else if(this.isMultipleSelection()){let r=e.split(this.multipleSeparator);i=[];for(let l of r)i.push(this.parseDateTime(l.trim()))}else if(this.isRangeSelection()){let r=e.split(" "+this.rangeSeparator+" ");i=[];for(let l=0;l<r.length;l++)i[l]=this.parseDateTime(r[l].trim())}return i}parseDateTime(e){let i,r=e.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,r[0],r[1]);else{const l=this.getDateFormat();if(this.showTime){let u="12"==this.hourFormat?r.pop():null,f=r.pop();i=this.parseDate(r.join(" "),l),this.populateTime(i,f,u)}else i=this.parseDate(e,l)}return i}populateTime(e,i,r){if("12"==this.hourFormat&&!r)throw"Invalid Time";this.pm="PM"===r||"pm"===r;let l=this.parseTime(i);e.setHours(l.hour),e.setMinutes(l.minute),e.setSeconds(l.second)}isValidDate(e){return e instanceof Date&&wn.isNotEmpty(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e[0]);let i=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?Pr.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Pr.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e)}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Pr.clear(e.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):ge.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=ge.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=ge.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=ge.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",ge.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):ge.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(e){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(e.style.zIndex)-1),ge.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",r=>{this.disableModality()}),document.body.appendChild(this.mask),ge.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(ge.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){document.body.removeChild(this.mask);let i,e=document.body.children;for(let r=0;r<e.length;r++)if(ge.hasClass(e[r],"p-datepicker-mask-scrollblocker")){i=!0;break}i||ge.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(e){if(this.value=e,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch(i){this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(vo.FIRST_DAY_OF_WEEK)}formatDate(e,i){if(!e)return"";let r;const l=D=>{const A=r+1<i.length&&i.charAt(r+1)===D;return A&&r++,A},u=(D,A,N)=>{let V=""+A;if(l(D))for(;V.length<N;)V="0"+V;return V},f=(D,A,N,V)=>l(D)?V[A]:N[A];let _="",w=!1;if(e)for(r=0;r<i.length;r++)if(w)"'"!==i.charAt(r)||l("'")?_+=i.charAt(r):w=!1;else switch(i.charAt(r)){case"d":_+=u("d",e.getDate(),2);break;case"D":_+=f("D",e.getDay(),this.getTranslation(vo.DAY_NAMES_SHORT),this.getTranslation(vo.DAY_NAMES));break;case"o":_+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":_+=u("m",e.getMonth()+1,2);break;case"M":_+=f("M",e.getMonth(),this.getTranslation(vo.MONTH_NAMES_SHORT),this.getTranslation(vo.MONTH_NAMES));break;case"y":_+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":_+=e.getTime();break;case"!":_+=1e4*e.getTime()+this.ticksTo1970;break;case"'":l("'")?_+="'":w=!0;break;default:_+=i.charAt(r)}return _}formatTime(e){if(!e)return"";let i="",r=e.getHours(),l=e.getMinutes(),u=e.getSeconds();return"12"==this.hourFormat&&r>11&&12!=r&&(r-=12),i+="12"==this.hourFormat&&0===r?12:r<10?"0"+r:r,i+=":",i+=l<10?"0"+l:l,this.showSeconds&&(i+=":",i+=u<10?"0"+u:u),"12"==this.hourFormat&&(i+=e.getHours()>11?" PM":" AM"),i}parseTime(e){let i=e.split(":");if(i.length!==(this.showSeconds?3:2))throw"Invalid time";let l=parseInt(i[0]),u=parseInt(i[1]),f=this.showSeconds?parseInt(i[2]):null;if(isNaN(l)||isNaN(u)||l>23||u>59||"12"==this.hourFormat&&l>12||this.showSeconds&&(isNaN(f)||f>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==l&&this.pm?l+=12:!this.pm&&12===l&&(l-=12)),{hour:l,minute:u,second:f}}parseDate(e,i){if(null==i||null==e)throw"Invalid arguments";if(""===(e="object"==typeof e?e.toString():e+""))return null;let r,l,u,B,f=0,_="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),w=-1,D=-1,A=-1,N=-1,V=!1,ie=$e=>{let je=r+1<i.length&&i.charAt(r+1)===$e;return je&&r++,je},Ce=$e=>{let je=ie($e),vt="@"===$e?14:"!"===$e?20:"y"===$e&&je?4:"o"===$e?3:2,Zt=new RegExp("^\\d{"+("y"===$e?vt:1)+","+vt+"}"),_n=e.substring(f).match(Zt);if(!_n)throw"Missing number at position "+f;return f+=_n[0].length,parseInt(_n[0],10)},it=($e,je,vt)=>{let Ct=-1,Zt=ie($e)?vt:je,_n=[];for(let Kn=0;Kn<Zt.length;Kn++)_n.push([Kn,Zt[Kn]]);_n.sort((Kn,Hs)=>-(Kn[1].length-Hs[1].length));for(let Kn=0;Kn<_n.length;Kn++){let Hs=_n[Kn][1];if(e.substr(f,Hs.length).toLowerCase()===Hs.toLowerCase()){Ct=_n[Kn][0],f+=Hs.length;break}}if(-1!==Ct)return Ct+1;throw"Unknown name at position "+f},rt=()=>{if(e.charAt(f)!==i.charAt(r))throw"Unexpected literal at position "+f;f++};for("month"===this.view&&(A=1),r=0;r<i.length;r++)if(V)"'"!==i.charAt(r)||ie("'")?rt():V=!1;else switch(i.charAt(r)){case"d":A=Ce("d");break;case"D":it("D",this.getTranslation(vo.DAY_NAMES_SHORT),this.getTranslation(vo.DAY_NAMES));break;case"o":N=Ce("o");break;case"m":D=Ce("m");break;case"M":D=it("M",this.getTranslation(vo.MONTH_NAMES_SHORT),this.getTranslation(vo.MONTH_NAMES));break;case"y":w=Ce("y");break;case"@":B=new Date(Ce("@")),w=B.getFullYear(),D=B.getMonth()+1,A=B.getDate();break;case"!":B=new Date((Ce("!")-this.ticksTo1970)/1e4),w=B.getFullYear(),D=B.getMonth()+1,A=B.getDate();break;case"'":ie("'")?rt():V=!0;break;default:rt()}if(f<e.length&&(u=e.substr(f),!/^\s+/.test(u)))throw"Extra/unparsed characters found in date: "+u;if(-1===w?w=(new Date).getFullYear():w<100&&(w+=(new Date).getFullYear()-(new Date).getFullYear()%100+(w<=_?0:-100)),N>-1)for(D=1,A=N;l=this.getDaysCountInMonth(w,D-1),!(A<=l);)D++,A-=l;if(B=this.daylightSavingAdjust(new Date(w,D-1,A)),B.getFullYear()!==w||B.getMonth()+1!==D||B.getDate()!==A)throw"Invalid date";return B}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(e){let i=new Date,r={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(e,r),this.onTodayClick.emit(e)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let e="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(r=>!(!r.breakpoint||!r.numMonths)).sort((r,l)=>-1*r.breakpoint.localeCompare(l.breakpoint,void 0,{numeric:!0}));for(let r=0;r<i.length;r++){let{breakpoint:l,numMonths:u}=i[r],f=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${u}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let _=u;_<this.numberOfMonths;_++)f+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${_+1}) {\n                                display: none !important;\n                            }\n                        `;e+=`\n                        @media screen and (max-width: ${l}) {\n                            ${f}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=e}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new YE(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return ge.hasClass(e.target,"p-datepicker-prev")||ge.hasClass(e.target,"p-datepicker-prev-icon")||ge.hasClass(e.target,"p-datepicker-next")||ge.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!ge.isAndroid()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Pr.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(ag),s.Y36(Rx))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-calendar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,lg,4),2&e){let l;s.iGM(l=s.CRH())&&(i.templates=l)}},viewQuery:function(e,i){if(1&e&&(s.Gf(R6,5),s.Gf(N6,5),s.Gf(F6,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.inputfieldViewChild=r.first),s.iGM(r=s.CRH())&&(i.content=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus)("p-calendar-clearable",i.showClear&&!i.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[s._Bn([DH])],ngContentSelectors:IH,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(e,i){1&e&&(s.F$t(TH),s.TgZ(0,"span",0,1),s.YNc(2,U6,4,17,"ng-template",2),s.YNc(3,CH,9,28,"div",3),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.l5B(6,EH,i.showIcon,i.timeOnly,i.disabled,i.focus))("ngStyle",i.style),s.xp6(2),s.Q6J("ngIf",!i.inline),s.xp6(1),s.Q6J("ngIf",i.inline||i.overlayVisible))},directives:[gn,ir,qt,VP,cg,zs,nn],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[dg("overlayAnimation",[aP("visibleTouchUI",fr({transform:"translate(-50%,-50%)",opacity:1})),Bs("void => visible",[fr({opacity:0,transform:"scaleY(0.8)"}),bo("{{showTransitionParams}}",fr({opacity:1,transform:"*"}))]),Bs("visible => void",[bo("{{hideTransitionParams}}",fr({opacity:0}))]),Bs("void => visibleTouchUI",[fr({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),bo("{{showTransitionParams}}")]),Bs("visibleTouchUI => void",[bo("{{hideTransitionParams}}",fr({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),n})(),SH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Pi,jx,Kh,ug],jx,Kh]}),n})(),xH=(()=>{class n{constructor(){this.horarioEvent=new s.vpe,this.minTime=new Date,this.maxTime=new Date,this.days=[{name:"Lunes"},{name:"Martes"},{name:"Mi\xe9rcoles"},{name:"Jueves"},{name:"Viernes"},{name:"Sabados"}]}ngOnInit(){this.minTime.setHours(8),this.minTime.setMinutes(0),this.maxTime.setHours(17),this.maxTime.setMinutes(30),this.especialidades&&(this.especialidadesDisplay=this.especialidades.map(e=>({name:e})))}onSelectTime(e){e?this.desde=this.getTime(this.timeDesdeValue):this.hasta=this.getTime(this.timeHastaValue)}getTime(e){e.getMinutes()<=15||e.getMinutes()>45?e.setMinutes(0):e.getMinutes()<=45&&e.setMinutes(30);let i=e.getMinutes()<10?e.getMinutes()+"0":e.getMinutes();return(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+i}onClickSave(){let e={dias:this.selectedDay.map(i=>i.name),desde:this.desde,hasta:this.hasta,esp:this.selectedEsp};e.dias.length>0&&e.desde&&e.hasta&&this.horarioEvent.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-horarios"]],inputs:{especialidades:"especialidades"},outputs:{horarioEvent:"horarioEvent"},decls:18,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-12","mb-3"],["defaultLabel","Selecciona un d\xeda","optionLabel","name","selectedItemsLabel","{0} d\xedas seleccionados",3,"filter","options","ngModel","ngModelChange"],["optionLabel","name","optionValue","name",3,"options","ngModel","ngModelChange"],[1,"col","mb-3"],[3,"ngModel","showTime","timeOnly","minDate","maxDate","readonlyInput","defaultDate","onSelect","ngModelChange"],[1,"col-12","mt-5"],["pButton","","pRipple","","type","button","label","Guardar",1,"p-button-raised","p-button-success",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),s._uU(4,"D\xedas"),s.qZA(),s.TgZ(5,"p-multiSelect",3),s.NdJ("ngModelChange",function(l){return i.selectedDay=l}),s.qZA()(),s.TgZ(6,"div",2)(7,"p-dropdown",4),s.NdJ("ngModelChange",function(l){return i.selectedEsp=l}),s.qZA()(),s.TgZ(8,"div",5)(9,"h5"),s._uU(10,"Desde"),s.qZA(),s.TgZ(11,"p-calendar",6),s.NdJ("onSelect",function(){return i.onSelectTime(!0)})("ngModelChange",function(l){return i.timeDesdeValue=l}),s.qZA()(),s.TgZ(12,"div",5)(13,"h5"),s._uU(14,"Hasta"),s.qZA(),s.TgZ(15,"p-calendar",6),s.NdJ("onSelect",function(){return i.onSelectTime(!1)})("ngModelChange",function(l){return i.timeHastaValue=l}),s.qZA()(),s.TgZ(16,"div",7)(17,"button",8),s.NdJ("click",function(){return i.onClickSave()}),s.qZA()()()()),2&e&&(s.xp6(5),s.Q6J("filter",!1)("options",i.days)("ngModel",i.selectedDay),s.xp6(2),s.Q6J("options",i.especialidadesDisplay)("ngModel",i.selectedEsp),s.xp6(4),s.Q6J("ngModel",i.timeDesdeValue)("showTime",!0)("timeOnly",!0)("minDate",i.minTime)("maxDate",i.maxTime)("readonlyInput",!0)("defaultDate",i.minTime),s.xp6(4),s.Q6J("ngModel",i.timeHastaValue)("showTime",!0)("timeOnly",!0)("minDate",i.minTime)("maxDate",i.maxTime)("readonlyInput",!0)("defaultDate",i.minTime))},directives:[RP,uc,ph,LP,qx,VP],styles:[".input[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{outline:none;display:block;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;color:#0009;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;transition:.3s ease}button[_ngcontent-%COMP%]{outline:none;width:100%;border:0;border-radius:4px;padding:12px 20px;background:#FFFFFF;color:#4285f4;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;text-transform:uppercase;cursor:pointer}label[_ngcontent-%COMP%]{display:block;margin:0 0 10px;color:#4285f4;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;letter-spacing:.2em}h1[_ngcontent-%COMP%]{padding:4px 0;position:relative;z-index:40;color:#4285f4;font-size:24px;font-weight:700;text-transform:uppercase}"]}),n})();function AH(n,t){if(1&n&&(s.TgZ(0,"li",28)(1,"div",29)(2,"span",30),s._uU(3),s.qZA(),s.TgZ(4,"span",30),s._uU(5),s.qZA()(),s.TgZ(6,"div",31)(7,"h4",32),s._uU(8),s.qZA(),s.TgZ(9,"p",33),s._uU(10),s.qZA()(),s.TgZ(11,"div",34)(12,"button",35),s._UZ(13,"i",36),s.qZA()()()),2&n){const e=t.$implicit;s.xp6(3),s.Oqu(e.desde),s.xp6(2),s.Oqu(e.hasta),s.xp6(3),s.Oqu(e.esp),s.xp6(2),s.Oqu(e.dias)}}function MH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"app-horarios",37),s.NdJ("horarioEvent",function(r){s.CHM(e);const l=s.oxw(2).ngIf;return s.oxw().enviarHorario(r,l)}),s.qZA()}if(2&n){const e=s.oxw(2).ngIf;s.Q6J("especialidades",e.especialidad)}}const OH=function(){return{width:"500px",height:"450px"}};function kH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",14)(1,"div",15)(2,"div",16)(3,"h3",17),s._UZ(4,"i",18),s._uU(5," D\xedas y Horarios "),s.qZA()(),s.TgZ(6,"div",19)(7,"div",20)(8,"h3",21),s._uU(9,"Tus Horarios"),s.qZA(),s.TgZ(10,"div",22)(11,"button",23),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).showModalDialog()}),s._uU(12,"Nuevo"),s.qZA()()(),s.TgZ(13,"ul",24),s.YNc(14,AH,14,4,"li",25),s.qZA()()(),s.TgZ(15,"p-dialog",26),s.NdJ("visibleChange",function(r){return s.CHM(e),s.oxw(2).displayModal=r}),s.YNc(16,MH,1,1,"ng-template",27),s.qZA()()}if(2&n){const e=s.oxw().ngIf,i=s.oxw();s.xp6(14),s.Q6J("ngForOf",e.horarios),s.xp6(1),s.Akn(s.DdM(7,OH)),s.Q6J("visible",i.displayModal)("modal",!0)("draggable",!1)("resizable",!1)}}const PH=function(n){return{"background-image":n}};function RH(n,t){if(1&n&&(s.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),s._UZ(4,"div",6),s.TgZ(5,"div",7)(6,"h1"),s._uU(7),s.qZA()()(),s.TgZ(8,"div",8)(9,"a"),s._UZ(10,"i",9),s._uU(11),s.qZA(),s.TgZ(12,"a"),s._UZ(13,"i",10),s._uU(14,"+91-98XXXXXXXX "),s.qZA(),s.TgZ(15,"a"),s._UZ(16,"i",11),s._uU(17,"Hauz Khas, New Delhi "),s.qZA()()()(),s.TgZ(18,"section",12),s.YNc(19,kH,17,8,"div",13),s.qZA()()),2&n){const e=t.ngIf;s.xp6(4),s.Q6J("ngStyle",s.VKq(5,PH,"url("+e.pathImg+")")),s.xp6(3),s.AsE("",e.nombre," ",e.apellido,""),s.xp6(4),s.hij("",e.email," "),s.xp6(8),s.Q6J("ngIf","especialista"==e.rol)}}let NH=(()=>{class n{constructor(e,i,r){this.auth=e,this.afs=i,this.messageService=r,this.displayModal=!1}ngOnInit(){this.$user=this.auth.userObs}showModalDialog(){this.displayModal=!0}enviarHorario(e,i){i.horarios||(i.horarios=[e]),i.horarios.push(e),this.afs.setObj("users",i,i.email).then(r=>{this.messageService.add({severity:"success",summary:"Success",detail:"Horario agregado!"})})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(qo),s.Y36(zh),s.Y36(Yh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-profile"]],features:[s._Bn([Yh])],decls:3,vars:3,consts:[["position","bottom-center"],["class","container-fluid",4,"ngIf"],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-6","align-items-center"],["id","header",1,"primary-colors","col-12"],[1,"profile-pic",3,"ngStyle"],[1,"profile-summary","ml-4"],["id","contacts",1,"secondary-colors"],[1,"fas","fa-envelope"],[1,"fas","fa-mobile-alt"],[1,"fas","fa-map-marker-alt"],[1,"my-app__body"],["class","row",4,"ngIf"],[1,"row"],[1,"col-8","offset-2"],[1,"offset-3","col-6"],[1,"primary-colors","section-head",2,"cursor","default"],[1,"fas","fa-business-time"],[1,"my-card","card"],[1,"my-card__header","card-header"],[1,"my-card__header-title","card-title"],[1,"btn-actions-pane-right"],[1,"btn-wide","btn","btn-success",3,"click"],[1,"my-list","list-group","list-group-flush"],["class","my-list-item list-group-item",4,"ngFor","ngForOf"],["header","NUEVA FECHA","styleClass","p-fluid",3,"visible","modal","draggable","resizable","visibleChange"],["pTemplate","content"],[1,"my-list-item","list-group-item"],[1,"my-list-item__date"],[1,"my-list-item__date-day"],[1,"my-list-item__text"],[1,"my-list-item__text-title"],[1,"my-list-item__text-description"],[1,"my-list-item__fee"],[1,"mr-2","btn-icon","btn-icon-only","btn","btn-outline-danger"],[1,"pe-7s-trash","btn-icon-wrapper"],[3,"especialidades","horarioEvent"]],template:function(e,i){1&e&&(s._UZ(0,"p-toast",0),s.YNc(1,RH,20,7,"div",1),s.ALo(2,"async")),2&e&&(s.xp6(1),s.Q6J("ngIf",s.lcZ(2,1,i.$user)))},directives:[bU,qt,ir,nn,YU,lg,xH],pipes:[Ys],styles:[".primary-colors[_ngcontent-%COMP%]{color:#fff;background:#4285F4}.secondary-colors[_ngcontent-%COMP%]{color:#fff;background:#4d8ff8;border-bottom-left-radius:10px;border-bottom-right-radius:10px}body[_ngcontent-%COMP%]{margin:0;font-family:Bitter,serif}#header[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;border-top-left-radius:10px;border-top-right-radius:10px}#header[_ngcontent-%COMP%]   .profile-summary[_ngcontent-%COMP%]{padding:16px;flex:1}#header[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:150px;height:150px;background-size:cover;background-position:50% 50%;margin:8px;border:4px solid #fff;border-radius:50%;align-self:center;box-shadow:inset -4px -4px 16px #000000b3}#header[_ngcontent-%COMP%]   .profile-summary[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}#contacts[_ngcontent-%COMP%]{display:flex;box-shadow:0 4px 16px #0000004d}#contacts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{flex:1;padding:12px 8px;text-align:center;color:inherit;text-decoration:none}#contacts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2)}i.fas[_ngcontent-%COMP%]{margin-right:8px}.section-head[_ngcontent-%COMP%]{padding:12px 16px;border-radius:50px;margin:8px 0 0 8px;box-shadow:4px 4px 16px #0000004d;text-align:center;margin-bottom:1.875rem}.section-head.bordered[_ngcontent-%COMP%]{background:#fff;border:1px solid #000}.my-app__body[_ngcontent-%COMP%]{padding-top:1.875rem;padding-bottom:1.875rem}.my-card[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1.875rem}.my-card__header[_ngcontent-%COMP%]{display:flex;padding:1.5rem 1.875rem;border-width:0 0 1px;border-color:#00000020;background:none}.my-card__header-title[_ngcontent-%COMP%]{flex:1;margin:0;font-size:18px;font-weight:500}.my-card__header-link[_ngcontent-%COMP%]{color:#9ea0a5}.my-card__header-link[_ngcontent-%COMP%]:hover, .my-card__header-link[_ngcontent-%COMP%]:focus{color:#9ea0a5}.my-card__body[_ngcontent-%COMP%]{padding:1.5rem 1.875rem}.my-list-item[_ngcontent-%COMP%]{display:flex;padding:1rem 1.875rem}.my-list-item__date[_ngcontent-%COMP%], .my-list-item__text[_ngcontent-%COMP%], .my-list-item__fee[_ngcontent-%COMP%]{display:flex;flex-direction:column}.my-list-item__date[_ngcontent-%COMP%]{flex-direction:column;margin-right:25px;color:#9ea0a5}.my-list-item__date-day[_ngcontent-%COMP%]{font-size:18px;line-height:22px}.my-list-item__date-month[_ngcontent-%COMP%]{margin-bottom:4px;font-size:12px;font-weight:500;line-height:14px;text-transform:uppercase}.my-list-item__text[_ngcontent-%COMP%]{flex:1}.my-list-item__text-title[_ngcontent-%COMP%]{margin:0 0 7px;font-size:14px;font-weight:500}.my-list-item__text-description[_ngcontent-%COMP%]{margin:0;color:#9ea0a5;font-size:12px;line-height:14px}.my-list-item__fee[_ngcontent-%COMP%]{text-align:right}.my-list-item__fee-delta[_ngcontent-%COMP%]{color:#3bad4b;font-weight:500}.my-list-item__fee-currency[_ngcontent-%COMP%]{color:#9ea0a5;font-size:12px}.my-list-inline[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.5rem}@media (min-width: 992px){.my-dl[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{float:left;color:#9ea0a5;font-weight:400}.my-dl[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{text-align:right}}.my-text-headline[_ngcontent-%COMP%]{margin:0;font-size:30px;font-weight:400}.my-text-overline[_ngcontent-%COMP%]{margin-bottom:.75rem;color:#9ea0a5;font-size:12px;font-weight:500;text-transform:uppercase}.my-divider[_ngcontent-%COMP%]{margin:1.25rem 0}.my-input[_ngcontent-%COMP%]{max-width:186px}.my-select[_ngcontent-%COMP%]{border-color:#d8dce6;box-shadow:0 1px 2px #00000014;font-size:14px}@media (max-width: 1199px){.container[_ngcontent-%COMP%]{max-width:100%}}.my-alert[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:1.875rem;padding-top:.937rem;padding-bottom:.937rem;border:none;box-shadow:none}.my-alert.alert-info[_ngcontent-%COMP%]{background-color:#1665d8;color:#fff}.my-alert__icon[_ngcontent-%COMP%]{margin-right:1.25rem}.list__icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:64px;height:40px;border:1px solid #E2E5ED;border-radius:.25rem}"]}),n})();function FH(n,t){if(1&n&&(s.TgZ(0,"div")(1,"div",20)(2,"div",21)(3,"div",22),s._UZ(4,"img",23),s.TgZ(5,"div",24),s._uU(6),s.qZA(),s.TgZ(7,"div",25),s._uU(8),s.qZA()()()()()),2&n){const e=s.oxw().$implicit;s.xp6(4),s.Q6J("src",e.especialista.pathImg,s.LSH),s.xp6(2),s.AsE("",e.especialista.nombre," ",e.especialista.apellido,""),s.xp6(2),s.Oqu(e.especialista.email)}}function LH(n,t){if(1&n&&(s.TgZ(0,"div",20)(1,"div",21)(2,"div",26),s._UZ(3,"img",23),s.TgZ(4,"div",24),s._uU(5),s.qZA(),s.TgZ(6,"div",25),s._uU(7),s.qZA()()()()),2&n){const e=s.oxw().$implicit;s.xp6(3),s.Q6J("src",e.paciente.pathImg,s.LSH),s.xp6(2),s.AsE("",e.paciente.nombre," ",e.paciente.apellido,""),s.xp6(2),s.Oqu(e.paciente.email)}}function VH(n,t){1&n&&(s.TgZ(0,"div",27),s._uU(1,"Pendiente"),s.qZA())}function UH(n,t){1&n&&(s.TgZ(0,"div",28),s._uU(1,"Completado"),s.qZA())}function BH(n,t){1&n&&(s.TgZ(0,"div",29),s._uU(1,"Rechazado"),s.qZA())}function HH(n,t){1&n&&(s.TgZ(0,"div",30),s._uU(1,"Cancelado"),s.qZA())}function jH(n,t){1&n&&(s.TgZ(0,"div")(1,"button",31),s._uU(2,"Cancelar"),s.qZA()())}function qH(n,t){1&n&&(s.TgZ(0,"div")(1,"td",10)(2,"button",32),s._uU(3,"Ver"),s.qZA()()())}function ZH(n,t){1&n&&(s.TgZ(0,"div")(1,"button",33),s._uU(2,"Calificar"),s.qZA()())}function GH(n,t){if(1&n&&(s.TgZ(0,"tr")(1,"td",12),s._uU(2),s.qZA(),s.TgZ(3,"td"),s.YNc(4,FH,9,4,"div",13),s.YNc(5,LH,8,4,"ng-template",null,14,s.W1O),s.qZA(),s.TgZ(7,"td",10),s._uU(8),s.qZA(),s.TgZ(9,"td",10),s.YNc(10,VH,2,0,"div",15),s.YNc(11,UH,2,0,"div",16),s.YNc(12,BH,2,0,"div",17),s.YNc(13,HH,2,0,"div",18),s.qZA(),s.TgZ(14,"td",10),s.YNc(15,jH,3,0,"div",19),s.qZA(),s.TgZ(16,"td",10),s.YNc(17,qH,4,0,"div",19),s.qZA(),s.TgZ(18,"td",10),s.YNc(19,ZH,3,0,"div",19),s.qZA()()),2&n){const e=t.$implicit,i=s.MAs(6),r=s.oxw();s.xp6(2),s.Oqu(e.especialidad),s.xp6(2),s.Q6J("ngIf","paciente"==r.user.rol)("ngIfElse",i),s.xp6(4),s.Oqu(e.fecha),s.xp6(2),s.Q6J("ngIf","pendiente"==e.estado),s.xp6(1),s.Q6J("ngIf","realizado"==e.estado),s.xp6(1),s.Q6J("ngIf","rechazado"==e.estado),s.xp6(1),s.Q6J("ngIf","cancelado"==e.estado),s.xp6(2),s.Q6J("ngIf","rechazado"!=e.estado&&"cancelado"!=e.estado),s.xp6(2),s.Q6J("ngIf",e.comentario),s.xp6(2),s.Q6J("ngIf","realizado"==e.estado)}}const $H=function(n){return{active:n}};let zH=(()=>{class n{constructor(e){this.afs=e,this.activeSearch=!1}ngOnInit(){"administrador"==this.user.rol||(this.campo="paciente"==this.user.rol?"paciente":"especialista",this.afs.getAll("turnos").subscribe(e=>{let i=e;this.turnos="paciente"==this.user.rol?i.filter(r=>r.paciente.email==this.user.email):"especialista"==this.user.rol?i.filter(r=>r.especialista.email==this.user.email):i,this.turnosWithoutFilter=this.turnos}))}onFilter(){this.turnos=this.turnosWithoutFilter.filter(e=>e.especialidad.toLowerCase().includes(this.filter.toLowerCase())||e.especialista.nombre.toLowerCase().includes(this.filter.toLowerCase())||e.especialista.apellido.toLowerCase().includes(this.filter.toLowerCase()))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-tabla-turnos"]],inputs:{user:"user"},decls:30,vars:5,consts:[[1,"main-card","mb-3","card"],[1,"card-header"],[1,"btn-actions-pane-right"],[1,"search-wrapper",3,"ngClass"],[1,"input-holder"],["type","text","placeholder","Type to search",1,"search-input",3,"ngModel","ngModelChange","change"],[1,"search-icon",3,"click"],[1,"close",3,"click"],[1,"table-responsive"],[1,"align-middle","mb-0","table","table-borderless","table-striped","table-hover"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"text-center","text-muted"],[4,"ngIf","ngIfElse"],["especialista",""],["class","badge badge-info",4,"ngIf"],["class","badge badge-success",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[4,"ngIf"],[1,"widget-content","p-0","text-center"],[1,"widget-content-wrapper"],[1,"widget-content"],["width","40",1,"rounded-circle",3,"src"],[1,"widget-heading"],[1,"widget-subheading","opacity-7"],[1,"widget-content-left","flex2"],[1,"badge","badge-info"],[1,"badge","badge-success"],[1,"badge","badge-warning"],[1,"badge","badge-danger"],[1,"mr-2","btn-icon","btn-icon-only","btn","btn-outline-danger"],[1,"mr-2","btn-icon","btn-icon-only","btn","btn-primary"],[1,"mr-2","btn-icon","btn-icon-only","btn","btn-success"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s._uU(2,"Active Users "),s.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"input",5),s.NdJ("ngModelChange",function(l){return i.filter=l})("change",function(){return i.onFilter()}),s.qZA(),s.TgZ(7,"button",6),s.NdJ("click",function(){return i.activeSearch=!0}),s._UZ(8,"span"),s.qZA()(),s.TgZ(9,"button",7),s.NdJ("click",function(){return i.activeSearch=!1}),s.qZA()()()(),s.TgZ(10,"div",8)(11,"table",9)(12,"thead")(13,"tr")(14,"th",10),s._uU(15,"Especialidad"),s.qZA(),s.TgZ(16,"th",10),s._uU(17,"Especialidad"),s.qZA(),s.TgZ(18,"th",10),s._uU(19,"Fecha"),s.qZA(),s.TgZ(20,"th",10),s._uU(21,"Estado"),s.qZA(),s.TgZ(22,"th",10),s._uU(23," - "),s.qZA(),s.TgZ(24,"th",10),s._uU(25," - "),s.qZA(),s.TgZ(26,"th",10),s._uU(27," - "),s.qZA()()(),s.TgZ(28,"tbody"),s.YNc(29,GH,20,11,"tr",11),s.qZA()()()()),2&e&&(s.xp6(4),s.Q6J("ngClass",s.VKq(3,$H,i.activeSearch)),s.xp6(2),s.Q6J("ngModel",i.filter),s.xp6(23),s.Q6J("ngForOf",i.turnos))},directives:[gn,hl,uc,ph,nn,qt],styles:[""]}),n})();function WH(n,t){if(1&n&&(s.TgZ(0,"div"),s._UZ(1,"app-tabla-turnos",3),s.qZA()),2&n){const e=t.ngIf;s.xp6(1),s.Q6J("user",e)}}let YH=(()=>{class n{constructor(e){this.auth=e}ngOnInit(){this.$currentUser=this.auth.userObs}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(qo))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-mis-turnos"]],decls:4,vars:3,consts:[[1,"row"],[1,"col-12"],[4,"ngIf"],[3,"user"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,WH,2,1,"div",2),s.ALo(3,"async"),s.qZA()()),2&e&&(s.xp6(2),s.Q6J("ngIf",s.lcZ(3,1,i.$currentUser)))},directives:[qt,zH],pipes:[Ys],styles:[""]}),n})();var KH=P(3098);const QH=["*"];let qP=(()=>{class n{constructor(){this.isActive=!1}set activeState(e){this.isActive=e===this}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-progress-step"]],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("activeStep",i.isActive)},inputs:{activeState:"activeState"},ngContentSelectors:QH,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".activeStep[_nghost-%COMP%]{display:inline-block;padding:10px;visibility:visible;opacity:1;position:absolute;top:0;left:0;right:0;width:100%;height:100%;transform:translateY(0);transition:all .6s cubic-bezier(.45,0,.55,1)}[_nghost-%COMP%]:not(.activeStep){visibility:hidden;padding:10px;transform:translateY(-8px);opacity:0}"]}),n})();var Xo=(()=>(function(n){n.PENDING="pending",n.IN_PROGRESS="in progress",n.COMPLETED="completed"}(Xo||(Xo={})),Xo))();let ZP=(()=>{class n{constructor(){this.eventHelper=new Kt.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GP=function(n,t){return{complete:n,active:t}};function XH(n,t){if(1&n&&(s.O4$(),s.kcU(),s.TgZ(0,"div",13),s._UZ(1,"div",14),s.qZA()),2&n){const e=s.oxw().$implicit;s.Q6J("ngClass",s.WLB(1,GP,"completed"===e.status,"in progress"===e.status))}}const ej=function(n,t){return{completed:n,"in-progress":t}};function tj(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"div",5),s.O4$(),s.TgZ(2,"svg",6),s._UZ(3,"circle",7)(4,"polyline",8),s.qZA(),s.YNc(5,XH,2,4,"div",9),s.kcU(),s.TgZ(6,"div",10)(7,"span",11),s._uU(8),s.qZA(),s.TgZ(9,"span",12),s._uU(10),s.qZA()()(),s.BQk()),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.xp6(1),s.Q6J("ngClass",s.WLB(5,GP,"completed"===e.status,"in progress"===e.status)),s.xp6(4),s.Q6J("ngIf",i!==r.itemLength-1),s.xp6(3),s.Oqu(r.getMessage(i)),s.xp6(1),s.Q6J("ngClass",s.WLB(8,ej,"completed"===e.status,"in progress"===e.status)),s.xp6(1),s.Oqu(e.status)}}const nj=[[["app-progress-step"]]],ij=["app-progress-step"];let rj=(()=>{class n extends class JH{constructor(t){this.progressHelper=t,this.itemProgressList=[],this.activeIndex=0}completeLastStep(){this.itemProgressList[this.activeIndex].status=Xo.COMPLETED}undoLastComplete(){this.itemProgressList[this.activeIndex].status=Xo.IN_PROGRESS}switchStatusNext(t){this.itemProgressList[this.activeIndex-1].status=Xo.COMPLETED,this.itemProgressList[t].status=Xo.IN_PROGRESS}switchStatusPrev(t){this.itemProgressList[this.activeIndex+1].status=Xo.PENDING,this.itemProgressList[t].status=Xo.IN_PROGRESS}}{constructor(e){super(e),this.progressHelper=e,this.stateChange=new s.vpe}set selectedIndex(e){this.activeIndex=e||0}ngOnInit(){this.progressHelper.eventHelper.subscribe({next:({prev:e,next:i})=>{i&&this.next(),e&&this.prev()}})}getMessage(e){let i="";return i=0==e?"Especialidad":1==e?"Profesional":2==e?"Fecha":"Confirmar",i}ngAfterContentInit(){this.initProgress(this.progressSteps.length),this.setActiveActiveStep(this.activeIndex),this.initStepIndex()}next(){this.increaseStep()}prev(){this.decreaseStep()}increaseStep(){this.activeIndex===this.itemLength-1&&this.itemProgressList[this.activeIndex].status!==Xo.COMPLETED&&this.completeLastStep(),this.activeIndex<this.itemLength-1&&(this.activeIndex++,this.switchStatusNext(this.activeIndex),this.setActiveActiveStep(this.activeIndex),this.emitStateChange())}decreaseStep(){this.activeIndex===this.itemLength-1&&this.itemProgressList[this.activeIndex].status===Xo.COMPLETED?this.undoLastComplete():this.activeIndex>0&&(this.activeIndex--,this.switchStatusPrev(this.activeIndex),this.setActiveActiveStep(this.activeIndex),this.emitStateChange())}emitStateChange(){this.stateChange.emit({activeIndex:this.activeIndex,activeStep:this.activeStep})}setActiveActiveStep(e){this.stepsExists&&(this.removeActiveStep(),this.updateActiveStep(e))}updateActiveStep(e){this.progressSteps[e].activeState=this.progressSteps[e]}removeActiveStep(){this.progressSteps.map(e=>{e.isActive&&(e.isActive=!1)})}initStepIndex(){this.progressSteps.forEach((e,i)=>e.stepIndex=i)}get activeStep(){return this.progressSteps[this.activeIndex]}get stepsExists(){return this.progressSteps&&Array.isArray(this.progressSteps)}get progressSteps(){return this.steps.toArray()}generateProgressArray(e){return[...Array(e).keys()].map(i=>({stepIndex:i,status:i===this.activeIndex?Xo.IN_PROGRESS:Xo.PENDING}))}initProgress(e){this.itemLength=e||0,this.itemProgressList=this.generateProgressArray(this.itemLength)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ZP))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-progress"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,qP,4),2&e){let l;s.iGM(l=s.CRH())&&(i.steps=l)}},inputs:{selectedIndex:"selectedIndex"},outputs:{stateChange:"stateChange"},features:[s.qOj],ngContentSelectors:ij,decls:6,vars:1,consts:[[1,"step-progress"],[1,"container"],["container",""],[4,"ngFor","ngForOf"],[1,"step-content"],[1,"check-box",3,"ngClass"],["id","checkbox","viewBox","0 0 100 100"],["cx","50.5","cy","49","r","45",1,"circle"],["points","28.5,51.9 41.9,65.3 72.5,32.8 ",1,"check"],["class","progress-line",3,"ngClass",4,"ngIf"],[1,"info"],[1,"step"],[1,"progress-info",3,"ngClass"],[1,"progress-line",3,"ngClass"],[1,"progress-percent"]],template:function(e,i){1&e&&(s.F$t(nj),s.TgZ(0,"div",0)(1,"div",1,2),s.YNc(3,tj,11,11,"ng-container",3),s.qZA()(),s.TgZ(4,"div",4),s.Hsn(5),s.qZA()),2&e&&(s.xp6(3),s.Q6J("ngForOf",i.itemProgressList))},directives:[nn,gn,qt],styles:["[_nghost-%COMP%]{margin-top:20px;-webkit-user-select:none;user-select:none;display:grid;grid-template-rows:80px 1fr;grid-row-gap:100px;justify-content:center;grid-template-columns:min-content}[_nghost-%COMP%]   .step-progress[_ngcontent-%COMP%]{margin-top:120px;padding:15px 15px 60px 0;box-shadow:0 15px 20px #0000001a;border-radius:15px;grid-row:1/2;grid-column:1/-1;align-self:center}[_nghost-%COMP%]   .step-content[_ngcontent-%COMP%]{margin-top:40px;position:relative;align-self:start;grid-row:2/-1;grid-column:1/-1}.container[_ngcontent-%COMP%]{display:inline-flex;padding:30px;position:relative}.container[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]{width:48px;height:48px;stroke:#23c274;stroke-width:6}.container[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{stroke-dasharray:320;stroke-dashoffset:320;fill:#d2d2d2;transition:stroke-dashoffset .5s,fill .5s .3s cubic-bezier(.45,0,.55,1)}.container[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{stroke-dasharray:70;stroke-dashoffset:70;stroke:#fff;fill:none;transition:all .5s .5s cubic-bezier(.45,0,.55,1)}.check-box[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.check-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{position:absolute;bottom:-60px;display:grid;grid-template-columns:max-content}.check-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span.progress-info[_ngcontent-%COMP%]{text-transform:capitalize;font-size:11px;display:inline-block;margin-left:5px;padding:2px 10px;transform:translateY(6px);font-weight:500;color:currentColor;background:#eee;border-radius:20px;transition:background-color .1s ease-in-out}.check-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span.progress-info.in-progress[_ngcontent-%COMP%]{background-color:#234dc2;color:#fff}.check-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span.progress-info.completed[_ngcontent-%COMP%]{background-color:#23c274;color:#fff}.check-box[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span.step[_ngcontent-%COMP%]{margin-left:10px;text-transform:uppercase;font-weight:400;letter-spacing:.5px;font-size:10px;color:#777}.progress-line[_ngcontent-%COMP%]{width:140px;margin:0 10px;height:4px;overflow:hidden;display:inline-block;background:#d2d2d2;border-radius:10px}.progress-line[_ngcontent-%COMP%]   .progress-percent[_ngcontent-%COMP%]{height:inherit;width:0%;transition:all .5s .5s cubic-bezier(.45,0,.55,1)}.progress-line.active[_ngcontent-%COMP%]   .progress-percent[_ngcontent-%COMP%]{background:#234dc2;width:50%}.progress-line.complete[_ngcontent-%COMP%]   .progress-percent[_ngcontent-%COMP%]{width:100%;background:#23c274}.check-box.active[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{fill:#234dc2}.check-box.complete[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{stroke-dashoffset:0;fill:#23c274}.check-box.complete[_ngcontent-%COMP%]   svg#checkbox[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{stroke-dashoffset:0}"]}),n})();const sj=function(n){return{active:n}};function oj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",5),s.NdJ("click",function(){const l=s.CHM(e).$implicit;return s.oxw().onClick(l)}),s.TgZ(1,"div",6),s._UZ(2,"img",7),s.qZA(),s.TgZ(3,"div",8)(4,"h4"),s._uU(5),s.qZA(),s.TgZ(6,"p"),s._uU(7,"TODO HORARIO"),s.qZA()()()}if(2&n){const e=t.$implicit;s.Q6J("ngClass",s.VKq(4,sj,e.seleccionado)),s.xp6(2),s.Q6J("src",e.pathImg,s.LSH),s.xp6(3),s.AsE("",e.nombre," ",e.apellido,"")}}let aj=(()=>{class n{constructor(){this.especialista=new s.vpe}ngOnInit(){}onClick(e){let i=this.listEspecialistas.filter(r=>1==r.seleccionado);0==i.length?(e.seleccionado=!0,this.especialista.emit(e)):1==i.length&&e.seleccionado&&(e.seleccionado=!1,this.especialista.emit(null))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-tabla-users-turno"]],inputs:{listEspecialistas:"listEspecialistas"},outputs:{especialista:"especialista"},decls:5,vars:1,consts:[[1,"d-flex","justify-content-center","mb-1"],[1,"col-10","mb-3"],[1,"cont"],[1,"list"],["class","list-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"list-item",3,"ngClass","click"],[1,"image-box"],["alt","avatar",3,"src"],[1,"content"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),s.YNc(4,oj,8,6,"div",4),s.qZA()()()()),2&e&&(s.xp6(4),s.Q6J("ngForOf",i.listEspecialistas))},directives:[nn,gn],styles:['.list[_ngcontent-%COMP%]{min-width:425px;overflow:auto;height:450px;box-shadow:0 35px 50px #0000001a;background:#00bcd4;overflow-x:hidden}.list[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;right:0;width:calc(100% - 75px);height:100%;background:#fff}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;padding:10px;margin:10px 0;cursor:pointer}.active[_ngcontent-%COMP%]{background:#00bcd4}p[_ngcontent-%COMP%]{display:block;margin:0 0 10px;color:#4285f4;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;letter-spacing:.2em}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;background:#00bcd4;transform:scaleX(0);transform-origin:right;transition:transform .5s}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover:before{transform:scaleX(1);transform-origin:left;transition:transform .5s}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]{position:relative;min-width:85px;height:85px;border:4px solid #fff;box-shadow:5px 5px 15px #0000001a;margin-right:20px;margin-left:10px}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center;width:100%;color:#333}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{position:absolute;right:0;font-size:2rem;color:#fff;transform:scale(0);transition:.5s}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-weight:500;opacity:.5}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover   .content[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{transform:scale(1)}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{padding:4px 0;position:relative;z-index:40;color:#4285f4;font-size:24px;font-weight:700;text-transform:uppercase}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.8;transition:.5s}.list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover   .content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]:hover   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}']}),n})(),lj=(()=>{class n{constructor(e,i){this.progressHelper=e,this.el=i,this.methods={next:!1,prev:!1}}listen(e){this.progressHelper.eventHelper.next(this.methods)}ngOnInit(){this.initMethods()}initMethods(){"next"in this&&(this.methods=Object.assign(Object.assign({},this.methods),{next:!0})),"prev"in this&&(this.methods=Object.assign(Object.assign({},this.methods),{prev:!0}))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ZP),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","progressStepNext",""],["","progressStepPrev",""]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(l){return i.listen(l)})},inputs:{next:["progressStepNext","next"],prev:["progressStepPrev","prev"]}}),n})();function cj(n,t){if(1&n&&s._UZ(0,"span",11),2&n){const e=s.oxw(2).$implicit;s.Q6J("innerHTML",e.summary,s.oJD)}}function uj(n,t){if(1&n&&s._UZ(0,"span",12),2&n){const e=s.oxw(2).$implicit;s.Q6J("innerHTML",e.detail,s.oJD)}}function dj(n,t){if(1&n&&(s.ynx(0),s.YNc(1,cj,1,1,"span",9),s.YNc(2,uj,1,1,"span",10),s.BQk()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngIf",e.summary),s.xp6(1),s.Q6J("ngIf",e.detail)}}function hj(n,t){if(1&n&&(s.TgZ(0,"span",15),s._uU(1),s.qZA()),2&n){const e=s.oxw(2).$implicit;s.xp6(1),s.Oqu(e.summary)}}function fj(n,t){if(1&n&&(s.TgZ(0,"span",16),s._uU(1),s.qZA()),2&n){const e=s.oxw(2).$implicit;s.xp6(1),s.Oqu(e.detail)}}function pj(n,t){if(1&n&&(s.YNc(0,hj,2,1,"span",13),s.YNc(1,fj,2,1,"span",14)),2&n){const e=s.oxw().$implicit;s.Q6J("ngIf",e.summary),s.xp6(1),s.Q6J("ngIf",e.detail)}}function gj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",17),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().index;return s.oxw(2).removeMessage(r)}),s._UZ(1,"i",18),s.qZA()}}const mj=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},_j=function(n){return{value:"visible",params:n}},yj=function(n,t,e,i){return{"pi-info-circle":n,"pi-check":t,"pi-exclamation-triangle":e,"pi-times-circle":i}};function vj(n,t){if(1&n&&(s.TgZ(0,"div",4)(1,"div",5),s._UZ(2,"span",6),s.YNc(3,dj,3,2,"ng-container",1),s.YNc(4,pj,2,2,"ng-template",null,7,s.W1O),s.YNc(6,gj,2,0,"button",8),s.qZA()()),2&n){const e=t.$implicit,i=s.MAs(5),r=s.oxw(2);s.Q6J("ngClass","p-message p-message-"+e.severity)("@messageAnimation",s.VKq(11,_j,s.WLB(8,mj,r.showTransitionOptions,r.hideTransitionOptions))),s.xp6(2),s.Tol("p-message-icon pi"+(e.icon?" "+e.icon:"")),s.Q6J("ngClass",s.l5B(13,yj,"info"===e.severity,"success"===e.severity,"warn"===e.severity,"error"===e.severity)),s.xp6(1),s.Q6J("ngIf",!r.escape)("ngIfElse",i),s.xp6(3),s.Q6J("ngIf",r.closable)}}function bj(n,t){if(1&n&&(s.ynx(0),s.YNc(1,vj,7,18,"div",3),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)}}function wj(n,t){1&n&&s.GkF(0)}function Cj(n,t){if(1&n&&(s.TgZ(0,"div",4)(1,"div",5),s.YNc(2,wj,1,0,"ng-container",19),s.qZA()()),2&n){const e=s.oxw();s.Q6J("ngClass","p-message p-message-"+e.severity),s.xp6(2),s.Q6J("ngTemplateOutlet",e.contentTemplate)}}let $P=(()=>{class n{constructor(e,i,r){this.messageService=e,this.el=i,this.cd=r,this.closable=!0,this.enableService=!0,this.escape=!0,this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="200ms cubic-bezier(0.86, 0, 0.07, 1)",this.valueChange=new s.vpe}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.contentTemplate=e.template}),this.messageService&&this.enableService&&!this.contentTemplate&&(this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e){if(e instanceof Array){let i=e.filter(r=>this.key===r.key);this.value=this.value?[...this.value,...i]:[...i]}else this.key===e.key&&(this.value=this.value?[...this.value,e]:[e]);this.cd.markForCheck()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.value=null):this.value=null,this.cd.markForCheck()}))}hasMessages(){let e=this.el.nativeElement.parentElement;return!(!e||!e.offsetParent)&&(null!=this.contentTemplate||this.value&&this.value.length>0)}clear(){this.value=[],this.valueChange.emit(this.value)}removeMessage(e){this.value=this.value.filter((i,r)=>r!==e),this.valueChange.emit(this.value)}get icon(){const e=this.severity||(this.hasMessages()?this.value[0].severity:null);if(this.hasMessages())switch(e){case"success":return"pi-check";case"info":default:return"pi-info-circle";case"error":return"pi-times";case"warn":return"pi-exclamation-triangle"}return null}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yh,8),s.Y36(s.SBq),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-messages"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,lg,4),2&e){let l;s.iGM(l=s.CRH())&&(i.templates=l)}},hostAttrs:[1,"p-element"],inputs:{value:"value",closable:"closable",style:"style",styleClass:"styleClass",enableService:"enableService",key:"key",escape:"escape",severity:"severity",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{valueChange:"valueChange"},decls:4,vars:5,consts:[["role","alert",1,"p-messages","p-component",3,"ngStyle"],[4,"ngIf","ngIfElse"],["staticMessage",""],["role","alert",3,"ngClass",4,"ngFor","ngForOf"],["role","alert",3,"ngClass"],[1,"p-message-wrapper"],[3,"ngClass"],["escapeOut",""],["class","p-message-close p-link","type","button","pRipple","",3,"click",4,"ngIf"],["class","p-message-summary",3,"innerHTML",4,"ngIf"],["class","p-message-detail",3,"innerHTML",4,"ngIf"],[1,"p-message-summary",3,"innerHTML"],[1,"p-message-detail",3,"innerHTML"],["class","p-message-summary",4,"ngIf"],["class","p-message-detail",4,"ngIf"],[1,"p-message-summary"],[1,"p-message-detail"],["type","button","pRipple","",1,"p-message-close","p-link",3,"click"],[1,"p-message-close-icon","pi","pi-times"],[4,"ngTemplateOutlet"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0),s.YNc(1,bj,2,1,"ng-container",1),s.YNc(2,Cj,3,2,"ng-template",null,2,s.W1O),s.qZA()),2&e){const r=s.MAs(3);s.Tol(i.styleClass),s.Q6J("ngStyle",i.style),s.xp6(1),s.Q6J("ngIf",!i.contentTemplate)("ngIfElse",r)}},directives:[ir,qt,nn,gn,cg,zs],styles:[".p-message-wrapper{display:flex;align-items:center}.p-message-close{display:flex;align-items:center;justify-content:center}.p-message-close.p-link{margin-left:auto;overflow:hidden;position:relative}\n"],encapsulation:2,data:{animation:[dg("messageAnimation",[Bs(":enter",[fr({opacity:0,transform:"translateY(-25%)"}),bo("{{showTransitionParams}}")]),Bs(":leave",[bo("{{hideTransitionParams}}",fr({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,overflow:"hidden",opacity:0}))])])]},changeDetection:0}),n})(),Tj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Pi,ug]]}),n})();const Ej=function(){return[0]};let Ij=(()=>{class n{constructor(e){this.messageService=e,this.fechaSeleccionada=new s.vpe,this.minDateValue=new Date,this.maxDateValue=new Date,this.minTime=new Date,this.maxTime=new Date}ngOnInit(){this.maxDateValue.setDate(this.minDateValue.getDate()+15),this.minTime.setHours(8),this.minTime.setMinutes(0),this.maxTime.setHours(17),this.maxTime.setMinutes(30)}onSelectDate(){this.timeToReturn=this.dateValue,console.info(this.timeToReturn),this.timeValue&&(this.timeToReturn.setTime(this.timeValue.getTime()),this.fechaSeleccionada.emit(this.timeToReturn))}onSelectTime(){this.timeValue.getMinutes()<=15||this.timeValue.getMinutes()>45?this.timeValue.setMinutes(0):this.timeValue.getMinutes()<=45&&this.timeValue.setMinutes(30),this.timeToReturn&&(this.timeToReturn.setTime(this.timeValue.getTime()),this.fechaSeleccionada.emit(this.timeToReturn))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-calendar"]],outputs:{fechaSeleccionada:"fechaSeleccionada"},features:[s._Bn([Yh])],decls:11,vars:14,consts:[[1,"d-flex","justify-content-center","p-fluid","mb-1"],[1,"col-6","mb-3"],["for","dni"],["dateFormat","dd/mm/yy",3,"ngModel","disabledDays","minDate","maxDate","readonlyInput","defaultDate","onSelect","ngModelChange"],[3,"ngModel","showTime","timeOnly","minDate","maxDate","readonlyInput","defaultDate","onSelect","ngModelChange"],[1,"col-12","mb-3"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"label",2),s._uU(3,"Fecha"),s.qZA(),s.TgZ(4,"p-calendar",3),s.NdJ("onSelect",function(){return i.onSelectDate()})("ngModelChange",function(l){return i.dateValue=l}),s.qZA()(),s.TgZ(5,"div",1)(6,"label",2),s._uU(7,"Hora"),s.qZA(),s.TgZ(8,"p-calendar",4),s.NdJ("onSelect",function(){return i.onSelectTime()})("ngModelChange",function(l){return i.timeValue=l}),s.qZA()()(),s.TgZ(9,"div",5),s._UZ(10,"p-messages"),s.qZA()),2&e&&(s.xp6(4),s.Q6J("ngModel",i.dateValue)("disabledDays",s.DdM(13,Ej))("minDate",i.minDateValue)("maxDate",i.maxDateValue)("readonlyInput",!0)("defaultDate",i.minDateValue),s.xp6(4),s.Q6J("ngModel",i.timeValue)("showTime",!0)("timeOnly",!0)("minDate",i.minTime)("maxDate",i.maxTime)("readonlyInput",!0)("defaultDate",i.minTime))},directives:[qx,uc,ph,$P],styles:["label[_ngcontent-%COMP%]{display:block;margin:0 0 10px;color:#4285f4;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;letter-spacing:.2em}"]}),n})(),Dj=(()=>{class n{constructor(){this.turnoEmit=new s.vpe}ngOnInit(){console.info(this.paciente),console.info(this.turno),"paciente"==this.paciente.rol&&(this.turno.paciente=this.paciente,this.turnoEmit.emit(this.turno))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-completar-soli-turno"]],inputs:{paciente:"paciente",turno:"turno"},outputs:{turnoEmit:"turnoEmit"},decls:17,vars:3,consts:[[1,"form-content"],[1,"row"],[1,"col-12"],[1,"form-group"],["type","text","id","dni","name","dni","readonly","",1,"form-control","form-style",3,"value"],[1,"col-6"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label"),s._uU(5,"Especialista"),s.qZA(),s._UZ(6,"input",4),s.qZA()(),s.TgZ(7,"div",5)(8,"div",3)(9,"label"),s._uU(10,"Especialidad"),s.qZA(),s._UZ(11,"input",4),s.qZA()(),s.TgZ(12,"div",5)(13,"div",3)(14,"label"),s._uU(15,"Fecha"),s.qZA(),s._UZ(16,"input",4),s.qZA()()()()),2&e&&(s.xp6(6),s.Q6J("value",i.turno.especialista.nombre+" "+i.turno.especialista.apellido),s.xp6(5),s.Q6J("value",i.turno.especialidad),s.xp6(5),s.Q6J("value",i.turno.fecha))},styles:[".input[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{outline:none;display:block;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;color:#0009;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;transition:.3s ease}button[_ngcontent-%COMP%]{outline:none;width:100%;border:0;border-radius:4px;padding:12px 20px;background:#FFFFFF;color:#4285f4;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;text-transform:uppercase;cursor:pointer}label[_ngcontent-%COMP%]{display:block;margin:0 0 10px;color:#4285f4;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;letter-spacing:.2em}h1[_ngcontent-%COMP%]{padding:4px 0;position:relative;z-index:40;color:#4285f4;font-size:24px;font-weight:700;text-transform:uppercase}"]}),n})();function Sj(n,t){1&n&&s._UZ(0,"app-loading")}function xj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"app-tabla-users-turno",13),s.NdJ("especialista",function(r){s.CHM(e);const l=s.oxw(),u=s.MAs(3);return l.onSelecEspecialista(r,u)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("listEspecialistas",e.listEspecialistas)}}function Aj(n,t){if(1&n&&(s.TgZ(0,"option",18),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.Q6J("value",e),s.xp6(1),s.Oqu(e)}}const Mj=function(n,t){return{"is-invalid":n,"is-valid":t}};function Oj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",14)(1,"label"),s._uU(2,"Seleccione una especialidad..."),s.qZA(),s.TgZ(3,"select",15),s.NdJ("change",function(){s.CHM(e);const r=s.oxw(),l=s.MAs(3);return r.onChangeEsp(l)}),s.YNc(4,Aj,2,2,"option",16),s.qZA(),s.TgZ(5,"div",17),s._uU(6),s.qZA()()}if(2&n){const e=t.ngIf,i=s.oxw();s.xp6(3),s.Q6J("ngClass",s.WLB(3,Mj,i.isNotValidField("especialidad"),!i.isNotValidField("especialidad")&&i.f.especialidad.touched)),s.xp6(1),s.Q6J("ngForOf",e.especialidad),s.xp6(2),s.hij(" ",i.getErrorMessage("especialidad")," ")}}function kj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"app-completar-soli-turno",23),s.NdJ("turnoEmit",function(r){return s.CHM(e),s.oxw(2).getTurnoConPaciente(r)}),s.qZA()}if(2&n){const e=s.oxw().ngIf,i=s.oxw();s.Q6J("paciente",e)("turno",i.turno)}}function Pj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"h1",19),s._uU(2,"Confirmar datos"),s.qZA(),s.YNc(3,kj,1,2,"app-completar-soli-turno",20),s.TgZ(4,"div",5)(5,"div",11)(6,"button",7),s._uU(7,"Volver"),s.qZA()(),s.TgZ(8,"div",11)(9,"button",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().enviarTurno()}),s._uU(10,"Confirmar"),s.qZA()()(),s.TgZ(11,"div",22),s._UZ(12,"p-messages"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(3),s.Q6J("ngIf",e.turno.fecha)}}const Rj=[{path:"",component:YV},{path:"Login",component:zV},{path:"Usuarios",component:sU,canActivate:[lC]},{path:"MisTurnos",component:YH,canActivate:[Zo]},{path:"Turno",component:(()=>{class n{constructor(e,i,r,l){this.auth=e,this.afs=i,this.formBuilder=r,this.messageService=l,this.cargando=!1,this.turnoForm=this.formBuilder.group({especialidad:["",[Jt.required]],especialista:["",[Jt.required]],fecha:["",[Jt.required]],estado:["pendiente"]})}ngOnInit(){this.paciente=this.auth.userObs,this.cargando=!0,this.afs.getWithFilter("users","rol","especialista").subscribe(e=>{e&&(this.listEspecialistas=e,this.cargando=!1)})}get f(){return this.turnoForm.controls}getErrorMessage(e){let i="";return this.f[e].hasError("required")&&(i="Vac\xedo."),i}isNotValidField(e){return(this.f[e].touched||1==this.f[e].dirty)&&!this.f[e].valid}onChangeEsp(e){console.info(this.turnoForm.value),e.next()}onSelecEspecialista(e,i){e&&(this.f.especialista.setValue(e),i.next())}onSelecFecha(e){let i=e.getDay()+"/"+e.getMonth()+"/"+e.getFullYear()+" a las "+e.getHours()+":",r=e.getMinutes();i+=0==r?"00":r<10?"0"+r:r,this.f.fecha.setValue(i)}getTurnoConPaciente(e){this.turnoAEnviar=e,console.info(this.turnoAEnviar)}get turno(){return this.turnoForm.value}enviarTurno(){this.cargando=!0,console.info(this.turnoAEnviar),this.afs.setObj("turnos",this.turnoAEnviar,KH.i.create().toString()).then(e=>{this.messageService.clear(),this.messageService.add({severity:"success",summary:"Success",detail:"Su turno se envi\xf3 correctamente!"}),this.cargando=!1})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(qo),s.Y36(zh),s.Y36(Ym),s.Y36(Yh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-solicitar"]],features:[s._Bn([Yh])],decls:34,vars:7,consts:[[4,"ngIf"],[3,"formGroup"],["progress",""],[1,"text-center","mb-4"],[3,"listEspecialistas","especialista",4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"col-8"],["progressStepPrev",""],[1,"d-flex","justify-content-center","mb-1"],["class","col-9 mb-3",4,"ngIf"],[3,"fechaSeleccionada"],[1,"col-6","mb-3"],["progressStepNext",""],[3,"listEspecialistas","especialista"],[1,"col-9","mb-3"],["formControlName","especialidad","id","especialidad","required","",1,"input",3,"ngClass","change"],["class","input test",3,"value",4,"ngFor","ngForOf"],[1,"invalid-feedback"],[1,"input","test",3,"value"],[1,"text-center"],[3,"paciente","turno","turnoEmit",4,"ngIf"],["progressStepNext","",3,"click"],[1,"col-12","mb-3"],[3,"paciente","turno","turnoEmit"]],template:function(e,i){1&e&&(s.YNc(0,Sj,1,0,"app-loading",0),s.TgZ(1,"form",1)(2,"app-progress",null,2)(4,"app-progress-step")(5,"div",3)(6,"h1"),s._uU(7,"Profesionales"),s.qZA()(),s.YNc(8,xj,1,1,"app-tabla-users-turno",4),s.TgZ(9,"div",5)(10,"div",6)(11,"button",7),s._uU(12,"Volver"),s.qZA()()()(),s.TgZ(13,"app-progress-step")(14,"div",3)(15,"h1"),s._uU(16,"Empecemos"),s.qZA()(),s.TgZ(17,"div",8),s.YNc(18,Oj,7,6,"div",9),s.qZA()(),s.TgZ(19,"app-progress-step")(20,"div",3)(21,"h1"),s._uU(22,"Porfavor seleccione una fecha..."),s.qZA()(),s.TgZ(23,"app-calendar",10),s.NdJ("fechaSeleccionada",function(l){return i.onSelecFecha(l)}),s.qZA(),s.TgZ(24,"div",5)(25,"div",11)(26,"button",7),s._uU(27,"Volver"),s.qZA()(),s.TgZ(28,"div",11)(29,"button",12),s._uU(30,"Siguiente"),s.qZA()()()(),s.TgZ(31,"app-progress-step"),s.YNc(32,Pj,13,1,"div",0),s.ALo(33,"async"),s.qZA()()()),2&e&&(s.Q6J("ngIf",i.cargando),s.xp6(1),s.Q6J("formGroup",i.turnoForm),s.xp6(7),s.Q6J("ngIf",i.listEspecialistas),s.xp6(10),s.Q6J("ngIf",i.f.especialista.value),s.xp6(14),s.Q6J("ngIf",s.lcZ(33,5,i.paciente)))},directives:[qt,zE,Ma,$r,Ru,rj,qP,aj,lj,Nu,uc,Kf,_c,gn,nn,Zv,gh,Ij,Dj,$P],pipes:[Ys],styles:[".input[_ngcontent-%COMP%]{outline:none;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;color:#0009;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;transition:.3s ease}input[_ngcontent-%COMP%]{outline:none;display:block;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;color:#0009;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;transition:.3s ease}button[_ngcontent-%COMP%]{outline:none;width:100%;border:0;border-radius:4px;padding:12px 20px;background:#FFFFFF;color:#4285f4;font-family:inherit;font-size:inherit;font-weight:500;line-height:inherit;text-transform:uppercase;cursor:pointer}label[_ngcontent-%COMP%]{display:block;margin:0 0 10px;color:#4285f4;font-size:12px;font-weight:500;line-height:1;text-transform:uppercase;letter-spacing:.2em}h1[_ngcontent-%COMP%]{padding:4px 0;position:relative;z-index:40;color:#4285f4;font-size:24px;font-weight:700;text-transform:uppercase}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]{display:block;color:#dbdbdb;cursor:pointer;text-align:left;background:rgba(0,0,0,.1);overflow:hidden;position:relative;border-radius:6px}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   .file-select-button[_ngcontent-%COMP%]{background:rgba(0,0,0,.1);padding:10px;display:inline-block}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   .file-select-name[_ngcontent-%COMP%]{display:inline-block;padding:10px}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]:hover{background:#FFFFFF;color:#0009;transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]:hover   .file-select-button[_ngcontent-%COMP%]{background:rgba(66,133,244,.5);color:#fff;transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out}.file-upload[_ngcontent-%COMP%]   .file-upload-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}.test[_ngcontent-%COMP%]{background:rgba(66,133,244,.5)}"]}),n})(),canActivate:[Zo]},{path:"Profile",component:NH,canActivate:[Zo]}];let Nj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[kw.forRoot(Rj)],kw]}),n})();function Fj(n,t){if(1&n&&s._UZ(0,"img",24),2&n){const e=s.oxw().ngIf;s.Q6J("src",e.pathImg,s.LSH)}}function Lj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"a",15),s.YNc(4,Fj,1,1,"img",16),s.qZA(),s.TgZ(5,"div",17)(6,"button",18),s._uU(7,"User Account"),s.qZA(),s._UZ(8,"div",19),s.TgZ(9,"button",20),s.NdJ("click",function(){return s.CHM(e),s.oxw().onLogout()}),s._uU(10,"Log Out"),s.qZA()()()(),s.TgZ(11,"div",21)(12,"div",22),s._uU(13),s.qZA(),s.TgZ(14,"div",23),s._uU(15),s.qZA()()()}if(2&n){const e=t.ngIf;s.xp6(4),s.Q6J("ngIf",e.pathImg),s.xp6(2),s.Q6J("routerLink","/Profile"),s.xp6(7),s.AsE(" ",e.nombre," ",e.apellido," "),s.xp6(2),s.hij(" ",e.email," ")}}let Vj=(()=>{class n{constructor(e,i){this.auth=e,this.router=i}ngOnInit(){this.$user=this.auth.userObs}onLogout(){this.auth.logout().then(()=>{this.auth.refreshData(null),this.router.navigateByUrl("")})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(qo),s.Y36(Vn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-navbar"]],decls:14,vars:3,consts:[[1,"app-header","header-shadow",2,"background-image","radial-gradient(circle 248px at center,#46aef7 0%,#30c7ec 47%,#4285F4 100%)!important"],[1,"app-header__logo"],["src","../assets/logo.png",1,"logo"],[1,"app-header__mobile-menu"],["type","button",1,"hamburger","hamburger--elastic","mobile-toggle-nav"],[1,"hamburger-box"],[1,"hamburger-inner"],[1,"app-header__content"],[1,"app-header-right"],[1,"header-btn-lg","pr-0"],[1,"widget-content","p-0"],["class","widget-content-wrapper",4,"ngIf"],[1,"widget-content-wrapper"],[1,"widget-content-left"],[1,"btn-group"],["data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"p-0","btn"],["alt","","class","rounded-circle","width","42",3,"src",4,"ngIf"],["role","menu","aria-hidden","true",1,"dropdown-menu","dropdown-menu-right"],["type","button",1,"dropdown-item",3,"routerLink"],[1,"dropdown-divider"],["type","button",1,"dropdown-item","dropdown-header",3,"click"],[1,"widget-content-left","ml-3","header-user-info"],[1,"widget-heading"],[1,"widget-subheading"],["alt","","width","42",1,"rounded-circle",3,"src"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"img",2),s.qZA(),s.TgZ(3,"div",3)(4,"div")(5,"button",4)(6,"span",5),s._UZ(7,"span",6),s.qZA()()()(),s.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10),s.YNc(12,Lj,16,5,"div",11),s.ALo(13,"async"),s.qZA()()()()()),2&e&&(s.xp6(12),s.Q6J("ngIf",s.lcZ(13,1,i.$user)))},directives:[qt,ah],pipes:[Ys],styles:[".logo[_ngcontent-%COMP%]{height:50px;width:130px;background-repeat:no-repeat;background-size:cover}img[_ngcontent-%COMP%]{width:50px;height:50px}.dropdown-header[_ngcontent-%COMP%]{color:#dc3545}"]}),n})();const Uj=function(){return["Usuarios"]};function Bj(n,t){1&n&&(s.TgZ(0,"div")(1,"li",14),s._uU(2,"Usuarios"),s.qZA(),s.TgZ(3,"li")(4,"a",15),s._UZ(5,"i",16),s._uU(6," Administrar "),s.qZA()()()),2&n&&(s.xp6(4),s.Q6J("routerLink",s.DdM(1,Uj)))}const Hj=function(){return["Turno"]},jj=function(){return["MisTurnos"]};function qj(n,t){1&n&&(s.TgZ(0,"div")(1,"li",14),s._uU(2,"Turnos"),s.qZA(),s.TgZ(3,"li")(4,"a",15),s._UZ(5,"i",16),s._uU(6," Solicitar turno "),s.qZA()(),s.TgZ(7,"li")(8,"a",15),s._UZ(9,"i",16),s._uU(10," Mist turnos "),s.qZA()()()),2&n&&(s.xp6(4),s.Q6J("routerLink",s.DdM(2,Hj)),s.xp6(4),s.Q6J("routerLink",s.DdM(3,jj)))}function Zj(n,t){if(1&n&&(s.TgZ(0,"div",1)(1,"div",2)(2,"div")(3,"button",3)(4,"span",4),s._UZ(5,"span",5),s.qZA()()()(),s.TgZ(6,"div",6)(7,"span")(8,"button",7)(9,"span",8),s._UZ(10,"i",9),s.qZA()()()(),s.TgZ(11,"div",10)(12,"div",11)(13,"ul",12),s.YNc(14,Bj,7,2,"div",13),s.YNc(15,qj,11,4,"div",13),s.qZA()()()()),2&n){const e=t.ngIf;s.xp6(14),s.Q6J("ngIf","administrador"==e.rol),s.xp6(1),s.Q6J("ngIf","paciente"==e.rol||"administrador"==e.rol)}}let Gj=(()=>{class n{constructor(e){this.auth=e}ngOnInit(){this.$user=this.auth.userObs}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(qo))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sidebar"]],decls:2,vars:3,consts:[["class","app-sidebar sidebar-shadow",4,"ngIf"],[1,"app-sidebar","sidebar-shadow"],[1,"app-header__mobile-menu"],["type","button",1,"hamburger","hamburger--elastic","mobile-toggle-nav"],[1,"hamburger-box"],[1,"hamburger-inner"],[1,"app-header__menu"],["type","button",1,"btn-icon","btn-icon-only","btn","btn-primary","btn-sm","mobile-toggle-header-nav"],[1,"btn-icon-wrapper"],[1,"fa","fa-ellipsis-v","fa-w-6"],[1,"scrollbar-sidebar"],[1,"app-sidebar__inner"],[1,"vertical-nav-menu"],[4,"ngIf"],[1,"app-sidebar__heading"],["routerLinkActive","mm-active",3,"routerLink"],[1,"metismenu-icon","pe-7s-diamond"]],template:function(e,i){1&e&&(s.YNc(0,Zj,16,2,"div",0),s.ALo(1,"async")),2&e&&s.Q6J("ngIf",s.lcZ(1,1,i.$user))},directives:[qt,ol,Dw],pipes:[Ys],styles:[""]}),n})(),$j=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-main"]],decls:7,vars:0,consts:[[1,"app-container","app-theme-white","body-tabs-shadow","fixed-sidebar","fixed-header","closed-sidebar"],[1,"app-main"],[1,"app-main__outer"],[1,"app-main__inner"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"app-navbar"),s.TgZ(2,"div",1),s._UZ(3,"app-sidebar"),s.TgZ(4,"div",2)(5,"div",3),s._UZ(6,"router-outlet"),s.qZA()()()())},directives:[Vj,Gj,yu],styles:[""]}),n})(),zj=(()=>{class n{constructor(){this.title="TP-Final"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-main")},directives:[$j],styles:[""]}),n})();const en=!1;function zP(n){return new s.vHH(3e3,en)}function S4(){return"undefined"!=typeof window&&void 0!==window.document}function Zx(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Qh(n){switch(n.length){case 0:return new dw;case 1:return n[0];default:return new dP(n)}}function WP(n,t,e,i,r={},l={}){const u=[],f=[];let _=-1,w=null;if(i.forEach(D=>{const A=D.offset,N=A==_,V=N&&w||{};Object.keys(D).forEach(B=>{let ie=B,Ce=D[B];if("offset"!==B)switch(ie=t.normalizePropertyName(ie,u),Ce){case"!":Ce=r[B];break;case ud:Ce=l[B];break;default:Ce=t.normalizeStyleValue(B,ie,Ce,u)}V[ie]=Ce}),N||f.push(V),w=V,_=A}),u.length)throw function m4(n){return new s.vHH(3502,en)}();return f}function Gx(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&$x(e,"start",n)));break;case"done":n.onDone(()=>i(e&&$x(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&$x(e,"destroy",n)))}}function $x(n,t,e){const i=e.totalTime,l=zx(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(l._data=u),l}function zx(n,t,e,i,r="",l=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:l,disabled:!!u}}function ea(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function YP(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Wx=(n,t)=>!1,KP=(n,t,e)=>[],QP=null;function Yx(n){const t=n.parentNode||n.host;return t===QP?null:t}(Zx()||"undefined"!=typeof Element)&&(S4()?(QP=(()=>document.documentElement)(),Wx=(n,t)=>{for(;t;){if(t===n)return!0;t=Yx(t)}return!1}):Wx=(n,t)=>n.contains(t),KP=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let fg=null,JP=!1;function XP(n){fg||(fg=function A4(){return"undefined"!=typeof document?document.body:null}()||{},JP=!!fg.style&&"WebkitAppearance"in fg.style);let t=!0;return fg.style&&!function x4(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in fg.style,!t&&JP&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in fg.style)),t}const eR=Wx,tR=KP;let nR=(()=>{class n{validateStyleProperty(e){return XP(e)}matchesElement(e,i){return!1}containsElement(e,i){return eR(e,i)}getParentElement(e){return Yx(e)}query(e,i,r){return tR(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,l,u,f=[],_){return new dw(r,l)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Kx=(()=>{class n{}return n.NOOP=new nR,n})();const Qx="ng-enter",rI="ng-leave",sI="ng-trigger",oI=".ng-trigger",rR="ng-animating",Jx=".ng-animating";function pg(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Xx(parseFloat(t[1]),t[2])}function Xx(n,t){return"s"===t?1e3*n:n}function aI(n,t,e){return n.hasOwnProperty("duration")?n:function k4(n,t,e){let r,l=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return t.push(zP()),{duration:0,delay:0,easing:""};r=Xx(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(l=Xx(parseFloat(_),f[4]));const w=f[5];w&&(u=w)}else r=n;if(!e){let f=!1,_=t.length;r<0&&(t.push(function Wj(){return new s.vHH(3100,en)}()),f=!0),l<0&&(t.push(function Yj(){return new s.vHH(3101,en)}()),f=!0),f&&t.splice(_,0,zP())}return{duration:r,delay:l,easing:u}}(n,t,e)}function Ay(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Jh(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Ay(n,e);return e}function oR(n,t,e){return e?t+":"+e+";":""}function aR(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=oR(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=oR(0,N4(e),n.style[e]));n.setAttribute("style",t)}function jc(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=tA(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),Zx()&&aR(n))}function gg(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=tA(e);n.style[i]=""}),Zx()&&aR(n))}function mw(n){return Array.isArray(n)?1==n.length?n[0]:oP(n):n}const eA=new RegExp("{{\\s*(.+?)\\s*}}","g");function lR(n){let t=[];if("string"==typeof n){let e;for(;e=eA.exec(n);)t.push(e[1]);eA.lastIndex=0}return t}function lI(n,t,e){const i=n.toString(),r=i.replace(eA,(l,u)=>{let f=t[u];return t.hasOwnProperty(u)||(e.push(function Qj(n){return new s.vHH(3003,en)}()),f=""),f.toString()});return r==i?n:r}function cI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const R4=/-+([a-z0-9])/g;function tA(n){return n.replace(R4,(...t)=>t[1].toUpperCase())}function N4(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ta(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Jj(n){return new s.vHH(3004,en)}()}}function cR(n,t){return window.getComputedStyle(n)[t]}function H4(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function j4(n,t,e){if(":"==n[0]){const _=function q4(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function h4(n){return new s.vHH(3016,en)}()),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function d4(n){return new s.vHH(3015,en)}()),t;const r=i[1],l=i[2],u=i[3];t.push(uR(r,u));"<"==l[0]&&!("*"==r&&"*"==u)&&t.push(uR(u,r))}(i,e,t)):e.push(n),e}const fI=new Set(["true","1"]),pI=new Set(["false","0"]);function uR(n,t){const e=fI.has(n)||pI.has(n),i=fI.has(t)||pI.has(t);return(r,l)=>{let u="*"==n||n==r,f="*"==t||t==l;return!u&&e&&"boolean"==typeof r&&(u=r?fI.has(n):pI.has(n)),!f&&i&&"boolean"==typeof l&&(f=l?fI.has(t):pI.has(t)),u&&f}}const Z4=new RegExp("s*:selfs*,?","g");function nA(n,t,e,i){return new G4(n).build(t,e,i)}class G4{constructor(t){this._driver=t}build(t,e,i){const r=new W4(e);this._resetContextStyleTimingState(r);const l=ta(this,mw(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const l=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function e4(){return new s.vHH(3006,en)}()),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(D=>{_.name=D,l.push(this.visitState(_,e))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,e);i+=_.queryCount,r+=_.depCount,u.push(_)}else e.errors.push(function t4(){return new s.vHH(3007,en)}())}),{type:7,name:t.name,states:l,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const l=new Set,u=r||{};i.styles.forEach(f=>{if(gI(f)){const _=f;Object.keys(_).forEach(w=>{lR(_[w]).forEach(D=>{u.hasOwnProperty(D)||l.add(D)})})}}),l.size&&(cI(l.values()),e.errors.push(function n4(n,t){return new s.vHH(3008,en)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ta(this,mw(t.animation),e);return{type:1,matchers:H4(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:mg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ta(this,i,e)),options:mg(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const l=t.steps.map(u=>{e.currentTime=i;const f=ta(this,u,e);return r=Math.max(r,e.currentTime),f});return e.currentTime=r,{type:3,steps:l,options:mg(t.options)}}visitAnimate(t,e){const i=function K4(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return iA(aI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=iA(0,0,"");return l.dynamic=!0,l.strValue=e,l}const r=aI(e,t);return iA(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,l=t.styles?t.styles:fr({});if(5==l.type)r=this.visitKeyframes(l,e);else{let u=t.styles,f=!1;if(!u){f=!0;const w={};i.easing&&(w.easing=i.easing),u=fr(w)}e.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,e);_.isEmptyStep=f,r=_}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==ud?i.push(u):e.errors.push(function i4(n){return new s.vHH(3002,en)}()):i.push(u)}):i.push(t.styles);let r=!1,l=null;return i.forEach(u=>{if(gI(u)){const f=u,_=f.easing;if(_&&(l=_,delete f.easing),!r)for(let w in f)if(f[w].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:l,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,l=e.currentTime;i&&l>0&&(l-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete u[f],void e.unsupportedCSSPropertiesFound.add(f);const _=e.collectedStyles[e.currentQuerySelector],w=_[f];let D=!0;w&&(l!=r&&l>=w.startTime&&r<=w.endTime&&(e.errors.push(function r4(n,t,e,i,r){return new s.vHH(3010,en)}()),D=!1),l=w.startTime),D&&(_[f]={startTime:l,endTime:r}),e.options&&function P4(n,t,e){const i=t.params||{},r=lR(n);r.length&&r.forEach(l=>{i.hasOwnProperty(l)||e.push(function Kj(n){return new s.vHH(3001,en)}())})}(u[f],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function s4(){return new s.vHH(3011,en)}()),i;let l=0;const u=[];let f=!1,_=!1,w=0;const D=t.steps.map(it=>{const rt=this._makeStyleAst(it,e);let $e=null!=rt.offset?rt.offset:function Y4(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(gI(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(gI(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(rt.styles),je=0;return null!=$e&&(l++,je=rt.offset=$e),_=_||je<0||je>1,f=f||je<w,w=je,u.push(je),rt});_&&e.errors.push(function o4(){return new s.vHH(3012,en)}()),f&&e.errors.push(function a4(){return new s.vHH(3200,en)}());const A=t.steps.length;let N=0;l>0&&l<A?e.errors.push(function l4(){return new s.vHH(3202,en)}()):0==l&&(N=1/(A-1));const V=A-1,B=e.currentTime,ie=e.currentAnimateTimings,Ce=ie.duration;return D.forEach((it,rt)=>{const $e=N>0?rt==V?1:N*rt:u[rt],je=$e*Ce;e.currentTime=B+ie.delay+je,ie.duration=je,this._validateStyleAst(it,e),it.offset=$e,i.styles.push(it)}),i}visitReference(t,e){return{type:8,animation:ta(this,mw(t.animation),e),options:mg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:mg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:mg(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[l,u]=function $4(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Z4,"")),n=n.replace(/@\*/g,oI).replace(/@\w+/g,e=>oI+"-"+e.substr(1)).replace(/:animating/g,Jx),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+l:l,ea(e.collectedStyles,e.currentQuerySelector,{});const f=ta(this,mw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:l,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:t.selector,options:mg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function c4(){return new s.vHH(3013,en)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:aI(t.timings,e.errors,!0);return{type:12,animation:ta(this,mw(t.animation),e),timings:i,options:null}}}class W4{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gI(n){return!Array.isArray(n)&&"object"==typeof n}function mg(n){return n?(n=Ay(n)).params&&(n.params=function z4(n){return n?Ay(n):null}(n.params)):n={},n}function iA(n,t,e){return{duration:n,delay:t,easing:e}}function rA(n,t,e,i,r,l,u=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:l,totalTime:r+l,easing:u,subTimeline:f}}class mI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const X4=new RegExp(":enter","g"),tq=new RegExp(":leave","g");function sA(n,t,e,i,r,l={},u={},f,_,w=[]){return(new nq).buildKeyframes(n,t,e,i,r,l,u,f,_,w)}class nq{buildKeyframes(t,e,i,r,l,u,f,_,w,D=[]){w=w||new mI;const A=new oA(t,e,w,r,l,D,[]);A.options=_,A.currentTimeline.setStyles([u],null,A.errors,_),ta(this,i,A);const N=A.timelines.filter(V=>V.containsAnimation());if(Object.keys(f).length){let V;for(let B=N.length-1;B>=0;B--){const ie=N[B];if(ie.element===e){V=ie;break}}V&&!V.allowOnlyTimelineStyles()&&V.setStyles([f],null,A.errors,_)}return N.length?N.map(V=>V.buildKeyframes()):[rA(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),l=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);l!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let l=e.currentTimeline.currentTime;const u=null!=i.duration?pg(i.duration):null,f=null!=i.delay?pg(i.delay):null;return 0!==u&&t.forEach(_=>{const w=e.appendInstructionToTimeline(_,u,f);l=Math.max(l,w.duration+w.delay)}),l}visitReference(t,e){e.updateOptions(t.options,!0),ta(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const l=t.options;if(l&&(l.params||l.delay)&&(r=e.createSubContext(l),r.transformIntoNewTimeline(),null!=l.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=_I);const u=pg(l.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>ta(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const l=t.options&&t.options.delay?pg(t.options.delay):0;t.steps.forEach(u=>{const f=e.createSubContext(t.options);l&&f.delayNextStep(l),ta(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return aI(e.params?lI(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const l=t.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(i.duration),this.visitStyle(l,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const l=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(l):i.setStyles(t.styles,l,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,l=i.duration,f=e.createSubContext().currentTimeline;f.easing=i.easing,t.styles.forEach(_=>{f.forwardTime((_.offset||0)*l),f.setStyles(_.styles,_.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(r+l),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},l=r.delay?pg(r.delay):0;l&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=_I);let u=i;const f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=f.length;let _=null;f.forEach((w,D)=>{e.currentQueryIndex=D;const A=e.createSubContext(t.options,w);l&&A.delayNextStep(l),w===e.element&&(_=A.currentTimeline),ta(this,t.animation,A),A.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,A.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,l=t.timings,u=Math.abs(l.duration),f=u*(e.currentQueryTotal-1);let _=u*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const D=e.currentTimeline;_&&D.delayNextStep(_);const A=D.currentTime;ta(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-A+(r.startTime-i.currentTimeline.startTime)}}const _I={};class oA{constructor(t,e,i,r,l,u,f,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=l,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_I,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new yI(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=pg(i.duration)),null!=i.delay&&(r.delay=pg(i.delay));const l=i.params;if(l){let u=r.params;u||(u=this.options.params={}),Object.keys(l).forEach(f=>{(!e||!u.hasOwnProperty(f))&&(u[f]=lI(l[f],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,l=new oA(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(t),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(t){return this.previousNode=_I,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},l=new iq(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(l),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,l,u){let f=[];if(r&&f.push(this.element),t.length>0){t=(t=t.replace(X4,"."+this._enterClassName)).replace(tq,"."+this._leaveClassName);let w=this._driver.query(this.element,t,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),f.push(...w)}return!l&&0==f.length&&u.push(function u4(n){return new s.vHH(3014,en)}()),f}}class yI{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new yI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||ud,this._currentKeyframe[e]=ud}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const l=r&&r.params||{},u=function rq(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(l=>{e[l]=ud})):Jh(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const _=lI(u[f],l,i);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:ud),this._updateStyle(f,_)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const w=Jh(f,!0);Object.keys(w).forEach(D=>{const A=w[D];"!"==A?t.add(D):A==ud&&e.add(D)}),i||(w.offset=_/this.duration),r.push(w)});const l=t.size?cI(t.values()):[],u=e.size?cI(e.values()):[];if(i){const f=r[0],_=Ay(f);f.offset=0,_.offset=1,r=[f,_]}return rA(this.element,r,l,u,this.duration,this.startTime,this.easing,!1)}}class iq extends yI{constructor(t,e,i,r,l,u,f=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=l,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],u=i+e,f=e/u,_=Jh(t[0],!1);_.offset=0,l.push(_);const w=Jh(t[0],!1);w.offset=fR(f),l.push(w);const D=t.length-1;for(let A=1;A<=D;A++){let N=Jh(t[A],!1);N.offset=fR((e+N.offset*i)/u),l.push(N)}i=u,e=0,r="",t=l}return rA(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function fR(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class aA{}class sq extends aA{normalizePropertyName(t,e){return tA(t)}normalizeStyleValue(t,e,i,r){let l="";const u=i.toString().trim();if(oq[e]&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function Xj(n,t){return new s.vHH(3005,en)}())}return u+l}}const oq=(()=>function aq(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function pR(n,t,e,i,r,l,u,f,_,w,D,A,N){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:l,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:D,totalTime:A,errors:N}}const lA={};class gR{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function lq(n,t,e,i,r){return n.some(l=>l(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],l=this._stateStyles[t],u=r?r.buildStyles(e,i):{};return l?l.buildStyles(e,i):u}build(t,e,i,r,l,u,f,_,w,D){const A=[],N=this.ast.options&&this.ast.options.params||lA,B=this.buildStyles(i,f&&f.params||lA,A),ie=_&&_.params||lA,Ce=this.buildStyles(r,ie,A),it=new Set,rt=new Map,$e=new Map,je="void"===r,vt={params:Object.assign(Object.assign({},N),ie)},Ct=D?[]:sA(t,e,this.ast.animation,l,u,B,Ce,vt,w,A);let Zt=0;if(Ct.forEach(Kn=>{Zt=Math.max(Kn.duration+Kn.delay,Zt)}),A.length)return pR(e,this._triggerName,i,r,je,B,Ce,[],[],rt,$e,Zt,A);Ct.forEach(Kn=>{const Hs=Kn.element,kR=ea(rt,Hs,{});Kn.preStyleProps.forEach(_g=>kR[_g]=!0);const yw=ea($e,Hs,{});Kn.postStyleProps.forEach(_g=>yw[_g]=!0),Hs!==e&&it.add(Hs)});const _n=cI(it.values());return pR(e,this._triggerName,i,r,je,B,Ce,Ct,_n,rt,$e,Zt)}}class cq{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Ay(this.defaultParams);return Object.keys(t).forEach(l=>{const u=t[l];null!=u&&(r[l]=u)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const u=l;Object.keys(u).forEach(f=>{let _=u[f];_.length>1&&(_=lI(_,r,e));const w=this.normalizer.normalizePropertyName(f,e);_=this.normalizer.normalizeStyleValue(f,w,_,e),i[w]=_})}}),i}}class dq{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new cq(r.style,r.options&&r.options.params||{},i)}),mR(this.states,"true","1"),mR(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new gR(t,r,this.states))}),this.fallbackTransition=function hq(n,t,e){return new gR(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function mR(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const fq=new mI;class pq{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],l=nA(this._driver,e,i,[]);if(i.length)throw function _4(n){return new s.vHH(3503,en)}();this._animations[t]=l}_buildPlayer(t,e,i){const r=t.element,l=WP(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,l,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],l=this._animations[t];let u;const f=new Map;if(l?(u=sA(this._driver,e,l,Qx,rI,{},{},i,fq,r),u.forEach(D=>{const A=ea(f,D.element,{});D.postStyleProps.forEach(N=>A[N]=null)})):(r.push(function y4(){return new s.vHH(3300,en)}()),u=[]),r.length)throw function v4(n){return new s.vHH(3504,en)}();f.forEach((D,A)=>{Object.keys(D).forEach(N=>{D[N]=this._driver.computeStyle(A,N,ud)})});const w=Qh(u.map(D=>{const A=f.get(D.element);return this._buildPlayer(D,{},A)}));return this._playersById[t]=w,w.onDestroy(()=>this.destroy(t)),this.players.push(w),w}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function b4(n){return new s.vHH(3301,en)}();return e}listen(t,e,i,r){const l=zx(e,"","","");return Gx(this._getPlayer(t),i,l,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const l=this._getPlayer(t);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const _R="ng-animate-queued",cA="ng-animate-disabled",vq=[],yR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bq={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Na="__ng_removed";class uA{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Eq(n){return null!=n?n:null}(i?t.value:t),i){const l=Ay(t);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const _w="void",dA=new uA(_w);class wq{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Fa(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function w4(n,t){return new s.vHH(3302,en)}();if(null==i||0==i.length)throw function C4(n){return new s.vHH(3303,en)}();if(!function Iq(n){return"start"==n||"done"==n}(i))throw function T4(n,t){return new s.vHH(3400,en)}();const l=ea(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};l.push(u);const f=ea(this._engine.statesByElement,t,{});return f.hasOwnProperty(e)||(Fa(t,sI),Fa(t,sI+"-"+e),f[e]=dA),()=>{this._engine.afterFlush(()=>{const _=l.indexOf(u);_>=0&&l.splice(_,1),this._triggers[e]||delete f[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function E4(n){return new s.vHH(3401,en)}();return e}trigger(t,e,i,r=!0){const l=this._getTrigger(e),u=new hA(this.id,e,t);let f=this._engine.statesByElement.get(t);f||(Fa(t,sI),Fa(t,sI+"-"+e),this._engine.statesByElement.set(t,f={}));let _=f[e];const w=new uA(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f[e]=w,_||(_=dA),w.value!==_w&&_.value===w.value){if(!function xq(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const l=e[r];if(!t.hasOwnProperty(l)||n[l]!==t[l])return!1}return!0}(_.params,w.params)){const ie=[],Ce=l.matchStyles(_.value,_.params,ie),it=l.matchStyles(w.value,w.params,ie);ie.length?this._engine.reportError(ie):this._engine.afterFlush(()=>{gg(t,Ce),jc(t,it)})}return}const N=ea(this._engine.playersByElement,t,[]);N.forEach(ie=>{ie.namespaceId==this.id&&ie.triggerName==e&&ie.queued&&ie.destroy()});let V=l.matchTransition(_.value,w.value,t,w.params),B=!1;if(!V){if(!r)return;V=l.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:V,fromState:_,toState:w,player:u,isFallbackTransition:B}),B||(Fa(t,_R),u.onStart(()=>{My(t,_R)})),u.onDone(()=>{let ie=this.players.indexOf(u);ie>=0&&this.players.splice(ie,1);const Ce=this._engine.playersByElement.get(t);if(Ce){let it=Ce.indexOf(u);it>=0&&Ce.splice(it,1)}}),this.players.push(u),N.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,oI,!0);i.forEach(r=>{if(r[Na])return;const l=this._engine.fetchNamespacesByElement(r);l.size?l.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const l=this._engine.statesByElement.get(t),u=new Map;if(l){const f=[];if(Object.keys(l).forEach(_=>{if(u.set(_,l[_].value),this._triggers[_]){const w=this.trigger(t,_,_w,r);w&&f.push(w)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&Qh(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(l=>{const u=l.name;if(r.has(u))return;r.add(u);const _=this._triggers[u].fallbackTransition,w=i[u]||dA,D=new uA(_w),A=new hA(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:_,fromState:w,toState:D,player:A,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(t):[];if(l&&l.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const l=t[Na];(!l||l===yR)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Fa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const l=i.element,u=this._elementListeners.get(l);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=zx(l,i.triggerName,i.fromState.value,i.toState.value);_._data=t,Gx(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const l=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==l||0==u?l-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Cq{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,l)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new wq(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,l=i.length-1;if(l>=0){let u=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(e);for(;f;){const _=r.get(f);if(_){const w=i.indexOf(_);i.splice(w+1,0,t),u=!0;break}f=this.driver.getParentElement(f)}}else for(let f=l;f>=0;f--)if(this.driver.containsElement(i[f].hostElement,e)){i.splice(f+1,0,t),u=!0;break}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let l=0;l<r.length;l++){const u=i[r[l]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&e.add(f)}}}return e}trigger(t,e,i,r){if(vI(e)){const l=this._fetchNamespace(t);if(l)return l.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!vI(e))return;const l=e[Na];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Fa(t,cA)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),My(t,cA))}removeNode(t,e,i,r){if(vI(e)){const l=t?this._fetchNamespace(t):null;if(l?l.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,l){this.collectedLeaveElements.push(e),e[Na]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(t,e,i,r,l){return vI(e)?this._fetchNamespace(t).listen(e,i,r,l):()=>{}}_buildInstruction(t,e,i,r,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,l)}destroyInnerAnimations(t){let e=this.driver.query(t,oI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Jx,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Qh(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Na];if(i&&i.setForRemoval){if(t[Na]=yR,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(cA))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Fa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Qh(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function I4(n){return new s.vHH(3402,en)}()}_flushAnimations(t,e){const i=new mI,r=[],l=new Map,u=[],f=new Map,_=new Map,w=new Map,D=new Set;this.disabledNodes.forEach(dt=>{D.add(dt);const Dt=this.driver.query(dt,".ng-animate-queued",!0);for(let Nt=0;Nt<Dt.length;Nt++)D.add(Dt[Nt])});const A=this.bodyNode,N=Array.from(this.statesByElement.keys()),V=wR(N,this.collectedEnterElements),B=new Map;let ie=0;V.forEach((dt,Dt)=>{const Nt=Qx+ie++;B.set(Dt,Nt),dt.forEach(cn=>Fa(cn,Nt))});const Ce=[],it=new Set,rt=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const Dt=this.collectedLeaveElements[dt],Nt=Dt[Na];Nt&&Nt.setForRemoval&&(Ce.push(Dt),it.add(Dt),Nt.hasAnimation?this.driver.query(Dt,".ng-star-inserted",!0).forEach(cn=>it.add(cn)):rt.add(Dt))}const $e=new Map,je=wR(N,Array.from(it));je.forEach((dt,Dt)=>{const Nt=rI+ie++;$e.set(Dt,Nt),dt.forEach(cn=>Fa(cn,Nt))}),t.push(()=>{V.forEach((dt,Dt)=>{const Nt=B.get(Dt);dt.forEach(cn=>My(cn,Nt))}),je.forEach((dt,Dt)=>{const Nt=$e.get(Dt);dt.forEach(cn=>My(cn,Nt))}),Ce.forEach(dt=>{this.processLeaveNode(dt)})});const vt=[],Ct=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(e).forEach(Nt=>{const cn=Nt.player,Rr=Nt.element;if(vt.push(cn),this.collectedEnterElements.length){const js=Rr[Na];if(js&&js.setForMove){if(js.previousTriggersValues&&js.previousTriggersValues.has(Nt.triggerName)){const yg=js.previousTriggersValues.get(Nt.triggerName),ef=this.statesByElement.get(Nt.element);ef&&ef[Nt.triggerName]&&(ef[Nt.triggerName].value=yg)}return void cn.destroy()}}const qc=!A||!this.driver.containsElement(A,Rr),na=$e.get(Rr),Xh=B.get(Rr),fi=this._buildInstruction(Nt,i,Xh,na,qc);if(fi.errors&&fi.errors.length)return void Ct.push(fi);if(qc)return cn.onStart(()=>gg(Rr,fi.fromStyles)),cn.onDestroy(()=>jc(Rr,fi.toStyles)),void r.push(cn);if(Nt.isFallbackTransition)return cn.onStart(()=>gg(Rr,fi.fromStyles)),cn.onDestroy(()=>jc(Rr,fi.toStyles)),void r.push(cn);const NR=[];fi.timelines.forEach(js=>{js.stretchStartingKeyframe=!0,this.disabledNodes.has(js.element)||NR.push(js)}),fi.timelines=NR,i.append(Rr,fi.timelines),u.push({instruction:fi,player:cn,element:Rr}),fi.queriedElements.forEach(js=>ea(f,js,[]).push(cn)),fi.preStyleProps.forEach((js,yg)=>{const ef=Object.keys(js);if(ef.length){let vg=_.get(yg);vg||_.set(yg,vg=new Set),ef.forEach(pA=>vg.add(pA))}}),fi.postStyleProps.forEach((js,yg)=>{const ef=Object.keys(js);let vg=w.get(yg);vg||w.set(yg,vg=new Set),ef.forEach(pA=>vg.add(pA))})});if(Ct.length){const dt=[];Ct.forEach(Dt=>{dt.push(function D4(n,t){return new s.vHH(3505,en)}())}),vt.forEach(Dt=>Dt.destroy()),this.reportError(dt)}const Zt=new Map,_n=new Map;u.forEach(dt=>{const Dt=dt.element;i.has(Dt)&&(_n.set(Dt,Dt),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,Zt))}),r.forEach(dt=>{const Dt=dt.element;this._getPreviousPlayers(Dt,!1,dt.namespaceId,dt.triggerName,null).forEach(cn=>{ea(Zt,Dt,[]).push(cn),cn.destroy()})});const Kn=Ce.filter(dt=>TR(dt,_,w)),Hs=new Map;bR(Hs,this.driver,rt,w,ud).forEach(dt=>{TR(dt,_,w)&&Kn.push(dt)});const yw=new Map;V.forEach((dt,Dt)=>{bR(yw,this.driver,new Set(dt),_,"!")}),Kn.forEach(dt=>{const Dt=Hs.get(dt),Nt=yw.get(dt);Hs.set(dt,Object.assign(Object.assign({},Dt),Nt))});const _g=[],PR=[],RR={};u.forEach(dt=>{const{element:Dt,player:Nt,instruction:cn}=dt;if(i.has(Dt)){if(D.has(Dt))return Nt.onDestroy(()=>jc(Dt,cn.toStyles)),Nt.disabled=!0,Nt.overrideTotalTime(cn.totalTime),void r.push(Nt);let Rr=RR;if(_n.size>1){let na=Dt;const Xh=[];for(;na=na.parentNode;){const fi=_n.get(na);if(fi){Rr=fi;break}Xh.push(na)}Xh.forEach(fi=>_n.set(fi,Rr))}const qc=this._buildAnimation(Nt.namespaceId,cn,Zt,l,yw,Hs);if(Nt.setRealPlayer(qc),Rr===RR)_g.push(Nt);else{const na=this.playersByElement.get(Rr);na&&na.length&&(Nt.parentPlayer=Qh(na)),r.push(Nt)}}else gg(Dt,cn.fromStyles),Nt.onDestroy(()=>jc(Dt,cn.toStyles)),PR.push(Nt),D.has(Dt)&&r.push(Nt)}),PR.forEach(dt=>{const Dt=l.get(dt.element);if(Dt&&Dt.length){const Nt=Qh(Dt);dt.setRealPlayer(Nt)}}),r.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<Ce.length;dt++){const Dt=Ce[dt],Nt=Dt[Na];if(My(Dt,rI),Nt&&Nt.hasAnimation)continue;let cn=[];if(f.size){let qc=f.get(Dt);qc&&qc.length&&cn.push(...qc);let na=this.driver.query(Dt,Jx,!0);for(let Xh=0;Xh<na.length;Xh++){let fi=f.get(na[Xh]);fi&&fi.length&&cn.push(...fi)}}const Rr=cn.filter(qc=>!qc.destroyed);Rr.length?Dq(this,Dt,Rr):this.processLeaveNode(Dt)}return Ce.length=0,_g.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const Dt=this.players.indexOf(dt);this.players.splice(Dt,1)}),dt.play()}),_g}elementContainsData(t,e){let i=!1;const r=e[Na];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,l){let u=[];if(e){const f=this.playersByQueriedElement.get(t);f&&(u=f)}else{const f=this.playersByElement.get(t);if(f){const _=!l||l==_w;f.forEach(w=>{w.queued||!_&&w.triggerName!=r||u.push(w)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(t,e,i){const l=e.element,u=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const w=_.element,D=w!==l,A=ea(i,w,[]);this._getPreviousPlayers(w,D,u,f,e.toState).forEach(V=>{const B=V.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),V.destroy(),A.push(V)})}gg(l,e.fromStyles)}_buildAnimation(t,e,i,r,l,u){const f=e.triggerName,_=e.element,w=[],D=new Set,A=new Set,N=e.timelines.map(B=>{const ie=B.element;D.add(ie);const Ce=ie[Na];if(Ce&&Ce.removedBeforeQueried)return new dw(B.duration,B.delay);const it=ie!==_,rt=function Sq(n){const t=[];return CR(n,t),t}((i.get(ie)||vq).map(Zt=>Zt.getRealPlayer())).filter(Zt=>!!Zt.element&&Zt.element===ie),$e=l.get(ie),je=u.get(ie),vt=WP(0,this._normalizer,0,B.keyframes,$e,je),Ct=this._buildPlayer(B,vt,rt);if(B.subTimeline&&r&&A.add(ie),it){const Zt=new hA(t,f,ie);Zt.setRealPlayer(Ct),w.push(Zt)}return Ct});w.forEach(B=>{ea(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function Tq(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,B.element,B))}),D.forEach(B=>Fa(B,rR));const V=Qh(N);return V.onDestroy(()=>{D.forEach(B=>My(B,rR)),jc(_,e.toStyles)}),A.forEach(B=>{ea(r,B,[]).push(V)}),V}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new dw(t.duration,t.delay)}}class hA{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new dw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>Gx(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ea(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function vI(n){return n&&1===n.nodeType}function vR(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function bR(n,t,e,i,r){const l=[];e.forEach(_=>l.push(vR(_)));const u=[];i.forEach((_,w)=>{const D={};_.forEach(A=>{const N=D[A]=t.computeStyle(w,A,r);(!N||0==N.length)&&(w[Na]=bq,u.push(w))}),n.set(w,D)});let f=0;return e.forEach(_=>vR(_,l[f++])),u}function wR(n,t){const e=new Map;if(n.forEach(f=>e.set(f,[])),0==t.length)return e;const r=new Set(t),l=new Map;function u(f){if(!f)return 1;let _=l.get(f);if(_)return _;const w=f.parentNode;return _=e.has(w)?w:r.has(w)?1:u(w),l.set(f,_),_}return t.forEach(f=>{const _=u(f);1!==_&&e.get(_).push(f)}),e}function Fa(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function My(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function Dq(n,t,e){Qh(e).onDone(()=>n.processLeaveNode(t))}function CR(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof dP?CR(i.players,t):t.push(i)}}function TR(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(l=>r.add(l)):t.set(n,i),e.delete(n),!0}class bI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,l)=>{},this._transitionEngine=new Cq(t,e,i),this._timelineEngine=new pq(t,e,i),this._transitionEngine.onRemovalComplete=(r,l)=>this.onRemovalComplete(r,l)}registerTrigger(t,e,i,r,l){const u=t+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],D=nA(this._driver,l,_,[]);if(_.length)throw function g4(n,t){return new s.vHH(3404,en)}();f=function uq(n,t,e){return new dq(n,t,e)}(r,D,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(e,r,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[l,u]=YP(i);this._timelineEngine.command(l,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,l){if("@"==i.charAt(0)){const[u,f]=YP(i);return this._timelineEngine.listen(u,e,f,l)}return this._transitionEngine.listen(t,e,i,r,l)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Mq=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let l=n.initialStylesByElement.get(e);l||n.initialStylesByElement.set(e,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&jc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(jc(this._element,this._initialStyles),this._endStyles&&(jc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(gg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gg(this._element,this._endStyles),this._endStyles=null),jc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function fA(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];Oq(r)&&(t=t||{},t[r]=n[r])}return t}function Oq(n){return"display"===n||"position"===n}class ER{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:cR(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class kq{validateStyleProperty(t){return XP(t)}matchesElement(t,e){return!1}containsElement(t,e){return eR(t,e)}getParentElement(t){return Yx(t)}query(t,e,i){return tR(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,l,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};l&&(_.easing=l);const w={},D=u.filter(N=>N instanceof ER);(function F4(n,t){return 0===n||0===t})(i,r)&&D.forEach(N=>{let V=N.currentSnapshot;Object.keys(V).forEach(B=>w[B]=V[B])}),e=function L4(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let l=t[0],u=[];if(i.forEach(f=>{l.hasOwnProperty(f)||u.push(f),l[f]=e[f]}),u.length)for(var r=1;r<t.length;r++){let f=t[r];u.forEach(function(_){f[_]=cR(n,_)})}}return t}(t,e=e.map(N=>Jh(N,!1)),w);const A=function Aq(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=fA(t[0]),t.length>1&&(i=fA(t[t.length-1]))):t&&(e=fA(t)),e||i?new Mq(n,e,i):null}(t,e);return new ER(t,e,_,A)}}let Pq=(()=>{class n extends sP{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?oP(e):e;return IR(this._renderer,null,i,"register",[r]),new Rq(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(ue))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Rq extends class aU{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Nq(this._id,t,e||{},this._renderer)}}class Nq{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return IR(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function IR(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const DR="@.disabled";let Fq=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,u)=>{const f=null==u?void 0:u.parentNode(l);f&&u.removeChild(f,l)}}createRenderer(e,i){const l=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let D=this._rendererCache.get(l);return D||(D=new SR("",l,this.engine),this._rendererCache.set(l,D)),D}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const _=D=>{Array.isArray(D)?D.forEach(_):this.engine.registerTrigger(u,f,e,D.name,D)};return i.data.animation.forEach(_),new Lq(this,f,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[u,f]=l;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(bI),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class SR{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==DR?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Lq extends SR{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==DR?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Vq(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let l=e.substr(1),u="";return"@"!=l.charAt(0)&&([l,u]=function Uq(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(l)),this.engine.listen(this.namespaceId,r,l,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(t,e,i)}}let Bq=(()=>{class n extends bI{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ue),s.LFG(Kx),s.LFG(aA))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const xR=new s.OlP("AnimationModuleType"),AR=[{provide:sP,useClass:Pq},{provide:aA,useFactory:function Hq(){return new sq}},{provide:bI,useClass:Bq},{provide:s.FYo,useFactory:function jq(n,t,e){return new Fq(n,t,e)},deps:[Ao,bI,s.R0b]}],MR=[{provide:Kx,useFactory:()=>new kq},{provide:xR,useValue:"BrowserAnimations"},...AR],qq=[{provide:Kx,useClass:nR},{provide:xR,useValue:"NoopAnimations"},...AR];let Zq=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?qq:MR}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:MR,imports:[ha]}),n})();const OR_firebaseConfig={apiKey:"AIzaSyBq_C_lTF6K178q3o07aBZ3-66myRE3oPo",authDomain:"tp-final-d0a0b.firebaseapp.com",projectId:"tp-final-d0a0b",storageBucket:"tp-final-d0a0b.appspot.com",messagingSenderId:"1006238279954",appId:"1:1006238279954:web:9ed9505ae56c35a33aebcb"};let Kq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Pi]]}),n})(),Qq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[zj]}),n.\u0275inj=s.cJS({providers:[],imports:[[ha,Nj,Ir.hO.initializeApp(OR_firebaseConfig),aC,HL,YC,Zq,t0,SH,Tj,Kq,FV,KU,jx,H3,wU,k6]]}),n})();(0,s.G48)(),Fl().bootstrapModule(Qq).catch(n=>console.error(n))},5867:(Je,be,P)=>{P.d(be,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=P(9681);(0,s.registerVersion)("firebase","9.8.2","app")},127:(Je,be,P)=>{P.d(be,{Z:()=>s.Z});var s=P(3942);s.Z.registerVersion("firebase","9.8.2","app-compat")},8775:(Je,be,P)=>{P.r(be);var s=P(5861),Y=P(3942),R=P(2090),ae=P(9681),se=P(655),ye=P(1877),ue=P(4859);const Ne=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Be=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new ye.Yd("@firebase/auth");function Xe(y,...p){We.logLevel<=ye.in.ERROR&&We.error(`Auth (${ae.SDK_VERSION}): ${y}`,...p)}function Ae(y,...p){throw He(y,...p)}function Ie(y,...p){return He(y,...p)}function De(y,p,m){const b=Object.assign(Object.assign({},Be()),{[p]:m});return new R.LL("auth","Firebase",b).create(p,{appName:y.name})}function qe(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ae(y,"argument-error"),De(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(y,...p){if("string"!=typeof y){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return me.create(y,...p)}function q(y,p,...m){if(!y)throw He(p,...m)}function Ee(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Xe(p),new Error(p)}function Q(y,p){y||Ee(p)}const oe=new Map;function te(y){Q(y instanceof Function,"Expected a class definition");let p=oe.get(y);return p?(Q(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,oe.set(y,p),p)}function Fe(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ft(){return"http:"===zt()||"https:"===zt()}function zt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class on{constructor(p,m){this.shortDelay=p,this.longDelay=m,Q(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function Ht(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ft()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kn(y,p){Q(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class un{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ee("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ee("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ee("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},qi=new on(3e4,6e4);function Yt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Ut(y,p,m,b){return ms.apply(this,arguments)}function ms(){return(ms=(0,s.Z)(function*(y,p,m,b,S={}){return pr(y,S,(0,s.Z)(function*(){let k={},K={};b&&("GET"===p?K=b:k={body:JSON.stringify(b)});const pe=(0,R.xO)(Object.assign({key:y.config.apiKey},K)).slice(1),Ue=yield y._getAdditionalHeaders();return Ue["Content-Type"]="application/json",y.languageCode&&(Ue["X-Firebase-Locale"]=y.languageCode),un.fetch()(qs(y,y.config.apiHost,m,pe),Object.assign({method:p,headers:Ue,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function pr(y,p,m){return Si.apply(this,arguments)}function Si(){return(Si=(0,s.Z)(function*(y,p,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},tn),p);try{const S=new gr(y),k=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const K=yield k.json();if("needConfirmation"in K)throw Nr(y,"account-exists-with-different-credential",K);if(k.ok&&!("errorMessage"in K))return K;{const pe=k.ok?K.errorMessage:K.error.message,[Ue,nt]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ue)throw Nr(y,"credential-already-in-use",K);if("EMAIL_EXISTS"===Ue)throw Nr(y,"email-already-in-use",K);if("USER_DISABLED"===Ue)throw Nr(y,"user-disabled",K);const mt=b[Ue]||Ue.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw De(y,mt,nt);Ae(y,mt)}}catch(S){if(S instanceof R.ZR)throw S;Ae(y,"network-request-failed")}})).apply(this,arguments)}function Zi(y,p,m,b){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,s.Z)(function*(y,p,m,b,S={}){const k=yield Ut(y,p,m,b,S);return"mfaPendingCredential"in k&&Ae(y,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function qs(y,p,m,b){const S=`${p}${m}?${b}`;return y.config.emulator?kn(y.config,S):`${y.config.apiScheme}://${S}`}class gr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Ie(this.auth,"network-request-failed")),qi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nr(y,p,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const S=Ie(y,p,b);return S.customData._tokenResponse=m,S}function mr(){return(mr=(0,s.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Sn(y,p){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,s.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function wo(y,p){return _r.apply(this,arguments)}function _r(){return(_r=(0,s.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function si(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function ia(){return(ia=(0,s.Z)(function*(y,p=!1){const m=(0,R.m9)(y),b=yield m.getIdToken(p),S=ut(b);q(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const k="object"==typeof S.firebase?S.firebase:void 0,K=null==k?void 0:k.sign_in_provider;return{claims:S,token:b,authTime:si(Wt(S.auth_time)),issuedAtTime:si(Wt(S.iat)),expirationTime:si(Wt(S.exp)),signInProvider:K||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Wt(y){return 1e3*Number(y)}function ut(y){const[p,m,b]=y.split(".");if(void 0===p||void 0===m||void 0===b)return Xe("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,R.tV)(m);return S?JSON.parse(S):(Xe("Failed to decode base64 JWT payload"),null)}catch(S){return Xe("Caught error parsing JWT payload as JSON",S),null}}function xi(y,p){return yr.apply(this,arguments)}function yr(){return(yr=(0,s.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof R.ZR&&jt(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function jt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Co{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,s.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,s.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class Ai{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=si(this.lastLoginAt),this.creationTime=si(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mi(y){return U.apply(this,arguments)}function U(){return(U=(0,s.Z)(function*(y){var p;const m=y.auth,b=yield y.getIdToken(),S=yield xi(y,wo(m,{idToken:b}));q(null==S?void 0:S.users.length,m,"internal-error");const k=S.users[0];y._notifyReloadListener(k);const K=(null===(p=k.providerUserInfo)||void 0===p?void 0:p.length)?G(k.providerUserInfo):[],pe=xe(y.providerData,K),mt=!!y.isAnonymous&&!(y.email&&k.passwordHash||(null==pe?void 0:pe.length)),gt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:pe,metadata:new Ai(k.createdAt,k.lastLoginAt),isAnonymous:mt};Object.assign(y,gt)})).apply(this,arguments)}function W(){return(W=(0,s.Z)(function*(y){const p=(0,R.m9)(y);yield Mi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function xe(y,p){return[...y.filter(b=>!p.some(S=>S.providerId===b.providerId)),...p]}function G(y){return y.map(p=>{var{providerId:m}=p,b=(0,se._T)(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Pe(){return(Pe=(0,s.Z)(function*(y,p){const m=yield pr(y,{},(0,s.Z)(function*(){const b=(0,R.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:k}=y.config,K=qs(y,S,"/v1/token",`key=${k}`),pe=yield y._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",un.fetch()(K,{method:"POST",headers:pe,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){q(p.idToken,"internal-error"),q(void 0!==p.idToken,"internal-error"),q(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function Tt(y){const p=ut(y);return q(p,"internal-error"),q(void 0!==p.exp,"internal-error"),q(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,s.Z)(function*(){return q(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,s.Z)(function*(){const{accessToken:S,refreshToken:k,expiresIn:K}=yield function ee(y,p){return Pe.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(S,k,Number(K))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:S,expirationTime:k}=m,K=new tt;return b&&(q("string"==typeof b,"internal-error",{appName:p}),K.refreshToken=b),S&&(q("string"==typeof S,"internal-error",{appName:p}),K.accessToken=S),k&&(q("number"==typeof k,"internal-error",{appName:p}),K.expirationTime=k),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new tt,this.toJSON())}_performRefresh(){return Ee("not implemented")}}function _t(y,p){q("string"==typeof y||void 0===y,"internal-error",{appName:p})}class St{constructor(p){var{uid:m,auth:b,stsTokenManager:S}=p,k=(0,se._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Co(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new Ai(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,s.Z)(function*(){const b=yield xi(m,m.stsTokenManager.getToken(m.auth,p));return q(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function Fr(y){return ia.apply(this,arguments)}(this,p)}reload(){return function z(y){return W.apply(this,arguments)}(this)}_assign(p){this!==p&&(q(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new St(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,s.Z)(function*(){let S=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield Mi(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,s.Z)(function*(){const m=yield p.getIdToken();return yield xi(p,function bt(y,p){return mr.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,S,k,K,pe,Ue,nt,mt;const gt=null!==(b=m.displayName)&&void 0!==b?b:void 0,Ln=null!==(S=m.email)&&void 0!==S?S:void 0,Er=null!==(k=m.phoneNumber)&&void 0!==k?k:void 0,ic=null!==(K=m.photoURL)&&void 0!==K?K:void 0,xf=null!==(pe=m.tenantId)&&void 0!==pe?pe:void 0,Yg=null!==(Ue=m._redirectEventId)&&void 0!==Ue?Ue:void 0,sl=null!==(nt=m.createdAt)&&void 0!==nt?nt:void 0,Eu=null!==(mt=m.lastLoginAt)&&void 0!==mt?mt:void 0,{uid:oh,emailVerified:Kg,isAnonymous:Vn,providerData:Af,stsTokenManager:Mf}=m;q(oh&&Mf,p,"internal-error");const ah=tt.fromJSON(this.name,Mf);q("string"==typeof oh,p,"internal-error"),_t(gt,p.name),_t(Ln,p.name),q("boolean"==typeof Kg,p,"internal-error"),q("boolean"==typeof Vn,p,"internal-error"),_t(Er,p.name),_t(ic,p.name),_t(xf,p.name),_t(Yg,p.name),_t(sl,p.name),_t(Eu,p.name);const ol=new St({uid:oh,auth:p,email:Ln,emailVerified:Kg,displayName:gt,isAnonymous:Vn,photoURL:ic,phoneNumber:Er,tenantId:xf,stsTokenManager:ah,createdAt:sl,lastLoginAt:Eu});return Af&&Array.isArray(Af)&&(ol.providerData=Af.map(rc=>Object.assign({},rc))),Yg&&(ol._redirectEventId=Yg),ol}static _fromIdTokenResponse(p,m,b=!1){return(0,s.Z)(function*(){const S=new tt;S.updateFromServerResponse(m);const k=new St({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:b});return yield Mi(k),k})()}}const It=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(m,b){var S=this;return(0,s.Z)(function*(){S.storage[m]=b})()}_get(m){var b=this;return(0,s.Z)(function*(){const S=b.storage[m];return void 0===S?null:S})()}_remove(m){var b=this;return(0,s.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function Qn(y,p,m){return`firebase:${y}:${p}:${m}`}class Gi{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:S,name:k}=this.auth;this.fullUserKey=Qn(this.userKey,S.apiKey,k),this.fullPersistenceKey=Qn("persistence",S.apiKey,k),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,s.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?St._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,s.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,s.Z)(function*(){if(!m.length)return new Gi(te(It),p,b);const S=(yield Promise.all(m.map(function(){var nt=(0,s.Z)(function*(mt){if(yield mt._isAvailable())return mt});return function(mt){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let k=S[0]||te(It);const K=Qn(b,p.config.apiKey,p.name);let pe=null;for(const nt of m)try{const mt=yield nt._get(K);if(mt){const gt=St._fromJSON(p,mt);nt!==k&&(pe=gt),k=nt;break}}catch(mt){}const Ue=S.filter(nt=>nt._shouldAllowMigration);return k._shouldAllowMigration&&Ue.length?(k=Ue[0],pe&&(yield k._set(K,pe.toJSON())),yield Promise.all(m.map(function(){var nt=(0,s.Z)(function*(mt){if(mt!==k)try{yield mt._remove(K)}catch(gt){}});return function(mt){return nt.apply(this,arguments)}}())),new Gi(k,p,b)):new Gi(k,p,b)})()}}function El(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Jn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(La(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(_s(p))return"Blackberry";if(Xn(p))return"Webos";if(Il(p))return"Safari";if((p.includes("chrome/")||Va(p))&&!p.includes("edge/"))return"Chrome";if($i(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function La(y=(0,R.z$)()){return/firefox\//i.test(y)}function Il(y=(0,R.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Va(y=(0,R.z$)()){return/crios\//i.test(y)}function Jn(y=(0,R.z$)()){return/iemobile/i.test(y)}function $i(y=(0,R.z$)()){return/android/i.test(y)}function _s(y=(0,R.z$)()){return/blackberry/i.test(y)}function Xn(y=(0,R.z$)()){return/webos/i.test(y)}function Xi(y=(0,R.z$)()){return/iphone|ipad|ipod/i.test(y)}function Zs(y=(0,R.z$)()){return Xi(y)||$i(y)||Xn(y)||_s(y)||/windows phone/i.test(y)||Jn(y)}function ra(y,p=[]){let m;switch(y){case"Browser":m=El((0,R.z$)());break;case"Worker":m=`${El((0,R.z$)())}-${y}`;break;default:m=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${b}`}class er{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=k=>new Promise((K,pe)=>{try{K(p(k))}catch(Ue){pe(Ue)}});b.onAbort=m,this.queue.push(b);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,s.Z)(function*(){if(m.auth.currentUser===p)return;const b=[];try{for(const S of m.queue)yield S(p),S.onAbort&&b.push(S.onAbort)}catch(S){b.reverse();for(const k of b)try{k()}catch(K){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:S.message})}})()}}class Ye{constructor(p,m,b){this.app=p,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new an(this),this.idTokenSubscription=new an(this),this.beforeStateQueue=new er(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=te(m)),this._initializationPromise=this.queue((0,s.Z)(function*(){var S,k;if(!b._deleted&&(b.persistenceManager=yield Gi.create(b,p),!b._deleted)){if(null===(S=b._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(K){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(k=b.currentUser)||void 0===k?void 0:k.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,s.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,s.Z)(function*(){var b;const S=yield m.assertedPersistence.getCurrentUser();let k=S,K=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const pe=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Ue=null==k?void 0:k._redirectEventId,nt=yield m.tryRedirectSignIn(p);(!pe||pe===Ue)&&(null==nt?void 0:nt.user)&&(k=nt.user,K=!0)}if(!k)return m.directlySetCurrentUser(null);if(!k._redirectEventId){if(K)try{yield m.beforeStateQueue.runMiddleware(k)}catch(pe){k=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(pe))}return k?m.reloadAndSetCurrentUserOrClear(k):m.directlySetCurrentUser(null)}return q(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===k._redirectEventId?m.directlySetCurrentUser(k):m.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(p){var m=this;return(0,s.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(S){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,s.Z)(function*(){try{yield Mi(p)}catch(b){if("auth/network-request-failed"!==b.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ke(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,s.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,s.Z)(function*(){const b=p?(0,R.m9)(p):null;return b&&q(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,s.Z)(function*(){if(!b._deleted)return p&&q(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,s.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,s.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,s.Z)(function*(){yield m.assertedPersistence.setPersistence(te(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new R.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,s.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,s.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&te(p)||m._popupRedirectResolver;q(b,m,"argument-error"),m.redirectPersistenceManager=yield Gi.create(m,[te(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,s.Z)(function*(){var b,S;return m._isInitialized&&(yield m.queue((0,s.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,s.Z)(function*(){if(p===m.currentUser)return m.queue((0,s.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,S){if(this._deleted)return()=>{};const k="function"==typeof m?m:m.next.bind(m),K=this._isInitialized?Promise.resolve():this._initializationPromise;return q(K,this,"internal-error"),K.then(()=>k(this.currentUser)),"function"==typeof m?p.addObserver(m,b,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,s.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ra(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,s.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return S&&(b["X-Firebase-Client"]=S),b})()}}function ht(y){return(0,R.m9)(y)}class an{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,R.ne)(m=>this.observer=m)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yr(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Kr(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Lr{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Ee("not implemented")}_getIdTokenResponse(p){return Ee("not implemented")}_linkToIdToken(p,m){return Ee("not implemented")}_getReauthenticationResolver(p){return Ee("not implemented")}}function Rn(y,p){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,s.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:resetPassword",Yt(y,p))})).apply(this,arguments)}function Ba(y,p){return gn.apply(this,arguments)}function gn(){return(gn=(0,s.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Dl(y,p){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,s.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:update",Yt(y,p))})).apply(this,arguments)}function Eo(){return(Eo=(0,s.Z)(function*(y,p){return Zi(y,"POST","/v1/accounts:signInWithPassword",Yt(y,p))})).apply(this,arguments)}function $s(y,p){return qt.apply(this,arguments)}function qt(){return(qt=(0,s.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:sendOobCode",Yt(y,p))})).apply(this,arguments)}function dn(y,p){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,s.Z)(function*(y,p){return $s(y,p)})).apply(this,arguments)}function Ha(y,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,s.Z)(function*(y,p){return $s(y,p)})).apply(this,arguments)}function Qr(y,p){return xl.apply(this,arguments)}function xl(){return(xl=(0,s.Z)(function*(y,p){return $s(y,p)})).apply(this,arguments)}function hd(y,p){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,s.Z)(function*(y,p){return $s(y,p)})).apply(this,arguments)}function ir(){return(ir=(0,s.Z)(function*(y,p){return Zi(y,"POST","/v1/accounts:signInWithEmailLink",Yt(y,p))})).apply(this,arguments)}function fd(){return(fd=(0,s.Z)(function*(y,p){return Zi(y,"POST","/v1/accounts:signInWithEmailLink",Yt(y,p))})).apply(this,arguments)}class Oi extends Lr{constructor(p,m,b,S=null){super("password",b),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new Oi(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new Oi(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,s.Z)(function*(){switch(m.signInMethod){case"password":return function nn(y,p){return Eo.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Xr(y,p){return ir.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ae(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,s.Z)(function*(){switch(b.signInMethod){case"password":return Ba(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function zs(y,p){return fd.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:Ae(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Ws(y,p){return pd.apply(this,arguments)}function pd(){return(pd=(0,s.Z)(function*(y,p){return Zi(y,"POST","/v1/accounts:signInWithIdp",Yt(y,p))})).apply(this,arguments)}class ys extends Lr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new ys(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S}=m,k=(0,se._T)(m,["providerId","signInMethod"]);if(!b||!S)return null;const K=new ys(b,S);return K.idToken=k.idToken||void 0,K.accessToken=k.accessToken||void 0,K.secret=k.secret,K.nonce=k.nonce,K.pendingToken=k.pendingToken||null,K}_getIdTokenResponse(p){return Ws(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Ws(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Ws(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,R.xO)(m)}return p}}function Ys(y,p){return gd.apply(this,arguments)}function gd(){return(gd=(0,s.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:sendVerificationCode",Yt(y,p))})).apply(this,arguments)}function Ks(){return(Ks=(0,s.Z)(function*(y,p){return Zi(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,p))})).apply(this,arguments)}function md(){return(md=(0,s.Z)(function*(y,p){const m=yield Zi(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,p));if(m.temporaryProof)throw Nr(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Cg={USER_NOT_FOUND:"user-not-found"};function _d(){return(_d=(0,s.Z)(function*(y,p){return Zi(y,"POST","/v1/accounts:signInWithPhoneNumber",Yt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Cg)})).apply(this,arguments)}class sa extends Lr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new sa({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new sa({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Zc(y,p){return Ks.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function wg(y,p){return md.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Tg(y,p){return _d.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:k}=p;return b||m||S||k?new sa({verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:k}):null}}class Al{constructor(p){var m,b,S,k,K,pe;const Ue=(0,R.zd)((0,R.pd)(p)),nt=null!==(m=Ue.apiKey)&&void 0!==m?m:null,mt=null!==(b=Ue.oobCode)&&void 0!==b?b:null,gt=function tf(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ue.mode)&&void 0!==S?S:null);q(nt&&mt&&gt,"argument-error"),this.apiKey=nt,this.operation=gt,this.code=mt,this.continueUrl=null!==(k=Ue.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(K=Ue.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(pe=Ue.tenantId)&&void 0!==pe?pe:null}static parseLink(p){const m=function ja(y){const p=(0,R.zd)((0,R.pd)(y)).link,m=p?(0,R.zd)((0,R.pd)(p)).deep_link_id:null,b=(0,R.zd)((0,R.pd)(y)).deep_link_id;return(b?(0,R.zd)((0,R.pd)(b)).link:null)||b||m||p||y}(p);try{return new Al(m)}catch(b){return null}}}let vd=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return Oi._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const S=Al.parseLink(b);return q(S,"argument-error"),Oi._fromEmailAndCode(m,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ki{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Io extends ki{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class es extends Io{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return q("providerId"in m&&"signInMethod"in m,"argument-error"),ys._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return q(p.idToken||p.accessToken,"argument-error"),ys._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return es.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return es.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:k,nonce:K,providerId:pe}=p;if(!b&&!S&&!m&&!k||!pe)return null;try{return new es(pe)._credential({idToken:m,accessToken:b,nonce:K,pendingToken:k})}catch(Ue){return null}}}let oa=(()=>{class y extends Io{constructor(){super("facebook.com")}static credential(m){return ys._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),bd=(()=>{class y extends Io{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return ys._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:S}=m;if(!b&&!S)return null;try{return y.credential(b,S)}catch(k){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),nf=(()=>{class y extends Io{constructor(){super("github.com")}static credential(m){return ys._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Do extends Lr{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Ws(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Ws(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Ws(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S,pendingToken:k}=m;return b&&S&&k&&b===S?new Do(b,k):null}static _create(p,m){return new Do(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zi extends ki{constructor(p){q(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return zi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return zi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Do.fromJSON(p);return q(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return Do._create(b,m)}catch(S){return null}}}let wd=(()=>{class y extends Io{constructor(){super("twitter.com")}static credential(m,b){return ys._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=m;if(!b||!S)return null;try{return y.credential(b,S)}catch(k){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ri(y,p){return la.apply(this,arguments)}function la(){return(la=(0,s.Z)(function*(y,p){return Zi(y,"POST","/v1/accounts:signUp",Yt(y,p))})).apply(this,arguments)}class vr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,S=!1){return(0,s.Z)(function*(){const k=yield St._fromIdTokenResponse(p,b,S),K=Gc(b);return new vr({user:k,providerId:K,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,s.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const S=Gc(b);return new vr({user:p,providerId:S,_tokenResponse:b,operationType:m})})()}}function Gc(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function $c(){return($c=(0,s.Z)(function*(y){var p;const m=ht(y);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new vr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Ri(m,{returnSecureToken:!0}),S=yield vr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class ca extends R.ZR{constructor(p,m,b,S){var k;super(m.code,m.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,ca.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,S){return new ca(p,m,b,S)}}function zc(y,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?ca._fromErrorAndOperation(y,k,p,b):k})}function ts(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function hn(){return(hn=(0,s.Z)(function*(y,p){const m=(0,R.m9)(y);yield rn(!0,m,p);const{providerUserInfo:b}=yield Sn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=ts(b||[]);return m.providerData=m.providerData.filter(k=>S.has(k.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function qa(y,p){return So.apply(this,arguments)}function So(){return(So=(0,s.Z)(function*(y,p,m=!1){const b=yield xi(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return vr._forOperation(y,"link",b)})).apply(this,arguments)}function rn(y,p,m){return Za.apply(this,arguments)}function Za(){return(Za=(0,s.Z)(function*(y,p,m){yield Mi(p);const S=!1===y?"provider-already-linked":"no-such-provider";q(ts(p.providerData).has(m)===y,p.auth,S)})).apply(this,arguments)}function Ml(y,p){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,s.Z)(function*(y,p,m=!1){const{auth:b}=y,S="reauthenticate";try{const k=yield xi(y,zc(b,S,p,y),m);q(k.idToken,b,"internal-error");const K=ut(k.idToken);q(K,b,"internal-error");const{sub:pe}=K;return q(y.uid===pe,b,"user-mismatch"),vr._forOperation(y,S,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Ae(b,"user-mismatch"),k}})).apply(this,arguments)}function gi(y,p){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,s.Z)(function*(y,p,m=!1){const b="signIn",S=yield zc(y,b,p),k=yield vr._fromIdTokenResponse(y,b,S);return m||(yield y._updateCurrentUser(k.user)),k})).apply(this,arguments)}function In(y,p){return ns.apply(this,arguments)}function ns(){return(ns=(0,s.Z)(function*(y,p){return gi(ht(y),p)})).apply(this,arguments)}function mi(y,p){return xo.apply(this,arguments)}function xo(){return(xo=(0,s.Z)(function*(y,p){const m=(0,R.m9)(y);return yield rn(!1,m,p.providerId),qa(m,p)})).apply(this,arguments)}function vs(y,p){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,s.Z)(function*(y,p){return Ml((0,R.m9)(y),p)})).apply(this,arguments)}function Vr(y,p){return is.apply(this,arguments)}function is(){return(is=(0,s.Z)(function*(y,p){return Zi(y,"POST","/v1/accounts:signInWithCustomToken",Yt(y,p))})).apply(this,arguments)}function wt(){return(wt=(0,s.Z)(function*(y,p){const m=ht(y),b=yield Vr(m,{token:p,returnSecureToken:!0}),S=yield vr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Js{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Yc._fromServerResponse(p,m):Ae(p,"internal-error")}}class Yc extends Js{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Yc(m)}}function $a(y,p,m){var b;q((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),q(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(q(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(q(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Ol(){return(Ol=(0,s.Z)(function*(y,p,m){const b=(0,R.m9)(y),S={requestType:"PASSWORD_RESET",email:p};m&&$a(b,S,m),yield Ha(b,S)})).apply(this,arguments)}function Qc(){return(Qc=(0,s.Z)(function*(y,p,m){yield Rn((0,R.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Me(){return(Me=(0,s.Z)(function*(y,p){yield Dl((0,R.m9)(y),{oobCode:p})})).apply(this,arguments)}function Bt(y,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,s.Z)(function*(y,p){const m=(0,R.m9)(y),b=yield Rn(m,{oobCode:p}),S=b.requestType;switch(q(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(b.mfaInfo,m,"internal-error");default:q(b.email,m,"internal-error")}let k=null;return b.mfaInfo&&(k=Js._fromServerResponse(ht(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:k},operation:S}})).apply(this,arguments)}function Pl(){return(Pl=(0,s.Z)(function*(y,p){const{data:m}=yield Bt((0,R.m9)(y),p);return m.email})).apply(this,arguments)}function br(){return(br=(0,s.Z)(function*(y,p,m){const b=ht(y),S=yield Ri(b,{returnSecureToken:!0,email:p,password:m}),k=yield vr._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(k.user),k})).apply(this,arguments)}function eu(){return(eu=(0,s.Z)(function*(y,p,m){const b=(0,R.m9)(y),S={requestType:"EMAIL_SIGNIN",email:p};q(m.handleCodeInApp,b,"argument-error"),m&&$a(b,S,m),yield Qr(b,S)})).apply(this,arguments)}function bs(){return(bs=(0,s.Z)(function*(y,p,m){const b=(0,R.m9)(y),S=vd.credentialWithLink(p,m||Fe());return q(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),In(b,S)})).apply(this,arguments)}function Ni(y,p){return wr.apply(this,arguments)}function wr(){return(wr=(0,s.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:createAuthUri",Yt(y,p))})).apply(this,arguments)}function Xs(){return(Xs=(0,s.Z)(function*(y,p){const b={identifier:p,continueUri:ft()?Fe():"http://localhost"},{signinMethods:S}=yield Ni((0,R.m9)(y),b);return S||[]})).apply(this,arguments)}function tu(){return(tu=(0,s.Z)(function*(y,p){const m=(0,R.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&$a(m.auth,S,p);const{email:k}=yield dn(m.auth,S);k!==y.email&&(yield y.reload())})).apply(this,arguments)}function Fl(){return(Fl=(0,s.Z)(function*(y,p,m){const b=(0,R.m9)(y),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&$a(b.auth,k,m);const{email:K}=yield hd(b.auth,k);K!==y.email&&(yield y.reload())})).apply(this,arguments)}function nu(y,p){return ha.apply(this,arguments)}function ha(){return(ha=(0,s.Z)(function*(y,p){return Ut(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Vl(){return(Vl=(0,s.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,R.m9)(y),k={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},K=yield xi(b,nu(b.auth,k));b.displayName=K.displayName||null,b.photoURL=K.photoUrl||null;const pe=b.providerData.find(({providerId:Ue})=>"password"===Ue);pe&&(pe.displayName=b.displayName,pe.photoURL=b.photoURL),yield b._updateTokensIfNecessary(K)})).apply(this,arguments)}function Ul(y,p,m){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,s.Z)(function*(y,p,m){const{auth:b}=y,k={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(k.email=p),m&&(k.password=m);const K=yield xi(y,Ba(b,k));yield y._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class fa{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class Sd extends fa{constructor(p,m,b,S){super(p,m,b),this.username=S}}class Bl extends fa{constructor(p,m){super(p,"facebook.com",m)}}class rr extends Sd{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class sf extends fa{constructor(p,m){super(p,"google.com",m)}}class iu extends Sd{constructor(p,m,b){super(p,"twitter.com",m,b)}}function oi(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Dd(y){var p,m;if(!y)return null;const{providerId:b}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},k=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const K=null===(m=null===(p=ut(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(K)return new fa(k,"anonymous"!==K&&"custom"!==K?K:null)}if(!b)return null;switch(b){case"facebook.com":return new Bl(k,S);case"github.com":return new rr(k,S);case"google.com":return new sf(k,S);case"twitter.com":return new iu(k,S,y.screenName||null);case"custom":case"anonymous":return new fa(k,null);default:return new fa(k,b,S)}}(m)}class ws{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new ws("enroll",p)}static _fromMfaPendingCredential(p){return new ws("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return ws._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return ws._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Po{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=ht(p),S=m.customData._serverResponse,k=(S.mfaInfo||[]).map(pe=>Js._fromServerResponse(b,pe));q(S.mfaPendingCredential,b,"internal-error");const K=ws._fromMfaPendingCredential(S.mfaPendingCredential);return new Po(K,k,function(){var pe=(0,s.Z)(function*(Ue){const nt=yield Ue._process(b,K);delete S.mfaInfo,delete S.mfaPendingCredential;const mt=Object.assign(Object.assign({},S),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(m.operationType){case"signIn":const gt=yield vr._fromIdTokenResponse(b,m.operationType,mt);return yield b._updateCurrentUser(gt.user),gt;case"reauthenticate":return q(m.user,b,"internal-error"),vr._forOperation(m.user,m.operationType,mt);default:Ae(b,"internal-error")}});return function(Ue){return pe.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,s.Z)(function*(){return m.signInResolver(p)})()}}function Md(y,p){return Ut(y,"POST","/v2/accounts/mfaEnrollment:start",Yt(y,p))}class pa{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>Js._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new pa(p)}getSession(){var p=this;return(0,s.Z)(function*(){return ws._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var b=this;return(0,s.Z)(function*(){const S=p,k=yield b.getSession(),K=yield xi(b.user,S._process(b.user.auth,k,m));return yield b.user._updateTokensIfNecessary(K),b.user.reload()})()}unenroll(p){var m=this;return(0,s.Z)(function*(){const b="string"==typeof p?p:p.uid,S=yield m.user.getIdToken(),k=yield xi(m.user,function Ro(y,p){return Ut(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Yt(y,p))}(m.user.auth,{idToken:S,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:K})=>K!==b),yield m.user._updateTokensIfNecessary(k);try{yield m.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const Hl=new WeakMap,Cs="__sak";class jl{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Cs,"1"),this.storage.removeItem(Cs),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Kt=(()=>{class y extends jl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ag(){const y=(0,R.z$)();return Il(y)||Xi(y)}()&&function pi(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Zs(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),k=this.localCache[b];S!==k&&m(b,k,S)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((pe,Ue,nt)=>{this.notifyListeners(pe,nt)});const S=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(S);if(m.newValue!==pe)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!b)return}const k=()=>{const pe=this.storage.getItem(S);!b&&this.localCache[S]===pe||this.notifyListeners(S,pe)},K=this.storage.getItem(S);!function Ua(){return(0,R.w1)()&&10===document.documentMode}()||K===m.newValue||m.newValue===m.oldValue?k():setTimeout(k,10)}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const k of Array.from(S))k(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var S=()=>super._set,k=this;return(0,s.Z)(function*(){yield S().call(k,m,b),k.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,S=this;return(0,s.Z)(function*(){const k=yield b().call(S,m);return S.localCache[m]=JSON.stringify(k),k})()}_remove(m){var b=()=>super._remove,S=this;return(0,s.Z)(function*(){yield b().call(S,m),delete S.localCache[m]})()}}return y.type="LOCAL",y})(),mn=(()=>{class y extends jl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let Od=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(k=>k.isListeningto(m));if(b)return b;const S=new y(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,s.Z)(function*(){const S=m,{eventId:k,eventType:K,data:pe}=S.data,Ue=b.handlersMap[K];if(!(null==Ue?void 0:Ue.size))return;S.ports[0].postMessage({status:"ack",eventId:k,eventType:K});const nt=Array.from(Ue).map(function(){var gt=(0,s.Z)(function*(Ln){return Ln(S.origin,pe)});return function(Ln){return gt.apply(this,arguments)}}()),mt=yield function Ya(y){return Promise.all(y.map(function(){var p=(0,s.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(nt);S.ports[0].postMessage({status:"done",eventId:k,eventType:K,response:mt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ga(y="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return y+m}class eo{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var S=this;return(0,s.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let K,pe;return new Promise((Ue,nt)=>{const mt=ga("",20);k.port1.start();const gt=setTimeout(()=>{nt(new Error("unsupported_event"))},b);pe={messageChannel:k,onMessage(Ln){const Er=Ln;if(Er.data.eventId===mt)switch(Er.data.status){case"ack":clearTimeout(gt),K=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Ue(Er.data.response);break;default:clearTimeout(gt),clearTimeout(K),nt(new Error("invalid_response"))}}},S.handlers.add(pe),k.port1.addEventListener("message",pe.onMessage),S.target.postMessage({eventType:p,eventId:mt,data:m},[k.port2])}).finally(()=>{pe&&S.removeMessageHandler(pe)})})()}}function Nn(){return window}function rs(){return void 0!==Nn().WorkerGlobalScope&&"function"==typeof Nn().importScripts}function kd(){return(kd=(0,s.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const ru="firebaseLocalStorageDb",no="firebaseLocalStorage",ma="fbase_key";class No{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function _i(y,p){return y.transaction([no],p?"readwrite":"readonly").objectStore(no)}function Fo(){const y=indexedDB.open(ru,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(no,{keyPath:ma})}catch(S){m(S)}}),y.addEventListener("success",(0,s.Z)(function*(){const b=y.result;b.objectStoreNames.contains(no)?p(b):(b.close(),yield function yi(){const y=indexedDB.deleteDatabase(ru);return new No(y).toPromise()}(),p(yield Fo()))}))})}function _a(y,p,m){return io.apply(this,arguments)}function io(){return(io=(0,s.Z)(function*(y,p,m){const b=_i(y,!0).put({[ma]:p,value:m});return new No(b).toPromise()})).apply(this,arguments)}function ro(){return(ro=(0,s.Z)(function*(y,p){const m=_i(y,!1).get(p),b=yield new No(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function va(y,p){const m=_i(y,!0).delete(p);return new No(m).toPromise()}const Es=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,s.Z)(function*(){return m.db||(m.db=yield Fo()),m.db})()}_withRetries(m){var b=this;return(0,s.Z)(function*(){let S=0;for(;;)try{const k=yield b._openDb();return yield m(k)}catch(k){if(S++>3)throw k;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,s.Z)(function*(){return rs()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,s.Z)(function*(){m.receiver=Od._getInstance(function ql(){return rs()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,s.Z)(function*(S,k){return{keyProcessed:(yield m._poll()).includes(k.key)}});return function(S,k){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,s.Z)(function*(S,k){return["keyChanged"]});return function(S,k){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,s.Z)(function*(){var b,S;if(m.activeServiceWorker=yield function Pt(){return kd.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new eo(m.activeServiceWorker);const k=yield m.sender._send("ping",{},800);!k||(null===(b=k[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=k[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,s.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Pd(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Fo();return yield _a(m,Cs,"1"),yield va(m,Cs),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,s.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var S=this;return(0,s.Z)(function*(){return S._withPendingWrite((0,s.Z)(function*(){return yield S._withRetries(k=>_a(k,m,b)),S.localCache[m]=b,S.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,s.Z)(function*(){const S=yield b._withRetries(k=>function ya(y,p){return ro.apply(this,arguments)}(k,m));return b.localCache[m]=S,S})()}_remove(m){var b=this;return(0,s.Z)(function*(){return b._withPendingWrite((0,s.Z)(function*(){return yield b._withRetries(S=>va(S,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,s.Z)(function*(){const b=yield m._withRetries(K=>{const pe=_i(K,!1).getAll();return new No(pe).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const S=[],k=new Set;for(const{fbase_key:K,value:pe}of b)k.add(K),JSON.stringify(m.localCache[K])!==JSON.stringify(pe)&&(m.notifyListeners(K,pe),S.push(K));for(const K of Object.keys(m.localCache))m.localCache[K]&&!k.has(K)&&(m.notifyListeners(K,null),S.push(K));return S})()}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const k of Array.from(S))k(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function qn(y,p){return Ut(y,"POST","/v2/accounts/mfaSignIn:start",Yt(y,p))}function xn(){return(xn=(0,s.Z)(function*(y){return(yield Ut(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Is(y){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=S=>{const k=Ie("internal-error");k.customData=S,m(k)},b.type="text/javascript",b.charset="UTF-8",function Lo(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function Ds(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Br=1e12;class Zn{constructor(p){this.auth=p,this.counter=Br,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new os(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||Br;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Br))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,s.Z)(function*(){var b;return null===(b=m._widgets.get(p||Br))||void 0===b||b.execute(),""})()}}class os{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;q(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Zl(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ou=Ds("rcb"),An=new on(3e4,6e4);class ky{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Nn().grecaptcha}load(p,m=""){return q(function wa(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Nn().grecaptcha):new Promise((b,S)=>{const k=Nn().setTimeout(()=>{S(Ie(p,"network-request-failed"))},An.get());Nn()[ou]=()=>{Nn().clearTimeout(k),delete Nn()[ou];const pe=Nn().grecaptcha;if(!pe)return void S(Ie(p,"internal-error"));const Ue=pe.render;pe.render=(nt,mt)=>{const gt=Ue(nt,mt);return this.counter++,gt},this.hostLanguage=m,b(pe)},Is(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:ou,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(k),S(Ie(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Nn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class sr{load(p){return(0,s.Z)(function*(){return new Zn(p)})()}clearedOneInstance(){}}const Rd="recaptcha",oo={theme:"light",type:"image"};class Nd{constructor(p,m=Object.assign({},oo),b){this.parameters=m,this.type=Rd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ht(b),this.isInvisible="invisible"===this.parameters.size,q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;q(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new sr:new ky,this.validateStartingState()}verify(){var p=this;return(0,s.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(k=>{const K=pe=>{!pe||(p.tokenChangeListeners.delete(K),k(pe))};p.tokenChangeListeners.add(K),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=Nn()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,s.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,s.Z)(function*(){q(ft()&&!rs(),p.auth,"internal-error"),yield function Ss(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function so(y){return xn.apply(this,arguments)}(p.auth);q(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class au{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=sa._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Qa(){return(Qa=(0,s.Z)(function*(y,p,m){const b=ht(y),S=yield Wi(b,p,(0,R.m9)(m));return new au(S,k=>In(b,k))})).apply(this,arguments)}function Fd(){return(Fd=(0,s.Z)(function*(y,p,m){const b=(0,R.m9)(y);yield rn(!1,b,"phone");const S=yield Wi(b.auth,p,(0,R.m9)(m));return new au(S,k=>mi(b,k))})).apply(this,arguments)}function Fi(){return(Fi=(0,s.Z)(function*(y,p,m){const b=(0,R.m9)(y),S=yield Wi(b.auth,p,(0,R.m9)(m));return new au(S,k=>vs(b,k))})).apply(this,arguments)}function Wi(y,p,m){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,s.Z)(function*(y,p,m){var b;const S=yield m.verify();try{let k;if(q("string"==typeof S,y,"argument-error"),q(m.type===Rd,y,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const K=k.session;if("phoneNumber"in k)return q("enroll"===K.type,y,"internal-error"),(yield Md(y,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{q("signin"===K.type,y,"internal-error");const pe=(null===(b=k.multiFactorHint)||void 0===b?void 0:b.uid)||k.multiFactorUid;return q(pe,y,"missing-multi-factor-info"),(yield qn(y,{mfaPendingCredential:K.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield Ys(y,{phoneNumber:k.phoneNumber,recaptchaToken:S});return K}}finally{m._reset()}})).apply(this,arguments)}function xs(){return(xs=(0,s.Z)(function*(y,p){yield qa((0,R.m9)(y),p)})).apply(this,arguments)}let ao=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=ht(m)}verifyPhoneNumber(m,b){return Wi(this.auth,m,(0,R.m9)(b))}static credential(m,b){return sa._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:S}=m;return b&&S?sa._fromTokenResponse(b,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function As(y,p){return p?te(p):(q(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ta extends Lr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Ws(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Ws(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Ws(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Ft(y){return gi(y.auth,new Ta(y),y.bypassAuthState)}function Ld(y){const{auth:p,user:m}=y;return q(m,p,"internal-error"),Ml(m,new Ta(y),y.bypassAuthState)}function Ea(y){return Li.apply(this,arguments)}function Li(){return(Li=(0,s.Z)(function*(y){const{auth:p,user:m}=y;return q(m,p,"internal-error"),qa(m,new Ta(y),y.bypassAuthState)})).apply(this,arguments)}class Xa{constructor(p,m,b,S,k=!1){this.auth=p,this.resolver=b,this.user=S,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,s.Z)(function*(b,S){p.pendingPromise={resolve:b,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(b,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,s.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:k,tenantId:K,error:pe,type:Ue}=p;if(pe)return void m.reject(pe);const nt={auth:m.auth,requestUri:b,sessionId:S,tenantId:K||void 0,postBody:k||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ue)(nt))}catch(mt){m.reject(mt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ft;case"linkViaPopup":case"linkViaRedirect":return Ea;case"reauthViaPopup":case"reauthViaRedirect":return Ld;default:Ae(this.auth,"internal-error")}}resolve(p){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ia=new on(2e3,1e4);function Ms(){return(Ms=(0,s.Z)(function*(y,p,m){const b=ht(y);qe(y,p,ki);const S=As(b,m);return new Ud(b,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function $l(){return($l=(0,s.Z)(function*(y,p,m){const b=(0,R.m9)(y);qe(b.auth,p,ki);const S=As(b.auth,m);return new Ud(b.auth,"reauthViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}function as(){return(as=(0,s.Z)(function*(y,p,m){const b=(0,R.m9)(y);qe(b.auth,p,ki);const S=As(b.auth,m);return new Ud(b.auth,"linkViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}let Ud=(()=>{class y extends Xa{constructor(m,b,S,k,K){super(m,b,k,K),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,s.Z)(function*(){const b=yield m.execute();return q(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,s.Z)(function*(){Q(1===m.filter.length,"Popup operations only handle one event");const b=ga();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(Ie(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ie(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,S;this.pollId=(null===(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ie(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Ia.get())};m()}}return y.currentPopupAction=null,y})();const vi=new Map;class lu extends Xa{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,s.Z)(function*(){let b=vi.get(m.auth._key());if(!b){try{const k=(yield function cf(y,p){return lo.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(k)}catch(S){b=()=>Promise.reject(S)}vi.set(m.auth._key(),b)}return m.bypassAuthState||vi.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,s.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const S=yield b.auth._redirectUserForId(p.eventId);if(S)return b.user=S,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function lo(){return(lo=(0,s.Z)(function*(y,p){const m=L(p),b=O(y);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(m));return yield b._remove(m),S})).apply(this,arguments)}function Da(y,p){return el.apply(this,arguments)}function el(){return(el=(0,s.Z)(function*(y,p){return O(y)._set(L(p),"true")})).apply(this,arguments)}function I(y,p){vi.set(y._key(),p)}function O(y){return te(y._redirectPersistence)}function L(y){return Qn("pendingRedirect",y.config.apiKey,y.name)}function _e(){return(_e=(0,s.Z)(function*(y,p,m){const b=ht(y);qe(y,p,ki);const S=As(b,m);return yield Da(S,b),S._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function pt(){return(pt=(0,s.Z)(function*(y,p,m){const b=(0,R.m9)(y);qe(b.auth,p,ki);const S=As(b.auth,m);yield Da(S,b.auth);const k=yield Vi(b);return S._openRedirect(b.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function $n(){return($n=(0,s.Z)(function*(y,p,m){const b=(0,R.m9)(y);qe(b.auth,p,ki);const S=As(b.auth,m);yield rn(!1,b,p.providerId),yield Da(S,b.auth);const k=yield Vi(b);return S._openRedirect(b.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function Os(){return(Os=(0,s.Z)(function*(y,p){return yield ht(y)._initializationPromise,ls(y,p,!1)})).apply(this,arguments)}function ls(y,p){return jr.apply(this,arguments)}function jr(){return(jr=(0,s.Z)(function*(y,p,m=!1){const b=ht(y),S=As(b,p),K=yield new lu(b,S,m).execute();return K&&!m&&(delete K.user._redirectEventId,yield b._persistUserIfCurrent(K.user),yield b._setRedirectUser(null,p)),K})).apply(this,arguments)}function Vi(y){return ks.apply(this,arguments)}function ks(){return(ks=(0,s.Z)(function*(y){const p=ga(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class cu{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Hd(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uu(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!uu(p)){const S=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Ie(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bd(p))}saveEventToCache(p){this.cachedEventUids.add(Bd(p)),this.lastProcessedEventTime=Date.now()}}function Bd(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function uu({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function uf(y){return df.apply(this,arguments)}function df(){return(df=(0,s.Z)(function*(y,p={}){return Ut(y,"GET","/v1/projects",p)})).apply(this,arguments)}const jd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zl=/^https?/;function hf(){return(hf=(0,s.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield uf(y);for(const m of p)try{if(bw(m))return}catch(b){}Ae(y,"unauthorized-domain")})).apply(this,arguments)}function bw(y){const p=Fe(),{protocol:m,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const K=new URL(y);return""===K.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&K.hostname===b}if(!zl.test(m))return!1;if(jd.test(y))return b===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const Og=new on(3e4,6e4);function ff(){const y=Nn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Wl=null;function Vo(y){return Wl=Wl||function kg(y){return new Promise((p,m)=>{var b,S,k;function K(){ff(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ff(),m(Ie(y,"network-request-failed"))},timeout:Og.get()})}if(null===(S=null===(b=Nn().gapi)||void 0===b?void 0:b.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(k=Nn().gapi)||void 0===k?void 0:k.load)){const pe=Ds("iframefcb");return Nn()[pe]=()=>{gapi.load?K():m(Ie(y,"network-request-failed"))},Is(`https://apis.google.com/js/api.js?onload=${pe}`).catch(Ue=>m(Ue))}K()}}).catch(p=>{throw Wl=null,p})}(y),Wl}const Yl=new on(5e3,15e3),Kl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ql=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pg(y){const p=y.config;q(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?kn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:ae.SDK_VERSION},S=Ql.get(y.config.apiHost);S&&(b.eid=S);const k=y._getFrameworks();return k.length&&(b.fw=k.join(",")),`${m}?${(0,R.xO)(b).slice(1)}`}function Uo(){return Uo=(0,s.Z)(function*(y){const p=yield Vo(y),m=Nn().gapi;return q(m,y,"internal-error"),p.open({where:document.body,url:Pg(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kl,dontclear:!0},b=>new Promise(function(){var S=(0,s.Z)(function*(k,K){yield b.restyle({setHideOnLeave:!1});const pe=Ie(y,"network-request-failed"),Ue=Nn().setTimeout(()=>{K(pe)},Yl.get());function nt(){Nn().clearTimeout(Ue),k(b)}b.ping(nt).then(nt,()=>{K(pe)})});return function(k,K){return S.apply(this,arguments)}}()))}),Uo.apply(this,arguments)}const Zd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rg{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function qr(y,p,m,b,S,k){q(y.config.authDomain,y,"auth-domain-config-required"),q(y.config.apiKey,y,"invalid-api-key");const K={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:ae.SDK_VERSION,eventId:S};if(p instanceof ki){p.setDefaultLanguage(y.languageCode),K.providerId=p.providerId||"",(0,R.xb)(p.getCustomParameters())||(K.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ue,nt]of Object.entries(k||{}))K[Ue]=nt}if(p instanceof Io){const Ue=p.getScopes().filter(nt=>""!==nt);Ue.length>0&&(K.scopes=Ue.join(","))}y.tenantId&&(K.tid=y.tenantId);const pe=K;for(const Ue of Object.keys(pe))void 0===pe[Ue]&&delete pe[Ue];return`${function Bo({config:y}){return y.emulator?kn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,R.xO)(pe).slice(1)}`}const pu="webStorageSupport";class Wd extends class Cw{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return Ee("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Wd(p)}_finalizeEnroll(p,m,b){return function Sg(y,p){return Ut(y,"POST","/v2/accounts/mfaEnrollment:finalize",Yt(y,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function su(y,p){return Ut(y,"POST","/v2/accounts/mfaSignIn:finalize",Yt(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Tw=(()=>{class y{constructor(){}static assertion(m){return Wd._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var gf="@firebase/auth";class Lg{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,s.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{var S;p((null===(S=b)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tl(){return window}function cs(){return(cs=(0,s.Z)(function*(y,p,m){var b;const{BuildInfo:S}=tl();Q(p.sessionId,"AuthEvent did not contain a session ID");const k=yield Ew(p.sessionId),K={};return Xi()?K.ibi=S.packageName:$i()?K.apn=S.packageName:Ae(y,"operation-not-supported-in-this-environment"),S.displayName&&(K.appDisplayName=S.displayName),K.sessionId=k,qr(y,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,K)})).apply(this,arguments)}function Kd(){return(Kd=(0,s.Z)(function*(y){const{BuildInfo:p}=tl(),m={};Xi()?m.iosBundleId=p.packageName:$i()?m.androidPackageName=p.packageName:Ae(y,"operation-not-supported-in-this-environment"),yield uf(y,m)})).apply(this,arguments)}function Vg(){return(Vg=(0,s.Z)(function*(y,p,m){const{cordova:b}=tl();let S=()=>{};try{yield new Promise((k,K)=>{let pe=null;function Ue(){var gt;k();const Ln=null===(gt=b.plugins.browsertab)||void 0===gt?void 0:gt.close;"function"==typeof Ln&&Ln(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function nt(){pe||(pe=window.setTimeout(()=>{K(Ie(y,"redirect-cancelled-by-user"))},2e3))}function mt(){"visible"===(null==document?void 0:document.visibilityState)&&nt()}p.addPassiveListener(Ue),document.addEventListener("resume",nt,!1),$i()&&document.addEventListener("visibilitychange",mt,!1),S=()=>{p.removePassiveListener(Ue),document.removeEventListener("resume",nt,!1),document.removeEventListener("visibilitychange",mt,!1),pe&&window.clearTimeout(pe)}})}finally{S()}})).apply(this,arguments)}function Ew(y){return _u.apply(this,arguments)}function _u(){return(_u=(0,s.Z)(function*(y){const p=_f(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function _f(y){if(Q(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}!function Ly(y){(0,ae._registerComponent)(new ue.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:k,authDomain:K}=b.options;return((pe,Ue)=>{q(k&&!k.includes(":"),"invalid-api-key",{appName:pe.name}),q(!(null==K?void 0:K.includes(":")),"argument-error",{appName:pe.name});const nt={apiKey:k,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ra(y)},mt=new Ye(pe,Ue,nt);return function ce(y,p){const m=(null==p?void 0:p.persistence)||[],b=(Array.isArray(m)?m:[m]).map(te);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(mt,m),mt})(b,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ue.wA("auth-internal",p=>{const m=ht(p.getProvider("auth").getImmediate());return new Lg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(gf,"0.20.2",function Yd(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(gf,"0.20.2","esm2017")}("Browser");class Jd extends cu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,s.Z)(function*(){yield p.initPromise})()}}function Xl(y){return yu.apply(this,arguments)}function yu(){return(yu=(0,s.Z)(function*(y){const p=yield vu()._get(ec(y));return p&&(yield vu()._remove(ec(y))),p})).apply(this,arguments)}function Bg(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function vu(){return te(Kt)}function ec(y){return Qn("authEvent",y.config.apiKey,y.name)}function or(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...m]=y.split("?");return(0,R.zd)(m.join("?"))}function nl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ie("no-auth-event")}}function Sa(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function qg(y=(0,R.z$)()){return!("file:"!==Sa()&&"ionic:"!==Sa()&&"capacitor:"!==Sa()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function wf(){try{const y=self.localStorage,p=ga();if(y)return y.setItem(p,"1"),y.removeItem(p),!function th(y=(0,R.z$)()){return function tc(){return(0,R.w1)()&&11===(null==document?void 0:document.documentMode)}()||function ci(y=(0,R.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,R.hl)()}catch(y){return nh()&&(0,R.hl)()}return!1}function nh(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function bi(){return(function jg(){return"http:"===Sa()||"https:"===Sa()}()||(0,R.ru)()||qg())&&!function bf(){return(0,R.b$)()||(0,R.UG)()}()&&wf()&&!nh()}function nc(){return qg()&&"undefined"!=typeof document}function wu(){return(wu=(0,s.Z)(function*(){return!!nc()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const ar={LOCAL:"local",NONE:"none",SESSION:"session"},xa=q,Tf="persistence";function il(y){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,s.Z)(function*(y){yield y._initializationPromise;const p=ih(),m=Qn(Tf,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function ih(){var y;try{return(null===(y=function Zy(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const $y=q;class us{constructor(){this.browserResolver=te(class Fy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mn,this._completeRedirectFn=ls,this._overrideRedirectResult=I}_openPopup(p,m,b,S){var k=this;return(0,s.Z)(function*(){var K;Q(null===(K=k.eventManagers[p._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const pe=qr(p,m,b,Fe(),S);return function fu(y,p,m,b=500,S=600){const k=Math.max((window.screen.availHeight-S)/2,0).toString(),K=Math.max((window.screen.availWidth-b)/2,0).toString();let pe="";const Ue=Object.assign(Object.assign({},Zd),{width:b.toString(),height:S.toString(),top:k,left:K}),nt=(0,R.z$)().toLowerCase();m&&(pe=Va(nt)?"_blank":m),La(nt)&&(p=p||"http://localhost",Ue.scrollbars="yes");const mt=Object.entries(Ue).reduce((Ln,[Er,ic])=>`${Ln}${Er}=${ic},`,"");if(function To(y=(0,R.z$)()){var p;return Xi(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(nt)&&"_self"!==pe)return function Py(y,p){const m=document.createElement("a");m.href=y,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",pe),new Rg(null);const gt=window.open(p||"",pe,mt);q(gt,y,"popup-blocked");try{gt.focus()}catch(Ln){}return new Rg(gt)}(p,pe,ga())})()}_openRedirect(p,m,b,S){var k=this;return(0,s.Z)(function*(){return yield k._originValidation(p),function to(y){Nn().location.href=y}(qr(p,m,b,Fe(),S)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:k}=this.eventManagers[m];return S?Promise.resolve(S):(Q(k,"If manager is not set, promise should be"),k)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,s.Z)(function*(){const b=yield function ww(y){return Uo.apply(this,arguments)}(p),S=new cu(p);return b.register("authEvent",k=>(q(null==k?void 0:k.authEvent,p,"invalid-auth-event"),{status:S.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=b,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(pu,{type:pu},S=>{var k;const K=null===(k=null==S?void 0:S[0])||void 0===k?void 0:k[pu];void 0!==K&&m(!!K),Ae(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function du(y){return hf.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Zs()||Il()||Xi()}}),this.cordovaResolver=te(class vf{constructor(){this._redirectPersistence=mn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ls,this._overrideRedirectResult=I}_initialize(p){var m=this;return(0,s.Z)(function*(){const b=p._key();let S=m.eventManagers.get(b);return S||(S=new Jd(p),m.eventManagers.set(b,S),m.attachCallbackListeners(p,S)),S})()}_openPopup(p){Ae(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,S){var k=this;return(0,s.Z)(function*(){!function Jl(y){var p,m,b,S,k,K,pe,Ue,nt,mt;const gt=tl();q("function"==typeof(null===(p=null==gt?void 0:gt.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(void 0!==(null===(m=null==gt?void 0:gt.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q("function"==typeof(null===(k=null===(S=null===(b=null==gt?void 0:gt.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===k?void 0:k.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(Ue=null===(pe=null===(K=null==gt?void 0:gt.cordova)||void 0===K?void 0:K.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===Ue?void 0:Ue.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(mt=null===(nt=null==gt?void 0:gt.cordova)||void 0===nt?void 0:nt.InAppBrowser)||void 0===mt?void 0:mt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const K=yield k._initialize(p);yield K.initialized(),K.resetRedirect(),function E(){vi.clear()}(),yield k._originValidation(p);const pe=function Xd(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:Bg(),postBody:null,tenantId:y.tenantId,error:Ie(y,"no-auth-event")}}(p,b,S);yield function Ug(y,p){return vu()._set(ec(y),p)}(p,pe);const Ue=yield function mf(y,p,m){return cs.apply(this,arguments)}(p,pe,m),nt=yield function Qd(y){const{cordova:p}=tl();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let S=null;b?p.plugins.browsertab.openUrl(y):S=p.InAppBrowser.open(y,function dd(y=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(S)})})}(Ue);return function Ho(y,p,m){return Vg.apply(this,arguments)}(p,K,nt)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function mu(y){return Kd.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:S,BuildInfo:k}=tl(),K=setTimeout((0,s.Z)(function*(){yield Xl(p),m.onEvent(nl())}),500),pe=function(){var mt=(0,s.Z)(function*(gt){clearTimeout(K);const Ln=yield Xl(p);let Er=null;Ln&&(null==gt?void 0:gt.url)&&(Er=function Uy(y,p){var m,b;const S=function bu(y){const p=or(y),m=p.link?decodeURIComponent(p.link):void 0,b=or(m).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return or(S).link||S||b||m||y}(p);if(S.includes("/__/auth/callback")){const k=or(S),K=k.firebaseError?function By(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(k.firebaseError)):null,pe=null===(b=null===(m=null==K?void 0:K.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Ue=pe?Ie(pe):null;return Ue?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ue,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(Ln,gt.url)),m.onEvent(Er||nl())});return function(Ln){return mt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,pe);const Ue=S,nt=`${k.packageName.toLowerCase()}://`;tl().handleOpenURL=function(){var mt=(0,s.Z)(function*(gt){if(gt.toLowerCase().startsWith(nt)&&pe({url:gt}),"function"==typeof Ue)try{Ue(gt)}catch(Ln){console.error(Ln)}});return function(gt){return mt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=mn,this._completeRedirectFn=ls,this._overrideRedirectResult=I}_initialize(p){var m=this;return(0,s.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,S){var k=this;return(0,s.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(p,m,b,S)})()}_openRedirect(p,m,b,S){var k=this;return(0,s.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(p,m,b,S)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return nc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $y(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,s.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Cf(){return wu.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function rh(y){return y.unwrap()}function Wy(y){return Zg(y)}function Zg(y){const{_tokenResponse:p}=y instanceof R.ZR?y.customData:y;if(!p)return null;if(!(y instanceof R.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return ao.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=bd;break;case"facebook.com":b=oa;break;case"github.com":b=nf;break;case"twitter.com":b=wd;break;default:const{oauthIdToken:S,oauthAccessToken:k,oauthTokenSecret:K,pendingToken:pe,nonce:Ue}=p;return k||K||S||pe?pe?m.startsWith("saml.")?Do._create(m,pe):ys._fromParams({providerId:m,signInMethod:m,pendingToken:pe,idToken:S,accessToken:k}):new es(m).credential({idToken:S,accessToken:k,rawNonce:Ue}):null}return y instanceof R.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Tr(y,p){return p.catch(m=>{throw m instanceof R.ZR&&function sh(y,p){var m;const b=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Yy(y,function ei(y,p){var m;const b=(0,R.m9)(y),S=p;return q(p.customData.operationType,b,"argument-error"),q(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Po._fromError(b,S)}(y,p));else if(b){const S=Zg(p),k=p;S&&(k.credential=S,k.tenantId=b.tenantId||void 0,k.email=b.email||void 0,k.phoneNumber=b.phoneNumber||void 0)}}(y,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:Wy(m),additionalUserInfo:oi(m),user:Ps.getOrCreate(S)}})}function If(y,p){return Df.apply(this,arguments)}function Df(){return(Df=(0,s.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>Tr(y,m.confirm(b))}})).apply(this,arguments)}class Yy{constructor(p,m){this.resolver=m,this.auth=function zy(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Tr(rh(this.auth),this.resolver.resolveSignIn(p))}}class Ps{constructor(p){this._delegate=p,this.multiFactor=function xg(y){const p=(0,R.m9)(y);return Hl.has(p)||Hl.set(p,pa._fromUser(p)),Hl.get(p)}(p)}static getOrCreate(p){return Ps.USER_MAP.has(p)||Ps.USER_MAP.set(p,new Ps(p)),Ps.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,s.Z)(function*(){return Tr(m.auth,mi(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,s.Z)(function*(){return If(b.auth,function Gl(y,p,m){return Fd.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,s.Z)(function*(){return Tr(m.auth,function Vd(y,p,m){return as.apply(this,arguments)}(m._delegate,p,us))})()}linkWithRedirect(p){var m=this;return(0,s.Z)(function*(){return yield il(ht(m.auth)),function Gt(y,p,m){return function Mt(y,p,m){return $n.apply(this,arguments)}(y,p,m)}(m._delegate,p,us)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,s.Z)(function*(){return Tr(m.auth,vs(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return If(this.auth,function lf(y,p,m){return Fi.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Tr(this.auth,function Hr(y,p,m){return $l.apply(this,arguments)}(this._delegate,p,us))}reauthenticateWithRedirect(p){var m=this;return(0,s.Z)(function*(){return yield il(ht(m.auth)),function et(y,p,m){return function lt(y,p,m){return pt.apply(this,arguments)}(y,p,m)}(m._delegate,p,us)})()}sendEmailVerification(p){return function Ur(y,p){return tu.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,s.Z)(function*(){return yield function rf(y,p){return hn.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Ed(y,p){return Ul((0,R.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Id(y,p){return Ul((0,R.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Ca(y,p){return xs.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Ll(y,p){return Vl.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Nl(y,p,m){return Fl.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ps.USER_MAP=new WeakMap;const Tu=q;let Gg=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;Tu(S,"invalid-api-key",{appName:m.name}),Tu(S,"invalid-api-key",{appName:m.name});const k="undefined"!=typeof window?us:void 0;this._delegate=b.initialize({options:{persistence:Ky(S,m.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(Ne),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ps.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function tr(y,p,m){const b=ht(y);q(b._canInitEmulator,b,"emulator-config-failed"),q(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const S=!!(null==m?void 0:m.disableWarnings),k=Yr(p),{host:K,port:pe}=function Hn(y){const p=Yr(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const k=S[1];return{host:k,port:Kr(b.substr(k.length+1))}}{const[k,K]=b.split(":");return{host:k,port:Kr(K)}}}(p);b.config.emulator={url:`${k}//${K}${null===pe?"":`:${pe}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:K,port:pe,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function vn(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function da(y,p){return Me.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Bt(this._delegate,m)}confirmPasswordReset(m,b){return function kl(y,p,m){return Qc.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var S=this;return(0,s.Z)(function*(){return Tr(S._delegate,function Mo(y,p,m){return br.apply(this,arguments)}(S._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Rl(y,p){return Xs.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Td(y,p){const m=Al.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,s.Z)(function*(){Tu(bi(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function li(y,p){return Os.apply(this,arguments)}(m._delegate,us);return b?Tr(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Hg(y,p){ht(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,S){const{next:k,error:K,complete:pe}=$g(m,b,S);return this._delegate.onAuthStateChanged(k,K,pe)}onIdTokenChanged(m,b,S){const{next:k,error:K,complete:pe}=$g(m,b,S);return this._delegate.onIdTokenChanged(k,K,pe)}sendSignInLinkToEmail(m,b){return function Xc(y,p,m){return eu.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function Kc(y,p,m){return Ol.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,s.Z)(function*(){let S;switch(function Gy(y,p){xa(Object.values(ar).includes(p),y,"invalid-persistence-type"),(0,R.b$)()?xa(p!==ar.SESSION,y,"unsupported-persistence-type"):(0,R.UG)()?xa(p===ar.NONE,y,"unsupported-persistence-type"):nh()?xa(p===ar.NONE||p===ar.LOCAL&&(0,R.hl)(),y,"unsupported-persistence-type"):xa(p===ar.NONE||wf(),y,"unsupported-persistence-type")}(b._delegate,m),m){case ar.SESSION:S=mn;break;case ar.LOCAL:S=(yield te(Es)._isAvailable())?Es:Kt;break;case ar.NONE:S=It;break;default:return Ae("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Tr(this._delegate,function Cd(y){return $c.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Tr(this._delegate,In(this._delegate,m))}signInWithCustomToken(m){return Tr(this._delegate,function ua(y,p){return wt.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Tr(this._delegate,function Jc(y,p,m){return In((0,R.m9)(y),vd.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Tr(this._delegate,function Eg(y,p,m){return bs.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return If(this._delegate,function Gn(y,p,m){return Qa.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,s.Z)(function*(){return Tu(bi(),b._delegate,"operation-not-supported-in-this-environment"),Tr(b._delegate,function Mg(y,p,m){return Ms.apply(this,arguments)}(b._delegate,m,us))})()}signInWithRedirect(m){var b=this;return(0,s.Z)(function*(){return Tu(bi(),b._delegate,"operation-not-supported-in-this-environment"),yield il(b._delegate),function J(y,p,m){return function re(y,p,m){return _e.apply(this,arguments)}(y,p,m)}(b._delegate,m,us)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Cn(y,p){return Pl.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ar,y})();function $g(y,p,m){let b=y;"function"!=typeof y&&({next:b,error:p,complete:m}=y);const S=b;return{next:K=>S(K&&Ps.getOrCreate(K)),error:p,complete:m}}function Ky(y,p){const m=function Cu(y,p){const m=ih();if(!m)return[];const b=Qn(Tf,y,p);switch(m.getItem(b)){case ar.NONE:return[It];case ar.LOCAL:return[Es,mn];case ar.SESSION:return[mn];default:return[]}}(y,p);if("undefined"!=typeof self&&!m.includes(Es)&&m.push(Es),"undefined"!=typeof window)for(const b of[Kt,mn])m.includes(b)||m.push(b);return m.includes(It)||m.push(It),m}class Sf{constructor(){this.providerId="phone",this._delegate=new ao(rh(Y.Z.auth()))}static credential(p,m){return ao.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Sf.PHONE_SIGN_IN_METHOD=ao.PHONE_SIGN_IN_METHOD,Sf.PROVIDER_ID=ao.PROVIDER_ID;const zg=q;class Iw{constructor(p,m,b=Y.Z.app()){var S;zg(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Nd(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function rl(y){y.INTERNAL.registerComponent(new ue.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new Gg(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:vd,FacebookAuthProvider:oa,GithubAuthProvider:nf,GoogleAuthProvider:bd,OAuthProvider:es,SAMLAuthProvider:zi,PhoneAuthProvider:Sf,PhoneMultiFactorGenerator:Tw,RecaptchaVerifier:Iw,TwitterAuthProvider:wd,Auth:Gg,AuthCredential:Lr,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.15")}(Y.Z)},3098:(Je,be)=>{var s=function(){function Y(R){if(!R)throw new TypeError("Invalid argument; `value` has no value.");this.value=Y.EMPTY,R&&Y.isGuid(R)&&(this.value=R)}return Y.isGuid=function(R){var ae=R.toString();return R&&(R instanceof Y||Y.validator.test(ae))},Y.create=function(){return new Y([Y.gen(2),Y.gen(1),Y.gen(1),Y.gen(1),Y.gen(3)].join("-"))},Y.createEmpty=function(){return new Y("emptyguid")},Y.parse=function(R){return new Y(R)},Y.raw=function(){return[Y.gen(2),Y.gen(1),Y.gen(1),Y.gen(1),Y.gen(3)].join("-")},Y.gen=function(R){for(var ae="",se=0;se<R;se++)ae+=(65536*(1+Math.random())|0).toString(16).substring(1);return ae},Y.prototype.equals=function(R){return Y.isGuid(R)&&this.value===R.toString()},Y.prototype.isEmpty=function(){return this.value===Y.EMPTY},Y.prototype.toString=function(){return this.value},Y.prototype.toJSON=function(){return{value:this.value}},Y.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),Y.EMPTY="00000000-0000-0000-0000-000000000000",Y}();be.i=s},8306:(Je,be,P)=>{P.d(be,{y:()=>Z});var s=P(930),Y=P(727),R=P(8822),ae=P(4671);var ue=P(2416),le=P(576),fe=P(2806);let Z=(()=>{class ke{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const me=new ke;return me.source=this,me.operator=Be,me}subscribe(Be,me,Se){const We=function ze(ke){return ke&&ke instanceof s.Lv||function ne(ke){return ke&&(0,le.m)(ke.next)&&(0,le.m)(ke.error)&&(0,le.m)(ke.complete)}(ke)&&(0,Y.Nn)(ke)}(Be)?Be:new s.Hp(Be,me,Se);return(0,fe.x)(()=>{const{operator:Xe,source:Ae}=this;We.add(Xe?Xe.call(We,Ae):Ae?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(Be){try{return this._subscribe(Be)}catch(me){Be.error(me)}}forEach(Be,me){return new(me=j(me))((Se,We)=>{const Xe=new s.Hp({next:Ae=>{try{Be(Ae)}catch(Ie){We(Ie),Xe.unsubscribe()}},error:We,complete:Se});this.subscribe(Xe)})}_subscribe(Be){var me;return null===(me=this.source)||void 0===me?void 0:me.subscribe(Be)}[R.L](){return this}pipe(...Be){return function ye(ke){return 0===ke.length?ae.y:1===ke.length?ke[0]:function(Be){return ke.reduce((me,Se)=>Se(me),Be)}}(Be)(this)}toPromise(Be){return new(Be=j(Be))((me,Se)=>{let We;this.subscribe(Xe=>We=Xe,Xe=>Se(Xe),()=>me(We))})}}return ke.create=Ne=>new ke(Ne),ke})();function j(ke){var Ne;return null!==(Ne=null!=ke?ke:ue.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(Je,be,P)=>{P.d(be,{x:()=>ue});var s=P(8306),Y=P(727);const ae=(0,P(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=P(8737),ye=P(2806);let ue=(()=>{class fe extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const ne=new le(this,this);return ne.operator=j,ne}_throwIfClosed(){if(this.closed)throw new ae}next(j){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(j)}})}error(j){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:ne}=this;for(;ne.length;)ne.shift().error(j)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:ne,isStopped:ze,observers:ke}=this;return ne||ze?Y.Lc:(this.currentObservers=null,ke.push(j),new Y.w0(()=>{this.currentObservers=null,(0,se.P)(ke,j)}))}_checkFinalizedStatuses(j){const{hasError:ne,thrownError:ze,isStopped:ke}=this;ne?j.error(ze):ke&&j.complete()}asObservable(){const j=new s.y;return j.source=this,j}}return fe.create=(Z,j)=>new le(Z,j),fe})();class le extends ue{constructor(Z,j){super(),this.destination=Z,this.source=j}next(Z){var j,ne;null===(ne=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===ne||ne.call(j,Z)}error(Z){var j,ne;null===(ne=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===ne||ne.call(j,Z)}complete(){var Z,j;null===(j=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===j||j.call(Z)}_subscribe(Z){var j,ne;return null!==(ne=null===(j=this.source)||void 0===j?void 0:j.subscribe(Z))&&void 0!==ne?ne:Y.Lc}}},930:(Je,be,P)=>{P.d(be,{Hp:()=>Be,Lv:()=>ne});var s=P(576),Y=P(727),R=P(2416),ae=P(7849),se=P(5032);const ye=fe("C",void 0,void 0);function fe(Ae,Ie,De){return{kind:Ae,value:Ie,error:De}}var Z=P(3410),j=P(2806);class ne extends Y.w0{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,Y.Nn)(Ie)&&Ie.add(this)):this.destination=Xe}static create(Ie,De,qe){return new Be(Ie,De,qe)}next(Ie){this.isStopped?We(function le(Ae){return fe("N",Ae,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?We(function ue(Ae){return fe("E",void 0,Ae)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?We(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function ke(Ae,Ie){return ze.call(Ae,Ie)}class Ne{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:De}=this;if(De.next)try{De.next(Ie)}catch(qe){me(qe)}}error(Ie){const{partialObserver:De}=this;if(De.error)try{De.error(Ie)}catch(qe){me(qe)}else me(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(De){me(De)}}}class Be extends ne{constructor(Ie,De,qe){let He;if(super(),(0,s.m)(Ie)||!Ie)He={next:null!=Ie?Ie:void 0,error:null!=De?De:void 0,complete:null!=qe?qe:void 0};else{let q;this&&R.v.useDeprecatedNextContext?(q=Object.create(Ie),q.unsubscribe=()=>this.unsubscribe(),He={next:Ie.next&&ke(Ie.next,q),error:Ie.error&&ke(Ie.error,q),complete:Ie.complete&&ke(Ie.complete,q)}):He=Ie}this.destination=new Ne(He)}}function me(Ae){R.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Ae):(0,ae.h)(Ae)}function We(Ae,Ie){const{onStoppedNotification:De}=R.v;De&&Z.z.setTimeout(()=>De(Ae,Ie))}const Xe={closed:!0,next:se.Z,error:function Se(Ae){throw Ae},complete:se.Z}},727:(Je,be,P)=>{P.d(be,{Lc:()=>ye,w0:()=>se,Nn:()=>ue});var s=P(576);const R=(0,P(3888).d)(fe=>function(j){fe(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((ne,ze)=>`${ze+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ae=P(8737);class se{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const ke of j)ke.remove(this);else j.remove(this);const{initialTeardown:ne}=this;if((0,s.m)(ne))try{ne()}catch(ke){Z=ke instanceof R?ke.errors:[ke]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const ke of ze)try{le(ke)}catch(Ne){Z=null!=Z?Z:[],Ne instanceof R?Z=[...Z,...Ne.errors]:Z.push(Ne)}}if(Z)throw new R(Z)}}add(Z){var j;if(Z&&Z!==this)if(this.closed)le(Z);else{if(Z instanceof se){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(Z)}}_hasParent(Z){const{_parentage:j}=this;return j===Z||Array.isArray(j)&&j.includes(Z)}_addParent(Z){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(Z),j):j?[j,Z]:Z}_removeParent(Z){const{_parentage:j}=this;j===Z?this._parentage=null:Array.isArray(j)&&(0,ae.P)(j,Z)}remove(Z){const{_finalizers:j}=this;j&&(0,ae.P)(j,Z),Z instanceof se&&Z._removeParent(this)}}se.EMPTY=(()=>{const fe=new se;return fe.closed=!0,fe})();const ye=se.EMPTY;function ue(fe){return fe instanceof se||fe&&"closed"in fe&&(0,s.m)(fe.remove)&&(0,s.m)(fe.add)&&(0,s.m)(fe.unsubscribe)}function le(fe){(0,s.m)(fe)?fe():fe.unsubscribe()}},2416:(Je,be,P)=>{P.d(be,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Je,be,P)=>{P.d(be,{E:()=>Y});const Y=new(P(8306).y)(se=>se.complete())},8996:(Je,be,P)=>{P.d(be,{D:()=>Ie});var s=P(8421),Y=P(5363),R=P(9468),ye=P(8306),le=P(2202),fe=P(576),Z=P(9672);function ne(De,qe){if(!De)throw new Error("Iterable cannot be null");return new ye.y(He=>{(0,Z.f)(He,qe,()=>{const q=De[Symbol.asyncIterator]();(0,Z.f)(He,qe,()=>{q.next().then(Ee=>{Ee.done?He.complete():He.next(Ee.value)})},0,!0)})})}var ze=P(3670),ke=P(8239),Ne=P(1144),Be=P(6495),me=P(2206),Se=P(4532),We=P(3260);function Ie(De,qe){return qe?function Ae(De,qe){if(null!=De){if((0,ze.c)(De))return function ae(De,qe){return(0,s.Xf)(De).pipe((0,R.R)(qe),(0,Y.Q)(qe))}(De,qe);if((0,Ne.z)(De))return function ue(De,qe){return new ye.y(He=>{let q=0;return qe.schedule(function(){q===De.length?He.complete():(He.next(De[q++]),He.closed||this.schedule())})})}(De,qe);if((0,ke.t)(De))return function se(De,qe){return(0,s.Xf)(De).pipe((0,R.R)(qe),(0,Y.Q)(qe))}(De,qe);if((0,me.D)(De))return ne(De,qe);if((0,Be.T)(De))return function j(De,qe){return new ye.y(He=>{let q;return(0,Z.f)(He,qe,()=>{q=De[le.h](),(0,Z.f)(He,qe,()=>{let Ee,Q;try{({value:Ee,done:Q}=q.next())}catch(oe){return void He.error(oe)}Q?He.complete():He.next(Ee)},0,!0)}),()=>(0,fe.m)(null==q?void 0:q.return)&&q.return()})}(De,qe);if((0,We.L)(De))return function Xe(De,qe){return ne((0,We.Q)(De),qe)}(De,qe)}throw(0,Se.z)(De)}(De,qe):(0,s.Xf)(De)}},8421:(Je,be,P)=>{P.d(be,{Xf:()=>ze});var s=P(655),Y=P(1144),R=P(8239),ae=P(8306),se=P(3670),ye=P(2206),ue=P(4532),le=P(6495),fe=P(3260),Z=P(576),j=P(7849),ne=P(8822);function ze(Ae){if(Ae instanceof ae.y)return Ae;if(null!=Ae){if((0,se.c)(Ae))return function ke(Ae){return new ae.y(Ie=>{const De=Ae[ne.L]();if((0,Z.m)(De.subscribe))return De.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,Y.z)(Ae))return function Ne(Ae){return new ae.y(Ie=>{for(let De=0;De<Ae.length&&!Ie.closed;De++)Ie.next(Ae[De]);Ie.complete()})}(Ae);if((0,R.t)(Ae))return function Be(Ae){return new ae.y(Ie=>{Ae.then(De=>{Ie.closed||(Ie.next(De),Ie.complete())},De=>Ie.error(De)).then(null,j.h)})}(Ae);if((0,ye.D)(Ae))return Se(Ae);if((0,le.T)(Ae))return function me(Ae){return new ae.y(Ie=>{for(const De of Ae)if(Ie.next(De),Ie.closed)return;Ie.complete()})}(Ae);if((0,fe.L)(Ae))return function We(Ae){return Se((0,fe.Q)(Ae))}(Ae)}throw(0,ue.z)(Ae)}function Se(Ae){return new ae.y(Ie=>{(function Xe(Ae,Ie){var De,qe,He,q;return(0,s.mG)(this,void 0,void 0,function*(){try{for(De=(0,s.KL)(Ae);!(qe=yield De.next()).done;)if(Ie.next(qe.value),Ie.closed)return}catch(Ee){He={error:Ee}}finally{try{qe&&!qe.done&&(q=De.return)&&(yield q.call(De))}finally{if(He)throw He.error}}Ie.complete()})})(Ae,Ie).catch(De=>Ie.error(De))})}},6451:(Je,be,P)=>{P.d(be,{T:()=>ye});var s=P(8189),Y=P(8421),R=P(515),ae=P(3269),se=P(8996);function ye(...ue){const le=(0,ae.yG)(ue),fe=(0,ae._6)(ue,1/0),Z=ue;return Z.length?1===Z.length?(0,Y.Xf)(Z[0]):(0,s.J)(fe)((0,se.D)(Z,le)):R.E}},5403:(Je,be,P)=>{P.d(be,{x:()=>Y});var s=P(930);function Y(ae,se,ye,ue,le){return new R(ae,se,ye,ue,le)}class R extends s.Lv{constructor(se,ye,ue,le,fe,Z){super(se),this.onFinalize=fe,this.shouldUnsubscribe=Z,this._next=ye?function(j){try{ye(j)}catch(ne){se.error(ne)}}:super._next,this._error=le?function(j){try{le(j)}catch(ne){se.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(j){se.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(Je,be,P)=>{P.d(be,{U:()=>R});var s=P(4482),Y=P(5403);function R(ae,se){return(0,s.e)((ye,ue)=>{let le=0;ye.subscribe((0,Y.x)(ue,fe=>{ue.next(ae.call(se,fe,le++))}))})}},8189:(Je,be,P)=>{P.d(be,{J:()=>R});var s=P(5577),Y=P(4671);function R(ae=1/0){return(0,s.z)(Y.y,ae)}},5577:(Je,be,P)=>{P.d(be,{z:()=>le});var s=P(4004),Y=P(8421),R=P(4482),ae=P(9672),se=P(5403),ue=P(576);function le(fe,Z,j=1/0){return(0,ue.m)(Z)?le((ne,ze)=>(0,s.U)((ke,Ne)=>Z(ne,ke,ze,Ne))((0,Y.Xf)(fe(ne,ze))),j):("number"==typeof Z&&(j=Z),(0,R.e)((ne,ze)=>function ye(fe,Z,j,ne,ze,ke,Ne,Be){const me=[];let Se=0,We=0,Xe=!1;const Ae=()=>{Xe&&!me.length&&!Se&&Z.complete()},Ie=qe=>Se<ne?De(qe):me.push(qe),De=qe=>{ke&&Z.next(qe),Se++;let He=!1;(0,Y.Xf)(j(qe,We++)).subscribe((0,se.x)(Z,q=>{null==ze||ze(q),ke?Ie(q):Z.next(q)},()=>{He=!0},void 0,()=>{if(He)try{for(Se--;me.length&&Se<ne;){const q=me.shift();Ne?(0,ae.f)(Z,Ne,()=>De(q)):De(q)}Ae()}catch(q){Z.error(q)}}))};return fe.subscribe((0,se.x)(Z,Ie,()=>{Xe=!0,Ae()})),()=>{null==Be||Be()}}(ne,ze,fe,j)))}},5363:(Je,be,P)=>{P.d(be,{Q:()=>ae});var s=P(9672),Y=P(4482),R=P(5403);function ae(se,ye=0){return(0,Y.e)((ue,le)=>{ue.subscribe((0,R.x)(le,fe=>(0,s.f)(le,se,()=>le.next(fe),ye),()=>(0,s.f)(le,se,()=>le.complete(),ye),fe=>(0,s.f)(le,se,()=>le.error(fe),ye)))})}},3099:(Je,be,P)=>{P.d(be,{B:()=>ye});var s=P(8996),Y=P(5698),R=P(7579),ae=P(930),se=P(4482);function ye(le={}){const{connector:fe=(()=>new R.x),resetOnError:Z=!0,resetOnComplete:j=!0,resetOnRefCountZero:ne=!0}=le;return ze=>{let ke=null,Ne=null,Be=null,me=0,Se=!1,We=!1;const Xe=()=>{null==Ne||Ne.unsubscribe(),Ne=null},Ae=()=>{Xe(),ke=Be=null,Se=We=!1},Ie=()=>{const De=ke;Ae(),null==De||De.unsubscribe()};return(0,se.e)((De,qe)=>{me++,!We&&!Se&&Xe();const He=Be=null!=Be?Be:fe();qe.add(()=>{me--,0===me&&!We&&!Se&&(Ne=ue(Ie,ne))}),He.subscribe(qe),ke||(ke=new ae.Hp({next:q=>He.next(q),error:q=>{We=!0,Xe(),Ne=ue(Ae,Z,q),He.error(q)},complete:()=>{Se=!0,Xe(),Ne=ue(Ae,j),He.complete()}}),(0,s.D)(De).subscribe(ke))})(ze)}}function ue(le,fe,...Z){return!0===fe?(le(),null):!1===fe?null:fe(...Z).pipe((0,Y.q)(1)).subscribe(()=>le())}},9468:(Je,be,P)=>{P.d(be,{R:()=>Y});var s=P(4482);function Y(R,ae=0){return(0,s.e)((se,ye)=>{ye.add(R.schedule(()=>se.subscribe(ye),ae))})}},5698:(Je,be,P)=>{P.d(be,{q:()=>ae});var s=P(515),Y=P(4482),R=P(5403);function ae(se){return se<=0?()=>s.E:(0,Y.e)((ye,ue)=>{let le=0;ye.subscribe((0,R.x)(ue,fe=>{++le<=se&&(ue.next(fe),se<=le&&ue.complete())}))})}},8505:(Je,be,P)=>{P.d(be,{b:()=>se});var s=P(576),Y=P(4482),R=P(5403),ae=P(4671);function se(ye,ue,le){const fe=(0,s.m)(ye)||ue||le?{next:ye,error:ue,complete:le}:ye;return fe?(0,Y.e)((Z,j)=>{var ne;null===(ne=fe.subscribe)||void 0===ne||ne.call(fe);let ze=!0;Z.subscribe((0,R.x)(j,ke=>{var Ne;null===(Ne=fe.next)||void 0===Ne||Ne.call(fe,ke),j.next(ke)},()=>{var ke;ze=!1,null===(ke=fe.complete)||void 0===ke||ke.call(fe),j.complete()},ke=>{var Ne;ze=!1,null===(Ne=fe.error)||void 0===Ne||Ne.call(fe,ke),j.error(ke)},()=>{var ke,Ne;ze&&(null===(ke=fe.unsubscribe)||void 0===ke||ke.call(fe)),null===(Ne=fe.finalize)||void 0===Ne||Ne.call(fe)}))}):ae.y}},4408:(Je,be,P)=>{P.d(be,{o:()=>se});var s=P(727);class Y extends s.w0{constructor(ue,le){super()}schedule(ue,le=0){return this}}const R={setInterval(ye,ue,...le){const{delegate:fe}=R;return(null==fe?void 0:fe.setInterval)?fe.setInterval(ye,ue,...le):setInterval(ye,ue,...le)},clearInterval(ye){const{delegate:ue}=R;return((null==ue?void 0:ue.clearInterval)||clearInterval)(ye)},delegate:void 0};var ae=P(8737);class se extends Y{constructor(ue,le){super(ue,le),this.scheduler=ue,this.work=le,this.pending=!1}schedule(ue,le=0){if(this.closed)return this;this.state=ue;const fe=this.id,Z=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(Z,fe,le)),this.pending=!0,this.delay=le,this.id=this.id||this.requestAsyncId(Z,this.id,le),this}requestAsyncId(ue,le,fe=0){return R.setInterval(ue.flush.bind(ue,this),fe)}recycleAsyncId(ue,le,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return le;R.clearInterval(le)}execute(ue,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ue,le);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,le){let Z,fe=!1;try{this.work(ue)}catch(j){fe=!0,Z=j||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:ue,scheduler:le}=this,{actions:fe}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(fe,this),null!=ue&&(this.id=this.recycleAsyncId(le,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(Je,be,P)=>{P.d(be,{v:()=>R});var s=P(6063);class Y{constructor(se,ye=Y.now){this.schedulerActionCtor=se,this.now=ye}schedule(se,ye=0,ue){return new this.schedulerActionCtor(this,se).schedule(ue,ye)}}Y.now=s.l.now;class R extends Y{constructor(se,ye=Y.now){super(se,ye),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:ye}=this;if(this._active)return void ye.push(se);let ue;this._active=!0;do{if(ue=se.execute(se.state,se.delay))break}while(se=ye.shift());if(this._active=!1,ue){for(;se=ye.shift();)se.unsubscribe();throw ue}}}},4986:(Je,be,P)=>{P.d(be,{P:()=>ae,z:()=>R});var s=P(4408);const R=new(P(7565).v)(s.o),ae=R},6063:(Je,be,P)=>{P.d(be,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(Je,be,P)=>{P.d(be,{z:()=>s});const s={setTimeout(Y,R,...ae){const{delegate:se}=s;return(null==se?void 0:se.setTimeout)?se.setTimeout(Y,R,...ae):setTimeout(Y,R,...ae)},clearTimeout(Y){const{delegate:R}=s;return((null==R?void 0:R.clearTimeout)||clearTimeout)(Y)},delegate:void 0}},2202:(Je,be,P)=>{P.d(be,{h:()=>Y});const Y=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Je,be,P)=>{P.d(be,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Je,be,P)=>{P.d(be,{_6:()=>ye,jO:()=>ae,yG:()=>se});var s=P(576),Y=P(3532);function R(ue){return ue[ue.length-1]}function ae(ue){return(0,s.m)(R(ue))?ue.pop():void 0}function se(ue){return(0,Y.K)(R(ue))?ue.pop():void 0}function ye(ue,le){return"number"==typeof R(ue)?ue.pop():le}},8737:(Je,be,P)=>{function s(Y,R){if(Y){const ae=Y.indexOf(R);0<=ae&&Y.splice(ae,1)}}P.d(be,{P:()=>s})},3888:(Je,be,P)=>{function s(Y){const ae=Y(se=>{Error.call(se),se.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}P.d(be,{d:()=>s})},2806:(Je,be,P)=>{P.d(be,{O:()=>ae,x:()=>R});var s=P(2416);let Y=null;function R(se){if(s.v.useDeprecatedSynchronousErrorHandling){const ye=!Y;if(ye&&(Y={errorThrown:!1,error:null}),se(),ye){const{errorThrown:ue,error:le}=Y;if(Y=null,ue)throw le}}else se()}function ae(se){s.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=se)}},9672:(Je,be,P)=>{function s(Y,R,ae,se=0,ye=!1){const ue=R.schedule(function(){ae(),ye?Y.add(this.schedule(null,se)):this.unsubscribe()},se);if(Y.add(ue),!ye)return ue}P.d(be,{f:()=>s})},4671:(Je,be,P)=>{function s(Y){return Y}P.d(be,{y:()=>s})},1144:(Je,be,P)=>{P.d(be,{z:()=>s});const s=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(Je,be,P)=>{P.d(be,{D:()=>Y});var s=P(576);function Y(R){return Symbol.asyncIterator&&(0,s.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(Je,be,P)=>{function s(Y){return"function"==typeof Y}P.d(be,{m:()=>s})},3670:(Je,be,P)=>{P.d(be,{c:()=>R});var s=P(8822),Y=P(576);function R(ae){return(0,Y.m)(ae[s.L])}},6495:(Je,be,P)=>{P.d(be,{T:()=>R});var s=P(2202),Y=P(576);function R(ae){return(0,Y.m)(null==ae?void 0:ae[s.h])}},8239:(Je,be,P)=>{P.d(be,{t:()=>Y});var s=P(576);function Y(R){return(0,s.m)(null==R?void 0:R.then)}},3260:(Je,be,P)=>{P.d(be,{L:()=>ae,Q:()=>R});var s=P(655),Y=P(576);function R(se){return(0,s.FC)(this,arguments,function*(){const ue=se.getReader();try{for(;;){const{value:le,done:fe}=yield(0,s.qq)(ue.read());if(fe)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(le)}}finally{ue.releaseLock()}})}function ae(se){return(0,Y.m)(null==se?void 0:se.getReader)}},3532:(Je,be,P)=>{P.d(be,{K:()=>Y});var s=P(576);function Y(R){return R&&(0,s.m)(R.schedule)}},4482:(Je,be,P)=>{P.d(be,{A:()=>Y,e:()=>R});var s=P(576);function Y(ae){return(0,s.m)(null==ae?void 0:ae.lift)}function R(ae){return se=>{if(Y(se))return se.lift(function(ye){try{return ae(ye,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Je,be,P)=>{function s(){}P.d(be,{Z:()=>s})},7849:(Je,be,P)=>{P.d(be,{h:()=>R});var s=P(2416),Y=P(3410);function R(ae){Y.z.setTimeout(()=>{const{onUnhandledError:se}=s.v;if(!se)throw ae;se(ae)})}},4532:(Je,be,P)=>{function s(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(be,{z:()=>s})},655:(Je,be,P)=>{function ae(Q,oe){var te={};for(var ve in Q)Object.prototype.hasOwnProperty.call(Q,ve)&&oe.indexOf(ve)<0&&(te[ve]=Q[ve]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(ve=Object.getOwnPropertySymbols(Q);ce<ve.length;ce++)oe.indexOf(ve[ce])<0&&Object.prototype.propertyIsEnumerable.call(Q,ve[ce])&&(te[ve[ce]]=Q[ve[ce]])}return te}function le(Q,oe,te,ve){return new(te||(te=Promise))(function(Fe,ft){function zt(on){try{Ke(ve.next(on))}catch(kn){ft(kn)}}function Ht(on){try{Ke(ve.throw(on))}catch(kn){ft(kn)}}function Ke(on){on.done?Fe(on.value):function ce(Fe){return Fe instanceof te?Fe:new te(function(ft){ft(Fe)})}(on.value).then(zt,Ht)}Ke((ve=ve.apply(Q,oe||[])).next())})}function me(Q){return this instanceof me?(this.v=Q,this):new me(Q)}function Se(Q,oe,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,ve=te.apply(Q,oe||[]),Fe=[];return ce={},ft("next"),ft("throw"),ft("return"),ce[Symbol.asyncIterator]=function(){return this},ce;function ft(un){ve[un]&&(ce[un]=function(tn){return new Promise(function(qi,Yt){Fe.push([un,tn,qi,Yt])>1||zt(un,tn)})})}function zt(un,tn){try{!function Ht(un){un.value instanceof me?Promise.resolve(un.value.v).then(Ke,on):kn(Fe[0][2],un)}(ve[un](tn))}catch(qi){kn(Fe[0][3],qi)}}function Ke(un){zt("next",un)}function on(un){zt("throw",un)}function kn(un,tn){un(tn),Fe.shift(),Fe.length&&zt(Fe[0][0],Fe[0][1])}}function Xe(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,oe=Q[Symbol.asyncIterator];return oe?oe.call(Q):(Q=function ne(Q){var oe="function"==typeof Symbol&&Symbol.iterator,te=oe&&Q[oe],ve=0;if(te)return te.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&ve>=Q.length&&(Q=void 0),{value:Q&&Q[ve++],done:!Q}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),te={},ve("next"),ve("throw"),ve("return"),te[Symbol.asyncIterator]=function(){return this},te);function ve(Fe){te[Fe]=Q[Fe]&&function(ft){return new Promise(function(zt,Ht){!function ce(Fe,ft,zt,Ht){Promise.resolve(Ht).then(function(Ke){Fe({value:Ke,done:zt})},ft)}(zt,Ht,(ft=Q[Fe](ft)).done,ft.value)})}}}P.d(be,{FC:()=>Se,KL:()=>Xe,_T:()=>ae,mG:()=>le,qq:()=>me})},5e3:(Je,be,P)=>{P.d(be,{$8M:()=>Is,$Z:()=>jv,AFp:()=>WT,ALo:()=>LT,AaK:()=>le,Akn:()=>Tn,AsE:()=>yc,BQk:()=>Xf,CHM:()=>Ao,CRH:()=>zu,CZH:()=>Hi,CqO:()=>Yv,DdM:()=>sb,EJc:()=>JT,EpF:()=>Wv,F$t:()=>$C,F4k:()=>jC,FYo:()=>IT,FiY:()=>Vi,G48:()=>aE,Gf:()=>jT,GfV:()=>_p,GkF:()=>zv,Gpc:()=>j,HTZ:()=>lb,Hsn:()=>Jv,JOm:()=>k,LFG:()=>lt,LSH:()=>nl,Lbi:()=>uS,MAs:()=>Fv,NdJ:()=>Kv,O4$:()=>xd,OlP:()=>An,Oqu:()=>h0,PXZ:()=>Fh,Q6J:()=>qv,QGY:()=>gl,Qsj:()=>KD,R0b:()=>_o,RDi:()=>zc,Rgc:()=>Cp,SBq:()=>Dh,Sil:()=>fS,Suo:()=>Ti,TTD:()=>es,TgZ:()=>$m,Tol:()=>Yi,Udp:()=>r0,VKq:()=>ob,VLi:()=>pS,W1O:()=>Dc,WLB:()=>ab,X6Q:()=>oE,XFs:()=>bt,Xpm:()=>_t,Y36:()=>Qf,YKP:()=>nb,YNc:()=>Um,Yjl:()=>Va,Yz7:()=>tn,ZZ4:()=>ty,_Bn:()=>ET,_UZ:()=>Gv,_Vd:()=>wc,_c5:()=>Vb,_uU:()=>r_,aQg:()=>iy,c2e:()=>Mc,cJS:()=>Yt,cg1:()=>sp,dDg:()=>Ab,deG:()=>af,dqk:()=>jt,eFA:()=>Ob,ekj:()=>s0,f3M:()=>Gt,g9A:()=>KT,h0i:()=>ka,hGG:()=>IS,hij:()=>s_,iGM:()=>Qt,ifc:()=>Wt,ip1:()=>Cb,kEZ:()=>bp,kL8:()=>oT,kcU:()=>Ig,l5B:()=>hs,lG2:()=>Il,lcZ:()=>Qi,n5z:()=>xn,oAB:()=>Gi,oJD:()=>vf,oxw:()=>ZC,q4F:()=>K0,qLn:()=>sh,qOj:()=>SC,qZA:()=>Jf,rFY:()=>PT,sBO:()=>Ii,sIi:()=>jf,s_b:()=>Tp,soG:()=>Tb,tBr:()=>jr,tb:()=>QT,tp0:()=>co,uIk:()=>Pv,vHH:()=>Ne,vpe:()=>ho,wAp:()=>Et,xp6:()=>OI,ynx:()=>gh,z2F:()=>kb,zSh:()=>wv,zs3:()=>Go});var s=P(7579),Y=P(727),R=P(8306),ae=P(6451),se=P(3099);function ye(o){for(let a in o)if(o[a]===ye)return a;throw Error("Could not find renamed property on target object.")}function ue(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function le(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(le).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function fe(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const Z=ye({__forward_ref__:ye});function j(o){return o.__forward_ref__=j,o.toString=function(){return le(this())},o}function ne(o){return ze(o)?o():o}function ze(o){return"function"==typeof o&&o.hasOwnProperty(Z)&&o.__forward_ref__===j}class Ne extends Error{constructor(a,c){super(function Be(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,c)),this.code=a}}function me(o){return"string"==typeof o?o:null==o?"":String(o)}function Se(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():me(o)}function Ie(o,a){const c=a?` in ${a}`:"";throw new Ne(-201,`No provider for ${Se(o)} found${c}`)}function Ht(o,a){null==o&&function Ke(o,a,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function tn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Yt(o){return{providers:o.providers||[],imports:o.imports||[]}}function Ut(o){return ms(o,Wr)||ms(o,gr)}function ms(o,a){return o.hasOwnProperty(a)?o[a]:null}function Zi(o){return o&&(o.hasOwnProperty(qs)||o.hasOwnProperty(Nr))?o[qs]:null}const Wr=ye({\u0275prov:ye}),qs=ye({\u0275inj:ye}),gr=ye({ngInjectableDef:ye}),Nr=ye({ngInjectorDef:ye});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let mr;function Pn(o){const a=mr;return mr=o,a}function wo(o,a,c){const d=Ut(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&bt.Optional?null:void 0!==a?a:void Ie(le(o),"Injector")}function si(o){return{toString:o}.toString()}var Bn=(()=>((Bn=Bn||{})[Bn.OnPush=0]="OnPush",Bn[Bn.Default=1]="Default",Bn))(),Wt=(()=>{return(o=Wt||(Wt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Wt;var o})();const ut="undefined"!=typeof globalThis&&globalThis,Tt="undefined"!=typeof window&&window,xi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,jt=ut||"undefined"!=typeof global&&global||Tt||xi,Mi={},U=[],z=ye({\u0275cmp:ye}),W=ye({\u0275dir:ye}),xe=ye({\u0275pipe:ye}),G=ye({\u0275mod:ye}),ee=ye({\u0275fac:ye}),Pe=ye({__NG_ELEMENT_ID__:ye});let tt=0;function _t(o){return si(()=>{const c={},d={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Bn.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||U,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Wt.Emulated,id:"c",styles:o.styles||U,_:null,setInput:null,schemas:o.schemas||null,tView:null},h=o.directives,g=o.features,v=o.pipes;return d.id+=tt++,d.inputs=La(o.inputs,c),d.outputs=La(o.outputs),g&&g.forEach(C=>C(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(yn):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(It):null,d})}function yn(o){return Jn(o)||function $i(o){return o[W]||null}(o)}function It(o){return function _s(o){return o[xe]||null}(o)}const Qn={};function Gi(o){return si(()=>{const a={type:o.type,bootstrap:o.bootstrap||U,declarations:o.declarations||U,imports:o.imports||U,exports:o.exports||U,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(Qn[o.id]=o.type),a})}function La(o,a){if(null==o)return Mi;const c={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=d,a&&(a[h]=g)}return c}const Il=_t;function Va(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Jn(o){return o[z]||null}function Xn(o,a){const c=o[G]||null;if(!c&&!0===a)throw new Error(`Type ${le(o)} does not have '\u0275mod' property.`);return c}function nr(o){return Array.isArray(o)&&"object"==typeof o[1]}function Qr(o){return Array.isArray(o)&&!0===o[1]}function xl(o){return 0!=(8&o.flags)}function hd(o){return 2==(2&o.flags)}function Jr(o){return 1==(1&o.flags)}function Xr(o){return null!==o.template}function ir(o){return 0!=(512&o[2])}function ki(o,a){return o.hasOwnProperty(ee)?o[ee]:null}class Io{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function es(){return oa}function oa(o){return o.type.prototype.ngOnChanges&&(o.setInput=nf),bd}function bd(){const o=Do(this),a=null==o?void 0:o.current;if(a){const c=o.previous;if(c===Mi)o.previous=a;else for(let d in a)c[d]=a[d];o.current=null,this.ngOnChanges(a)}}function nf(o,a,c,d){const h=Do(o)||function aa(o,a){return o[Pi]=a}(o,{previous:Mi,current:null}),g=h.current||(h.current={}),v=h.previous,C=this.declaredInputs[c],T=v[C];g[C]=new Io(T&&T.currentValue,a,v===Mi),o[d]=a}es.ngInherit=!0;const Pi="__ngSimpleChanges__";function Do(o){return o[Pi]||null}let ca;function zc(o){ca=o}function ts(){return void 0!==ca?ca:"undefined"!=typeof document?document:void 0}function hn(o){return!!o.listen}const qa={createRenderer:(o,a)=>ts()};function rn(o){for(;Array.isArray(o);)o=o[0];return o}function Qs(o,a){return rn(a[o])}function gi(o,a){return rn(a[o.index])}function In(o,a){return o.data[a]}function ns(o,a){return o[a]}function mi(o,a){const c=a[o];return nr(c)?c:c[0]}function xo(o){return 4==(4&o[2])}function vs(o){return 128==(128&o[2])}function Vr(o,a){return null==a?null:o[a]}function is(o){o[18]=0}function ua(o,a){o[5]+=a;let c=o,d=o[3];for(;null!==d&&(1===a&&1===c[5]||-1===a&&0===c[5]);)d[5]+=a,c=d,d=d[3]}const wt={lFrame:fa(null),bindingsEnabled:!0};function kl(){return wt.bindingsEnabled}function Me(){return wt.lFrame.lView}function Bt(){return wt.lFrame.tView}function Ao(o){return wt.lFrame.contextLView=o,o[8]}function Cn(){let o=Pl();for(;null!==o&&64===o.type;)o=o.parent;return o}function Pl(){return wt.lFrame.currentTNode}function br(o,a){const c=wt.lFrame;c.currentTNode=o,c.isParent=a}function Jc(){return wt.lFrame.isParent}function Xc(){wt.lFrame.isParent=!1}function Ni(){const o=wt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Xs(){return wt.lFrame.bindingIndex++}function Ur(o){const a=wt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function Fl(o,a){const c=wt.lFrame;c.bindingIndex=c.bindingRootIndex=o,ha(a)}function ha(o){wt.lFrame.currentDirectiveIndex=o}function Vl(){return wt.lFrame.currentQueryIndex}function Ed(o){wt.lFrame.currentQueryIndex=o}function Id(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Ul(o,a,c){if(c&bt.SkipSelf){let h=a,g=o;for(;!(h=h.parent,null!==h||c&bt.Host||(h=Id(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;a=h,o=g}const d=wt.lFrame=Dd();return d.currentTNode=a,d.lView=o,!0}function Oo(o){const a=Dd(),c=o[1];wt.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Dd(){const o=wt.lFrame,a=null===o?null:o.child;return null===a?fa(o):a}function fa(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Sd(){const o=wt.lFrame;return wt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Bl=Sd;function rr(){const o=Sd();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function oi(){return wt.lFrame.selectedIndex}function ko(o){wt.lFrame.selectedIndex=o}function jn(){const o=wt.lFrame;return In(o.tView,o.selectedIndex)}function xd(){wt.lFrame.currentNamespace="svg"}function Ig(){!function Ad(){wt.lFrame.currentNamespace=null}()}function za(o,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const g=o.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:T,ngAfterViewChecked:x,ngOnDestroy:M}=g;v&&(o.contentHooks||(o.contentHooks=[])).push(-c,v),C&&((o.contentHooks||(o.contentHooks=[])).push(c,C),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,C)),T&&(o.viewHooks||(o.viewHooks=[])).push(-c,T),x&&((o.viewHooks||(o.viewHooks=[])).push(c,x),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,x)),null!=M&&(o.destroyHooks||(o.destroyHooks=[])).push(c,M)}}function ws(o,a,c){Md(o,a,3,c)}function Po(o,a,c,d){(3&o[2])===c&&Md(o,a,c,d)}function ei(o,a){let c=o[2];(3&c)===a&&(c&=2047,c+=1,o[2]=c)}function Md(o,a,c,d){const g=null!=d?d:-1,v=a.length-1;let C=0;for(let T=void 0!==d?65535&o[18]:0;T<v;T++)if("number"==typeof a[T+1]){if(C=a[T],null!=d&&C>=d)break}else a[T]<0&&(o[18]+=65536),(C<g||-1==g)&&(Sg(o,c,a,T),o[18]=(4294901760&o[18])+T+2),T++}function Sg(o,a,c,d){const h=c[d]<0,g=c[d+1],C=o[h?-c[d]:c[d]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class pa{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Kt(o,a,c){const d=hn(o);let h=0;for(;h<c.length;){const g=c[h];if("number"==typeof g){if(0!==g)break;h++;const v=c[h++],C=c[h++],T=c[h++];d?o.setAttribute(a,C,T,v):a.setAttributeNS(v,C,T)}else{const v=g,C=c[++h];mn(v)?d&&o.setProperty(a,v,C):d?o.setAttribute(a,v,C):a.setAttribute(v,C),h++}}return h}function Cr(o){return 3===o||4===o||6===o}function mn(o){return 64===o.charCodeAt(0)}function Ya(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?c=h:0===c||Od(o,c,h,null,-1===c||2===c?a[++d]:null)}}return o}function Od(o,a,c,d,h){let g=0,v=o.length;if(-1===a)v=-1;else for(;g<o.length;){const C=o[g++];if("number"==typeof C){if(C===a){v=-1;break}if(C>a){v=g-1;break}}}for(;g<o.length;){const C=o[g];if("number"==typeof C)break;if(C===c){if(null===d)return void(null!==h&&(o[g+1]=h));if(d===o[g+1])return void(o[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(o.splice(v,0,a),g=v+1),o.splice(g++,0,c),null!==d&&o.splice(g++,0,d),null!==h&&o.splice(g++,0,h)}function ga(o){return-1!==o}function eo(o){return 32767&o}function to(o,a){let c=function Nn(o){return o>>16}(o),d=a;for(;c>0;)d=d[15],c--;return d}let rs=!0;function Pt(o){const a=rs;return rs=o,a}let ru=0;function no(o,a){const c=No(o,a);if(-1!==c)return c;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,ma(d.data,o),ma(a,null),ma(d.blueprint,null));const h=_i(o,a),g=o.injectorIndex;if(ga(h)){const v=eo(h),C=to(h,a),T=C[1].data;for(let x=0;x<8;x++)a[g+x]=C[v+x]|T[v+x]}return a[g+8]=h,g}function ma(o,a){o.push(0,0,0,0,0,0,0,0,a)}function No(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function _i(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,h=a;for(;null!==h;){const g=h[1],v=g.type;if(d=2===v?g.declTNode:1===v?h[6]:null,null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function yi(o,a,c){!function Fn(o,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Pe)&&(d=c[Pe]),null==d&&(d=c[Pe]=ru++);const h=255&d;a.data[o+(h>>5)]|=1<<h}(o,a,c)}function _a(o,a,c){if(c&bt.Optional)return o;Ie(a,"NodeInjector")}function io(o,a,c,d){if(c&bt.Optional&&void 0===d&&(d=null),0==(c&(bt.Self|bt.Host))){const h=o[9],g=Pn(void 0);try{return h?h.get(a,d,c&bt.Optional):wo(a,d,c&bt.Optional)}finally{Pn(g)}}return _a(d,a,c)}function ya(o,a,c,d=bt.Default,h){if(null!==o){const g=function Es(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Pe)?o[Pe]:void 0;return"number"==typeof a?a>=0?255&a:va:a}(c);if("function"==typeof g){if(!Ul(a,o,d))return d&bt.Host?_a(h,c,d):io(a,c,d,h);try{const v=g(d);if(null!=v||d&bt.Optional)return v;Ie(c)}finally{Bl()}}else if("number"==typeof g){let v=null,C=No(o,a),T=-1,x=d&bt.Host?a[16][6]:null;for((-1===C||d&bt.SkipSelf)&&(T=-1===C?_i(o,a):a[C+8],-1!==T&&su(d,!1)?(v=a[1],C=eo(T),a=to(T,a)):C=-1);-1!==C;){const M=a[1];if(qn(g,C,M.data)){const F=ba(C,a,c,v,d,x);if(F!==ro)return F}T=a[C+8],-1!==T&&su(d,a[1].data[C+8]===x)&&qn(g,C,a)?(v=M,C=eo(T),a=to(T,a)):C=-1}}}return io(a,c,d,h)}const ro={};function va(){return new so(Cn(),Me())}function ba(o,a,c,d,h,g){const v=a[1],C=v.data[o+8],M=Ka(C,v,c,null==d?hd(C)&&rs:d!=v&&0!=(3&C.type),h&bt.Host&&g===C);return null!==M?Ts(a,v,M,C):ro}function Ka(o,a,c,d,h){const g=o.providerIndexes,v=a.data,C=1048575&g,T=o.directiveStart,M=g>>20,H=h?C+M:o.directiveEnd;for(let X=d?C:C+M;X<H;X++){const Te=v[X];if(X<T&&c===Te||X>=T&&Te.type===c)return X}if(h){const X=v[T];if(X&&Xr(X)&&X.type===c)return T}return null}function Ts(o,a,c,d){let h=o[c];const g=a.data;if(function Hl(o){return o instanceof pa}(h)){const v=h;v.resolving&&function We(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${o}${c}`)}(Se(g[c]));const C=Pt(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?Pn(v.injectImpl):null;Ul(o,d,bt.Default);try{h=o[c]=v.factory(void 0,g,o,d),a.firstCreatePass&&c>=d.directiveStart&&function Oy(o,a,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=a.type.prototype;if(d){const v=oa(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,v)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,h),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,g))}(c,g[c],a)}finally{null!==T&&Pn(T),Pt(C),v.resolving=!1,Bl()}}return h}function qn(o,a,c){return!!(c[a+(o>>5)]&1<<o)}function su(o,a){return!(o&bt.Self||o&bt.Host&&a)}class so{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return ya(this._tNode,this._lView,a,d,c)}}function xn(o){return si(()=>{const a=o.prototype.constructor,c=a[ee]||Lo(a),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const g=h[ee]||Lo(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Lo(o){return ze(o)?()=>{const a=Lo(ne(o));return a&&a()}:ki(o)}function Is(o){return function Fo(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const g=c[h];if(Cr(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(g===a)return c[h+1];h+=2}}}return null}(Cn(),o)}const ss="__parameters__";function os(o,a,c){return si(()=>{const d=function Zn(o){return function(...c){if(o){const d=o(...c);for(const h in d)this[h]=d[h]}}}(a);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return C.annotation=v,C;function C(T,x,M){const F=T.hasOwnProperty(ss)?T[ss]:Object.defineProperty(T,ss,{value:[]})[ss];for(;F.length<=M;)F.push(null);return(F[M]=F[M]||[]).push(v),T}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class An{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=tn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const af=new An("AnalyzeForEntryComponents");function Fi(o,a){void 0===a&&(a=o);for(let c=0;c<o.length;c++){let d=o[c];Array.isArray(d)?(a===o&&(a=o.slice(0,c)),Fi(d,a)):a!==o&&a.push(d)}return a}function Wi(o,a){o.forEach(c=>Array.isArray(c)?Wi(c,a):a(c))}function Ja(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function Ca(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function xs(o,a){const c=[];for(let d=0;d<o;d++)c.push(a);return c}function Li(o,a,c){let d=Ia(o,a);return d>=0?o[1|d]=c:(d=~d,function Ta(o,a,c,d){let h=o.length;if(h==a)o.push(c,d);else if(1===h)o.push(d,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=c,o[a+1]=d}}(o,d,a,c)),d}function Xa(o,a){const c=Ia(o,a);if(c>=0)return o[1|c]}function Ia(o,a){return function Ms(o,a,c){let d=0,h=o.length>>c;for(;h!==d;){const g=d+(h-d>>1),v=o[g<<c];if(a===v)return g<<c;v>a?h=g:d=g+1}return~(h<<c)}(o,a,1)}const lo={},Da="__NG_DI_FLAG__",el="ngTempTokenPath",I=/\n/gm,L="__source",J=ye({provide:String,useValue:ye});let re;function _e(o){const a=re;return re=o,a}function et(o,a=bt.Default){if(void 0===re)throw new Ne(203,"");return null===re?wo(o,void 0,a):re.get(o,a&bt.Optional?null:void 0,a)}function lt(o,a=bt.Default){return(function Sn(){return mr}()||et)(ne(o),a)}const Gt=lt;function Mt(o){const a=[];for(let c=0;c<o.length;c++){const d=ne(o[c]);if(Array.isArray(d)){if(0===d.length)throw new Ne(900,"");let h,g=bt.Default;for(let v=0;v<d.length;v++){const C=d[v],T=li(C);"number"==typeof T?-1===T?h=C.token:g|=T:h=C}a.push(lt(h,g))}else a.push(lt(d))}return a}function $n(o,a){return o[Da]=a,o.prototype[Da]=a,o}function li(o){return o[Da]}const jr=$n(os("Inject",o=>({token:o})),-1),Vi=$n(os("Optional"),8),co=$n(os("SkipSelf"),4);let hu,Uo;function Kl(o){var a;return(null===(a=function qd(){if(void 0===hu&&(hu=null,jt.trustedTypes))try{hu=jt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return hu}())||void 0===a?void 0:a.createHTML(o))||o}function Gd(o){var a;return(null===(a=function Zd(){if(void 0===Uo&&(Uo=null,jt.trustedTypes))try{Uo=jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Uo}())||void 0===a?void 0:a.createHTML(o))||o}class zd{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function qr(o){return o instanceof zd?o.changingThisBreaksApplicationSecurity:o}function Bo(o,a){const c=function pu(o){return o instanceof zd&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}class Fg{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Kl(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class Lg{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Kl(a),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Kl(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const c=a.attributes;for(let h=c.length-1;0<h;h--){const v=c.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Ly=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,tl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function gu(o){return(o=String(o)).match(Ly)||o.match(tl)?o:"unsafe:"+o}function cs(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function mu(...o){const a={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const Kd=cs("area,br,col,hr,img,wbr"),Qd=cs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ho=cs("rp,rt"),_u=mu(Kd,mu(Qd,cs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mu(Ho,cs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mu(Ho,Qd)),_f=cs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yf=cs("srcset"),Ug=mu(_f,yf,cs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xl=cs("script,style,template");class yu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!_u.hasOwnProperty(c))return this.sanitizedSomething=!0,!Xl.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),v=g.name,C=v.toLowerCase();if(!Ug.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let T=g.value;_f[C]&&(T=gu(T)),yf[C]&&(o=T,T=(o=String(o)).split(",").map(a=>gu(a.trim())).join(", ")),this.buf.push(" ",v,'="',vu(T),'"')}var o;return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();_u.hasOwnProperty(c)&&!Kd.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(vu(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const Uy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bg=/([^\#-~ |!])/g;function vu(o){return o.replace(/&/g,"&amp;").replace(Uy,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(Bg,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ec;function bu(o){return"content"in o&&function or(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var zn=(()=>((zn=zn||{})[zn.NONE=0]="NONE",zn[zn.HTML=1]="HTML",zn[zn.STYLE=2]="STYLE",zn[zn.SCRIPT=3]="SCRIPT",zn[zn.URL=4]="URL",zn[zn.RESOURCE_URL=5]="RESOURCE_URL",zn))();function vf(o){const a=tc();return a?Gd(a.sanitize(zn.HTML,o)||""):Bo(o,"HTML")?Gd(qr(o)):function By(o,a){let c=null;try{ec=ec||function gf(o){const a=new Lg(o);return function Yd(){try{return!!(new window.DOMParser).parseFromString(Kl(""),"text/html")}catch(o){return!1}}()?new Fg(a):a}(o);let d=a?String(a):"";c=ec.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=c.innerHTML,c=ec.getInertBodyElement(d)}while(d!==g);return Kl((new yu).sanitizeChildren(bu(c)||c))}finally{if(c){const d=bu(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}(ts(),me(o))}function nl(o){const a=tc();return a?a.sanitize(zn.URL,o)||"":Bo(o,"URL")?qr(o):gu(me(o))}function tc(){const o=Me();return o&&o[12]}const nh="__ngContext__";function bi(o,a){o[nh]=a}function Cf(o){const a=function nc(o){return o[nh]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function rh(o){return o.ngOriginalError}function Wy(o,...a){o.error(...a)}class sh{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a),d=function zy(o){return o&&o.ngErrorLogger||Wy}(a);d(this._console,"ERROR",a),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&rh(a);for(;c&&rh(c);)c=rh(c);return c||null}}const Sf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(jt))();function y(o){return o instanceof Function?o():o}var k=(()=>((k=k||{})[k.Important=1]="Important",k[k.DashCase=2]="DashCase",k))();function pe(o,a){return undefined(o,a)}function mt(o){const a=o[3];return Qr(a)?a[3]:a}function Er(o){return xf(o[13])}function ic(o){return xf(o[4])}function xf(o){for(;null!==o&&!Qr(o);)o=o[4];return o}function sl(o,a,c,d,h){if(null!=d){let g,v=!1;Qr(d)?g=d:nr(d)&&(v=!0,d=d[0]);const C=rn(d);0===o&&null!==c?null==h?Mw(a,c,C):oc(a,c,C,h||null,!0):1===o&&null!==c?oc(a,c,C,h||null,!0):2===o?function Lw(o,a,c){const d=Xg(o,a);d&&function kw(o,a,c,d){hn(o)?o.removeChild(a,c,d):a.removeChild(c)}(o,d,a,c)}(a,C,v):3===o&&a.destroyNode(C),null!=g&&function EI(o,a,c,d,h){const g=c[7];g!==rn(c)&&sl(a,o,d,g,h);for(let C=10;C<c.length;C++){const T=c[C];Of(T[1],T,o,a,d,g)}}(a,o,g,c,h)}}function Vn(o,a,c){if(hn(o))return o.createElement(a,c);{const d=null!==c?function $c(o){const a=o.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?o.createElement(a):o.createElementNS(d,a)}}function Sw(o,a){const c=o[9],d=c.indexOf(a),h=a[3];1024&a[2]&&(a[2]&=-1025,ua(h,-1)),c.splice(d,1)}function Qg(o,a){if(o.length<=10)return;const c=10+a,d=o[c];if(d){const h=d[17];null!==h&&h!==o&&Sw(h,d),a>0&&(o[c-1][4]=d[4]);const g=Ca(o,10+a);!function Af(o,a){Of(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function xw(o,a){if(!(256&a[2])){const c=a[11];hn(c)&&c.destroyNode&&Of(o,a,c,3,null,null),function ol(o){let a=o[13];if(!a)return Jg(o[1],o);for(;a;){let c=null;if(nr(a))c=a[13];else{const d=a[10];d&&(c=d)}if(!c){for(;a&&!a[4]&&a!==o;)nr(a)&&Jg(a[1],a),a=a[3];null===a&&(a=o),nr(a)&&Jg(a[1],a),c=a&&a[4]}a=c}}(a)}}function Jg(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function Qy(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const h=a[c[d]];if(!(h instanceof pa)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=h[g[v]],T=g[v+1];try{T.call(C)}finally{}}else try{g.call(h)}finally{}}}}(o,a),function Aw(o,a){const c=o.cleanup,d=a[7];let h=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+1],C="function"==typeof v?v(a):rn(a[v]),T=d[h=c[g+2]],x=c[g+3];"boolean"==typeof x?C.removeEventListener(c[g],T,x):x>=0?d[h=x]():d[h=-x].unsubscribe(),g+=2}else{const v=d[h=c[g+1]];c[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)d[g]();a[7]=null}}(o,a),1===a[1].type&&hn(a[11])&&a[11].destroy();const c=a[17];if(null!==c&&Qr(a[3])){c!==a[3]&&Sw(c,a);const d=a[19];null!==d&&d.detachView(o)}}}function CI(o,a,c){return function sc(o,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[0];if(2&d.flags){const h=o.data[d.directiveStart].encapsulation;if(h===Wt.None||h===Wt.Emulated)return null}return gi(d,c)}(o,a.parent,c)}function oc(o,a,c,d,h){hn(o)?o.insertBefore(a,c,d,h):a.insertBefore(c,d,h)}function Mw(o,a,c){hn(o)?o.appendChild(a,c):a.appendChild(c)}function Ow(o,a,c,d,h){null!==d?oc(o,a,c,d,h):Mw(o,a,c)}function Xg(o,a){return hn(o)?o.parentNode(a):a.parentNode}function Pw(o,a,c){return Rw(o,a,c)}let Rw=function Jy(o,a,c){return 40&o.type?gi(o,c):null};function lh(o,a,c,d){const h=CI(o,d,a),g=a[11],C=Pw(d.parent||a[6],d,a);if(null!=h)if(Array.isArray(c))for(let T=0;T<c.length;T++)Ow(g,h,c[T],C,!1);else Ow(g,h,c,C,!1)}function em(o,a){if(null!==a){const c=a.type;if(3&c)return gi(a,o);if(4&c)return tm(-1,o[a.index]);if(8&c){const d=a.child;if(null!==d)return em(o,d);{const h=o[a.index];return Qr(h)?tm(-1,h):rn(h)}}if(32&c)return pe(a,o)()||rn(o[a.index]);{const d=Fw(o,a);return null!==d?Array.isArray(d)?d[0]:em(mt(o[16]),d):em(o,a.next)}}return null}function Fw(o,a){return null!==a?o[16][6].projection[a.projection]:null}function tm(o,a){const c=10+o+1;if(c<a.length){const d=a[c],h=d[1].firstChild;if(null!==h)return em(d,h)}return a[7]}function Vw(o,a,c,d,h,g,v){for(;null!=c;){const C=d[c.index],T=c.type;if(v&&0===a&&(C&&bi(rn(C),d),c.flags|=4),64!=(64&c.flags))if(8&T)Vw(o,a,c.child,d,h,g,!1),sl(a,o,h,C,g);else if(32&T){const x=pe(c,d);let M;for(;M=x();)sl(a,o,h,M,g);sl(a,o,h,C,g)}else 16&T?Uw(o,a,d,c,h,g):sl(a,o,h,C,g);c=v?c.projectionNext:c.next}}function Of(o,a,c,d,h,g){Vw(c,d,o.firstChild,a,h,g,!1)}function Uw(o,a,c,d,h,g){const v=c[16],T=v[6].projection[d.projection];if(Array.isArray(T))for(let x=0;x<T.length;x++)sl(a,o,h,T[x],g);else Vw(o,a,T,v[3],h,g,!0)}function im(o,a,c){hn(o)?o.setAttribute(a,"style",c):a.style.cssText=c}function rm(o,a,c){hn(o)?""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c):a.className=c}function sm(o,a,c){let d=o.length;for(;;){const h=o.indexOf(a,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const g=a.length;if(h+g===d||o.charCodeAt(h+g)<=32)return h}c=h+1}}const Ir="ng-template";function Bw(o,a,c){let d=0;for(;d<o.length;){let h=o[d++];if(c&&"class"===h){if(h=o[d],-1!==sm(h.toLowerCase(),a,0))return!0}else if(1===h){for(;d<o.length&&"string"==typeof(h=o[d++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function kf(o){return 4===o.type&&o.value!==Ir}function DI(o,a,c){return a===(4!==o.type||c?o.value:Ir)}function gA(o,a,c){let d=4;const h=o.attrs||[],g=function xI(o){for(let a=0;a<o.length;a++)if(Cr(o[a]))return a;return o.length}(h);let v=!1;for(let C=0;C<a.length;C++){const T=a[C];if("number"!=typeof T){if(!v)if(4&d){if(d=2|1&d,""!==T&&!DI(o,T,c)||""===T&&1===a.length){if(jo(d))return!1;v=!0}}else{const x=8&d?T:a[++C];if(8&d&&null!==o.attrs){if(!Bw(o.attrs,x,c)){if(jo(d))return!1;v=!0}continue}const F=ev(8&d?"class":T,h,kf(o),c);if(-1===F){if(jo(d))return!1;v=!0;continue}if(""!==x){let H;H=F>g?"":h[F+1].toLowerCase();const X=8&d?H:null;if(X&&-1!==sm(X,x,0)||2&d&&x!==H){if(jo(d))return!1;v=!0}}}}else{if(!v&&!jo(d)&&!jo(T))return!1;if(v&&jo(T))continue;v=!1,d=T|1&d}}return jo(d)||v}function jo(o){return 0==(1&o)}function ev(o,a,c,d){if(null===a)return-1;let h=0;if(d||!c){let g=!1;for(;h<a.length;){const v=a[h];if(v===o)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=a[++h];for(;"string"==typeof C;)C=a[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function AI(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,o)}function SI(o,a,c=!1){for(let d=0;d<a.length;d++)if(gA(o,a[d],c))return!0;return!1}function _A(o,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function MI(o,a){return o?":not("+a.trim()+")":a}function yA(o){let a=o[0],c=1,d=2,h="",g=!1;for(;c<o.length;){let v=o[c];if("string"==typeof v)if(2&d){const C=o[++c];h+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!jo(v)&&(a+=MI(g,h),h=""),d=v,g=g||!jo(d);c++}return""!==h&&(a+=MI(g,h)),a}const Lt={};function OI(o){kI(Bt(),Me(),oi()+o,!1)}function kI(o,a,c,d){if(!d)if(3==(3&a[2])){const g=o.preOrderCheckHooks;null!==g&&ws(a,g,c)}else{const g=o.preOrderHooks;null!==g&&Po(a,g,0,c)}ko(c)}function ds(o,a){return o<<17|a<<2}function Dr(o){return o>>17&32767}function om(o){return 2|o}function al(o){return(131068&o)>>2}function tv(o,a){return-131069&o|a<<2}function Rs(o){return 1|o}function ym(o,a){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const h=c[d],g=c[d+1];if(-1!==g){const v=o.data[g];Ed(h),v.contentQueries(2,a[g],g)}}}function Rf(o,a,c,d,h,g,v,C,T,x){const M=a.blueprint.slice();return M[0]=h,M[2]=140|d,is(M),M[3]=M[15]=o,M[8]=c,M[10]=v||o&&o[10],M[11]=C||o&&o[11],M[12]=T||o&&o[12]||null,M[9]=x||o&&o[9]||null,M[6]=g,M[16]=2==a.type?o[16]:M,M}function ul(o,a,c,d,h){let g=o.data[a];if(null===g)g=function Nf(o,a,c,d,h){const g=Pl(),v=Jc(),T=o.data[a]=function HI(o,a,c,d,h,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,a,d,h);return null===o.firstChild&&(o.firstChild=T),null!==g&&(v?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T)),T}(o,a,c,d,h),function tu(){return wt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=h;const v=function Mo(){const o=wt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return br(g,!0),g}function lc(o,a,c,d){if(0===c)return-1;const h=a.length;for(let g=0;g<c;g++)a.push(d),o.blueprint.push(d),o.data.push(null);return h}function Iu(o,a,c){Oo(a);try{const d=o.viewQuery;null!==d&&Im(1,d,c);const h=o.template;null!==h&&uv(o,a,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&ym(o,a),o.staticViewQueries&&Im(2,o.viewQuery,c);const g=o.components;null!==g&&function VI(o,a){for(let c=0;c<a.length;c++)LA(o,a[c])}(a,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,rr()}}function Du(o,a,c,d){const h=a[2];if(256!=(256&h)){Oo(a);try{is(a),function Rl(o){return wt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&uv(o,a,c,2,d);const v=3==(3&h);if(v){const x=o.preOrderCheckHooks;null!==x&&ws(a,x,null)}else{const x=o.preOrderHooks;null!==x&&Po(a,x,0,null),ei(a,0)}if(function NA(o){for(let a=Er(o);null!==a;a=ic(a)){if(!a[2])continue;const c=a[9];for(let d=0;d<c.length;d++){const h=c[d],g=h[3];0==(1024&h[2])&&ua(g,1),h[2]|=1024}}}(a),function KI(o){for(let a=Er(o);null!==a;a=ic(a))for(let c=10;c<a.length;c++){const d=a[c],h=d[1];vs(d)&&Du(h,d,h.template,d[8])}}(a),null!==o.contentQueries&&ym(o,a),v){const x=o.contentCheckHooks;null!==x&&ws(a,x)}else{const x=o.contentHooks;null!==x&&Po(a,x,1),ei(a,1)}!function Ww(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)ko(~h);else{const g=h,v=c[++d],C=c[++d];Fl(v,g),C(2,a[g])}}}finally{ko(-1)}}(o,a);const C=o.components;null!==C&&function LI(o,a){for(let c=0;c<a.length;c++)FA(o,a[c])}(a,C);const T=o.viewQuery;if(null!==T&&Im(2,T,d),v){const x=o.viewCheckHooks;null!==x&&ws(a,x)}else{const x=o.viewHooks;null!==x&&Po(a,x,2),ei(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-73,1024&a[2]&&(a[2]&=-1025,ua(a[3],-1))}finally{rr()}}}function UI(o,a,c,d){const h=a[10],v=xo(a);try{!v&&h.begin&&h.begin(),v&&Iu(o,a,d),Du(o,a,c,d)}finally{!v&&h.end&&h.end()}}function uv(o,a,c,d,h){const g=oi(),v=2&d;try{ko(-1),v&&a.length>20&&kI(o,a,20,!1),c(d,h)}finally{ko(g)}}function Ff(o,a,c){if(xl(a)){const h=a.directiveEnd;for(let g=a.directiveStart;g<h;g++){const v=o.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function dv(o,a,c){!kl()||(function OA(o,a,c,d){const h=c.directiveStart,g=c.directiveEnd;o.firstCreatePass||no(c,a),bi(d,a);const v=c.initialInputs;for(let C=h;C<g;C++){const T=o.data[C],x=Xr(T);x&&Tm(a,c,T);const M=Ts(a,o,C,c);bi(M,a),null!==v&&RA(0,C-h,M,T,0,v),x&&(mi(c.index,a)[8]=M)}}(o,a,c,gi(c,a)),128==(128&c.flags)&&function kA(o,a,c){const d=c.directiveStart,h=c.directiveEnd,v=c.index,C=function nu(){return wt.lFrame.currentDirectiveIndex}();try{ko(v);for(let T=d;T<h;T++){const x=o.data[T],M=a[T];ha(T),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&wm(x,M)}}finally{ko(-1),ha(C)}}(o,a,c))}function hv(o,a,c=gi){const d=a.localNames;if(null!==d){let h=a.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],C=-1===v?c(a,o):o[v];o[h++]=C}}}function Yw(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=vm(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function vm(o,a,c,d,h,g,v,C,T,x){const M=20+d,F=M+h,H=function BI(o,a){const c=[];for(let d=0;d<a;d++)c.push(d<o?null:Lt);return c}(M,F),X="function"==typeof x?x():x;return H[1]={type:o,blueprint:H,template:c,queries:null,viewQuery:C,declTNode:a,data:H.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:X,incompleteFirstPass:!1}}function Jw(o,a,c,d){const h=vv(a);null===c?h.push(d):(h.push(c),o.firstCreatePass&&Uf(o).push(d,h.length-1))}function Lf(o,a,c){for(let d in o)if(o.hasOwnProperty(d)){const h=o[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(a,h):c[d]=[a,h]}return c}function bm(o,a,c,d){let h=!1;if(kl()){const g=function PA(o,a,c){const d=o.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];SI(c,v.selectors,!1)&&(h||(h=[]),yi(no(c,a),o,v.type),Xr(v)?(nC(o,c),h.unshift(v)):h.push(v))}return h}(o,a,c),v=null===d?null:{"":-1};if(null!==g){h=!0,pv(c,o.data.length,g.length);for(let M=0;M<g.length;M++){const F=g[M];F.providersResolver&&F.providersResolver(F)}let C=!1,T=!1,x=lc(o,a,g.length,null);for(let M=0;M<g.length;M++){const F=g[M];c.mergedAttrs=Ya(c.mergedAttrs,F.hostAttrs),Cm(o,c,a,x,F),WI(x,F,v),null!==F.contentQueries&&(c.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(c.flags|=128);const H=F.type.prototype;!C&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),C=!0),!T&&(H.ngOnChanges||H.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),T=!0),x++}!function Xw(o,a){const d=a.directiveEnd,h=o.data,g=a.attrs,v=[];let C=null,T=null;for(let x=a.directiveStart;x<d;x++){const M=h[x],F=M.inputs,H=null===g||kf(a)?null:YI(F,g);v.push(H),C=Lf(F,x,C),T=Lf(M.outputs,x,T)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=16),C.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=C,a.outputs=T}(o,c)}v&&function iC(o,a,c){if(a){const d=o.localNames=[];for(let h=0;h<a.length;h+=2){const g=c[a[h+1]];if(null==g)throw new Ne(-301,!1);d.push(a[h],g)}}}(c,d,v)}return c.mergedAttrs=Ya(c.mergedAttrs,c.attrs),h}function $I(o,a,c,d,h,g){const v=g.hostBindings;if(v){let C=o.hostBindingOpCodes;null===C&&(C=o.hostBindingOpCodes=[]);const T=~a.index;(function zI(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(C)!=T&&C.push(T),C.push(d,h,v)}}function wm(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function nC(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function WI(o,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=o;Xr(a)&&(c[""]=o)}}function pv(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}function Cm(o,a,c,d,h){o.data[d]=h;const g=h.factory||(h.factory=ki(h.type)),v=new pa(g,Xr(h),null);o.blueprint[d]=v,c[d]=v,$I(o,a,0,d,lc(o,c,h.hostVars,Lt),h)}function Tm(o,a,c){const d=gi(a,o),h=Yw(c),g=o[10],v=mv(o,Rf(o,h,null,c.onPush?64:16,d,a,g,g.createRenderer(d,c),null,null));o[a.index]=v}function dl(o,a,c,d,h,g){const v=gi(o,a);!function Vf(o,a,c,d,h,g,v){if(null==g)hn(o)?o.removeAttribute(a,h,c):a.removeAttribute(h);else{const C=null==v?me(g):v(g,d||"",h);hn(o)?o.setAttribute(a,h,C,c):c?a.setAttributeNS(c,h,C):a.setAttribute(h,C)}}(a[11],v,g,o.value,c,d,h)}function RA(o,a,c,d,h,g){const v=g[a];if(null!==v){const C=d.setInput;for(let T=0;T<v.length;){const x=v[T++],M=v[T++],F=v[T++];null!==C?d.setInput(c,F,x,M):c[M]=F}}}function YI(o,a){let c=null,d=0;for(;d<a.length;){const h=a[d];if(0!==h)if(5!==h){if("number"==typeof h)break;o.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,o[h],a[d+1])),d+=2}else d+=2;else d+=4}return c}function rC(o,a,c,d){return new Array(o,!0,!1,a,null,0,d,c,null,null)}function FA(o,a){const c=mi(a,o);if(vs(c)){const d=c[1];80&c[2]?Du(d,c,d.template,c[8]):c[5]>0&&gv(c)}}function gv(o){for(let d=Er(o);null!==d;d=ic(d))for(let h=10;h<d.length;h++){const g=d[h];if(1024&g[2]){const v=g[1];Du(v,g,v.template,g[8])}else g[5]>0&&gv(g)}const c=o[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=mi(c[d],o);vs(h)&&h[5]>0&&gv(h)}}function LA(o,a){const c=mi(a,o),d=c[1];(function VA(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(d,c),Iu(d,c,c[8])}function mv(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function sC(o){for(;o;){o[2]|=64;const a=mt(o);if(ir(o)&&!a)return o;o=a}return null}function yv(o){!function Em(o){for(let a=0;a<o.components.length;a++){const c=o.components[a],d=Cf(c),h=d[1];UI(h,d,h.template,c)}}(o[8])}function Im(o,a,c){Ed(0),a(o,c)}const oC=(()=>Promise.resolve(null))();function vv(o){return o[7]||(o[7]=[])}function Uf(o){return o.cleanup||(o.cleanup=[])}function qo(o,a){const c=o[9],d=c?c.get(sh,null):null;d&&d.handleError(a)}function lC(o,a,c,d,h){for(let g=0;g<c.length;){const v=c[g++],C=c[g++],T=a[v],x=o.data[v];null!==x.setInput?x.setInput(T,h,d,C):T[C]=h}}function Zo(o,a,c){const d=Qs(a,o);!function oh(o,a,c){hn(o)?o.setValue(a,c):a.textContent=c}(o[11],d,c)}function Dm(o,a,c){let d=c?o.styles:null,h=c?o.classes:null,g=0;if(null!==a)for(let v=0;v<a.length;v++){const C=a[v];"number"==typeof C?g=C:1==g?h=fe(h,C):2==g&&(d=fe(d,C+": "+a[++v]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=h:o.classesWithoutHost=h}const bv=new An("INJECTOR",-1);class Sm{get(a,c=lo){if(c===lo){const d=new Error(`NullInjectorError: No provider for ${le(a)}!`);throw d.name="NullInjectorError",d}return c}}const wv=new An("Set Injector scope."),Bf={},eD={};let hl;function fl(){return void 0===hl&&(hl=new Sm),hl}function Cv(o,a=null,c=null,d){const h=lr(o,a,c,d);return h._resolveInjectorDefTypes(),h}function lr(o,a=null,c=null,d){return new cc(o,c,a||fl(),d)}class cc{constructor(a,c,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];c&&Wi(c,C=>this.processProvider(C,a,c)),Wi([a],C=>this.processInjectorType(C,[],g)),this.records.set(bv,xu(void 0,this));const v=this.records.get(wv);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof a?null:le(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,c=lo,d=bt.Default){this.assertNotDestroyed();const h=_e(this),g=Pn(void 0);try{if(!(d&bt.SkipSelf)){let C=this.records.get(a);if(void 0===C){const T=function gC(o){return"function"==typeof o||"object"==typeof o&&o instanceof An}(a)&&Ut(a);C=T&&this.injectableDefInScope(T)?xu(Tv(a),Bf):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(d&bt.Self?fl():this.parent).get(a,c=d&bt.Optional&&c===lo?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[el]=v[el]||[]).unshift(le(a)),h)throw v;return function Os(o,a,c,d){const h=o[el];throw a[L]&&h.unshift(a[L]),o.message=function ls(o,a,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let h=le(a);if(Array.isArray(a))h=a.map(le).join(" -> ");else if("object"==typeof a){let g=[];for(let v in a)if(a.hasOwnProperty(v)){let C=a[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):le(C)))}h=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${o.replace(I,"\n  ")}`}("\n"+o.message,h,c,d),o.ngTokenPath=h,o[el]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{Pn(g),_e(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((d,h)=>a.push(le(h))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processInjectorType(a,c,d){if(!(a=ne(a)))return!1;let h=Zi(a);const g=null==h&&a.ngModule||void 0,v=void 0===g?a:g,C=-1!==d.indexOf(v);if(void 0!==g&&(h=Zi(g)),null==h)return!1;if(null!=h.imports&&!C){let M;d.push(v);try{Wi(h.imports,F=>{this.processInjectorType(F,c,d)&&(void 0===M&&(M=[]),M.push(F))})}finally{}if(void 0!==M)for(let F=0;F<M.length;F++){const{ngModule:H,providers:X}=M[F];Wi(X,Te=>this.processProvider(Te,H,X||U))}}this.injectorDefTypes.add(v);const T=ki(v)||(()=>new v);this.records.set(v,xu(T,Bf));const x=h.providers;if(null!=x&&!C){const M=a;Wi(x,F=>this.processProvider(F,M,x))}return void 0!==g&&void 0!==a.providers}processProvider(a,c,d){let h=Au(a=ne(a))?a:ne(a&&a.provide);const g=function uC(o,a,c){return Iv(o)?xu(void 0,o.useValue):xu(Ev(o),Bf)}(a);if(Au(a)||!0!==a.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=xu(void 0,Bf,!0),v.factory=()=>Mt(v.multi),this.records.set(h,v)),h=a,v.multi.push(a)}this.records.set(h,g)}hydrate(a,c){return c.value===Bf&&(c.value=eD,c.value=c.factory()),"object"==typeof c.value&&c.value&&function pC(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=ne(a.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function Tv(o){const a=Ut(o),c=null!==a?a.factory:ki(o);if(null!==c)return c;if(o instanceof An)throw new Ne(204,!1);if(o instanceof Function)return function Jt(o){const a=o.length;if(a>0)throw xs(a,"?"),new Ne(204,!1);const c=function pr(o){const a=o&&(o[Wr]||o[gr]);if(a){const c=function Si(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Ne(204,!1)}function Ev(o,a,c){let d;if(Au(o)){const h=ne(o);return ki(h)||Tv(h)}if(Iv(o))d=()=>ne(o.useValue);else if(function hC(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Mt(o.deps||[]));else if(function dC(o){return!(!o||!o.useExisting)}(o))d=()=>lt(ne(o.useExisting));else{const h=ne(o&&(o.useClass||o.provide));if(!function xm(o){return!!o.deps}(o))return ki(h)||Tv(h);d=()=>new h(...Mt(o.deps))}return d}function xu(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function Iv(o){return null!==o&&"object"==typeof o&&J in o}function Au(o){return"function"==typeof o}let Go=(()=>{class o{static create(c,d){var h;if(Array.isArray(c))return Cv({name:""},d,c,"");{const g=null!==(h=c.name)&&void 0!==h?h:"";return Cv({name:g},c.parent,c.providers,g)}}}return o.THROW_IF_NOT_FOUND=lo,o.NULL=new Sm,o.\u0275prov=tn({token:o,providedIn:"any",factory:()=>lt(bv)}),o.__NG_ELEMENT_ID__=-1,o})();function BA(o,a){za(Cf(o)[1],Cn())}function SC(o){let a=function rD(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;a;){let h;if(Xr(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ne(903,"");h=a.\u0275dir}if(h){if(c){d.push(h);const v=o;v.inputs=xC(o.inputs),v.declaredInputs=xC(o.declaredInputs),v.outputs=xC(o.outputs);const C=h.hostBindings;C&&oD(o,C);const T=h.viewQuery,x=h.contentQueries;if(T&&sD(o,T),x&&AC(o,x),ue(o.inputs,h.inputs),ue(o.declaredInputs,h.declaredInputs),ue(o.outputs,h.outputs),Xr(h)&&h.data.animation){const M=o.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(o),C===SC&&(c=!1)}}a=Object.getPrototypeOf(a)}!function HA(o){let a=0,c=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=a+=h.hostVars,h.hostAttrs=Ya(h.hostAttrs,c=Ya(c,h.hostAttrs))}}(d)}function xC(o){return o===Mi?{}:o===U?[]:o}function sD(o,a){const c=o.viewQuery;o.viewQuery=c?(d,h)=>{a(d,h),c(d,h)}:a}function AC(o,a){const c=o.contentQueries;o.contentQueries=c?(d,h,g)=>{a(d,h,g),c(d,h,g)}:a}function oD(o,a){const c=o.hostBindings;o.hostBindings=c?(d,h)=>{a(d,h),c(d,h)}:a}let dc=null;function pl(){if(!dc){const o=jt.Symbol;if(o&&o.iterator)dc=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const d=a[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(dc=d)}}}return dc}function jf(o){return!!kv(o)&&(Array.isArray(o)||!(o instanceof Map)&&pl()in o)}function kv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Aa(o,a,c){return o[a]=c}function uh(o,a){return o[a]}function Sr(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function hc(o,a,c,d){const h=Sr(o,a,c);return Sr(o,a+1,d)||h}function $o(o,a,c,d,h,g){const v=hc(o,a,c,d);return hc(o,a+2,h,g)||v}function Pv(o,a,c,d){const h=Me();return Sr(h,Xs(),a)&&(Bt(),dl(jn(),h,o,a,c,d)),Pv}function fc(o,a,c,d,h,g){const C=hc(o,function wr(){return wt.lFrame.bindingIndex}(),c,h);return Ur(2),C?a+me(c)+d+me(h)+g:Lt}function Um(o,a,c,d,h,g,v,C){const T=Me(),x=Bt(),M=o+20,F=x.firstCreatePass?function Vm(o,a,c,d,h,g,v,C,T){const x=a.consts,M=ul(a,o,4,v||null,Vr(x,C));bm(a,c,M,Vr(x,T)),za(a,M);const F=M.tViews=vm(2,M,d,h,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,x);return null!==a.queries&&(a.queries.template(a,M),F.queries=a.queries.embeddedTView(M)),M}(M,x,T,a,c,d,h,g,v):x.data[M];br(F,!1);const H=T[11].createComment("");lh(x,T,H,F),bi(H,T),mv(T,T[M]=rC(H,T,H,F)),Jr(F)&&dv(x,T,F),null!=v&&hv(T,F,C)}function Fv(o){return ns(function Td(){return wt.lFrame.contextLView}(),20+o)}function Qf(o,a=bt.Default){const c=Me();return null===c?lt(o,a):ya(Cn(),c,ne(o),a)}function jv(){throw new Error("invalid")}function qv(o,a,c){const d=Me();return Sr(d,Xs(),a)&&function Gr(o,a,c,d,h,g,v,C){const T=gi(a,c);let M,x=a.inputs;!C&&null!=x&&(M=x[d])?(lC(o,c,M,d,h),hd(a)&&function jI(o,a){const c=mi(a,o);16&c[2]||(c[2]|=64)}(c,a.index)):3&a.type&&(d=function eC(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=v?v(h,a.value||"",d):h,hn(g)?g.setProperty(T,d,h):mn(d)||(T.setProperty?T.setProperty(d,h):T[d]=h))}(Bt(),jn(),d,o,a,d[11],c,!1),qv}function Nu(o,a,c,d,h){const v=h?"class":"style";lC(o,c,a.inputs[v],v,d)}function $m(o,a,c,d){const h=Me(),g=Bt(),v=20+o,C=h[11],T=h[v]=Vn(C,a,function Dg(){return wt.lFrame.currentNamespace}()),x=g.firstCreatePass?function Zv(o,a,c,d,h,g,v){const C=a.consts,x=ul(a,o,2,h,Vr(C,g));return bm(a,c,x,Vr(C,v)),null!==x.attrs&&Dm(x,x.attrs,!1),null!==x.mergedAttrs&&Dm(x,x.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,x),x}(v,g,h,0,a,c,d):g.data[v];br(x,!0);const M=x.mergedAttrs;null!==M&&Kt(C,T,M);const F=x.classes;null!==F&&rm(C,T,F);const H=x.styles;return null!==H&&im(C,T,H),64!=(64&x.flags)&&lh(g,h,T,x),0===function $a(){return wt.lFrame.elementDepthCount}()&&bi(T,h),function Kc(){wt.lFrame.elementDepthCount++}(),Jr(x)&&(dv(g,h,x),Ff(g,x,h)),null!==d&&hv(h,x),$m}function Jf(){let o=Cn();Jc()?Xc():(o=o.parent,br(o,!1));const a=o;!function Ol(){wt.lFrame.elementDepthCount--}();const c=Bt();return c.firstCreatePass&&(za(c,o),xl(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Ag(o){return 0!=(16&o.flags)}(a)&&Nu(c,a,Me(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function fn(o){return 0!=(32&o.flags)}(a)&&Nu(c,a,Me(),a.stylesWithoutHost,!1),Jf}function Gv(o,a,c,d){return $m(o,a,c,d),Jf(),Gv}function gh(o,a,c){const d=Me(),h=Bt(),g=o+20,v=h.firstCreatePass?function $v(o,a,c,d,h){const g=a.consts,v=Vr(g,d),C=ul(a,o,8,"ng-container",v);return null!==v&&Dm(C,v,!0),bm(a,c,C,Vr(g,h)),null!==a.queries&&a.queries.elementStart(a,C),C}(g,h,d,a,c):h.data[g];br(v,!0);const C=d[g]=d[11].createComment("");return lh(h,d,C,v),bi(C,d),Jr(v)&&(dv(h,d,v),Ff(h,v,d)),null!=c&&hv(d,v),gh}function Xf(){let o=Cn();const a=Bt();return Jc()?Xc():(o=o.parent,br(o,!1)),a.firstCreatePass&&(za(a,o),xl(o)&&a.queries.elementEnd(o)),Xf}function zv(o,a,c){return gh(o,a,c),Xf(),zv}function Wv(){return Me()}function gl(o){return!!o&&"function"==typeof o.then}function jC(o){return!!o&&"function"==typeof o.subscribe}const Yv=jC;function Kv(o,a,c,d){const h=Me(),g=Bt(),v=Cn();return function qC(o,a,c,d,h,g,v,C){const T=Jr(d),M=o.firstCreatePass&&Uf(o),F=a[8],H=vv(a);let X=!0;if(3&d.type||C){const Ze=gi(d,a),at=C?C(Ze):Ze,Oe=H.length,yt=C?$t=>C(rn($t[d.index])):d.index;if(hn(c)){let $t=null;if(!C&&T&&($t=function yD(o,a,c,d){const h=o.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===c&&h[g+1]===d){const C=a[7],T=h[g+2];return C.length>T?C[T]:null}"string"==typeof v&&(g+=2)}return null}(o,a,h,d.index)),null!==$t)($t.__ngLastListenerFn__||$t).__ngNextListenerFn__=g,$t.__ngLastListenerFn__=g,X=!1;else{g=zm(d,a,F,g,!1);const pn=c.listen(at,h,g);H.push(g,pn),M&&M.push(h,yt,Oe,Oe+1)}}else g=zm(d,a,F,g,!0),at.addEventListener(h,g,v),H.push(g),M&&M.push(h,yt,Oe,v)}else g=zm(d,a,F,g,!1);const Te=d.outputs;let Ve;if(X&&null!==Te&&(Ve=Te[h])){const Ze=Ve.length;if(Ze)for(let at=0;at<Ze;at+=2){const Ns=a[Ve[at]][Ve[at+1]].subscribe(g),rd=H.length;H.push(g,Ns),M&&M.push(h,d.index,rd,-(rd+1))}}}(g,h,h[11],v,o,a,!!c,d),Kv}function _c(o,a,c,d){try{return!1!==c(d)}catch(h){return qo(o,h),!1}}function zm(o,a,c,d,h){return function g(v){if(v===Function)return d;const C=2&o.flags?mi(o.index,a):a;0==(32&a[2])&&sC(C);let T=_c(a,0,d,v),x=g.__ngNextListenerFn__;for(;x;)T=_c(a,0,x,v)&&T,x=x.__ngNextListenerFn__;return h&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function ZC(o=1){return function sf(o){return(wt.lFrame.contextLView=function iu(o,a){for(;o>0;)a=a[15],o--;return a}(o,wt.lFrame.contextLView))[8]}(o)}function GC(o,a){let c=null;const d=function mA(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(o);for(let h=0;h<a.length;h++){const g=a[h];if("*"!==g){if(null===d?SI(o,g,!0):_A(d,g))return h}else c=h}return c}function $C(o){const a=Me()[16][6];if(!a.projection){const d=a.projection=xs(o?o.length:1,null),h=d.slice();let g=a.child;for(;null!==g;){const v=o?GC(g,o):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function Jv(o,a=0,c){const d=Me(),h=Bt(),g=ul(h,20+o,16,null,c||null);null===g.projection&&(g.projection=a),Xc(),64!=(64&g.flags)&&function nm(o,a,c){Uw(a[11],0,a,c,CI(o,c,a),Pw(c.parent||a[6],c,a))}(h,d,g)}function ep(o,a,c,d,h){const g=o[c+1],v=null===a;let C=d?Dr(g):al(g),T=!1;for(;0!==C&&(!1===T||v);){const M=o[C+1];Km(o[C],a)&&(T=!0,o[C+1]=d?Rs(M):om(M)),C=d?Dr(M):al(M)}T&&(o[c+1]=d?om(g):Rs(g))}function Km(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Ia(o,a)>=0}const wi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function KC(o){return o.substring(wi.key,wi.keyEnd)}function $A(o){return o.substring(wi.value,wi.valueEnd)}function JC(o,a){const c=wi.textEnd;return c===a?-1:(a=wi.keyEnd=function Jm(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,wi.key=a,c),xt(o,a,c))}function st(o,a){const c=wi.textEnd;let d=wi.key=xt(o,a,c);return c===d?-1:(d=wi.keyEnd=function n0(o,a,c){let d;for(;a<c&&(45===(d=o.charCodeAt(a))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)a++;return a}(o,d,c),d=mh(o,d,c),d=wi.value=xt(o,d,c),d=wi.valueEnd=function CD(o,a,c){let d=-1,h=-1,g=-1,v=a,C=v;for(;v<c;){const T=o.charCodeAt(v++);if(59===T)return C;34===T||39===T?C=v=Xm(o,T,v,c):a===v-4&&85===g&&82===h&&76===d&&40===T?C=v=Xm(o,41,v,c):T>32&&(C=v),g=h,h=d,d=-33&T}return C}(o,d,c),mh(o,d,c))}function Qm(o){wi.key=0,wi.keyEnd=0,wi.value=0,wi.valueEnd=0,wi.textEnd=o.length}function xt(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function mh(o,a,c,d){return(a=xt(o,a,c))<c&&a++,a}function Xm(o,a,c,d){let h=-1,g=c;for(;g<d;){const v=o.charCodeAt(g++);if(v==a&&92!==h)return g;h=92==v&&92===h?0:v}throw new Error}function r0(o,a,c){return zo(o,a,c,!1),r0}function s0(o,a){return zo(o,a,null,!0),s0}function Tn(o){Wo(xr,e_,o,!1)}function e_(o,a){for(let c=function ml(o){return Qm(o),st(o,xt(o,0,wi.textEnd))}(a);c>=0;c=st(a,c))xr(o,KC(a),$A(a))}function Yi(o){Wo(Li,ur,o,!0)}function ur(o,a){for(let c=function QC(o){return Qm(o),JC(o,xt(o,0,wi.textEnd))}(a);c>=0;c=JC(a,c))Li(o,KC(a),!0)}function zo(o,a,c,d){const h=Me(),g=Bt(),v=Ur(2);g.firstUpdatePass&&a0(g,o,v,d),a!==Lt&&Sr(h,v,a)&&u0(g,g.data[oi()],h,h[11],o,h[v+1]=function tT(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=le(qr(o)))),o}(a,c),d,v)}function Wo(o,a,c,d){const h=Bt(),g=Ur(2);h.firstUpdatePass&&a0(h,null,g,d);const v=Me();if(c!==Lt&&Sr(v,g,c)){const C=h.data[oi()];if(d0(C,d)&&!o0(h,g)){let T=d?C.classesWithoutHost:C.stylesWithoutHost;null!==T&&(c=fe(T,c||"")),Nu(h,C,v,c,d)}else!function eT(o,a,c,d,h,g,v,C){h===Lt&&(h=U);let T=0,x=0,M=0<h.length?h[0]:null,F=0<g.length?g[0]:null;for(;null!==M||null!==F;){const H=T<h.length?h[T+1]:void 0,X=x<g.length?g[x+1]:void 0;let Ve,Te=null;M===F?(T+=2,x+=2,H!==X&&(Te=F,Ve=X)):null===F||null!==M&&M<F?(T+=2,Te=M):(x+=2,Te=F,Ve=X),null!==Te&&u0(o,a,c,d,Te,Ve,v,C),M=T<h.length?h[T]:null,F=x<g.length?g[x]:null}}(h,C,v,v[11],v[g+1],v[g+1]=function c0(o,a,c){if(null==c||""===c)return U;const d=[],h=qr(c);if(Array.isArray(h))for(let g=0;g<h.length;g++)o(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&o(d,g,h[g]);else"string"==typeof h&&a(d,h);return d}(o,a,c),d,g)}}function o0(o,a){return a>=o.expandoStartIndex}function a0(o,a,c,d){const h=o.data;if(null===h[c+1]){const g=h[oi()],v=o0(o,c);d0(g,d)&&null===a&&!v&&(a=!1),a=function TD(o,a,c,d){const h=function Ll(o){const a=wt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let g=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(c=Bi(c=n_(null,o,a,c,d),a.attrs,d),g=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==h)if(c=n_(h,o,a,c,d),null===g){let T=function XC(o,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==al(d))return o[Dr(d)]}(o,a,d);void 0!==T&&Array.isArray(T)&&(T=n_(null,o,a,T[1],d),T=Bi(T,a.attrs,d),function l0(o,a,c,d){o[Dr(c?a.classBindings:a.styleBindings)]=d}(o,a,d,T))}else g=function t_(o,a,c){let d;const h=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<h;g++)d=Bi(d,o[g].hostAttrs,c);return Bi(d,a.attrs,c)}(o,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),c}(h,g,a,d),function Ym(o,a,c,d,h,g){let v=g?a.classBindings:a.styleBindings,C=Dr(v),T=al(v);o[d]=c;let M,x=!1;if(Array.isArray(c)){const F=c;M=F[1],(null===M||Ia(F,M)>0)&&(x=!0)}else M=c;if(h)if(0!==T){const H=Dr(o[C+1]);o[d+1]=ds(H,C),0!==H&&(o[H+1]=tv(o[H+1],d)),o[C+1]=function ac(o,a){return 131071&o|a<<17}(o[C+1],d)}else o[d+1]=ds(C,0),0!==C&&(o[C+1]=tv(o[C+1],d)),C=d;else o[d+1]=ds(T,0),0===C?C=d:o[T+1]=tv(o[T+1],d),T=d;x&&(o[d+1]=om(o[d+1])),ep(o,M,d,!0),ep(o,M,d,!1),function GA(o,a,c,d,h){const g=h?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&Ia(g,a)>=0&&(c[d+1]=Rs(c[d+1]))}(a,M,o,d,g),v=ds(C,T),g?a.classBindings=v:a.styleBindings=v}(h,g,a,c,v,d)}}function n_(o,a,c,d,h){let g=null;const v=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<v&&(g=a[C],d=Bi(d,g.hostAttrs,h),g!==o);)C++;return null!==o&&(c.directiveStylingLast=C),d}function Bi(o,a,c){const d=c?1:2;let h=-1;if(null!==a)for(let g=0;g<a.length;g++){const v=a[g];"number"==typeof v?h=v:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Li(o,v,!!c||a[++g]))}return void 0===o?null:o}function xr(o,a,c){Li(o,a,qr(c))}function u0(o,a,c,d,h,g,v,C){if(!(3&a.type))return;const T=o.data,x=T[C+1];tp(function Ui(o){return 1==(1&o)}(x)?i_(T,a,c,h,al(x),v):void 0)||(tp(g)||function Ot(o){return 2==(2&o)}(x)&&(g=i_(T,null,c,h,C,v)),function II(o,a,c,d,h){const g=hn(o);if(a)h?g?o.addClass(c,d):c.classList.add(d):g?o.removeClass(c,d):c.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:k.DashCase;if(null==h)g?o.removeStyle(c,d,v):c.style.removeProperty(d);else{const C="string"==typeof h&&h.endsWith("!important");C&&(h=h.slice(0,-10),v|=k.Important),g?o.setStyle(c,d,h,v):c.style.setProperty(d,h,C?"important":"")}}}(d,v,Qs(oi(),c),h,g))}function i_(o,a,c,d,h,g){const v=null===a;let C;for(;h>0;){const T=o[h],x=Array.isArray(T),M=x?T[1]:T,F=null===M;let H=c[h+1];H===Lt&&(H=F?U:void 0);let X=F?Xa(H,d):M===d?H:void 0;if(x&&!tp(X)&&(X=Xa(T,d)),tp(X)&&(C=X,v))return C;const Te=o[h+1];h=v?Dr(Te):al(Te)}if(null!==a){let T=g?a.residualClasses:a.residualStyles;null!=T&&(C=Xa(T,d))}return C}function tp(o){return void 0!==o}function d0(o,a){return 0!=(o.flags&(a?16:32))}function r_(o,a=""){const c=Me(),d=Bt(),h=o+20,g=d.firstCreatePass?ul(d,h,1,a,null):d.data[h],v=c[h]=function Eu(o,a){return hn(o)?o.createText(a):o.createTextNode(a)}(c[11],a);lh(d,c,v,g),br(g,!1)}function h0(o){return s_("",o,""),h0}function s_(o,a,c){const d=Me(),h=function qf(o,a,c,d){return Sr(o,Xs(),c)?a+me(c)+d:Lt}(d,o,a,c);return h!==Lt&&Zo(d,oi(),h),s_}function yc(o,a,c,d,h){const g=Me(),v=fc(g,o,a,c,d,h);return v!==Lt&&Zo(g,oi(),v),yc}const _l=void 0;var Ki=["en",[["a","p"],["AM","PM"],_l],[["AM","PM"],_l,_l],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_l,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_l,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_l,"{1} 'at' {0}",_l],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function D0(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let ni={};function sp(o){const a=function A0(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=x0(a);if(c)return c;const d=a.split("-")[0];if(c=x0(d),c)return c;if("en"===d)return Ki;throw new Error(`Missing locale data for the locale "${o}".`)}function oT(o){return sp(o)[Et.PluralCase]}function x0(o){return o in ni||(ni[o]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[o]),ni[o]}var Et=(()=>((Et=Et||{})[Et.LocaleId=0]="LocaleId",Et[Et.DayPeriodsFormat=1]="DayPeriodsFormat",Et[Et.DayPeriodsStandalone=2]="DayPeriodsStandalone",Et[Et.DaysFormat=3]="DaysFormat",Et[Et.DaysStandalone=4]="DaysStandalone",Et[Et.MonthsFormat=5]="MonthsFormat",Et[Et.MonthsStandalone=6]="MonthsStandalone",Et[Et.Eras=7]="Eras",Et[Et.FirstDayOfWeek=8]="FirstDayOfWeek",Et[Et.WeekendRange=9]="WeekendRange",Et[Et.DateFormat=10]="DateFormat",Et[Et.TimeFormat=11]="TimeFormat",Et[Et.DateTimeFormat=12]="DateTimeFormat",Et[Et.NumberSymbols=13]="NumberSymbols",Et[Et.NumberFormats=14]="NumberFormats",Et[Et.CurrencyCode=15]="CurrencyCode",Et[Et.CurrencySymbol=16]="CurrencySymbol",Et[Et.CurrencyName=17]="CurrencyName",Et[Et.Currencies=18]="Currencies",Et[Et.Directionality=19]="Directionality",Et[Et.PluralCase=20]="PluralCase",Et[Et.ExtraData=21]="ExtraData",Et))();const _h="en-US";let O0=_h;function E_(o,a,c,d,h){if(o=ne(o),Array.isArray(o))for(let g=0;g<o.length;g++)E_(o[g],a,c,d,h);else{const g=Bt(),v=Me();let C=Au(o)?o:ne(o.provide),T=Ev(o);const x=Cn(),M=1048575&x.providerIndexes,F=x.directiveStart,H=x.providerIndexes>>20;if(Au(o)||!o.multi){const X=new pa(T,h,Qf),Te=D_(C,a,h?M:M+H,F);-1===Te?(yi(no(x,v),g,C),gp(g,o,a.length),a.push(C),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),c.push(X),v.push(X)):(c[Te]=X,v[Te]=X)}else{const X=D_(C,a,M+H,F),Te=D_(C,a,M,M+H),Ve=X>=0&&c[X],Ze=Te>=0&&c[Te];if(h&&!Ze||!h&&!Ve){yi(no(x,v),g,C);const at=function $D(o,a,c,d,h){const g=new pa(o,c,Qf);return g.multi=[],g.index=a,g.componentProviders=0,I_(g,h,d&&!c),g}(h?W0:TT,c.length,h,d,T);!h&&Ze&&(c[Te].providerFactory=at),gp(g,o,a.length,0),a.push(C),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),c.push(at),v.push(at)}else gp(g,o,X>-1?X:Te,I_(c[h?Te:X],T,!h&&d));!h&&d&&Ze&&c[Te].componentProviders++}}}function gp(o,a,c,d){const h=Au(a),g=function fC(o){return!!o.useClass}(a);if(h||g){const T=(g?ne(a.useClass):a).prototype.ngOnDestroy;if(T){const x=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const M=x.indexOf(c);-1===M?x.push(c,[d,T]):x[M+1].push(d,T)}else x.push(c,T)}}}function I_(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function D_(o,a,c,d){for(let h=c;h<d;h++)if(a[h]===o)return h;return-1}function TT(o,a,c,d){return Y0(this.multi,[])}function W0(o,a,c,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Ts(c,c[1],this.providerFactory.index,d);g=C.slice(0,v),Y0(h,g);for(let T=v;T<C.length;T++)g.push(C[T])}else g=[],Y0(h,g);return g}function Y0(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function ET(o,a=[]){return c=>{c.providersResolver=(d,h)=>function CT(o,a,c){const d=Bt();if(d.firstCreatePass){const h=Xr(o);E_(c,d.data,d.blueprint,h,!0),E_(a,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,a)}}class Ih{}class mp{resolveComponentFactory(a){throw function x_(o){const a=Error(`No component factory found for ${le(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let wc=(()=>{class o{}return o.NULL=new mp,o})();function WD(){return On(Cn(),Me())}function On(o,a){return new Dh(gi(o,a))}let Dh=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=WD,o})();function YD(o){return o instanceof Dh?o.nativeElement:o}class IT{}let KD=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function ST(){const o=Me(),c=mi(Cn().index,o);return function DT(o){return o[11]}(nr(c)?c:o)}(),o})(),xT=(()=>{class o{}return o.\u0275prov=tn({token:o,providedIn:"root",factory:()=>null}),o})();class _p{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const K0=new _p("13.3.10"),Ko={};function yp(o,a,c,d,h=!1){for(;null!==c;){const g=a[c.index];if(null!==g&&d.push(rn(g)),Qr(g))for(let C=10;C<g.length;C++){const T=g[C],x=T[1].firstChild;null!==x&&yp(T[1],T,x,d)}const v=c.type;if(8&v)yp(o,a,c.child,d);else if(32&v){const C=pe(c,a);let T;for(;T=C();)d.push(T)}else if(16&v){const C=Fw(a,c);if(Array.isArray(C))d.push(...C);else{const T=mt(a[16]);yp(T[1],T,C,d,!0)}}c=h?c.projectionNext:c.next}return d}class vp{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return yp(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Qr(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(Qg(a,d),Ca(c,d))}this._attachedToViewContainer=!1}xw(this._lView[1],this._lView)}onDestroy(a){Jw(this._lView[1],this._lView,null,a)}markForCheck(){sC(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function _v(o,a,c){const d=a[10];d.begin&&d.begin();try{Du(o,a,o.template,c)}catch(h){throw qo(a,h),h}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ah(o,a){Of(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ne(902,"");this._appRef=a}}class Q0 extends vp{constructor(a){super(a),this._view=a}detectChanges(){yv(this._view)}checkNoChanges(){}get context(){return null}}class Sh extends wc{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Jn(a);return new O_(c,this.ngModule)}}function J0(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class O_ extends Ih{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function vA(o){return o.map(yA).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return J0(this.componentDef.inputs)}get outputs(){return J0(this.componentDef.outputs)}create(a,c,d,h){const g=(h=h||this.ngModule)?function M_(o,a){return{get:(c,d,h)=>{const g=o.get(c,Ko,h);return g!==Ko||d===Ko?g:a.get(c,d,h)}}}(a,h.injector):a,v=g.get(IT,qa),C=g.get(xT,null),T=v.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",M=d?function Qw(o,a,c){if(hn(o))return o.selectRootElement(a,c===Wt.ShadowDom);let d="string"==typeof a?o.querySelector(a):a;return d.textContent="",d}(T,d,this.componentDef.encapsulation):Vn(v.createRenderer(null,this.componentDef),x,function X0(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(x)),F=this.componentDef.onPush?576:528,H=function DC(o,a){return{components:[],scheduler:o||Sf,clean:oC,playerHandler:a||null,flags:0}}(),X=vm(0,null,null,1,0,null,null,null,null,null),Te=Rf(null,X,H,F,null,null,v,T,C,g);let Ve,Ze;Oo(Te);try{const at=function IC(o,a,c,d,h,g){const v=c[1];c[20]=o;const T=ul(v,20,2,"#host",null),x=T.mergedAttrs=a.hostAttrs;null!==x&&(Dm(T,x,!0),null!==o&&(Kt(h,o,x),null!==T.classes&&rm(h,o,T.classes),null!==T.styles&&im(h,o,T.styles)));const M=d.createRenderer(o,a),F=Rf(c,Yw(a),null,a.onPush?64:16,c[20],T,d,M,g||null,null);return v.firstCreatePass&&(yi(no(T,c),v,a.type),nC(v,T),pv(T,c.length,1)),mv(c,F),c[20]=F}(M,this.componentDef,Te,v,T);if(M)if(d)Kt(T,M,["ng-version",K0.full]);else{const{attrs:Oe,classes:yt}=function bA(o){const a=[],c=[];let d=1,h=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===h?""!==g&&a.push(g,o[++d]):8===h&&c.push(g);else{if(!jo(h))break;h=g}d++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);Oe&&Kt(T,M,Oe),yt&&yt.length>0&&rm(T,M,yt.join(" "))}if(Ze=In(X,20),void 0!==c){const Oe=Ze.projection=[];for(let yt=0;yt<this.ngContentSelectors.length;yt++){const $t=c[yt];Oe.push(null!=$t?Array.from($t):null)}}Ve=function Om(o,a,c,d,h){const g=c[1],v=function tC(o,a,c){const d=Cn();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Cm(o,d,a,lc(o,a,1,null),c));const h=Ts(a,o,d.directiveStart,d);bi(h,a);const g=gi(d,a);return g&&bi(g,a),h}(g,c,a);if(d.components.push(v),o[8]=v,h&&h.forEach(T=>T(v,a)),a.contentQueries){const T=Cn();a.contentQueries(1,v,T.directiveStart)}const C=Cn();return!g.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(ko(C.index),$I(c[1],C,0,C.directiveStart,C.directiveEnd,a),wm(a,v)),v}(at,this.componentDef,Te,H,[BA]),Iu(X,Te,null)}finally{rr()}return new QD(this.componentType,Ve,On(Ze,Te),Te,Ze)}}class QD extends class S_{}{constructor(a,c,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new Q0(h),this.componentType=a}get injector(){return new so(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class ka{}class nb{}const ju=new Map;class Cc extends ka{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Sh(this);const d=Xn(a);this._bootstrapComponents=y(d.bootstrap),this._r3Injector=lr(a,c,[{provide:ka,useValue:this},{provide:wc,useValue:this.componentFactoryResolver}],le(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,c=Go.THROW_IF_NOT_FOUND,d=bt.Default){return a===Go||a===ka||a===bv?this:this._r3Injector.get(a,c,d)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class P_ extends nb{constructor(a){super(),this.moduleType=a,null!==Xn(a)&&function OT(o){const a=new Set;!function c(d){const h=Xn(d,!0),g=h.id;null!==g&&(function k_(o,a,c){if(a&&a!==c)throw new Error(`Duplicate module registered for ${o} - ${le(a)} vs ${le(a.name)}`)}(g,ju.get(g),d),ju.set(g,d));const v=y(h.imports);for(const C of v)a.has(C)||(a.add(C),c(C))}(o)}(a)}create(a){return new Cc(this.moduleType,a)}}function sb(o,a,c){const d=Ni()+o,h=Me();return h[d]===Lt?Aa(h,d,c?a.call(c):a()):uh(h,d)}function ob(o,a,c,d){return RT(Me(),Ni(),o,a,c,d)}function ab(o,a,c,d,h){return function NT(o,a,c,d,h,g,v){const C=a+c;return hc(o,C,h,g)?Aa(o,C+2,v?d.call(v,h,g):d(h,g)):qu(o,C+2)}(Me(),Ni(),o,a,c,d,h)}function bp(o,a,c,d,h,g){return function cb(o,a,c,d,h,g,v,C){const T=a+c;return function Nm(o,a,c,d,h){const g=hc(o,a,c,d);return Sr(o,a+2,h)||g}(o,T,h,g,v)?Aa(o,T+3,C?d.call(C,h,g,v):d(h,g,v)):qu(o,T+3)}(Me(),Ni(),o,a,c,d,h,g)}function hs(o,a,c,d,h,g,v){return function FT(o,a,c,d,h,g,v,C,T){const x=a+c;return $o(o,x,h,g,v,C)?Aa(o,x+4,T?d.call(T,h,g,v,C):d(h,g,v,C)):qu(o,x+4)}(Me(),Ni(),o,a,c,d,h,g,v)}function lb(o,a,c,d,h,g,v,C,T){const x=Ni()+o,M=Me(),F=$o(M,x,c,d,h,g);return hc(M,x+4,v,C)||F?Aa(M,x+6,T?a.call(T,c,d,h,g,v,C):a(c,d,h,g,v,C)):uh(M,x+6)}function PT(o,a,c,d){return function wp(o,a,c,d,h,g){let v=a+c,C=!1;for(let T=0;T<h.length;T++)Sr(o,v++,h[T])&&(C=!0);return C?Aa(o,v,d.apply(g,h)):qu(o,v)}(Me(),Ni(),o,a,c,d)}function qu(o,a){const c=o[a];return c===Lt?void 0:c}function RT(o,a,c,d,h,g){const v=a+c;return Sr(o,v,h)?Aa(o,v+1,g?d.call(g,h):d(h)):qu(o,v+1)}function LT(o,a){const c=Bt();let d;const h=o+20;c.firstCreatePass?(d=function VT(o,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(o===d.name)return d}}(a,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(h,d.onDestroy)):d=c.data[h];const g=d.factory||(d.factory=ki(d.type)),v=Pn(Qf);try{const C=Pt(!1),T=g();return Pt(C),function Bm(o,a,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=d}(c,Me(),h,T),T}finally{Pn(v)}}function Qi(o,a,c){const d=o+20,h=Me(),g=ns(h,d);return function Le(o,a){return o[1].data[a].pure}(h,d)?RT(h,Ni(),a,g.transform,c,g):g.transform(c)}function Zu(o){return a=>{setTimeout(o,void 0,a)}}const ho=class Ci extends s.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){var h,g,v;let C=a,T=c||(()=>null),x=d;if(a&&"object"==typeof a){const F=a;C=null===(h=F.next)||void 0===h?void 0:h.bind(F),T=null===(g=F.error)||void 0===g?void 0:g.bind(F),x=null===(v=F.complete)||void 0===v?void 0:v.bind(F)}this.__isAsync&&(T=Zu(T),C&&(C=Zu(C)),x&&(x=Zu(x)));const M=super.subscribe({next:C,error:T,complete:x});return a instanceof Y.w0&&a.add(M),M}};function ct(){return this._results[pl()]()}class kt{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=pl(),d=kt.prototype;d[c]||(d[c]=ct)}get changes(){return this._changes||(this._changes=new ho)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const h=Fi(a);(this._changesDetected=!function lf(o,a,c){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],g=a[d];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Cp=(()=>{class o{}return o.__NG_ELEMENT_ID__=Re,o})();const Qe=Cp,de=class extends Qe{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(a){const c=this._declarationTContainer.tViews,d=Rf(this._declarationLView,c,a,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(c)),Iu(c,d,a),new vp(d)}};function Re(){return ui(Cn(),Me())}function ui(o,a){return 4&o.type?new de(a,o,On(o,a)):null}let Tp=(()=>{class o{}return o.__NG_ELEMENT_ID__=tS,o})();function tS(){return hb(Cn(),Me())}const nS=Tp,UT=class extends nS{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return On(this._hostTNode,this._hostLView)}get injector(){return new so(this._hostTNode,this._hostLView)}get parentInjector(){const a=_i(this._hostTNode,this._hostLView);if(ga(a)){const c=to(a,this._hostLView),d=eo(a);return new so(c[1].data[d+8],c)}return new so(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=BT(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,d){const h=a.createEmbeddedView(c||{});return this.insert(h,d),h}createComponent(a,c,d,h,g){const v=a&&!function Gl(o){return"function"==typeof o}(a);let C;if(v)C=c;else{const F=c||{};C=F.index,d=F.injector,h=F.projectableNodes,g=F.ngModuleRef}const T=v?a:new O_(Jn(a)),x=d||this.parentInjector;if(!g&&null==T.ngModule){const H=(v?x:this.parentInjector).get(ka,null);H&&(g=H)}const M=T.create(x,h,void 0,g);return this.insert(M.hostView,C),M}insert(a,c){const d=a._lView,h=d[1];if(function Ga(o){return Qr(o[3])}(d)){const M=this.indexOf(a);if(-1!==M)this.detach(M);else{const F=d[3],H=new UT(F,F[6],F[3]);H.detach(H.indexOf(a))}}const g=this._adjustIndex(c),v=this._lContainer;!function rc(o,a,c,d){const h=10+d,g=c.length;d>0&&(c[h-1][4]=a),d<g-10?(a[4]=c[h],Ja(c,10+d,a)):(c.push(a),a[4]=null),a[3]=c;const v=a[17];null!==v&&c!==v&&function Dw(o,a){const c=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===c?o[9]=[a]:c.push(a)}(v,a);const C=a[19];null!==C&&C.insertView(o),a[2]|=128}(h,d,v,g);const C=tm(g,v),T=d[11],x=Xg(T,v[7]);return null!==x&&function Mf(o,a,c,d,h,g){d[0]=h,d[6]=a,Of(o,d,c,1,h,g)}(h,v[6],T,d,x,C),a.attachToViewContainerRef(),Ja(db(v),g,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=BT(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=Qg(this._lContainer,c);d&&(Ca(db(this._lContainer),c),xw(d[1],d))}detach(a){const c=this._adjustIndex(a,-1),d=Qg(this._lContainer,c);return d&&null!=Ca(db(this._lContainer),c)?new vp(d):null}_adjustIndex(a,c=0){return null==a?this.length+c:a}};function BT(o){return o[8]}function db(o){return o[8]||(o[8]=[])}function hb(o,a){let c;const d=a[o.index];if(Qr(d))c=d;else{let h;if(8&o.type)h=rn(d);else{const g=a[11];h=g.createComment("");const v=gi(o,a);oc(g,Xg(g,v),h,function TI(o,a){return hn(o)?o.nextSibling(a):a.nextSibling}(g,v),!1)}a[o.index]=c=rC(d,a,h,o),mv(a,c)}return new UT(c,o,a)}class fb{constructor(a){this.queryList=a,this.matches=null}clone(){return new fb(this.queryList)}setDirty(){this.queryList.setDirty()}}class R_{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new R_(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==Wn(a,c).matches&&this.queries[c].setDirty()}}class Vt{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class Ec{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(a,h);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new Ec(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class N_{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new N_(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(a,c,di(c,g)),this.matchTNodeWithReadOption(a,c,Ka(c,a,g,!1,!1))}else d===Cp?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Ka(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Dh||h===Tp||h===Cp&&4&c.type)this.addMatch(c.index,-2);else{const g=Ka(c,a,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function di(o,a){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function HT(o,a,c,d){return-1===c?function At(o,a){return 11&o.type?On(o,a):4&o.type?ui(o,a):null}(a,o):-2===c?function Gu(o,a,c){return c===Dh?On(a,o):c===Cp?ui(a,o):c===Tp?hb(a,o):void 0}(o,a,d):Ts(o,o[1],c,a)}function pb(o,a,c,d){const h=a[19].queries[d];if(null===h.matches){const g=o.data,v=c.matches,C=[];for(let T=0;T<v.length;T+=2){const x=v[T];C.push(x<0?null:HT(a,g[x],v[T+1],c.metadata.read))}h.matches=C}return h.matches}function $u(o,a,c,d){const h=o.queries.getByIndex(c),g=h.matches;if(null!==g){const v=pb(o,a,h,c);for(let C=0;C<g.length;C+=2){const T=g[C];if(T>0)d.push(v[C/2]);else{const x=g[C+1],M=a[-T];for(let F=10;F<M.length;F++){const H=M[F];H[17]===H[3]&&$u(H[1],H,x,d)}if(null!==M[9]){const F=M[9];for(let H=0;H<F.length;H++){const X=F[H];$u(X[1],X,x,d)}}}}}return d}function Qt(o){const a=Me(),c=Bt(),d=Vl();Ed(d+1);const h=Wn(c,d);if(o.dirty&&xo(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const g=h.crossesNgTemplate?$u(c,a,d,[]):pb(c,a,h,d);o.reset(g,YD),o.notifyOnChanges()}return!0}return!1}function jT(o,a,c){const d=Bt();d.firstCreatePass&&(qT(d,new Vt(o,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),Ei(d,Me(),a)}function Ti(o,a,c,d){const h=Bt();if(h.firstCreatePass){const g=Cn();qT(h,new Vt(a,c,d),g.index),function Ic(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}Ei(h,Me(),c)}function zu(){return function rS(o,a){return o[19].queries[a].queryList}(Me(),Vl())}function Ei(o,a,c){const d=new kt(4==(4&c));Jw(o,a,d,d.destroy),null===a[19]&&(a[19]=new R_),a[19].queries.push(new fb(d))}function qT(o,a,c){null===o.queries&&(o.queries=new Ec),o.queries.track(new N_(a,c))}function Wn(o,a){return o.queries.getByIndex(a)}function Dc(o,a){return ui(o,a)}function Ju(...o){}const Cb=new An("Application Initializer");let Hi=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Ju,this.reject=Ju,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(gl(g))c.push(g);else if(Yv(g)){const v=new Promise((C,T)=>{g.subscribe({complete:C,error:T})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(lt(Cb,8))},o.\u0275prov=tn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const WT=new An("AppId",{providedIn:"root",factory:function YT(){return`${j_()}${j_()}${j_()}`}});function j_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const KT=new An("Platform Initializer"),uS=new An("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),QT=new An("appBootstrapListener");let Mc=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=tn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Tb=new An("LocaleId",{providedIn:"root",factory:()=>Gt(Tb,bt.Optional|bt.SkipSelf)||function Ph(){return"undefined"!=typeof $localize&&$localize.locale||_h}()}),JT=new An("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Rh{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let fS=(()=>{class o{compileModuleSync(c){return new P_(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=y(Xn(c).declarations).reduce((v,C)=>{const T=Jn(C);return T&&v.push(new O_(T)),v},[]);return new Rh(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=tn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Ib=(()=>Promise.resolve(0))();function kc(o){"undefined"==typeof Zone?Ib.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class _o{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ho(!1),this.onMicrotaskEmpty=new ho(!1),this.onStable=new ho(!1),this.onError=new ho(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function mo(){let o=jt.requestAnimationFrame,a=jt.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Sb(o){const a=()=>{!function Db(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(jt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Z_(o),o.isCheckStableRunning=!0,q_(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Z_(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,g,v,C)=>{try{return xb(o),c.invokeTask(h,g,v,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),eE(o)}},onInvoke:(c,d,h,g,v,C,T)=>{try{return xb(o),c.invoke(h,g,v,C,T)}finally{o.shouldCoalesceRunChangeDetection&&a(),eE(o)}},onHasTask:(c,d,h,g)=>{c.hasTask(h,g),d===h&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,Z_(o),q_(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,h,g)=>(c.handleError(h,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_o.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_o.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,a,kp,Ju,Ju);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const kp={};function q_(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Z_(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function xb(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function eE(o){o._nesting--,q_(o)}class tE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ho,this.onMicrotaskEmpty=new ho,this.onStable=new ho,this.onError=new ho}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,h){return a.apply(c,d)}}let Ab=(()=>{class o{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_o.assertNotInAngularZone(),kc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())kc(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,h){return[]}}return o.\u0275fac=function(c){return new(c||o)(lt(_o))},o.\u0275prov=tn({token:o,factory:o.\u0275fac}),o})(),nE=(()=>{class o{constructor(){this._applications=new Map,Mb.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Mb.findTestabilityInTree(this,c,d)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=tn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();class G_{addToWindow(a){}findTestabilityInTree(a,c,d){return null}}function pS(o){Mb=o}let Mb=new G_,Pc=null;const Xu=new An("AllowMultipleToken"),Rc=new An("PlatformOnDestroy");class Fh{constructor(a,c){this.name=a,this.token=c}}function Ob(o,a,c=[]){const d=`Platform: ${a}`,h=new An(d);return(g=[])=>{let v=ii();if(!v||v.injector.get(Xu,!1)){const C=[...c,...g,{provide:h,useValue:!0}];o?o(C):function sE(o){if(Pc&&!Pc.get(Xu,!1))throw new Ne(400,"");Pc=o;const a=o.get(Rp),c=o.get(KT,null);c&&c.forEach(d=>d())}(function gS(o=[],a){return Go.create({name:a,providers:[{provide:wv,useValue:"platform"},{provide:Rc,useValue:()=>Pc=null},...o]})}(C,d))}return function Pp(o){const a=ii();if(!a)throw new Ne(401,"");return a}()}}function ii(){var o;return null!==(o=null==Pc?void 0:Pc.get(Rp))&&void 0!==o?o:null}let Rp=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const C=function $_(o,a){let c;return c="noop"===o?new tE:("zone.js"===o?void 0:o)||new _o({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),T=[{provide:_o,useValue:C}];return C.run(()=>{const x=Go.create({providers:T,parent:this.injector,name:c.moduleType.name}),M=c.create(x),F=M.injector.get(sh,null);if(!F)throw new Ne(402,"");return C.runOutsideAngular(()=>{const H=C.onError.subscribe({next:X=>{F.handleError(X)}});M.onDestroy(()=>{W_(this._modules,M),H.unsubscribe()})}),function mS(o,a,c){try{const d=c();return gl(d)?d.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(F,C,()=>{const H=M.injector.get(Hi);return H.runInitializers(),H.donePromise.then(()=>(function kD(o){Ht(o,"Expected localeId to be defined"),"string"==typeof o&&(O0=o.toLowerCase().replace(/_/g,"-"))}(M.injector.get(Tb,_h)||_h),this._moduleDoBootstrap(M),M))})})}bootstrapModule(c,d=[]){const h=z_({},d);return function iE(o,a,c){const d=new P_(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const d=c.injector.get(kb);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Ne(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Rc,null);null==c||c(),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(lt(Go))},o.\u0275prov=tn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function z_(o,a){return Array.isArray(a)?a.reduce(z_,o):Object.assign(Object.assign({},o),a)}let kb=(()=>{class o{constructor(c,d,h,g){this._zone=c,this._injector=d,this._exceptionHandler=h,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new R.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),C=new R.y(T=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{_o.assertNotInAngularZone(),kc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{_o.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{x.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ae.T)(v,C.pipe((0,se.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Ne(405,"");let h;h=c instanceof Ih?c:this._injector.get(wc).resolveComponentFactory(c),this.componentTypes.push(h.componentType);const g=function rE(o){return o.isBoundToModule}(h)?void 0:this._injector.get(ka),C=h.create(Go.NULL,[],d||h.selector,g),T=C.location.nativeElement,x=C.injector.get(Ab,null),M=x&&C.injector.get(nE);return x&&M&&M.registerApplication(T,x),C.onDestroy(()=>{this.detachView(C.hostView),W_(this.components,C),M&&M.unregisterApplication(T)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Ne(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;W_(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(QT,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(c){return new(c||o)(lt(_o),lt(Go),lt(sh),lt(Hi))},o.\u0275prov=tn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function W_(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}let Nc=!0,Rb=!1;function oE(){return Rb=!0,Nc}function aE(){if(Rb)throw new Error("Cannot enable prod mode after platform setup.");Nc=!1}let Ii=(()=>{class o{}return o.__NG_ELEMENT_ID__=Xt,o})();function Xt(o){return function uE(o,a,c){if(hd(o)&&!c){const d=mi(o.index,a);return new vp(d,d)}return 47&o.type?new vp(a[16],a):null}(Cn(),Me(),16==(16&o))}class dE{constructor(){}supports(a){return jf(a)}create(a){return new Vp(a)}}const CS=(o,a)=>a;class Vp{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||CS}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,h=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<X_(d,h,g)?c:d,C=X_(v,h,g),T=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{g||(g=[]);const x=C-h,M=T-h;if(x!=M){for(let H=0;H<x;H++){const X=H<g.length?g[H]:g[H]=0,Te=X+H;M<=Te&&Te<x&&(g[H]=X+1)}g[v.previousIndex]=M-x}}C!==T&&a(v,C,T)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!jf(a))throw new Ne(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,g,v,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)g=a[C],v=this._trackByFn(C,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,C)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,C),d=!0),c=c._next}else h=0,function Rm(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[pl()]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,C=>{v=this._trackByFn(h,C),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,C,v,h)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,v,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,h){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,g,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,g,h)):a=this._addAfter(new hE(c,d),g,h),a}_verifyReinsertion(a,c,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,g=a._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new ji),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ji),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class hE{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TS{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class ji{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new TS,this.map.set(c,d)),d.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function X_(o,a,c){const d=o.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+a+h}class Fb{constructor(){}supports(a){return a instanceof Map||kv(a)}create(){return new Up}}class Up{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||kv(a)))throw new Ne(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new Pa(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class Pa{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ey(){return new ty([new dE])}let ty=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||ey()),deps:[[o,new co,new Vi]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new Ne(901,"")}}return o.\u0275prov=tn({token:o,providedIn:"root",factory:ey}),o})();function Lb(){return new iy([new Fb])}let iy=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||Lb()),deps:[[o,new co,new Vi]]}}find(c){const d=this.factories.find(g=>g.supports(c));if(d)return d;throw new Ne(901,"")}}return o.\u0275prov=tn({token:o,providedIn:"root",factory:Lb}),o})();const Vb=Ob(null,"core",[]);let IS=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(lt(kb))},o.\u0275mod=Gi({type:o}),o.\u0275inj=Yt({}),o})()},3942:(Je,be,P)=>{P.d(be,{Z:()=>Ne});var s=P(2090),Y=P(4859),R=P(9681),ae=P(1877);class se{constructor(me,Se){this._delegate=me,this.firebase=Se,(0,R._addComponent)(me,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(me,Se=R._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const Xe=this._delegate.container.getProvider(me);return!Xe.isInitialized()&&"EXPLICIT"===(null===(We=Xe.getComponent())||void 0===We?void 0:We.instantiationMode)&&Xe.initialize(),Xe.getImmediate({identifier:Se})}_removeServiceInstance(me,Se=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(Se)}_addComponent(me){(0,R._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,R._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function fe(){const Be=function le(Be){const me={},Se={__esModule:!0,initializeApp:function Ae(He,q={}){const Ee=R.initializeApp(He,q);if((0,s.r3)(me,Ee.name))return me[Ee.name];const Q=new Be(Ee,Se);return me[Ee.name]=Q,Q},app:Xe,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function De(He){const q=He.name,Ee=q.replace("-compat","");if(R._registerComponent(He)&&"PUBLIC"===He.type){const Q=(oe=Xe())=>{if("function"!=typeof oe[Ee])throw ue.create("invalid-app-argument",{appName:q});return oe[Ee]()};void 0!==He.serviceProps&&(0,s.ZB)(Q,He.serviceProps),Se[Ee]=Q,Be.prototype[Ee]=function(...oe){return this._getService.bind(this,q).apply(this,He.multipleInstances?oe:[])}}return"PUBLIC"===He.type?Se[Ee]:null},removeApp:function We(He){delete me[He]},useAsService:function qe(He,q){return"serverAuth"===q?null:q},modularAPIs:R}};function Xe(He){if(!(0,s.r3)(me,He=He||R._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:He});return me[He]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function Ie(){return Object.keys(me).map(He=>me[He])}}),Xe.App=Be,Se}(se);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function me(Se){(0,s.ZB)(Be,Se)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Be}(),j=new ae.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=Z;!function ke(Be){(0,R.registerVersion)("@firebase/app-compat","0.1.26",Be)}()},9681:(Je,be,P)=>{P.r(be),P.d(be,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Wr,_DEFAULT_ENTRY_NAME:()=>Ht,_addComponent:()=>un,_addOrOverwriteComponent:()=>tn,_apps:()=>on,_clearComponents:()=>ms,_components:()=>kn,_getProvider:()=>Yt,_registerComponent:()=>qi,_removeServiceInstance:()=>Ut,deleteApp:()=>bt,getApp:()=>gr,getApps:()=>Nr,initializeApp:()=>qs,onLog:()=>Pn,registerVersion:()=>Sn,setLogLevel:()=>wo});var s=P(5861),Y=P(4859),R=P(1877),ae=P(2090),se=P(8766);class ye{constructor(ee){this.container=ee}getPlatformInfoString(){return this.container.getProviders().map(Pe=>{if(function ue(G){const ee=G.getComponent();return"VERSION"===(null==ee?void 0:ee.type)}(Pe)){const tt=Pe.getImmediate();return`${tt.library}/${tt.version}`}return null}).filter(Pe=>Pe).join(" ")}}const le="@firebase/app",Z=new R.Yd("@firebase/app"),Ht="[DEFAULT]",Ke={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},on=new Map,kn=new Map;function un(G,ee){try{G.container.addComponent(ee)}catch(Pe){Z.debug(`Component ${ee.name} failed to register with FirebaseApp ${G.name}`,Pe)}}function tn(G,ee){G.container.addOrOverwriteComponent(ee)}function qi(G){const ee=G.name;if(kn.has(ee))return Z.debug(`There were multiple attempts to register component ${ee}.`),!1;kn.set(ee,G);for(const Pe of on.values())un(Pe,G);return!0}function Yt(G,ee){const Pe=G.container.getProvider("heartbeat").getImmediate({optional:!0});return Pe&&Pe.triggerHeartbeat(),G.container.getProvider(ee)}function Ut(G,ee,Pe=Ht){Yt(G,ee).clearInstance(Pe)}function ms(){kn.clear()}const Si=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Zi{constructor(ee,Pe,tt){this._isDeleted=!1,this._options=Object.assign({},ee),this._config=Object.assign({},Pe),this._name=Pe.name,this._automaticDataCollectionEnabled=Pe.automaticDataCollectionEnabled,this._container=tt,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ee){this._isDeleted=ee}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}const Wr="9.8.2";function qs(G,ee={}){"object"!=typeof ee&&(ee={name:ee});const Pe=Object.assign({name:Ht,automaticDataCollectionEnabled:!1},ee),tt=Pe.name;if("string"!=typeof tt||!tt)throw Si.create("bad-app-name",{appName:String(tt)});const _t=on.get(tt);if(_t){if((0,ae.vZ)(G,_t.options)&&(0,ae.vZ)(Pe,_t.config))return _t;throw Si.create("duplicate-app",{appName:tt})}const St=new Y.H0(tt);for(const It of kn.values())St.addComponent(It);const yn=new Zi(G,Pe,St);return on.set(tt,yn),yn}function gr(G=Ht){const ee=on.get(G);if(!ee)throw Si.create("no-app",{appName:G});return ee}function Nr(){return Array.from(on.values())}function bt(G){return mr.apply(this,arguments)}function mr(){return(mr=(0,s.Z)(function*(G){const ee=G.name;on.has(ee)&&(on.delete(ee),yield Promise.all(G.container.getProviders().map(Pe=>Pe.delete())),G.isDeleted=!0)})).apply(this,arguments)}function Sn(G,ee,Pe){var tt;let _t=null!==(tt=Ke[G])&&void 0!==tt?tt:G;Pe&&(_t+=`-${Pe}`);const St=_t.match(/\s|\//),yn=ee.match(/\s|\//);if(St||yn){const It=[`Unable to register library "${_t}" with version "${ee}":`];return St&&It.push(`library name "${_t}" contains illegal characters (whitespace or "/")`),St&&yn&&It.push("and"),yn&&It.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),void Z.warn(It.join(" "))}qi(new Y.wA(`${_t}-version`,()=>({library:_t,version:ee}),"VERSION"))}function Pn(G,ee){if(null!==G&&"function"!=typeof G)throw Si.create("invalid-log-argument");(0,R.Am)(G,ee)}function wo(G){(0,R.Ub)(G)}const Bn="firebase-heartbeat-store";let Fr=null;function ia(){return Fr||(Fr=(0,se.X3)("firebase-heartbeat-database",1,{upgrade:(G,ee)=>{0===ee&&G.createObjectStore(Bn)}}).catch(G=>{throw Si.create("storage-open",{originalErrorMessage:G.message})})),Fr}function ut(){return(ut=(0,s.Z)(function*(G){try{return(yield ia()).transaction(Bn).objectStore(Bn).get(yr(G))}catch(ee){throw Si.create("storage-get",{originalErrorMessage:ee.message})}})).apply(this,arguments)}function Tt(G,ee){return xi.apply(this,arguments)}function xi(){return(xi=(0,s.Z)(function*(G,ee){try{const tt=(yield ia()).transaction(Bn,"readwrite");return yield tt.objectStore(Bn).put(ee,yr(G)),tt.done}catch(Pe){throw Si.create("storage-set",{originalErrorMessage:Pe.message})}})).apply(this,arguments)}function yr(G){return`${G.name}!${G.options.appId}`}class Ai{constructor(ee){this.container=ee,this._heartbeatsCache=null;const Pe=this.container.getProvider("app").getImmediate();this._storage=new z(Pe),this._heartbeatsCachePromise=this._storage.read().then(tt=>(this._heartbeatsCache=tt,tt))}triggerHeartbeat(){var ee=this;return(0,s.Z)(function*(){const tt=ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_t=Mi();if(null===ee._heartbeatsCache&&(ee._heartbeatsCache=yield ee._heartbeatsCachePromise),ee._heartbeatsCache.lastSentHeartbeatDate!==_t&&!ee._heartbeatsCache.heartbeats.some(St=>St.date===_t))return ee._heartbeatsCache.heartbeats.push({date:_t,agent:tt}),ee._heartbeatsCache.heartbeats=ee._heartbeatsCache.heartbeats.filter(St=>{const yn=new Date(St.date).valueOf();return Date.now()-yn<=2592e6}),ee._storage.overwrite(ee._heartbeatsCache)})()}getHeartbeatsHeader(){var ee=this;return(0,s.Z)(function*(){if(null===ee._heartbeatsCache&&(yield ee._heartbeatsCachePromise),null===ee._heartbeatsCache||0===ee._heartbeatsCache.heartbeats.length)return"";const Pe=Mi(),{heartbeatsToSend:tt,unsentEntries:_t}=function U(G,ee=1024){const Pe=[];let tt=G.slice();for(const _t of G){const St=Pe.find(yn=>yn.agent===_t.agent);if(St){if(St.dates.push(_t.date),W(Pe)>ee){St.dates.pop();break}}else if(Pe.push({agent:_t.agent,dates:[_t.date]}),W(Pe)>ee){Pe.pop();break}tt=tt.slice(1)}return{heartbeatsToSend:Pe,unsentEntries:tt}}(ee._heartbeatsCache.heartbeats),St=(0,ae.L)(JSON.stringify({version:2,heartbeats:tt}));return ee._heartbeatsCache.lastSentHeartbeatDate=Pe,_t.length>0?(ee._heartbeatsCache.heartbeats=_t,yield ee._storage.overwrite(ee._heartbeatsCache)):(ee._heartbeatsCache.heartbeats=[],ee._storage.overwrite(ee._heartbeatsCache)),St})()}}function Mi(){return(new Date).toISOString().substring(0,10)}class z{constructor(ee){this.app=ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ee=this;return(0,s.Z)(function*(){return(yield ee._canUseIndexedDBPromise)&&(yield function Wt(G){return ut.apply(this,arguments)}(ee.app))||{heartbeats:[]}})()}overwrite(ee){var Pe=this;return(0,s.Z)(function*(){var tt;if(yield Pe._canUseIndexedDBPromise){const St=yield Pe.read();return Tt(Pe.app,{lastSentHeartbeatDate:null!==(tt=ee.lastSentHeartbeatDate)&&void 0!==tt?tt:St.lastSentHeartbeatDate,heartbeats:ee.heartbeats})}})()}add(ee){var Pe=this;return(0,s.Z)(function*(){var tt;if(yield Pe._canUseIndexedDBPromise){const St=yield Pe.read();return Tt(Pe.app,{lastSentHeartbeatDate:null!==(tt=ee.lastSentHeartbeatDate)&&void 0!==tt?tt:St.lastSentHeartbeatDate,heartbeats:[...St.heartbeats,...ee.heartbeats]})}})()}}function W(G){return(0,ae.L)(JSON.stringify({version:2,heartbeats:G})).length}!function xe(G){qi(new Y.wA("platform-logger",ee=>new ye(ee),"PRIVATE")),qi(new Y.wA("heartbeat",ee=>new Ai(ee),"PRIVATE")),Sn(le,"0.7.25",G),Sn(le,"0.7.25","esm2017"),Sn("fire-js","")}("")},4859:(Je,be,P)=>{P.d(be,{H0:()=>le,wA:()=>R});var s=P(5861),Y=P(2090);class R{constructor(Z,j,ne){this.name=Z,this.instanceFactory=j,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const ae="[DEFAULT]";class se{constructor(Z,j){this.name=Z,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const j=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(j)){const ne=new Y.BH;if(this.instancesDeferred.set(j,ne),this.isInitialized(j)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:j});ze&&ne.resolve(ze)}catch(ze){}}return this.instancesDeferred.get(j).promise}getImmediate(Z){var j;const ne=this.normalizeInstanceIdentifier(null==Z?void 0:Z.identifier),ze=null!==(j=null==Z?void 0:Z.optional)&&void 0!==j&&j;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(ke){if(ze)return null;throw ke}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function ue(fe){return"EAGER"===fe.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(j){}for(const[j,ne]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(j);try{const ke=this.getOrInitializeService({instanceIdentifier:ze});ne.resolve(ke)}catch(ke){}}}}clearInstance(Z=ae){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,s.Z)(function*(){const j=Array.from(Z.instances.values());yield Promise.all([...j.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...j.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=ae){return this.instances.has(Z)}getOptions(Z=ae){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:j={}}=Z,ne=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:ne,options:j});for(const[ke,Ne]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(ke)&&Ne.resolve(ze);return ze}onInit(Z,j){var ne;const ze=this.normalizeInstanceIdentifier(j),ke=null!==(ne=this.onInitCallbacks.get(ze))&&void 0!==ne?ne:new Set;ke.add(Z),this.onInitCallbacks.set(ze,ke);const Ne=this.instances.get(ze);return Ne&&Z(Ne,ze),()=>{ke.delete(Z)}}invokeOnInitCallbacks(Z,j){const ne=this.onInitCallbacks.get(j);if(ne)for(const ze of ne)try{ze(Z,j)}catch(ke){}}getOrInitializeService({instanceIdentifier:Z,options:j={}}){let ne=this.instances.get(Z);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=Z,fe===ae?void 0:fe),options:j}),this.instances.set(Z,ne),this.instancesOptions.set(Z,j),this.invokeOnInitCallbacks(ne,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,ne)}catch(ze){}var fe;return ne||null}normalizeInstanceIdentifier(Z=ae){return this.component?this.component.multipleInstances?Z:ae:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const j=this.getProvider(Z.name);if(j.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);j.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const j=new se(Z,this);return this.providers.set(Z,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(Je,be,P)=>{P.d(be,{Am:()=>fe,Ub:()=>le,Yd:()=>ue,in:()=>Y});const s=[];var Y=(()=>{return(Z=Y||(Y={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",Y;var Z})();const R={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},ae=Y.INFO,se={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},ye=(Z,j,...ne)=>{if(j<Z.logLevel)return;const ze=(new Date).toISOString(),ke=se[j];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[ke](`[${ze}]  ${Z.name}:`,...ne)};class ue{constructor(j){this.name=j,this._logLevel=ae,this._logHandler=ye,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in Y))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?R[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...j),this._logHandler(this,Y.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...j),this._logHandler(this,Y.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...j),this._logHandler(this,Y.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...j),this._logHandler(this,Y.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...j),this._logHandler(this,Y.ERROR,...j)}}function le(Z){s.forEach(j=>{j.setLogLevel(Z)})}function fe(Z,j){for(const ne of s){let ze=null;j&&j.level&&(ze=R[j.level]),ne.userLogHandler=null===Z?null:(ke,Ne,...Be)=>{const me=Be.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch(We){return null}}).filter(Se=>Se).join(" ");Ne>=(null!=ze?ze:ke.logLevel)&&Z({level:Y[Ne].toLowerCase(),message:me,args:Be,type:ke.name})}}}},8766:(Je,be,P)=>{P.d(be,{Lj:()=>Ae,X3:()=>Xe});var s=P(5861);let R,ae;const ue=new WeakMap,le=new WeakMap,fe=new WeakMap,Z=new WeakMap,j=new WeakMap;let ke={get(q,Ee,Q){if(q instanceof IDBTransaction){if("done"===Ee)return le.get(q);if("objectStoreNames"===Ee)return q.objectStoreNames||fe.get(q);if("store"===Ee)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return Se(q[Ee])},set:(q,Ee,Q)=>(q[Ee]=Q,!0),has:(q,Ee)=>q instanceof IDBTransaction&&("done"===Ee||"store"===Ee)||Ee in q};function me(q){return"function"==typeof q?function Be(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...Ee){return q.apply(We(this),Ee),Se(ue.get(this))}:function(...Ee){return Se(q.apply(We(this),Ee))}:function(Ee,...Q){const oe=q.call(We(this),Ee,...Q);return fe.set(oe,Ee.sort?Ee.sort():[Ee]),Se(oe)}}(q):(q instanceof IDBTransaction&&function ze(q){if(le.has(q))return;const Ee=new Promise((Q,oe)=>{const te=()=>{q.removeEventListener("complete",ve),q.removeEventListener("error",ce),q.removeEventListener("abort",ce)},ve=()=>{Q(),te()},ce=()=>{oe(q.error||new DOMException("AbortError","AbortError")),te()};q.addEventListener("complete",ve),q.addEventListener("error",ce),q.addEventListener("abort",ce)});le.set(q,Ee)}(q),((q,Ee)=>Ee.some(Q=>q instanceof Q))(q,function se(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,ke):q)}function Se(q){if(q instanceof IDBRequest)return function ne(q){const Ee=new Promise((Q,oe)=>{const te=()=>{q.removeEventListener("success",ve),q.removeEventListener("error",ce)},ve=()=>{Q(Se(q.result)),te()},ce=()=>{oe(q.error),te()};q.addEventListener("success",ve),q.addEventListener("error",ce)});return Ee.then(Q=>{Q instanceof IDBCursor&&ue.set(Q,q)}).catch(()=>{}),j.set(Ee,q),Ee}(q);if(Z.has(q))return Z.get(q);const Ee=me(q);return Ee!==q&&(Z.set(q,Ee),j.set(Ee,q)),Ee}const We=q=>j.get(q);function Xe(q,Ee,{blocked:Q,upgrade:oe,blocking:te,terminated:ve}={}){const ce=indexedDB.open(q,Ee),Fe=Se(ce);return oe&&ce.addEventListener("upgradeneeded",ft=>{oe(Se(ce.result),ft.oldVersion,ft.newVersion,Se(ce.transaction))}),Q&&ce.addEventListener("blocked",()=>Q()),Fe.then(ft=>{ve&&ft.addEventListener("close",()=>ve()),te&&ft.addEventListener("versionchange",()=>te())}).catch(()=>{}),Fe}function Ae(q,{blocked:Ee}={}){const Q=indexedDB.deleteDatabase(q);return Ee&&Q.addEventListener("blocked",()=>Ee()),Se(Q).then(()=>{})}const Ie=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],qe=new Map;function He(q,Ee){if(!(q instanceof IDBDatabase)||Ee in q||"string"!=typeof Ee)return;if(qe.get(Ee))return qe.get(Ee);const Q=Ee.replace(/FromIndex$/,""),oe=Ee!==Q,te=De.includes(Q);if(!(Q in(oe?IDBIndex:IDBObjectStore).prototype)||!te&&!Ie.includes(Q))return;const ve=function(){var ce=(0,s.Z)(function*(Fe,...ft){const zt=this.transaction(Fe,te?"readwrite":"readonly");let Ht=zt.store;return oe&&(Ht=Ht.index(ft.shift())),(yield Promise.all([Ht[Q](...ft),te&&zt.done]))[0]});return function(ft){return ce.apply(this,arguments)}}();return qe.set(Ee,ve),ve}!function Ne(q){ke=q(ke)}(q=>UR(VR({},q),{get:(Ee,Q,oe)=>He(Ee,Q)||q.get(Ee,Q,oe),has:(Ee,Q)=>!!He(Ee,Q)||q.has(Ee,Q)}))},5861:(Je,be,P)=>{function s(R,ae,se,ye,ue,le,fe){try{var Z=R[le](fe),j=Z.value}catch(ne){return void se(ne)}Z.done?ae(j):Promise.resolve(j).then(ye,ue)}function Y(R){return function(){var ae=this,se=arguments;return new Promise(function(ye,ue){var le=R.apply(ae,se);function fe(j){s(le,ye,ue,fe,Z,"next",j)}function Z(j){s(le,ye,ue,fe,Z,"throw",j)}fe(void 0)})}}P.d(be,{Z:()=>Y})}},Je=>{Je(Je.s=8808)}]);