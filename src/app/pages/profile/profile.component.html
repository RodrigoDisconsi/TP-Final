<p-toast position="bottom-center"></p-toast>
<div *ngIf="$user | async as user" class="container-fluid">
    <div class="row justify-content-center">
        <div class="col-6 align-items-center">
            <div id="header" class="primary-colors col-12">
                <div class="profile-pic" [ngStyle]="{ 'background-image': 'url(' + user.pathImg + ')'}">
                </div>
                <div class="profile-summary ml-4">
                  <h1>{{ user.nombre }} {{user.apellido}}</h1>
                </div>
          </div>
        
          <div id="contacts" class="secondary-colors">
            <a>
                <i class="fas fa-envelope"></i>{{user.email}}
              </a>
            <a>
                <i class="fas fa-mobile-alt"></i>+91-98XXXXXXXX
              </a>
            <a>
                <i class="fas fa-map-marker-alt"></i>Hauz Khas, New Delhi
              </a>
          </div>
        </div>
    </div>

  <!-- <div id="main">
    <div class="long-details">
      <h3 class="primary-colors section-head">
        <i class="fas fa-graduation-cap"></i> Education
      </h3>
      <table class="timeline">
        <tr>
          <td class="time">2012 - 13</td>
          <td class="event">
            10th, CBSE, <br /> 9.4 CGPA
          </td>
        </tr>
        <tr>
          <td class="time">2014 - 15</td>
          <td class="event">
            12th, CBSE, <br /> 88%
          </td>
        </tr>
        <tr>
          <td class="time">Expected to graduate in 2019</td>
          <td class="event">
            B.Tech in Electronics & Communication, <br /> Delhi Technological University
          </td>
        </tr>
      </table>

      <h3 class="primary-colors section-head">
        <i class="fas fa-business-time"></i> Experience
      </h3>
      <table class="timeline">
        <tr>
          <td class="time">2015 - 17</td>
          <td class="event">
            Software Developer, Kaituna Systems, Massachusetts,
            <ul class="circle-bullet">
              <li>
                Responsible for daily development in a mid-sized customer service firm,
              </li>
              <li>
                Led trace team for implementing the use of Extended Events on SQL Server
              </li>
            </ul>
          </td>
        </tr>
        <tr>
          <td class="time">2012 - 15</td>
          <td class="event">
            Freelance Software Developer,
            <ul class="circle-bullet">
              <li>
                Created a working T-shirt sales website with PHP, JavaScript, HTML, CSS, and MailChimp. Built and maintained a working customer database
              </li>
              <li>
                Updated mobile site for WannaBeRichRich.com to meet new Google mobile first quality standards
              </li>
            </ul>
          </td>
        </tr>
      </table>

      <h3 class="primary-colors section-head">
        <i class="fas fa-drafting-compass"></i> Projects
      </h3>
      <table class="timeline">
        <tr>
          <td class="time">Jan - Mar, 2017</td>
          <td class="event">
            River Gauge,
            <ul class="circle-bullet">
              <li>
                Built a working river gauge from a culvert-mounted laser and Raspberry Pi,
              </li>
              <li>
                Wrote software for the page in Python
              </li>
            </ul>
          </td>
        </tr>
        <tr>
          <td class="time">Apr - July, 2015</td>
          <td class="event">
            Freelance Software Developer,
            <ul class="circle-bullet">
              <li>
                Designed multiplayer labyrinth and puzzle game with C#,
              </li>
              <li>
                Outsourced portion of the game via Github
              </li>
            </ul>
          </td>
        </tr>
      </table>
    </div>
    <div class="short-details">
      <h3 class="primary-colors skills section-head">
        <i class="fas fa-star"></i> Skills
      </h3>
      <ul>
        <li>
          Vector Drawing
          <div class="progress">
            <div class="current primary-colors"></div>
            <div class="full secondary-colors"></div>
          </div>
        </li>
        <li>
          JQuery
          <div class="progress">
            <div class="current primary-colors" style="width:90%"></div>
            <div class="full secondary-colors"></div>
          </div>
        </li>
        <li>
          Web Designing
          <div class="progress">
            <div class="current primary-colors"></div>
            <div class="full secondary-colors"></div>
          </div>
        </li>
        <li>
          Java
          <div class="progress">
            <div class="current primary-colors" style="width:80%"></div>
            <div class="full secondary-colors"></div>
          </div>
        </li>
      </ul>

      <h3 class="primary-colors section-head">
        <i class="fas fa-award"></i> Awards
      </h3>
      <ul class="circle-bullet type2">
        <li>
          Weebly award for best Navigation and Structure
        </li>
        <li>
          Gold medalist during last year of graduation for standing 1st in university
        </li>
      </ul>

      <h3 class="section-head bordered">
        <i class="fas fa-globe"></i> English, Hindi & German
      </h3>
    </div>
  </div> -->

  <section class="my-app__body">
      <div class="row" *ngIf="user.rol == 'especialista'">
        <!-- <div class="col-4">
          <h3 class="primary-colors section-head">
            <i class="fas fa-business-time"></i> Experience
          </h3>
          <div class="my-card card">
            <div class="my-card__header card-header">
              <div class="my-card__header-title">
              </div>
              <a class="my-card__header-link" href="#">Details →</a>
            </div>
            <div class="my-card__body card-body">
              <div class="my-text-overline">Available Currencies</div>
              <dl class="my-list my-list--definitions my-dl">
                <dt>US Dollars</dt>
                <dd>32,220.00 USD</dd>
                <dt>British Pounds</dt>
                <dd>8,560.00 GBP</dd>
                <dt>Czech Koruna</dt>
                <dd>98,444.00 CZK</dd>
              </dl>
              <hr class="my-divider">
              <ul class="my-list my-list--simple list-inline mb-0">
                <li><a href="#">Add Money →</a></li>
                <li><a href="#">Top Up →</a></li>
                <li><a href="#">Add funds using PayBuddy →</a></li>
                <li><a href="#">Withdraw funds →</a></li>
              </ul>
            </div>
          </div>
        </div> -->

        <div class="col-8 offset-2">
          <!-- Begin Pending card -->
          <div class="offset-3 col-6">
              <h3 class="primary-colors section-head" style="cursor:default;">
                <i class="fas fa-business-time"></i> Días y Horarios
              </h3>
          </div>
          <div class="my-card card">
            <div class="my-card__header card-header">
              <h3 class="my-card__header-title card-title">Tus Horarios</h3>
              <div class="btn-actions-pane-right">
                  <button class="btn-wide btn btn-success" (click)="showModalDialog()">Nuevo</button>
            </div>
            </div>
            <ul class="my-list list-group list-group-flush">
              <li class="my-list-item list-group-item" *ngFor="let horario of user.horarios">
                <div class="my-list-item__date">
                  <span class="my-list-item__date-day">{{horario.desde}}</span>
                  <span class="my-list-item__date-day">{{horario.hasta}}</span>
                </div>
                <div class="my-list-item__text">
                  <h4 class="my-list-item__text-title">{{horario.esp}}</h4>
                  <p class="my-list-item__text-description">{{horario.dias}}</p>
                </div>
                <div class="my-list-item__fee">
                  <button class="mr-2 btn-icon btn-icon-only btn btn-outline-danger"><i class="pe-7s-trash btn-icon-wrapper"> </i></button>
                </div>
              </li>
            </ul>
          </div>
          <!-- End Pending card -->
        </div>

        <p-dialog header="NUEVA FECHA" [(visible)]="displayModal" [modal]="true" [style]="{width: '35vw', height: '25vw'}"
        [draggable]="false" [resizable]="false" styleClass="p-fluid">
            <ng-template pTemplate="content">
              <app-horarios (horarioEvent)="enviarHorario($event, user)" [especialidades]="user.especialidad"></app-horarios>
            </ng-template>
            <!-- <ng-template pTemplate="footer">
              <p-button icon="pi pi-check" (click)="displayModal=false" label="Ok" styleClass="p-button-text"></p-button>
            </ng-template> -->
      </p-dialog>
      </div>
    </section>
</div>